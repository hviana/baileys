var P1=Object.create;var nf=Object.defineProperty;var L1=Object.getOwnPropertyDescriptor;var D1=Object.getOwnPropertyNames;var w1=Object.getPrototypeOf,k1=Object.prototype.hasOwnProperty;var _t=(a=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(a,{get:(n,r)=>(typeof require<"u"?require:n)[r]}):a)(function(a){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+a+'" is not supported')});var $=(a,n)=>()=>(a&&(n=a(a=0)),n);var z=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),tn=(a,n)=>{for(var r in n)nf(a,r,{get:n[r],enumerable:!0})},v1=(a,n,r,e)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of D1(n))!k1.call(a,t)&&t!==r&&nf(a,t,{get:()=>n[t],enumerable:!(e=L1(n,t))||e.enumerable});return a};var Me=(a,n,r)=>(r=a!=null?P1(w1(a)):{},v1(n||!a||!a.__esModule?nf(r,"default",{value:a,enumerable:!0}):r,a));var rf=z((w6,Z_)=>{"use strict";Z_.exports=U1;function U1(a,n){for(var r=new Array(arguments.length-1),e=0,t=2,i=!0;t<arguments.length;)r[e++]=arguments[t++];return new Promise(function(s,c){r[e]=function(d){if(i)if(i=!1,d)c(d);else{for(var f=new Array(arguments.length-1),g=0;g<f.length;)f[g++]=arguments[g];s.apply(null,f)}};try{a.apply(n||null,r)}catch(l){i&&(i=!1,c(l))}})}});var af=z(nT=>{"use strict";var Gl=nT;Gl.length=function(n){var r=n.length;if(!r)return 0;for(var e=0;--r%4>1&&n.charAt(r)==="=";)++e;return Math.ceil(n.length*3)/4-e};var Ao=new Array(64),tT=new Array(123);for(Sr=0;Sr<64;)tT[Ao[Sr]=Sr<26?Sr+65:Sr<52?Sr+71:Sr<62?Sr-4:Sr-59|43]=Sr++;var Sr;Gl.encode=function(n,r,e){for(var t=null,i=[],o=0,s=0,c;r<e;){var l=n[r++];switch(s){case 0:i[o++]=Ao[l>>2],c=(l&3)<<4,s=1;break;case 1:i[o++]=Ao[c|l>>4],c=(l&15)<<2,s=2;break;case 2:i[o++]=Ao[c|l>>6],i[o++]=Ao[l&63],s=0;break}o>8191&&((t||(t=[])).push(String.fromCharCode.apply(String,i)),o=0)}return s&&(i[o++]=Ao[c],i[o++]=61,s===1&&(i[o++]=61)),t?(o&&t.push(String.fromCharCode.apply(String,i.slice(0,o))),t.join("")):String.fromCharCode.apply(String,i.slice(0,o))};var eT="invalid encoding";Gl.decode=function(n,r,e){for(var t=e,i=0,o,s=0;s<n.length;){var c=n.charCodeAt(s++);if(c===61&&i>1)break;if((c=tT[c])===void 0)throw Error(eT);switch(i){case 0:o=c,i=1;break;case 1:r[e++]=o<<2|(c&48)>>4,o=c,i=2;break;case 2:r[e++]=(o&15)<<4|(c&60)>>2,o=c,i=3;break;case 3:r[e++]=(o&3)<<6|c,i=0;break}}if(i===1)throw Error(eT);return e-t};Gl.test=function(n){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(n)}});var of=z((v6,rT)=>{"use strict";rT.exports=Vl;function Vl(){this._listeners={}}Vl.prototype.on=function(n,r,e){return(this._listeners[n]||(this._listeners[n]=[])).push({fn:r,ctx:e||this}),this};Vl.prototype.off=function(n,r){if(n===void 0)this._listeners={};else if(r===void 0)this._listeners[n]=[];else for(var e=this._listeners[n],t=0;t<e.length;)e[t].fn===r?e.splice(t,1):++t;return this};Vl.prototype.emit=function(n){var r=this._listeners[n];if(r){for(var e=[],t=1;t<arguments.length;)e.push(arguments[t++]);for(t=0;t<r.length;)r[t].fn.apply(r[t++].ctx,e)}return this}});var sf=z((U6,lT)=>{"use strict";lT.exports=iT(iT);function iT(a){return typeof Float32Array<"u"?function(){var n=new Float32Array([-0]),r=new Uint8Array(n.buffer),e=r[3]===128;function t(c,l,d){n[0]=c,l[d]=r[0],l[d+1]=r[1],l[d+2]=r[2],l[d+3]=r[3]}function i(c,l,d){n[0]=c,l[d]=r[3],l[d+1]=r[2],l[d+2]=r[1],l[d+3]=r[0]}a.writeFloatLE=e?t:i,a.writeFloatBE=e?i:t;function o(c,l){return r[0]=c[l],r[1]=c[l+1],r[2]=c[l+2],r[3]=c[l+3],n[0]}function s(c,l){return r[3]=c[l],r[2]=c[l+1],r[1]=c[l+2],r[0]=c[l+3],n[0]}a.readFloatLE=e?o:s,a.readFloatBE=e?s:o}():function(){function n(e,t,i,o){var s=t<0?1:0;if(s&&(t=-t),t===0)e(1/t>0?0:2147483648,i,o);else if(isNaN(t))e(2143289344,i,o);else if(t>34028234663852886e22)e((s<<31|2139095040)>>>0,i,o);else if(t<11754943508222875e-54)e((s<<31|Math.round(t/1401298464324817e-60))>>>0,i,o);else{var c=Math.floor(Math.log(t)/Math.LN2),l=Math.round(t*Math.pow(2,-c)*8388608)&8388607;e((s<<31|c+127<<23|l)>>>0,i,o)}}a.writeFloatLE=n.bind(null,aT),a.writeFloatBE=n.bind(null,oT);function r(e,t,i){var o=e(t,i),s=(o>>31)*2+1,c=o>>>23&255,l=o&8388607;return c===255?l?NaN:s*(1/0):c===0?s*1401298464324817e-60*l:s*Math.pow(2,c-150)*(l+8388608)}a.readFloatLE=r.bind(null,sT),a.readFloatBE=r.bind(null,cT)}(),typeof Float64Array<"u"?function(){var n=new Float64Array([-0]),r=new Uint8Array(n.buffer),e=r[7]===128;function t(c,l,d){n[0]=c,l[d]=r[0],l[d+1]=r[1],l[d+2]=r[2],l[d+3]=r[3],l[d+4]=r[4],l[d+5]=r[5],l[d+6]=r[6],l[d+7]=r[7]}function i(c,l,d){n[0]=c,l[d]=r[7],l[d+1]=r[6],l[d+2]=r[5],l[d+3]=r[4],l[d+4]=r[3],l[d+5]=r[2],l[d+6]=r[1],l[d+7]=r[0]}a.writeDoubleLE=e?t:i,a.writeDoubleBE=e?i:t;function o(c,l){return r[0]=c[l],r[1]=c[l+1],r[2]=c[l+2],r[3]=c[l+3],r[4]=c[l+4],r[5]=c[l+5],r[6]=c[l+6],r[7]=c[l+7],n[0]}function s(c,l){return r[7]=c[l],r[6]=c[l+1],r[5]=c[l+2],r[4]=c[l+3],r[3]=c[l+4],r[2]=c[l+5],r[1]=c[l+6],r[0]=c[l+7],n[0]}a.readDoubleLE=e?o:s,a.readDoubleBE=e?s:o}():function(){function n(e,t,i,o,s,c){var l=o<0?1:0;if(l&&(o=-o),o===0)e(0,s,c+t),e(1/o>0?0:2147483648,s,c+i);else if(isNaN(o))e(0,s,c+t),e(2146959360,s,c+i);else if(o>17976931348623157e292)e(0,s,c+t),e((l<<31|2146435072)>>>0,s,c+i);else{var d;if(o<22250738585072014e-324)d=o/5e-324,e(d>>>0,s,c+t),e((l<<31|d/4294967296)>>>0,s,c+i);else{var f=Math.floor(Math.log(o)/Math.LN2);f===1024&&(f=1023),d=o*Math.pow(2,-f),e(d*4503599627370496>>>0,s,c+t),e((l<<31|f+1023<<20|d*1048576&1048575)>>>0,s,c+i)}}}a.writeDoubleLE=n.bind(null,aT,0,4),a.writeDoubleBE=n.bind(null,oT,4,0);function r(e,t,i,o,s){var c=e(o,s+t),l=e(o,s+i),d=(l>>31)*2+1,f=l>>>20&2047,g=4294967296*(l&1048575)+c;return f===2047?g?NaN:d*(1/0):f===0?d*5e-324*g:d*Math.pow(2,f-1075)*(g+4503599627370496)}a.readDoubleLE=r.bind(null,sT,0,4),a.readDoubleBE=r.bind(null,cT,4,0)}(),a}function aT(a,n,r){n[r]=a&255,n[r+1]=a>>>8&255,n[r+2]=a>>>16&255,n[r+3]=a>>>24}function oT(a,n,r){n[r]=a>>>24,n[r+1]=a>>>16&255,n[r+2]=a>>>8&255,n[r+3]=a&255}function sT(a,n){return(a[n]|a[n+1]<<8|a[n+2]<<16|a[n+3]<<24)>>>0}function cT(a,n){return(a[n]<<24|a[n+1]<<16|a[n+2]<<8|a[n+3])>>>0}});var cf=z((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(a){}return null}});var uf=z(uT=>{"use strict";var lf=uT;lf.length=function(n){for(var r=0,e=0,t=0;t<n.length;++t)e=n.charCodeAt(t),e<128?r+=1:e<2048?r+=2:(e&64512)===55296&&(n.charCodeAt(t+1)&64512)===56320?(++t,r+=4):r+=3;return r};lf.read=function(n,r,e){var t=e-r;if(t<1)return"";for(var i=null,o=[],s=0,c;r<e;)c=n[r++],c<128?o[s++]=c:c>191&&c<224?o[s++]=(c&31)<<6|n[r++]&63:c>239&&c<365?(c=((c&7)<<18|(n[r++]&63)<<12|(n[r++]&63)<<6|n[r++]&63)-65536,o[s++]=55296+(c>>10),o[s++]=56320+(c&1023)):o[s++]=(c&15)<<12|(n[r++]&63)<<6|n[r++]&63,s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0);return i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))};lf.write=function(n,r,e){for(var t=e,i,o,s=0;s<n.length;++s)i=n.charCodeAt(s),i<128?r[e++]=i:i<2048?(r[e++]=i>>6|192,r[e++]=i&63|128):(i&64512)===55296&&((o=n.charCodeAt(s+1))&64512)===56320?(i=65536+((i&1023)<<10)+(o&1023),++s,r[e++]=i>>18|240,r[e++]=i>>12&63|128,r[e++]=i>>6&63|128,r[e++]=i&63|128):(r[e++]=i>>12|224,r[e++]=i>>6&63|128,r[e++]=i&63|128);return e-t}});var df=z((x6,dT)=>{"use strict";dT.exports=B1;function B1(a,n,r){var e=r||8192,t=e>>>1,i=null,o=e;return function(c){if(c<1||c>t)return a(c);o+c>e&&(i=a(e),o=0);var l=n.call(i,o,o+=c);return o&7&&(o=(o|7)+1),l}}});var fT=z((F6,pT)=>{"use strict";pT.exports=nn;var nc=Wi();function nn(a,n){this.lo=a>>>0,this.hi=n>>>0}var Ia=nn.zero=new nn(0,0);Ia.toNumber=function(){return 0};Ia.zzEncode=Ia.zzDecode=function(){return this};Ia.length=function(){return 1};var x1=nn.zeroHash="\0\0\0\0\0\0\0\0";nn.fromNumber=function(n){if(n===0)return Ia;var r=n<0;r&&(n=-n);var e=n>>>0,t=(n-e)/4294967296>>>0;return r&&(t=~t>>>0,e=~e>>>0,++e>4294967295&&(e=0,++t>4294967295&&(t=0))),new nn(e,t)};nn.from=function(n){if(typeof n=="number")return nn.fromNumber(n);if(nc.isString(n))if(nc.Long)n=nc.Long.fromString(n);else return nn.fromNumber(parseInt(n,10));return n.low||n.high?new nn(n.low>>>0,n.high>>>0):Ia};nn.prototype.toNumber=function(n){if(!n&&this.hi>>>31){var r=~this.lo+1>>>0,e=~this.hi>>>0;return r||(e=e+1>>>0),-(r+e*4294967296)}return this.lo+this.hi*4294967296};nn.prototype.toLong=function(n){return nc.Long?new nc.Long(this.lo|0,this.hi|0,!!n):{low:this.lo|0,high:this.hi|0,unsigned:!!n}};var Vi=String.prototype.charCodeAt;nn.fromHash=function(n){return n===x1?Ia:new nn((Vi.call(n,0)|Vi.call(n,1)<<8|Vi.call(n,2)<<16|Vi.call(n,3)<<24)>>>0,(Vi.call(n,4)|Vi.call(n,5)<<8|Vi.call(n,6)<<16|Vi.call(n,7)<<24)>>>0)};nn.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};nn.prototype.zzEncode=function(){var n=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^n)>>>0,this.lo=(this.lo<<1^n)>>>0,this};nn.prototype.zzDecode=function(){var n=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^n)>>>0,this.hi=(this.hi>>>1^n)>>>0,this};nn.prototype.length=function(){var n=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,e=this.hi>>>24;return e===0?r===0?n<16384?n<128?1:2:n<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:e<128?9:10}});var Wi=z(pf=>{"use strict";var ke=pf;ke.asPromise=rf();ke.base64=af();ke.EventEmitter=of();ke.float=sf();ke.inquire=cf();ke.utf8=uf();ke.pool=df();ke.LongBits=fT();ke.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);ke.global=ke.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||pf;ke.emptyArray=Object.freeze?Object.freeze([]):[];ke.emptyObject=Object.freeze?Object.freeze({}):{};ke.isInteger=Number.isInteger||function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n};ke.isString=function(n){return typeof n=="string"||n instanceof String};ke.isObject=function(n){return n&&typeof n=="object"};ke.isset=ke.isSet=function(n,r){var e=n[r];return e!=null&&n.hasOwnProperty(r)?typeof e!="object"||(Array.isArray(e)?e.length:Object.keys(e).length)>0:!1};ke.Buffer=function(){try{var a=ke.inquire("buffer").Buffer;return a.prototype.utf8Write?a:null}catch{return null}}();ke._Buffer_from=null;ke._Buffer_allocUnsafe=null;ke.newBuffer=function(n){return typeof n=="number"?ke.Buffer?ke._Buffer_allocUnsafe(n):new ke.Array(n):ke.Buffer?ke._Buffer_from(n):typeof Uint8Array>"u"?n:new Uint8Array(n)};ke.Array=typeof Uint8Array<"u"?Uint8Array:Array;ke.Long=ke.global.dcodeIO&&ke.global.dcodeIO.Long||ke.global.Long||ke.inquire("long");ke.key2Re=/^true|false|0|1$/;ke.key32Re=/^-?(?:0|[1-9][0-9]*)$/;ke.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;ke.longToHash=function(n){return n?ke.LongBits.from(n).toHash():ke.LongBits.zeroHash};ke.longFromHash=function(n,r){var e=ke.LongBits.fromHash(n);return ke.Long?ke.Long.fromBits(e.lo,e.hi,r):e.toNumber(!!r)};function hT(a,n,r){for(var e=Object.keys(n),t=0;t<e.length;++t)(a[e[t]]===void 0||!r)&&(a[e[t]]=n[e[t]]);return a}ke.merge=hT;ke.lcFirst=function(n){return n.charAt(0).toLowerCase()+n.substring(1)};function gT(a){function n(r,e){if(!(this instanceof n))return new n(r,e);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,n):Object.defineProperty(this,"stack",{value:new Error().stack||""}),e&&hT(this,e)}return n.prototype=Object.create(Error.prototype,{constructor:{value:n,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return a},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),n}ke.newError=gT;ke.ProtocolError=gT("ProtocolError");ke.oneOfGetter=function(n){for(var r={},e=0;e<n.length;++e)r[n[e]]=1;return function(){for(var t=Object.keys(this),i=t.length-1;i>-1;--i)if(r[t[i]]===1&&this[t[i]]!==void 0&&this[t[i]]!==null)return t[i]}};ke.oneOfSetter=function(n){return function(r){for(var e=0;e<n.length;++e)n[e]!==r&&delete this[n[e]]}};ke.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};ke._configure=function(){var a=ke.Buffer;if(!a){ke._Buffer_from=ke._Buffer_allocUnsafe=null;return}ke._Buffer_from=a.from!==Uint8Array.from&&a.from||function(r,e){return new a(r,e)},ke._Buffer_allocUnsafe=a.allocUnsafe||function(r){return new a(r)}}});var Tf=z((K6,TT)=>{"use strict";TT.exports=gt;var sr=Wi(),ff,Wl=sr.LongBits,ET=sr.base64,yT=sr.utf8;function rc(a,n,r){this.fn=a,this.len=n,this.next=void 0,this.val=r}function gf(){}function F1(a){this.head=a.head,this.tail=a.tail,this.len=a.len,this.next=a.states}function gt(){this.len=0,this.head=new rc(gf,0,0),this.tail=this.head,this.states=null}var _T=function(){return sr.Buffer?function(){return(gt.create=function(){return new ff})()}:function(){return new gt}};gt.create=_T();gt.alloc=function(n){return new sr.Array(n)};sr.Array!==Array&&(gt.alloc=sr.pool(gt.alloc,sr.Array.prototype.subarray));gt.prototype._push=function(n,r,e){return this.tail=this.tail.next=new rc(n,r,e),this.len+=r,this};function Ef(a,n,r){n[r]=a&255}function j1(a,n,r){for(;a>127;)n[r++]=a&127|128,a>>>=7;n[r]=a}function yf(a,n){this.len=a,this.next=void 0,this.val=n}yf.prototype=Object.create(rc.prototype);yf.prototype.fn=j1;gt.prototype.uint32=function(n){return this.len+=(this.tail=this.tail.next=new yf((n=n>>>0)<128?1:n<16384?2:n<2097152?3:n<268435456?4:5,n)).len,this};gt.prototype.int32=function(n){return n<0?this._push(_f,10,Wl.fromNumber(n)):this.uint32(n)};gt.prototype.sint32=function(n){return this.uint32((n<<1^n>>31)>>>0)};function _f(a,n,r){for(;a.hi;)n[r++]=a.lo&127|128,a.lo=(a.lo>>>7|a.hi<<25)>>>0,a.hi>>>=7;for(;a.lo>127;)n[r++]=a.lo&127|128,a.lo=a.lo>>>7;n[r++]=a.lo}gt.prototype.uint64=function(n){var r=Wl.from(n);return this._push(_f,r.length(),r)};gt.prototype.int64=gt.prototype.uint64;gt.prototype.sint64=function(n){var r=Wl.from(n).zzEncode();return this._push(_f,r.length(),r)};gt.prototype.bool=function(n){return this._push(Ef,1,n?1:0)};function hf(a,n,r){n[r]=a&255,n[r+1]=a>>>8&255,n[r+2]=a>>>16&255,n[r+3]=a>>>24}gt.prototype.fixed32=function(n){return this._push(hf,4,n>>>0)};gt.prototype.sfixed32=gt.prototype.fixed32;gt.prototype.fixed64=function(n){var r=Wl.from(n);return this._push(hf,4,r.lo)._push(hf,4,r.hi)};gt.prototype.sfixed64=gt.prototype.fixed64;gt.prototype.float=function(n){return this._push(sr.float.writeFloatLE,4,n)};gt.prototype.double=function(n){return this._push(sr.float.writeDoubleLE,8,n)};var K1=sr.Array.prototype.set?function(n,r,e){r.set(n,e)}:function(n,r,e){for(var t=0;t<n.length;++t)r[e+t]=n[t]};gt.prototype.bytes=function(n){var r=n.length>>>0;if(!r)return this._push(Ef,1,0);if(sr.isString(n)){var e=gt.alloc(r=ET.length(n));ET.decode(n,e,0),n=e}return this.uint32(r)._push(K1,r,n)};gt.prototype.string=function(n){var r=yT.length(n);return r?this.uint32(r)._push(yT.write,r,n):this._push(Ef,1,0)};gt.prototype.fork=function(){return this.states=new F1(this),this.head=this.tail=new rc(gf,0,0),this.len=0,this};gt.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new rc(gf,0,0),this.len=0),this};gt.prototype.ldelim=function(){var n=this.head,r=this.tail,e=this.len;return this.reset().uint32(e),e&&(this.tail.next=n.next,this.tail=r,this.len+=e),this};gt.prototype.finish=function(){for(var n=this.head.next,r=this.constructor.alloc(this.len),e=0;n;)n.fn(n.val,r,e),e+=n.len,n=n.next;return r};gt._configure=function(a){ff=a,gt.create=_T(),ff._configure()}});var ST=z((H6,OT)=>{"use strict";OT.exports=Fr;var IT=Tf();(Fr.prototype=Object.create(IT.prototype)).constructor=Fr;var Yi=Wi();function Fr(){IT.call(this)}Fr._configure=function(){Fr.alloc=Yi._Buffer_allocUnsafe,Fr.writeBytesBuffer=Yi.Buffer&&Yi.Buffer.prototype instanceof Uint8Array&&Yi.Buffer.prototype.set.name==="set"?function(n,r,e){r.set(n,e)}:function(n,r,e){if(n.copy)n.copy(r,e,0,n.length);else for(var t=0;t<n.length;)r[e++]=n[t++]}};Fr.prototype.bytes=function(n){Yi.isString(n)&&(n=Yi._Buffer_from(n,"base64"));var r=n.length>>>0;return this.uint32(r),r&&this._push(Fr.writeBytesBuffer,r,n),this};function H1(a,n,r){a.length<40?Yi.utf8.write(a,n,r):n.utf8Write?n.utf8Write(a,r):n.write(a,r)}Fr.prototype.string=function(n){var r=Yi.Buffer.byteLength(n);return this.uint32(r),r&&this._push(H1,r,n),this};Fr._configure()});var Sf=z((G6,CT)=>{"use strict";CT.exports=Ht;var Ar=Wi(),Of,bT=Ar.LongBits,G1=Ar.utf8;function mr(a,n){return RangeError("index out of range: "+a.pos+" + "+(n||1)+" > "+a.len)}function Ht(a){this.buf=a,this.pos=0,this.len=a.length}var AT=typeof Uint8Array<"u"?function(n){if(n instanceof Uint8Array||Array.isArray(n))return new Ht(n);throw Error("illegal buffer")}:function(n){if(Array.isArray(n))return new Ht(n);throw Error("illegal buffer")},RT=function(){return Ar.Buffer?function(r){return(Ht.create=function(t){return Ar.Buffer.isBuffer(t)?new Of(t):AT(t)})(r)}:AT};Ht.create=RT();Ht.prototype._slice=Ar.Array.prototype.subarray||Ar.Array.prototype.slice;Ht.prototype.uint32=function(){var n=4294967295;return function(){if(n=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(n=(n|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(n=(n|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(n=(n|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(n=(n|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return n;if((this.pos+=5)>this.len)throw this.pos=this.len,mr(this,10);return n}}();Ht.prototype.int32=function(){return this.uint32()|0};Ht.prototype.sint32=function(){var n=this.uint32();return n>>>1^-(n&1)|0};function If(){var a=new bT(0,0),n=0;if(this.len-this.pos>4){for(;n<4;++n)if(a.lo=(a.lo|(this.buf[this.pos]&127)<<n*7)>>>0,this.buf[this.pos++]<128)return a;if(a.lo=(a.lo|(this.buf[this.pos]&127)<<28)>>>0,a.hi=(a.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return a;n=0}else{for(;n<3;++n){if(this.pos>=this.len)throw mr(this);if(a.lo=(a.lo|(this.buf[this.pos]&127)<<n*7)>>>0,this.buf[this.pos++]<128)return a}return a.lo=(a.lo|(this.buf[this.pos++]&127)<<n*7)>>>0,a}if(this.len-this.pos>4){for(;n<5;++n)if(a.hi=(a.hi|(this.buf[this.pos]&127)<<n*7+3)>>>0,this.buf[this.pos++]<128)return a}else for(;n<5;++n){if(this.pos>=this.len)throw mr(this);if(a.hi=(a.hi|(this.buf[this.pos]&127)<<n*7+3)>>>0,this.buf[this.pos++]<128)return a}throw Error("invalid varint encoding")}Ht.prototype.bool=function(){return this.uint32()!==0};function Yl(a,n){return(a[n-4]|a[n-3]<<8|a[n-2]<<16|a[n-1]<<24)>>>0}Ht.prototype.fixed32=function(){if(this.pos+4>this.len)throw mr(this,4);return Yl(this.buf,this.pos+=4)};Ht.prototype.sfixed32=function(){if(this.pos+4>this.len)throw mr(this,4);return Yl(this.buf,this.pos+=4)|0};function mT(){if(this.pos+8>this.len)throw mr(this,8);return new bT(Yl(this.buf,this.pos+=4),Yl(this.buf,this.pos+=4))}Ht.prototype.float=function(){if(this.pos+4>this.len)throw mr(this,4);var n=Ar.float.readFloatLE(this.buf,this.pos);return this.pos+=4,n};Ht.prototype.double=function(){if(this.pos+8>this.len)throw mr(this,4);var n=Ar.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,n};Ht.prototype.bytes=function(){var n=this.uint32(),r=this.pos,e=this.pos+n;if(e>this.len)throw mr(this,n);if(this.pos+=n,Array.isArray(this.buf))return this.buf.slice(r,e);if(r===e){var t=Ar.Buffer;return t?t.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,r,e)};Ht.prototype.string=function(){var n=this.bytes();return G1.read(n,0,n.length)};Ht.prototype.skip=function(n){if(typeof n=="number"){if(this.pos+n>this.len)throw mr(this,n);this.pos+=n}else do if(this.pos>=this.len)throw mr(this);while(this.buf[this.pos++]&128);return this};Ht.prototype.skipType=function(a){switch(a){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(a=this.uint32()&7)!==4;)this.skipType(a);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+a+" at offset "+this.pos)}return this};Ht._configure=function(a){Of=a,Ht.create=RT(),Of._configure();var n=Ar.Long?"toLong":"toNumber";Ar.merge(Ht.prototype,{int64:function(){return If.call(this)[n](!1)},uint64:function(){return If.call(this)[n](!0)},sint64:function(){return If.call(this).zzDecode()[n](!1)},fixed64:function(){return mT.call(this)[n](!0)},sfixed64:function(){return mT.call(this)[n](!1)}})}});var LT=z((V6,PT)=>{"use strict";PT.exports=Oa;var MT=Sf();(Oa.prototype=Object.create(MT.prototype)).constructor=Oa;var NT=Wi();function Oa(a){MT.call(this,a)}Oa._configure=function(){NT.Buffer&&(Oa.prototype._slice=NT.Buffer.prototype.slice)};Oa.prototype.string=function(){var n=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+n,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+n,this.len))};Oa._configure()});var wT=z((W6,DT)=>{"use strict";DT.exports=ic;var Af=Wi();(ic.prototype=Object.create(Af.EventEmitter.prototype)).constructor=ic;function ic(a,n,r){if(typeof a!="function")throw TypeError("rpcImpl must be a function");Af.EventEmitter.call(this),this.rpcImpl=a,this.requestDelimited=!!n,this.responseDelimited=!!r}ic.prototype.rpcCall=function a(n,r,e,t,i){if(!t)throw TypeError("request must be specified");var o=this;if(!i)return Af.asPromise(a,o,n,r,e,t);if(!o.rpcImpl){setTimeout(function(){i(Error("already ended"))},0);return}try{return o.rpcImpl(n,r[o.requestDelimited?"encodeDelimited":"encode"](t).finish(),function(c,l){if(c)return o.emit("error",c,n),i(c);if(l===null){o.end(!0);return}if(!(l instanceof e))try{l=e[o.responseDelimited?"decodeDelimited":"decode"](l)}catch(d){return o.emit("error",d,n),i(d)}return o.emit("data",l,n),i(null,l)})}catch(s){o.emit("error",s,n),setTimeout(function(){i(s)},0);return}};ic.prototype.end=function(n){return this.rpcImpl&&(n||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var vT=z(kT=>{"use strict";var V1=kT;V1.Service=wT()});var BT=z((z6,UT)=>{"use strict";UT.exports={}});var jT=z(FT=>{"use strict";var Pn=FT;Pn.build="minimal";Pn.Writer=Tf();Pn.BufferWriter=ST();Pn.Reader=Sf();Pn.BufferReader=LT();Pn.util=Wi();Pn.rpc=vT();Pn.roots=BT();Pn.configure=xT;function xT(){Pn.util._configure(),Pn.Writer._configure(Pn.BufferWriter),Pn.Reader._configure(Pn.BufferReader)}xT()});var HT=z(($6,KT)=>{"use strict";KT.exports=jT()});var Sa=z((J6,GT)=>{"use strict";var zl=_t("node:crypto"),W1=_t("node:assert");function cr(a){if(!(a instanceof Buffer))throw TypeError(`Expected Buffer instead of: ${a.constructor.name}`);return a}function Y1(a,n,r){cr(a),cr(n),cr(r);let e=zl.createCipheriv("aes-256-cbc",a,r);return Buffer.concat([e.update(n),e.final()])}function z1(a,n,r){cr(a),cr(n),cr(r);let e=zl.createDecipheriv("aes-256-cbc",a,r);return Buffer.concat([e.update(n),e.final()])}function bo(a,n){cr(a),cr(n);let r=zl.createHmac("sha256",a);return r.update(n),Buffer.from(r.digest())}function q1(a){cr(a);let n=zl.createHash("sha512");return n.update(a),n.digest()}function $1(a,n,r,e){if(cr(a),cr(n),cr(r),n.byteLength!=32)throw new Error("Got salt of incorrect length");e=e||3,W1(e>=1&&e<=3);let t=bo(n,a),i=new Uint8Array(r.byteLength+1+32);i.set(r,32),i[i.length-1]=1;let o=[bo(t,Buffer.from(i.slice(32)))];return e>1&&(i.set(o[o.length-1]),i[i.length-1]=2,o.push(bo(t,Buffer.from(i)))),e>2&&(i.set(o[o.length-1]),i[i.length-1]=3,o.push(bo(t,Buffer.from(i)))),o}function X1(a,n,r,e){let t=bo(n,a).slice(0,e);if(r.length!==e||t.length!==e)throw new Error("Bad MAC length");if(!r.equals(t))throw new Error("Bad MAC")}GT.exports={deriveSecrets:$1,decrypt:z1,encrypt:Y1,hash:q1,calculateMAC:bo,verifyMAC:X1}});var rI=z(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});var Q6=new Uint8Array(16),JT=new Uint8Array(32);JT[0]=9;function be(a){var n,r=new Float64Array(16);if(a)for(n=0;n<a.length;n++)r[n]=a[n];return r}var Rf=be(),Co=be([1]),J1=be([56129,1]),Q1=be([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Z1=be([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),VT=be([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),WT=be([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),eM=be([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function YT(a,n,r,e){a[n]=r>>24&255,a[n+1]=r>>16&255,a[n+2]=r>>8&255,a[n+3]=r&255,a[n+4]=e>>24&255,a[n+5]=e>>16&255,a[n+6]=e>>8&255,a[n+7]=e&255}function tM(a,n,r,e,t){var i,o=0;for(i=0;i<t;i++)o|=a[n+i]^r[e+i];return(1&o-1>>>8)-1}function QT(a,n,r,e){return tM(a,n,r,e,32)}function zi(a,n){var r;for(r=0;r<16;r++)a[r]=n[r]|0}function mf(a){var n,r,e=1;for(n=0;n<16;n++)r=a[n]+e+65535,e=Math.floor(r/65536),a[n]=r-e*65536;a[0]+=e-1+37*(e-1)}function Ro(a,n,r){for(var e,t=~(r-1),i=0;i<16;i++)e=t&(a[i]^n[i]),a[i]^=e,n[i]^=e}function No(a,n){var r,e,t,i=be(),o=be();for(r=0;r<16;r++)o[r]=n[r];for(mf(o),mf(o),mf(o),e=0;e<2;e++){for(i[0]=o[0]-65517,r=1;r<15;r++)i[r]=o[r]-65535-(i[r-1]>>16&1),i[r-1]&=65535;i[15]=o[15]-32767-(i[14]>>16&1),t=i[15]>>16&1,i[14]&=65535,Ro(o,i,1-t)}for(r=0;r<16;r++)a[2*r]=o[r]&255,a[2*r+1]=o[r]>>8}function zT(a,n){var r=new Uint8Array(32),e=new Uint8Array(32);return No(r,a),No(e,n),QT(r,0,e,0)}function ZT(a){var n=new Uint8Array(32);return No(n,a),n[0]&1}function Mf(a,n){var r;for(r=0;r<16;r++)a[r]=n[2*r]+(n[2*r+1]<<8);a[15]&=32767}function br(a,n,r){for(var e=0;e<16;e++)a[e]=n[e]+r[e]}function Cr(a,n,r){for(var e=0;e<16;e++)a[e]=n[e]-r[e]}function pt(a,n,r){var e,t,i=0,o=0,s=0,c=0,l=0,d=0,f=0,g=0,_=0,y=0,T=0,I=0,O=0,R=0,M=0,v=0,D=0,k=0,b=0,j=0,H=0,L=0,U=0,X=0,w=0,K=0,ee=0,Ae=0,se=0,pe=0,We=0,je=r[0],Pe=r[1],Be=r[2],Ye=r[3],Ce=r[4],W=r[5],Z=r[6],ue=r[7],q=r[8],ne=r[9],ye=r[10],xe=r[11],Fe=r[12],Ke=r[13],$e=r[14],me=r[15];e=n[0],i+=e*je,o+=e*Pe,s+=e*Be,c+=e*Ye,l+=e*Ce,d+=e*W,f+=e*Z,g+=e*ue,_+=e*q,y+=e*ne,T+=e*ye,I+=e*xe,O+=e*Fe,R+=e*Ke,M+=e*$e,v+=e*me,e=n[1],o+=e*je,s+=e*Pe,c+=e*Be,l+=e*Ye,d+=e*Ce,f+=e*W,g+=e*Z,_+=e*ue,y+=e*q,T+=e*ne,I+=e*ye,O+=e*xe,R+=e*Fe,M+=e*Ke,v+=e*$e,D+=e*me,e=n[2],s+=e*je,c+=e*Pe,l+=e*Be,d+=e*Ye,f+=e*Ce,g+=e*W,_+=e*Z,y+=e*ue,T+=e*q,I+=e*ne,O+=e*ye,R+=e*xe,M+=e*Fe,v+=e*Ke,D+=e*$e,k+=e*me,e=n[3],c+=e*je,l+=e*Pe,d+=e*Be,f+=e*Ye,g+=e*Ce,_+=e*W,y+=e*Z,T+=e*ue,I+=e*q,O+=e*ne,R+=e*ye,M+=e*xe,v+=e*Fe,D+=e*Ke,k+=e*$e,b+=e*me,e=n[4],l+=e*je,d+=e*Pe,f+=e*Be,g+=e*Ye,_+=e*Ce,y+=e*W,T+=e*Z,I+=e*ue,O+=e*q,R+=e*ne,M+=e*ye,v+=e*xe,D+=e*Fe,k+=e*Ke,b+=e*$e,j+=e*me,e=n[5],d+=e*je,f+=e*Pe,g+=e*Be,_+=e*Ye,y+=e*Ce,T+=e*W,I+=e*Z,O+=e*ue,R+=e*q,M+=e*ne,v+=e*ye,D+=e*xe,k+=e*Fe,b+=e*Ke,j+=e*$e,H+=e*me,e=n[6],f+=e*je,g+=e*Pe,_+=e*Be,y+=e*Ye,T+=e*Ce,I+=e*W,O+=e*Z,R+=e*ue,M+=e*q,v+=e*ne,D+=e*ye,k+=e*xe,b+=e*Fe,j+=e*Ke,H+=e*$e,L+=e*me,e=n[7],g+=e*je,_+=e*Pe,y+=e*Be,T+=e*Ye,I+=e*Ce,O+=e*W,R+=e*Z,M+=e*ue,v+=e*q,D+=e*ne,k+=e*ye,b+=e*xe,j+=e*Fe,H+=e*Ke,L+=e*$e,U+=e*me,e=n[8],_+=e*je,y+=e*Pe,T+=e*Be,I+=e*Ye,O+=e*Ce,R+=e*W,M+=e*Z,v+=e*ue,D+=e*q,k+=e*ne,b+=e*ye,j+=e*xe,H+=e*Fe,L+=e*Ke,U+=e*$e,X+=e*me,e=n[9],y+=e*je,T+=e*Pe,I+=e*Be,O+=e*Ye,R+=e*Ce,M+=e*W,v+=e*Z,D+=e*ue,k+=e*q,b+=e*ne,j+=e*ye,H+=e*xe,L+=e*Fe,U+=e*Ke,X+=e*$e,w+=e*me,e=n[10],T+=e*je,I+=e*Pe,O+=e*Be,R+=e*Ye,M+=e*Ce,v+=e*W,D+=e*Z,k+=e*ue,b+=e*q,j+=e*ne,H+=e*ye,L+=e*xe,U+=e*Fe,X+=e*Ke,w+=e*$e,K+=e*me,e=n[11],I+=e*je,O+=e*Pe,R+=e*Be,M+=e*Ye,v+=e*Ce,D+=e*W,k+=e*Z,b+=e*ue,j+=e*q,H+=e*ne,L+=e*ye,U+=e*xe,X+=e*Fe,w+=e*Ke,K+=e*$e,ee+=e*me,e=n[12],O+=e*je,R+=e*Pe,M+=e*Be,v+=e*Ye,D+=e*Ce,k+=e*W,b+=e*Z,j+=e*ue,H+=e*q,L+=e*ne,U+=e*ye,X+=e*xe,w+=e*Fe,K+=e*Ke,ee+=e*$e,Ae+=e*me,e=n[13],R+=e*je,M+=e*Pe,v+=e*Be,D+=e*Ye,k+=e*Ce,b+=e*W,j+=e*Z,H+=e*ue,L+=e*q,U+=e*ne,X+=e*ye,w+=e*xe,K+=e*Fe,ee+=e*Ke,Ae+=e*$e,se+=e*me,e=n[14],M+=e*je,v+=e*Pe,D+=e*Be,k+=e*Ye,b+=e*Ce,j+=e*W,H+=e*Z,L+=e*ue,U+=e*q,X+=e*ne,w+=e*ye,K+=e*xe,ee+=e*Fe,Ae+=e*Ke,se+=e*$e,pe+=e*me,e=n[15],v+=e*je,D+=e*Pe,k+=e*Be,b+=e*Ye,j+=e*Ce,H+=e*W,L+=e*Z,U+=e*ue,X+=e*q,w+=e*ne,K+=e*ye,ee+=e*xe,Ae+=e*Fe,se+=e*Ke,pe+=e*$e,We+=e*me,i+=38*D,o+=38*k,s+=38*b,c+=38*j,l+=38*H,d+=38*L,f+=38*U,g+=38*X,_+=38*w,y+=38*K,T+=38*ee,I+=38*Ae,O+=38*se,R+=38*pe,M+=38*We,t=1,e=i+t+65535,t=Math.floor(e/65536),i=e-t*65536,e=o+t+65535,t=Math.floor(e/65536),o=e-t*65536,e=s+t+65535,t=Math.floor(e/65536),s=e-t*65536,e=c+t+65535,t=Math.floor(e/65536),c=e-t*65536,e=l+t+65535,t=Math.floor(e/65536),l=e-t*65536,e=d+t+65535,t=Math.floor(e/65536),d=e-t*65536,e=f+t+65535,t=Math.floor(e/65536),f=e-t*65536,e=g+t+65535,t=Math.floor(e/65536),g=e-t*65536,e=_+t+65535,t=Math.floor(e/65536),_=e-t*65536,e=y+t+65535,t=Math.floor(e/65536),y=e-t*65536,e=T+t+65535,t=Math.floor(e/65536),T=e-t*65536,e=I+t+65535,t=Math.floor(e/65536),I=e-t*65536,e=O+t+65535,t=Math.floor(e/65536),O=e-t*65536,e=R+t+65535,t=Math.floor(e/65536),R=e-t*65536,e=M+t+65535,t=Math.floor(e/65536),M=e-t*65536,e=v+t+65535,t=Math.floor(e/65536),v=e-t*65536,i+=t-1+37*(t-1),t=1,e=i+t+65535,t=Math.floor(e/65536),i=e-t*65536,e=o+t+65535,t=Math.floor(e/65536),o=e-t*65536,e=s+t+65535,t=Math.floor(e/65536),s=e-t*65536,e=c+t+65535,t=Math.floor(e/65536),c=e-t*65536,e=l+t+65535,t=Math.floor(e/65536),l=e-t*65536,e=d+t+65535,t=Math.floor(e/65536),d=e-t*65536,e=f+t+65535,t=Math.floor(e/65536),f=e-t*65536,e=g+t+65535,t=Math.floor(e/65536),g=e-t*65536,e=_+t+65535,t=Math.floor(e/65536),_=e-t*65536,e=y+t+65535,t=Math.floor(e/65536),y=e-t*65536,e=T+t+65535,t=Math.floor(e/65536),T=e-t*65536,e=I+t+65535,t=Math.floor(e/65536),I=e-t*65536,e=O+t+65535,t=Math.floor(e/65536),O=e-t*65536,e=R+t+65535,t=Math.floor(e/65536),R=e-t*65536,e=M+t+65535,t=Math.floor(e/65536),M=e-t*65536,e=v+t+65535,t=Math.floor(e/65536),v=e-t*65536,i+=t-1+37*(t-1),a[0]=i,a[1]=o,a[2]=s,a[3]=c,a[4]=l,a[5]=d,a[6]=f,a[7]=g,a[8]=_,a[9]=y,a[10]=T,a[11]=I,a[12]=O,a[13]=R,a[14]=M,a[15]=v}function Rr(a,n){pt(a,n,n)}function Pf(a,n){var r=be(),e;for(e=0;e<16;e++)r[e]=n[e];for(e=253;e>=0;e--)Rr(r,r),e!==2&&e!==4&&pt(r,r,n);for(e=0;e<16;e++)a[e]=r[e]}function nM(a,n){var r=be(),e;for(e=0;e<16;e++)r[e]=n[e];for(e=250;e>=0;e--)Rr(r,r),e!==1&&pt(r,r,n);for(e=0;e<16;e++)a[e]=r[e]}function eI(a,n,r){var e=new Uint8Array(32),t=new Float64Array(80),i,o,s=be(),c=be(),l=be(),d=be(),f=be(),g=be();for(o=0;o<31;o++)e[o]=n[o];for(e[31]=n[31]&127|64,e[0]&=248,Mf(t,r),o=0;o<16;o++)c[o]=t[o],d[o]=s[o]=l[o]=0;for(s[0]=d[0]=1,o=254;o>=0;--o)i=e[o>>>3]>>>(o&7)&1,Ro(s,c,i),Ro(l,d,i),br(f,s,l),Cr(s,s,l),br(l,c,d),Cr(c,c,d),Rr(d,f),Rr(g,s),pt(s,l,s),pt(l,c,f),br(f,s,l),Cr(s,s,l),Rr(c,s),Cr(l,d,g),pt(s,l,J1),br(s,s,d),pt(l,l,s),pt(s,d,g),pt(d,c,t),Rr(c,f),Ro(s,c,i),Ro(l,d,i);for(o=0;o<16;o++)t[o+16]=s[o],t[o+32]=l[o],t[o+48]=c[o],t[o+64]=d[o];var _=t.subarray(32),y=t.subarray(16);return Pf(_,_),pt(y,y,_),No(a,y),0}function rM(a,n){return eI(a,n,JT)}var qT=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function $T(a,n,r,e){for(var t=new Int32Array(16),i=new Int32Array(16),o,s,c,l,d,f,g,_,y,T,I,O,R,M,v,D,k,b,j,H,L,U,X,w,K,ee,Ae=a[0],se=a[1],pe=a[2],We=a[3],je=a[4],Pe=a[5],Be=a[6],Ye=a[7],Ce=n[0],W=n[1],Z=n[2],ue=n[3],q=n[4],ne=n[5],ye=n[6],xe=n[7],Fe=0;e>=128;){for(j=0;j<16;j++)H=8*j+Fe,t[j]=r[H+0]<<24|r[H+1]<<16|r[H+2]<<8|r[H+3],i[j]=r[H+4]<<24|r[H+5]<<16|r[H+6]<<8|r[H+7];for(j=0;j<80;j++)if(o=Ae,s=se,c=pe,l=We,d=je,f=Pe,g=Be,_=Ye,y=Ce,T=W,I=Z,O=ue,R=q,M=ne,v=ye,D=xe,L=Ye,U=xe,X=U&65535,w=U>>>16,K=L&65535,ee=L>>>16,L=(je>>>14|q<<18)^(je>>>18|q<<14)^(q>>>9|je<<23),U=(q>>>14|je<<18)^(q>>>18|je<<14)^(je>>>9|q<<23),X+=U&65535,w+=U>>>16,K+=L&65535,ee+=L>>>16,L=je&Pe^~je&Be,U=q&ne^~q&ye,X+=U&65535,w+=U>>>16,K+=L&65535,ee+=L>>>16,L=qT[j*2],U=qT[j*2+1],X+=U&65535,w+=U>>>16,K+=L&65535,ee+=L>>>16,L=t[j%16],U=i[j%16],X+=U&65535,w+=U>>>16,K+=L&65535,ee+=L>>>16,w+=X>>>16,K+=w>>>16,ee+=K>>>16,k=K&65535|ee<<16,b=X&65535|w<<16,L=k,U=b,X=U&65535,w=U>>>16,K=L&65535,ee=L>>>16,L=(Ae>>>28|Ce<<4)^(Ce>>>2|Ae<<30)^(Ce>>>7|Ae<<25),U=(Ce>>>28|Ae<<4)^(Ae>>>2|Ce<<30)^(Ae>>>7|Ce<<25),X+=U&65535,w+=U>>>16,K+=L&65535,ee+=L>>>16,L=Ae&se^Ae&pe^se&pe,U=Ce&W^Ce&Z^W&Z,X+=U&65535,w+=U>>>16,K+=L&65535,ee+=L>>>16,w+=X>>>16,K+=w>>>16,ee+=K>>>16,_=K&65535|ee<<16,D=X&65535|w<<16,L=l,U=O,X=U&65535,w=U>>>16,K=L&65535,ee=L>>>16,L=k,U=b,X+=U&65535,w+=U>>>16,K+=L&65535,ee+=L>>>16,w+=X>>>16,K+=w>>>16,ee+=K>>>16,l=K&65535|ee<<16,O=X&65535|w<<16,se=o,pe=s,We=c,je=l,Pe=d,Be=f,Ye=g,Ae=_,W=y,Z=T,ue=I,q=O,ne=R,ye=M,xe=v,Ce=D,j%16===15)for(H=0;H<16;H++)L=t[H],U=i[H],X=U&65535,w=U>>>16,K=L&65535,ee=L>>>16,L=t[(H+9)%16],U=i[(H+9)%16],X+=U&65535,w+=U>>>16,K+=L&65535,ee+=L>>>16,k=t[(H+1)%16],b=i[(H+1)%16],L=(k>>>1|b<<31)^(k>>>8|b<<24)^k>>>7,U=(b>>>1|k<<31)^(b>>>8|k<<24)^(b>>>7|k<<25),X+=U&65535,w+=U>>>16,K+=L&65535,ee+=L>>>16,k=t[(H+14)%16],b=i[(H+14)%16],L=(k>>>19|b<<13)^(b>>>29|k<<3)^k>>>6,U=(b>>>19|k<<13)^(k>>>29|b<<3)^(b>>>6|k<<26),X+=U&65535,w+=U>>>16,K+=L&65535,ee+=L>>>16,w+=X>>>16,K+=w>>>16,ee+=K>>>16,t[H]=K&65535|ee<<16,i[H]=X&65535|w<<16;L=Ae,U=Ce,X=U&65535,w=U>>>16,K=L&65535,ee=L>>>16,L=a[0],U=n[0],X+=U&65535,w+=U>>>16,K+=L&65535,ee+=L>>>16,w+=X>>>16,K+=w>>>16,ee+=K>>>16,a[0]=Ae=K&65535|ee<<16,n[0]=Ce=X&65535|w<<16,L=se,U=W,X=U&65535,w=U>>>16,K=L&65535,ee=L>>>16,L=a[1],U=n[1],X+=U&65535,w+=U>>>16,K+=L&65535,ee+=L>>>16,w+=X>>>16,K+=w>>>16,ee+=K>>>16,a[1]=se=K&65535|ee<<16,n[1]=W=X&65535|w<<16,L=pe,U=Z,X=U&65535,w=U>>>16,K=L&65535,ee=L>>>16,L=a[2],U=n[2],X+=U&65535,w+=U>>>16,K+=L&65535,ee+=L>>>16,w+=X>>>16,K+=w>>>16,ee+=K>>>16,a[2]=pe=K&65535|ee<<16,n[2]=Z=X&65535|w<<16,L=We,U=ue,X=U&65535,w=U>>>16,K=L&65535,ee=L>>>16,L=a[3],U=n[3],X+=U&65535,w+=U>>>16,K+=L&65535,ee+=L>>>16,w+=X>>>16,K+=w>>>16,ee+=K>>>16,a[3]=We=K&65535|ee<<16,n[3]=ue=X&65535|w<<16,L=je,U=q,X=U&65535,w=U>>>16,K=L&65535,ee=L>>>16,L=a[4],U=n[4],X+=U&65535,w+=U>>>16,K+=L&65535,ee+=L>>>16,w+=X>>>16,K+=w>>>16,ee+=K>>>16,a[4]=je=K&65535|ee<<16,n[4]=q=X&65535|w<<16,L=Pe,U=ne,X=U&65535,w=U>>>16,K=L&65535,ee=L>>>16,L=a[5],U=n[5],X+=U&65535,w+=U>>>16,K+=L&65535,ee+=L>>>16,w+=X>>>16,K+=w>>>16,ee+=K>>>16,a[5]=Pe=K&65535|ee<<16,n[5]=ne=X&65535|w<<16,L=Be,U=ye,X=U&65535,w=U>>>16,K=L&65535,ee=L>>>16,L=a[6],U=n[6],X+=U&65535,w+=U>>>16,K+=L&65535,ee+=L>>>16,w+=X>>>16,K+=w>>>16,ee+=K>>>16,a[6]=Be=K&65535|ee<<16,n[6]=ye=X&65535|w<<16,L=Ye,U=xe,X=U&65535,w=U>>>16,K=L&65535,ee=L>>>16,L=a[7],U=n[7],X+=U&65535,w+=U>>>16,K+=L&65535,ee+=L>>>16,w+=X>>>16,K+=w>>>16,ee+=K>>>16,a[7]=Ye=K&65535|ee<<16,n[7]=xe=X&65535|w<<16,Fe+=128,e-=128}return e}function ac(a,n,r){var e=new Int32Array(8),t=new Int32Array(8),i=new Uint8Array(256),o,s=r;for(e[0]=1779033703,e[1]=3144134277,e[2]=1013904242,e[3]=2773480762,e[4]=1359893119,e[5]=2600822924,e[6]=528734635,e[7]=1541459225,t[0]=4089235720,t[1]=2227873595,t[2]=4271175723,t[3]=1595750129,t[4]=2917565137,t[5]=725511199,t[6]=4215389547,t[7]=327033209,$T(e,t,n,r),r%=128,o=0;o<r;o++)i[o]=n[s-r+o];for(i[r]=128,r=256-128*(r<112?1:0),i[r-9]=0,YT(i,r-8,s/536870912|0,s<<3),$T(e,t,i,r),o=0;o<8;o++)YT(a,8*o,e[o],t[o]);return 0}function Cf(a,n){var r=be(),e=be(),t=be(),i=be(),o=be(),s=be(),c=be(),l=be(),d=be();Cr(r,a[1],a[0]),Cr(d,n[1],n[0]),pt(r,r,d),br(e,a[0],a[1]),br(d,n[0],n[1]),pt(e,e,d),pt(t,a[3],n[3]),pt(t,t,Z1),pt(i,a[2],n[2]),br(i,i,i),Cr(o,e,r),Cr(s,i,t),br(c,i,t),br(l,e,r),pt(a[0],o,s),pt(a[1],l,c),pt(a[2],c,s),pt(a[3],o,l)}function XT(a,n,r){var e;for(e=0;e<4;e++)Ro(a[e],n[e],r)}function ql(a,n){var r=be(),e=be(),t=be();Pf(t,n[2]),pt(r,n[0],t),pt(e,n[1],t),No(a,e),a[31]^=ZT(r)<<7}function tI(a,n,r){var e,t;for(zi(a[0],Rf),zi(a[1],Co),zi(a[2],Co),zi(a[3],Rf),t=255;t>=0;--t)e=r[t/8|0]>>(t&7)&1,XT(a,n,e),Cf(n,a),Cf(a,a),XT(a,n,e)}function $l(a,n){var r=[be(),be(),be(),be()];zi(r[0],VT),zi(r[1],WT),zi(r[2],Co),pt(r[3],VT,WT),tI(a,r,n)}var bf=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Lf(a,n){var r,e,t,i;for(e=63;e>=32;--e){for(r=0,t=e-32,i=e-12;t<i;++t)n[t]+=r-16*n[e]*bf[t-(e-32)],r=n[t]+128>>8,n[t]-=r*256;n[t]+=r,n[e]=0}for(r=0,t=0;t<32;t++)n[t]+=r-(n[31]>>4)*bf[t],r=n[t]>>8,n[t]&=255;for(t=0;t<32;t++)n[t]-=r*bf[t];for(e=0;e<32;e++)n[e+1]+=n[e]>>8,a[e]=n[e]&255}function oc(a){var n=new Float64Array(64),r;for(r=0;r<64;r++)n[r]=a[r];for(r=0;r<64;r++)a[r]=0;Lf(a,n)}function iM(a,n,r,e){var t=new Uint8Array(64),i=new Uint8Array(64),o,s,c=new Float64Array(64),l=[be(),be(),be(),be()];for(o=0;o<r;o++)a[64+o]=n[o];for(o=0;o<32;o++)a[32+o]=e[o];for(ac(i,a.subarray(32),r+32),oc(i),$l(l,i),ql(a,l),o=0;o<32;o++)a[o+32]=e[32+o];for(ac(t,a,r+64),oc(t),o=0;o<64;o++)c[o]=0;for(o=0;o<32;o++)c[o]=i[o];for(o=0;o<32;o++)for(s=0;s<32;s++)c[o+s]+=t[o]*e[s];return Lf(a.subarray(32),c),r+64}function aM(a,n,r,e,t){var i=new Uint8Array(64),o=new Uint8Array(64),s,c,l=new Float64Array(64),d=[be(),be(),be(),be()];for(a[0]=254,s=1;s<32;s++)a[s]=255;for(s=0;s<32;s++)a[32+s]=e[s];for(s=0;s<r;s++)a[64+s]=n[s];for(s=0;s<64;s++)a[r+64+s]=t[s];for(ac(o,a,r+128),oc(o),$l(d,o),ql(a,d),s=0;s<32;s++)a[s+32]=e[32+s];for(ac(i,a,r+64),oc(i),s=0;s<64;s++)a[r+64+s]=0;for(s=0;s<64;s++)l[s]=0;for(s=0;s<32;s++)l[s]=o[s];for(s=0;s<32;s++)for(c=0;c<32;c++)l[s+c]+=i[s]*e[c];return Lf(a.subarray(32,r+64),l),r+64}function Nf(a,n,r,e,t){for(var i=new Uint8Array(64),o=[be(),be(),be(),be()],s=0;s<32;s++)i[s]=e[s];i[0]&=248,i[31]&=127,i[31]|=64,$l(o,i),ql(i.subarray(32),o);var c=i[63]&128,l;return t?l=aM(a,n,r,i,t):l=iM(a,n,r,i),a[63]|=c,l}function oM(a,n){var r=be(),e=be(),t=be(),i=be(),o=be(),s=be(),c=be();return zi(a[2],Co),Mf(a[1],n),Rr(t,a[1]),pt(i,t,Q1),Cr(t,t,a[2]),br(i,a[2],i),Rr(o,i),Rr(s,o),pt(c,s,o),pt(r,c,t),pt(r,r,i),nM(r,r),pt(r,r,t),pt(r,r,i),pt(r,r,i),pt(a[0],r,i),Rr(e,a[0]),pt(e,e,i),zT(e,t)&&pt(a[0],a[0],eM),Rr(e,a[0]),pt(e,e,i),zT(e,t)?-1:(ZT(a[0])===n[31]>>7&&Cr(a[0],Rf,a[0]),pt(a[3],a[0],a[1]),0)}function sM(a,n,r,e){var t,i,o=new Uint8Array(32),s=new Uint8Array(64),c=[be(),be(),be(),be()],l=[be(),be(),be(),be()];if(i=-1,r<64||oM(l,e))return-1;for(t=0;t<r;t++)a[t]=n[t];for(t=0;t<32;t++)a[t+32]=e[t];if(ac(s,a,r),oc(s),tI(c,l,s),$l(l,n.subarray(32)),Cf(c,l),ql(o,c),r-=64,QT(n,0,o,0)){for(t=0;t<r;t++)a[t]=0;return-1}for(t=0;t<r;t++)a[t]=n[t+64];return i=r,i}function cM(a){var n=new Uint8Array(32),r=be(),e=be(),t=be();return Mf(r,a),br(e,r,Co),Cr(t,r,Co),Pf(e,e),pt(e,e,t),No(n,e),n}function nI(a,n,r,e){var t=cM(e);return t[31]|=n[63]&128,n[63]&=127,sM(a,n,r,t)}function qi(...a){var n,r;for(r=0;r<arguments.length;r++)if((n=Object.prototype.toString.call(arguments[r]))!=="[object Uint8Array]")throw new TypeError("unexpected type "+n+", use Uint8Array")}function lM(a,n){if(qi(n,a),n.length!==32)throw new Error("wrong public key length");if(a.length!==32)throw new Error("wrong secret key length");var r=new Uint8Array(32);return eI(r,a,n),r}_i.sharedKey=lM;function uM(a,n,r){if(qi(n,a),a.length!==32)throw new Error("wrong secret key length");if(r){if(qi(r),r.length!==64)throw new Error("wrong random data length");var e=new Uint8Array(128+n.length);return Nf(e,n,n.length,a,r),new Uint8Array(e.subarray(0,64+n.length))}else{var t=new Uint8Array(64+n.length);return Nf(t,n,n.length,a),t}}_i.signMessage=uM;function dM(a,n){if(qi(n,a),a.length!==32)throw new Error("wrong public key length");var r=new Uint8Array(n.length),e=nI(r,n,n.length,a);if(e<0)return null;for(var t=new Uint8Array(e),i=0;i<t.length;i++)t[i]=r[i];return t}_i.openMessage=dM;function pM(a,n,r){if(qi(a,n),a.length!==32)throw new Error("wrong secret key length");if(r&&(qi(r),r.length!==64))throw new Error("wrong random data length");var e=new Uint8Array((r?128:64)+n.length);Nf(e,n,n.length,a,r);for(var t=new Uint8Array(64),i=0;i<t.length;i++)t[i]=e[i];return t}_i.sign=pM;function fM(a,n,r){if(qi(n,r,a),r.length!==64)throw new Error("wrong signature length");if(a.length!==32)throw new Error("wrong public key length");var e=new Uint8Array(64+n.length),t=new Uint8Array(64+n.length),i;for(i=0;i<64;i++)e[i]=r[i];for(i=0;i<n.length;i++)e[i+64]=n[i];return nI(t,e,e.length,a)>=0}_i.verify=fM;function hM(a){if(qi(a),a.length!==32)throw new Error("wrong seed length");for(var n=new Uint8Array(32),r=new Uint8Array(32),e=0;e<32;e++)n[e]=a[e];return rM(r,n),n[0]&=248,n[31]&=127,n[31]|=64,r[31]&=127,{public:r,private:n}}_i.generateKeyPair=hM;_i.default={}});var $i=z(Po=>{"use strict";var sc=rI(),Mo=_t("node:crypto"),Df=Buffer.from([48,42,48,5,6,3,43,101,110,3,33,0]),wf=Buffer.from([48,46,2,1,0,48,5,6,3,43,101,110,4,34,4,32]),gM=Buffer.from([5]),kf=function(a){return Buffer.concat([gM,a])};function iI(a){if(a===void 0)throw new Error("Undefined private key");if(!(a instanceof Buffer))throw new Error(`Invalid private key type: ${a.constructor.name}`);if(a.byteLength!=32)throw new Error(`Incorrect private key length: ${a.byteLength}`)}function aI(a){if(!(a instanceof Buffer))throw new Error(`Invalid public key type: ${a.constructor.name}`);if(a===void 0||(a.byteLength!=33||a[0]!=5)&&a.byteLength!=32)throw new Error("Invalid public key");return a.byteLength==33?a.slice(1):(console.error("WARNING: Expected pubkey of length 33, please report the ST and client that generated the pubkey"),a)}function EM(a){let n=new Uint8Array(a);return n[0]|=6,n[31]|=128,n[31]&=-65,n}Po.getPublicFromPrivateKey=function(a){let n=EM(a),r=sc.generateKeyPair(n);return kf(Buffer.from(r.public))};Po.generateKeyPair=function(){try{let{publicKey:a,privateKey:n}=Mo.generateKeyPairSync("x25519",{publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}}),r=a.slice(Df.length,Df.length+32),e=n.slice(wf.length,wf.length+32);return{pubKey:kf(r),privKey:e}}catch{let n=sc.generateKeyPair(Mo.randomBytes(32));return{privKey:Buffer.from(n.private),pubKey:kf(Buffer.from(n.public))}}};Po.calculateAgreement=function(a,n){if(a=aI(a),iI(n),!a||a.byteLength!=32)throw new Error("Invalid public key");if(typeof Mo.diffieHellman=="function"){let r=Mo.createPrivateKey({key:Buffer.concat([wf,n]),format:"der",type:"pkcs8"}),e=Mo.createPublicKey({key:Buffer.concat([Df,a]),format:"der",type:"spki"});return Mo.diffieHellman({privateKey:r,publicKey:e})}else{let r=sc.sharedKey(n,a);return Buffer.from(r)}};Po.calculateSignature=function(a,n){if(iI(a),!n)throw new Error("Invalid message");return Buffer.from(sc.sign(a,n))};Po.verifySignature=function(a,n,r,e){if(a=aI(a),!a||a.byteLength!=32)throw new Error("Invalid public key");if(!n)throw new Error("Invalid message");if(!r||r.byteLength!=64)throw new Error("Invalid signature");return e?!0:sc.verify(a,n,r)}});var sI=z(cc=>{var Xl=$i(),yM=_t("node:crypto");function oI(a){return typeof a=="number"&&a%1===0&&a>=0}cc.generateIdentityKeyPair=Xl.generateKeyPair;cc.generateRegistrationId=function(){var a=Uint16Array.from(yM.randomBytes(2))[0];return a&16383};cc.generateSignedPreKey=function(a,n){if(!(a.privKey instanceof Buffer)||a.privKey.byteLength!=32||!(a.pubKey instanceof Buffer)||a.pubKey.byteLength!=33)throw new TypeError("Invalid argument for identityKeyPair");if(!oI(n))throw new TypeError("Invalid argument for signedKeyId: "+n);let r=Xl.generateKeyPair(),e=Xl.calculateSignature(a.privKey,r.pubKey);return{keyId:n,keyPair:r,signature:e}};cc.generatePreKey=function(a){if(!oI(a))throw new TypeError("Invalid argument for keyId: "+a);let n=Xl.generateKeyPair();return{keyId:a,keyPair:n}}});var Uf=z((n5,cI)=>{var vf=class a{static from(n){if(typeof n!="string"||!n.match(/.*\.\d+/))throw new Error("Invalid address encoding");let r=n.split(".");return new this(r[0],parseInt(r[1]))}constructor(n,r){if(typeof n!="string")throw new TypeError("id required for addr");if(n.indexOf(".")!==-1)throw new TypeError("encoded addr detected");if(this.id=n,typeof r!="number")throw new TypeError("number required for deviceId");this.deviceId=r}toString(){return`${this.id}.${this.deviceId}`}is(n){return n instanceof a?n.id===this.id&&n.deviceId===this.deviceId:!1}};cI.exports=vf});var Bf=z((r5,lI)=>{var _M={OURS:1,THEIRS:2};lI.exports=_M});var xf=z((i5,uI)=>{var TM={SENDING:1,RECEIVING:2};uI.exports=TM});var eu=z((a5,pI)=>{var IM=Bf(),OM=40,dI="v1";function Ql(a){if(!Buffer.isBuffer(a))throw new TypeError("Buffer required")}var Zl=class{constructor(){this._chains={}}toString(){return`<SessionEntry [baseKey=${this.indexInfo&&this.indexInfo.baseKey&&this.indexInfo.baseKey.toString("base64")}]>`}inspect(){return this.toString()}addChain(n,r){Ql(n);let e=n.toString("base64");if(this._chains.hasOwnProperty(e))throw new Error("Overwrite attempt");this._chains[e]=r}getChain(n){return Ql(n),this._chains[n.toString("base64")]}deleteChain(n){Ql(n);let r=n.toString("base64");if(!this._chains.hasOwnProperty(r))throw new ReferenceError("Not Found");delete this._chains[r]}*chains(){for(let[n,r]of Object.entries(this._chains))yield[Buffer.from(n,"base64"),r]}serialize(){let n={registrationId:this.registrationId,currentRatchet:{ephemeralKeyPair:{pubKey:this.currentRatchet.ephemeralKeyPair.pubKey.toString("base64"),privKey:this.currentRatchet.ephemeralKeyPair.privKey.toString("base64")},lastRemoteEphemeralKey:this.currentRatchet.lastRemoteEphemeralKey.toString("base64"),previousCounter:this.currentRatchet.previousCounter,rootKey:this.currentRatchet.rootKey.toString("base64")},indexInfo:{baseKey:this.indexInfo.baseKey.toString("base64"),baseKeyType:this.indexInfo.baseKeyType,closed:this.indexInfo.closed,used:this.indexInfo.used,created:this.indexInfo.created,remoteIdentityKey:this.indexInfo.remoteIdentityKey.toString("base64")},_chains:this._serialize_chains(this._chains)};return this.pendingPreKey&&(n.pendingPreKey=Object.assign({},this.pendingPreKey),n.pendingPreKey.baseKey=this.pendingPreKey.baseKey.toString("base64")),n}static deserialize(n){let r=new this;return r.registrationId=n.registrationId,r.currentRatchet={ephemeralKeyPair:{pubKey:Buffer.from(n.currentRatchet.ephemeralKeyPair.pubKey,"base64"),privKey:Buffer.from(n.currentRatchet.ephemeralKeyPair.privKey,"base64")},lastRemoteEphemeralKey:Buffer.from(n.currentRatchet.lastRemoteEphemeralKey,"base64"),previousCounter:n.currentRatchet.previousCounter,rootKey:Buffer.from(n.currentRatchet.rootKey,"base64")},r.indexInfo={baseKey:Buffer.from(n.indexInfo.baseKey,"base64"),baseKeyType:n.indexInfo.baseKeyType,closed:n.indexInfo.closed,used:n.indexInfo.used,created:n.indexInfo.created,remoteIdentityKey:Buffer.from(n.indexInfo.remoteIdentityKey,"base64")},r._chains=this._deserialize_chains(n._chains),n.pendingPreKey&&(r.pendingPreKey=Object.assign({},n.pendingPreKey),r.pendingPreKey.baseKey=Buffer.from(n.pendingPreKey.baseKey,"base64")),r}_serialize_chains(n){let r={};for(let e of Object.keys(n)){let t=n[e],i={};for(let[o,s]of Object.entries(t.messageKeys))i[o]=s.toString("base64");r[e]={chainKey:{counter:t.chainKey.counter,key:t.chainKey.key&&t.chainKey.key.toString("base64")},chainType:t.chainType,messageKeys:i}}return r}static _deserialize_chains(n){let r={};for(let e of Object.keys(n)){let t=n[e],i={};for(let[o,s]of Object.entries(t.messageKeys))i[o]=Buffer.from(s,"base64");r[e]={chainKey:{counter:t.chainKey.counter,key:t.chainKey.key&&Buffer.from(t.chainKey.key,"base64")},chainType:t.chainType,messageKeys:i}}return r}},Jl=[{version:"v1",migrate:function(n){let r=n._sessions;if(n.registrationId)for(let e in r)r[e].registrationId||(r[e].registrationId=n.registrationId);else for(let e in r)r[e].indexInfo.closed===-1&&console.error("V1 session storage migration error: registrationId",n.registrationId,"for open session version",n.version)}}],Ff=class{static createEntry(){return new Zl}static migrate(n){let r=n.version===void 0;for(let e=0;e<Jl.length;++e)r?(console.info("Migrating session to:",Jl[e].version),Jl[e].migrate(n)):Jl[e].version===n.version&&(r=!0);if(!r)throw new Error("Error migrating SessionRecord")}static deserialize(n){n.version!==dI&&this.migrate(n);let r=new this;if(n._sessions)for(let[e,t]of Object.entries(n._sessions))r.sessions[e]=Zl.deserialize(t);return r}constructor(){this.sessions={},this.version=dI}serialize(){let n={};for(let[r,e]of Object.entries(this.sessions))n[r]=e.serialize();return{_sessions:n,version:this.version}}haveOpenSession(){let n=this.getOpenSession();return!!n&&typeof n.registrationId=="number"}getSession(n){Ql(n);let r=this.sessions[n.toString("base64")];if(r&&r.indexInfo.baseKeyType===IM.OURS)throw new Error("Tried to lookup a session using our basekey");return r}getOpenSession(){for(let n of Object.values(this.sessions))if(!this.isClosed(n))return n}setSession(n){this.sessions[n.indexInfo.baseKey.toString("base64")]=n}getSessions(){return Array.from(Object.values(this.sessions)).sort((n,r)=>{let e=n.indexInfo.used||0,t=r.indexInfo.used||0;return e===t?0:e<t?1:-1})}closeSession(n){if(this.isClosed(n)){console.warn("Session already closed",n);return}console.info("Closing session:",n),n.indexInfo.closed=Date.now()}openSession(n){this.isClosed(n)||console.warn("Session already open"),console.info("Opening session:",n),n.indexInfo.closed=-1}isClosed(n){return n.indexInfo.closed!==-1}removeOldSessions(){for(;Object.keys(this.sessions).length>OM;){let n,r;for(let[e,t]of Object.entries(this.sessions))t.indexInfo.closed!==-1&&(!r||t.indexInfo.closed<r.indexInfo.closed)&&(n=e,r=t);if(n)console.info("Removing old closed session:",r),delete this.sessions[n];else throw new Error("Corrupt sessions object")}}deleteAllSessions(){for(let n of Object.keys(this.sessions))delete this.sessions[n]}};pI.exports=Ff});var tu=z(jr=>{jr.SignalError=class extends Error{};jr.UntrustedIdentityKeyError=class extends jr.SignalError{constructor(n,r){super(),this.name="UntrustedIdentityKeyError",this.addr=n,this.identityKey=r}};jr.SessionError=class extends jr.SignalError{constructor(n){super(n),this.name="SessionError"}};jr.MessageCounterError=class extends jr.SessionError{constructor(n){super(n),this.name="MessageCounterError"}};jr.PreKeyError=class extends jr.SessionError{constructor(n){super(n),this.name="PreKeyError"}}});var jf=z((p5,hI)=>{"use strict";var nu=new Map,fI=1e4;async function SM(a,n){let r=0;for(;;){let e=Math.min(a.length,fI);for(let t=r;t<e;t++){let i=a[t];try{i.resolve(await i.awaitable())}catch(o){i.reject(o)}}if(e<a.length)e>=fI?(a.splice(0,e),r=0):r=e;else break}n()}hI.exports=function(a,n){n.name||(Object.defineProperty(n,"name",{writable:!0}),typeof a=="string"?n.name=a:console.warn("Unhandled bucket type (for naming):",typeof a,a));let r;nu.has(a)||(nu.set(a,[]),r=!0);let e=nu.get(a),t=new Promise((i,o)=>e.push({awaitable:n,resolve:i,reject:o}));return r&&SM(e,()=>nu.delete(a)),t}});var Hf=z((f5,_I)=>{"use strict";var gI=Bf(),AM=xf(),EI=eu(),yI=Sa(),Xi=$i(),ru=tu(),mM=jf(),Kf=class{constructor(n,r){this.addr=r,this.storage=n}async initOutgoing(n){let r=this.addr.toString();return await mM(r,async()=>{if(!await this.storage.isTrustedIdentity(this.addr.id,n.identityKey))throw new ru.UntrustedIdentityKeyError(this.addr.id,n.identityKey);Xi.verifySignature(n.identityKey,n.signedPreKey.publicKey,n.signedPreKey.signature,!0);let e=Xi.generateKeyPair(),t=n.preKey&&n.preKey.publicKey,i=await this.initSession(!0,e,void 0,n.identityKey,t,n.signedPreKey.publicKey,n.registrationId);i.pendingPreKey={signedKeyId:n.signedPreKey.keyId,baseKey:e.pubKey},n.preKey&&(i.pendingPreKey.preKeyId=n.preKey.keyId);let o=await this.storage.loadSession(r);if(!o)o=new EI;else{let s=o.getOpenSession();s&&(console.warn("Closing stale open session for new outgoing prekey bundle"),o.closeSession(s))}o.setSession(i),await this.storage.storeSession(r,o)})}async initIncoming(n,r){let e=this.addr.toString();if(!await this.storage.isTrustedIdentity(e,r.identityKey))throw new ru.UntrustedIdentityKeyError(this.addr.id,r.identityKey);if(n.getSession(r.baseKey))return;let t=await this.storage.loadPreKey(r.preKeyId);if(r.preKeyId&&!t)throw new ru.PreKeyError("Invalid PreKey ID");let i=await this.storage.loadSignedPreKey(r.signedPreKeyId);if(!i)throw new ru.PreKeyError("Missing SignedPreKey");let o=n.getOpenSession();return o&&(console.warn("Closing open session in favor of incoming prekey bundle"),n.closeSession(o)),n.setSession(await this.initSession(!1,t,i,r.identityKey,r.baseKey,void 0,r.registrationId)),r.preKeyId}async initSession(n,r,e,t,i,o,s){if(n){if(e)throw new Error("Invalid call to initSession");e=r}else{if(o)throw new Error("Invalid call to initSession");o=i}let c;!r||!i?c=new Uint8Array(32*4):c=new Uint8Array(32*5);for(var l=0;l<32;l++)c[l]=255;let d=await this.storage.getOurIdentity(),f=Xi.calculateAgreement(o,d.privKey),g=Xi.calculateAgreement(t,e.privKey),_=Xi.calculateAgreement(o,e.privKey);if(n?(c.set(new Uint8Array(f),32),c.set(new Uint8Array(g),32*2)):(c.set(new Uint8Array(f),32*2),c.set(new Uint8Array(g),32)),c.set(new Uint8Array(_),32*3),r&&i){let I=Xi.calculateAgreement(i,r.privKey);c.set(new Uint8Array(I),32*4)}let y=yI.deriveSecrets(Buffer.from(c),Buffer.alloc(32),Buffer.from("WhisperText")),T=EI.createEntry();return T.registrationId=s,T.currentRatchet={rootKey:y[0],ephemeralKeyPair:n?Xi.generateKeyPair():e,lastRemoteEphemeralKey:o,previousCounter:0},T.indexInfo={created:Date.now(),used:Date.now(),remoteIdentityKey:t,baseKey:n?r.pubKey:i,baseKeyType:n?gI.OURS:gI.THEIRS,closed:-1},n&&this.calculateSendingRatchet(T,o),T}calculateSendingRatchet(n,r){let e=n.currentRatchet,t=Xi.calculateAgreement(r,e.ephemeralKeyPair.privKey),i=yI.deriveSecrets(t,e.rootKey,Buffer.from("WhisperRatchet"));n.addChain(e.ephemeralKeyPair.pubKey,{messageKeys:{},chainKey:{counter:-1,key:i[1]},chainType:AM.SENDING}),e.rootKey=i[0]}};_I.exports=Kf});var II=z((h5,TI)=>{"use strict";TI.exports=rn;var lc=Qi();function rn(a,n){this.lo=a>>>0,this.hi=n>>>0}var Aa=rn.zero=new rn(0,0);Aa.toNumber=function(){return 0};Aa.zzEncode=Aa.zzDecode=function(){return this};Aa.length=function(){return 1};var bM=rn.zeroHash="\0\0\0\0\0\0\0\0";rn.fromNumber=function(n){if(n===0)return Aa;var r=n<0;r&&(n=-n);var e=n>>>0,t=(n-e)/4294967296>>>0;return r&&(t=~t>>>0,e=~e>>>0,++e>4294967295&&(e=0,++t>4294967295&&(t=0))),new rn(e,t)};rn.from=function(n){if(typeof n=="number")return rn.fromNumber(n);if(lc.isString(n))if(lc.Long)n=lc.Long.fromString(n);else return rn.fromNumber(parseInt(n,10));return n.low||n.high?new rn(n.low>>>0,n.high>>>0):Aa};rn.prototype.toNumber=function(n){if(!n&&this.hi>>>31){var r=~this.lo+1>>>0,e=~this.hi>>>0;return r||(e=e+1>>>0),-(r+e*4294967296)}return this.lo+this.hi*4294967296};rn.prototype.toLong=function(n){return lc.Long?new lc.Long(this.lo|0,this.hi|0,!!n):{low:this.lo|0,high:this.hi|0,unsigned:!!n}};var Ji=String.prototype.charCodeAt;rn.fromHash=function(n){return n===bM?Aa:new rn((Ji.call(n,0)|Ji.call(n,1)<<8|Ji.call(n,2)<<16|Ji.call(n,3)<<24)>>>0,(Ji.call(n,4)|Ji.call(n,5)<<8|Ji.call(n,6)<<16|Ji.call(n,7)<<24)>>>0)};rn.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};rn.prototype.zzEncode=function(){var n=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^n)>>>0,this.lo=(this.lo<<1^n)>>>0,this};rn.prototype.zzDecode=function(){var n=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^n)>>>0,this.hi=(this.hi>>>1^n)>>>0,this};rn.prototype.length=function(){var n=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,e=this.hi>>>24;return e===0?r===0?n<16384?n<128?1:2:n<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:e<128?9:10}});var Qi=z(Gf=>{"use strict";var Le=Gf;Le.asPromise=rf();Le.base64=af();Le.EventEmitter=of();Le.float=sf();Le.inquire=cf();Le.utf8=uf();Le.pool=df();Le.LongBits=II();Le.global=typeof window<"u"&&window||typeof global<"u"&&global||typeof self<"u"&&self||Gf;Le.emptyArray=Object.freeze?Object.freeze([]):[];Le.emptyObject=Object.freeze?Object.freeze({}):{};Le.isNode=!!(Le.global.process&&Le.global.process.versions&&Le.global.process.versions.node);Le.isInteger=Number.isInteger||function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n};Le.isString=function(n){return typeof n=="string"||n instanceof String};Le.isObject=function(n){return n&&typeof n=="object"};Le.isset=Le.isSet=function(n,r){var e=n[r];return e!=null&&n.hasOwnProperty(r)?typeof e!="object"||(Array.isArray(e)?e.length:Object.keys(e).length)>0:!1};Le.Buffer=function(){try{var a=Le.inquire("buffer").Buffer;return a.prototype.utf8Write?a:null}catch{return null}}();Le._Buffer_from=null;Le._Buffer_allocUnsafe=null;Le.newBuffer=function(n){return typeof n=="number"?Le.Buffer?Le._Buffer_allocUnsafe(n):new Le.Array(n):Le.Buffer?Le._Buffer_from(n):typeof Uint8Array>"u"?n:new Uint8Array(n)};Le.Array=typeof Uint8Array<"u"?Uint8Array:Array;Le.Long=Le.global.dcodeIO&&Le.global.dcodeIO.Long||Le.global.Long||Le.inquire("long");Le.key2Re=/^true|false|0|1$/;Le.key32Re=/^-?(?:0|[1-9][0-9]*)$/;Le.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;Le.longToHash=function(n){return n?Le.LongBits.from(n).toHash():Le.LongBits.zeroHash};Le.longFromHash=function(n,r){var e=Le.LongBits.fromHash(n);return Le.Long?Le.Long.fromBits(e.lo,e.hi,r):e.toNumber(!!r)};function OI(a,n,r){for(var e=Object.keys(n),t=0;t<e.length;++t)(a[e[t]]===void 0||!r)&&(a[e[t]]=n[e[t]]);return a}Le.merge=OI;Le.lcFirst=function(n){return n.charAt(0).toLowerCase()+n.substring(1)};function SI(a){function n(r,e){if(!(this instanceof n))return new n(r,e);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,n):Object.defineProperty(this,"stack",{value:new Error().stack||""}),e&&OI(this,e)}return(n.prototype=Object.create(Error.prototype)).constructor=n,Object.defineProperty(n.prototype,"name",{get:function(){return a}}),n.prototype.toString=function(){return this.name+": "+this.message},n}Le.newError=SI;Le.ProtocolError=SI("ProtocolError");Le.oneOfGetter=function(n){for(var r={},e=0;e<n.length;++e)r[n[e]]=1;return function(){for(var t=Object.keys(this),i=t.length-1;i>-1;--i)if(r[t[i]]===1&&this[t[i]]!==void 0&&this[t[i]]!==null)return t[i]}};Le.oneOfSetter=function(n){return function(r){for(var e=0;e<n.length;++e)n[e]!==r&&delete this[n[e]]}};Le.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};Le._configure=function(){var a=Le.Buffer;if(!a){Le._Buffer_from=Le._Buffer_allocUnsafe=null;return}Le._Buffer_from=a.from!==Uint8Array.from&&a.from||function(r,e){return new a(r,e)},Le._Buffer_allocUnsafe=a.allocUnsafe||function(r){return new a(r)}}});var $f=z((E5,RI)=>{"use strict";RI.exports=Tt;var lr=Qi(),bI,iu=lr.LongBits,AI=lr.base64,mI=lr.utf8;function uc(a,n,r){this.fn=a,this.len=n,this.next=void 0,this.val=r}function Wf(){}function RM(a){this.head=a.head,this.tail=a.tail,this.len=a.len,this.next=a.states}function Tt(){this.len=0,this.head=new uc(Wf,0,0),this.tail=this.head,this.states=null}Tt.create=lr.Buffer?function(){return(Tt.create=function(){return new bI})()}:function(){return new Tt};Tt.alloc=function(n){return new lr.Array(n)};lr.Array!==Array&&(Tt.alloc=lr.pool(Tt.alloc,lr.Array.prototype.subarray));Tt.prototype._push=function(n,r,e){return this.tail=this.tail.next=new uc(n,r,e),this.len+=r,this};function Yf(a,n,r){n[r]=a&255}function CM(a,n,r){for(;a>127;)n[r++]=a&127|128,a>>>=7;n[r]=a}function zf(a,n){this.len=a,this.next=void 0,this.val=n}zf.prototype=Object.create(uc.prototype);zf.prototype.fn=CM;Tt.prototype.uint32=function(n){return this.len+=(this.tail=this.tail.next=new zf((n=n>>>0)<128?1:n<16384?2:n<2097152?3:n<268435456?4:5,n)).len,this};Tt.prototype.int32=function(n){return n<0?this._push(qf,10,iu.fromNumber(n)):this.uint32(n)};Tt.prototype.sint32=function(n){return this.uint32((n<<1^n>>31)>>>0)};function qf(a,n,r){for(;a.hi;)n[r++]=a.lo&127|128,a.lo=(a.lo>>>7|a.hi<<25)>>>0,a.hi>>>=7;for(;a.lo>127;)n[r++]=a.lo&127|128,a.lo=a.lo>>>7;n[r++]=a.lo}Tt.prototype.uint64=function(n){var r=iu.from(n);return this._push(qf,r.length(),r)};Tt.prototype.int64=Tt.prototype.uint64;Tt.prototype.sint64=function(n){var r=iu.from(n).zzEncode();return this._push(qf,r.length(),r)};Tt.prototype.bool=function(n){return this._push(Yf,1,n?1:0)};function Vf(a,n,r){n[r]=a&255,n[r+1]=a>>>8&255,n[r+2]=a>>>16&255,n[r+3]=a>>>24}Tt.prototype.fixed32=function(n){return this._push(Vf,4,n>>>0)};Tt.prototype.sfixed32=Tt.prototype.fixed32;Tt.prototype.fixed64=function(n){var r=iu.from(n);return this._push(Vf,4,r.lo)._push(Vf,4,r.hi)};Tt.prototype.sfixed64=Tt.prototype.fixed64;Tt.prototype.float=function(n){return this._push(lr.float.writeFloatLE,4,n)};Tt.prototype.double=function(n){return this._push(lr.float.writeDoubleLE,8,n)};var NM=lr.Array.prototype.set?function(n,r,e){r.set(n,e)}:function(n,r,e){for(var t=0;t<n.length;++t)r[e+t]=n[t]};Tt.prototype.bytes=function(n){var r=n.length>>>0;if(!r)return this._push(Yf,1,0);if(lr.isString(n)){var e=Tt.alloc(r=AI.length(n));AI.decode(n,e,0),n=e}return this.uint32(r)._push(NM,r,n)};Tt.prototype.string=function(n){var r=mI.length(n);return r?this.uint32(r)._push(mI.write,r,n):this._push(Yf,1,0)};Tt.prototype.fork=function(){return this.states=new RM(this),this.head=this.tail=new uc(Wf,0,0),this.len=0,this};Tt.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new uc(Wf,0,0),this.len=0),this};Tt.prototype.ldelim=function(){var n=this.head,r=this.tail,e=this.len;return this.reset().uint32(e),e&&(this.tail.next=n.next,this.tail=r,this.len+=e),this};Tt.prototype.finish=function(){for(var n=this.head.next,r=this.constructor.alloc(this.len),e=0;n;)n.fn(n.val,r,e),e+=n.len,n=n.next;return r};Tt._configure=function(a){bI=a}});var MI=z((y5,NI)=>{"use strict";NI.exports=ma;var CI=$f();(ma.prototype=Object.create(CI.prototype)).constructor=ma;var dc=Qi(),au=dc.Buffer;function ma(){CI.call(this)}ma.alloc=function(n){return(ma.alloc=dc._Buffer_allocUnsafe)(n)};var MM=au&&au.prototype instanceof Uint8Array&&au.prototype.set.name==="set"?function(n,r,e){r.set(n,e)}:function(n,r,e){if(n.copy)n.copy(r,e,0,n.length);else for(var t=0;t<n.length;)r[e++]=n[t++]};ma.prototype.bytes=function(n){dc.isString(n)&&(n=dc._Buffer_from(n,"base64"));var r=n.length>>>0;return this.uint32(r),r&&this._push(MM,r,n),this};function PM(a,n,r){a.length<40?dc.utf8.write(a,n,r):n.utf8Write(a,r)}ma.prototype.string=function(n){var r=au.byteLength(n);return this.uint32(r),r&&this._push(PM,r,n),this}});var Jf=z((_5,kI)=>{"use strict";kI.exports=Vt;var Kr=Qi(),DI,wI=Kr.LongBits,LM=Kr.utf8;function Nr(a,n){return RangeError("index out of range: "+a.pos+" + "+(n||1)+" > "+a.len)}function Vt(a){this.buf=a,this.pos=0,this.len=a.length}var PI=typeof Uint8Array<"u"?function(n){if(n instanceof Uint8Array||Array.isArray(n))return new Vt(n);throw Error("illegal buffer")}:function(n){if(Array.isArray(n))return new Vt(n);throw Error("illegal buffer")};Vt.create=Kr.Buffer?function(n){return(Vt.create=function(e){return Kr.Buffer.isBuffer(e)?new DI(e):PI(e)})(n)}:PI;Vt.prototype._slice=Kr.Array.prototype.subarray||Kr.Array.prototype.slice;Vt.prototype.uint32=function(){var n=4294967295;return function(){if(n=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(n=(n|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(n=(n|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(n=(n|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(n=(n|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return n;if((this.pos+=5)>this.len)throw this.pos=this.len,Nr(this,10);return n}}();Vt.prototype.int32=function(){return this.uint32()|0};Vt.prototype.sint32=function(){var n=this.uint32();return n>>>1^-(n&1)|0};function Xf(){var a=new wI(0,0),n=0;if(this.len-this.pos>4){for(;n<4;++n)if(a.lo=(a.lo|(this.buf[this.pos]&127)<<n*7)>>>0,this.buf[this.pos++]<128)return a;if(a.lo=(a.lo|(this.buf[this.pos]&127)<<28)>>>0,a.hi=(a.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return a;n=0}else{for(;n<3;++n){if(this.pos>=this.len)throw Nr(this);if(a.lo=(a.lo|(this.buf[this.pos]&127)<<n*7)>>>0,this.buf[this.pos++]<128)return a}return a.lo=(a.lo|(this.buf[this.pos++]&127)<<n*7)>>>0,a}if(this.len-this.pos>4){for(;n<5;++n)if(a.hi=(a.hi|(this.buf[this.pos]&127)<<n*7+3)>>>0,this.buf[this.pos++]<128)return a}else for(;n<5;++n){if(this.pos>=this.len)throw Nr(this);if(a.hi=(a.hi|(this.buf[this.pos]&127)<<n*7+3)>>>0,this.buf[this.pos++]<128)return a}throw Error("invalid varint encoding")}Vt.prototype.bool=function(){return this.uint32()!==0};function ou(a,n){return(a[n-4]|a[n-3]<<8|a[n-2]<<16|a[n-1]<<24)>>>0}Vt.prototype.fixed32=function(){if(this.pos+4>this.len)throw Nr(this,4);return ou(this.buf,this.pos+=4)};Vt.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Nr(this,4);return ou(this.buf,this.pos+=4)|0};function LI(){if(this.pos+8>this.len)throw Nr(this,8);return new wI(ou(this.buf,this.pos+=4),ou(this.buf,this.pos+=4))}Vt.prototype.float=function(){if(this.pos+4>this.len)throw Nr(this,4);var n=Kr.float.readFloatLE(this.buf,this.pos);return this.pos+=4,n};Vt.prototype.double=function(){if(this.pos+8>this.len)throw Nr(this,4);var n=Kr.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,n};Vt.prototype.bytes=function(){var n=this.uint32(),r=this.pos,e=this.pos+n;if(e>this.len)throw Nr(this,n);return this.pos+=n,Array.isArray(this.buf)?this.buf.slice(r,e):r===e?new this.buf.constructor(0):this._slice.call(this.buf,r,e)};Vt.prototype.string=function(){var n=this.bytes();return LM.read(n,0,n.length)};Vt.prototype.skip=function(n){if(typeof n=="number"){if(this.pos+n>this.len)throw Nr(this,n);this.pos+=n}else do if(this.pos>=this.len)throw Nr(this);while(this.buf[this.pos++]&128);return this};Vt.prototype.skipType=function(a){switch(a){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(a=this.uint32()&7)!==4;)this.skipType(a);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+a+" at offset "+this.pos)}return this};Vt._configure=function(a){DI=a;var n=Kr.Long?"toLong":"toNumber";Kr.merge(Vt.prototype,{int64:function(){return Xf.call(this)[n](!1)},uint64:function(){return Xf.call(this)[n](!0)},sint64:function(){return Xf.call(this).zzDecode()[n](!1)},fixed64:function(){return LI.call(this)[n](!0)},sfixed64:function(){return LI.call(this)[n](!1)}})}});var xI=z((T5,BI)=>{"use strict";BI.exports=pc;var UI=Jf();(pc.prototype=Object.create(UI.prototype)).constructor=pc;var vI=Qi();function pc(a){UI.call(this,a)}vI.Buffer&&(pc.prototype._slice=vI.Buffer.prototype.slice);pc.prototype.string=function(){var n=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+n,this.len))}});var jI=z((I5,FI)=>{"use strict";FI.exports=fc;var Qf=Qi();(fc.prototype=Object.create(Qf.EventEmitter.prototype)).constructor=fc;function fc(a,n,r){if(typeof a!="function")throw TypeError("rpcImpl must be a function");Qf.EventEmitter.call(this),this.rpcImpl=a,this.requestDelimited=!!n,this.responseDelimited=!!r}fc.prototype.rpcCall=function a(n,r,e,t,i){if(!t)throw TypeError("request must be specified");var o=this;if(!i)return Qf.asPromise(a,o,n,r,e,t);if(!o.rpcImpl){setTimeout(function(){i(Error("already ended"))},0);return}try{return o.rpcImpl(n,r[o.requestDelimited?"encodeDelimited":"encode"](t).finish(),function(c,l){if(c)return o.emit("error",c,n),i(c);if(l===null){o.end(!0);return}if(!(l instanceof e))try{l=e[o.responseDelimited?"decodeDelimited":"decode"](l)}catch(d){return o.emit("error",d,n),i(d)}return o.emit("data",l,n),i(null,l)})}catch(s){o.emit("error",s,n),setTimeout(function(){i(s)},0);return}};fc.prototype.end=function(n){return this.rpcImpl&&(n||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var HI=z(KI=>{"use strict";var DM=KI;DM.Service=jI()});var VI=z((S5,GI)=>{"use strict";GI.exports={}});var zI=z(YI=>{"use strict";var Ln=YI;Ln.build="minimal";Ln.Writer=$f();Ln.BufferWriter=MI();Ln.Reader=Jf();Ln.BufferReader=xI();Ln.util=Qi();Ln.rpc=HI();Ln.roots=VI();Ln.configure=WI;function WI(){Ln.Reader._configure(Ln.BufferReader),Ln.util._configure()}Ln.Writer._configure(Ln.BufferWriter);WI()});var $I=z((m5,qI)=>{"use strict";qI.exports=zI()});var JI=z((b5,XI)=>{"use strict";var Zi=$I(),ur=Zi.Reader,Zf=Zi.Writer,Te=Zi.util,Mr=Zi.roots.default||(Zi.roots.default={});Mr.textsecure=function(){var a={};return a.WhisperMessage=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.ephemeralKey=Te.newBuffer([]),n.prototype.counter=0,n.prototype.previousCounter=0,n.prototype.ciphertext=Te.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=Zf.create()),e.ephemeralKey!=null&&e.hasOwnProperty("ephemeralKey")&&t.uint32(10).bytes(e.ephemeralKey),e.counter!=null&&e.hasOwnProperty("counter")&&t.uint32(16).uint32(e.counter),e.previousCounter!=null&&e.hasOwnProperty("previousCounter")&&t.uint32(24).uint32(e.previousCounter),e.ciphertext!=null&&e.hasOwnProperty("ciphertext")&&t.uint32(34).bytes(e.ciphertext),t},n.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},n.decode=function(e,t){e instanceof ur||(e=ur.create(e));for(var i=t===void 0?e.len:e.pos+t,o=new Mr.textsecure.WhisperMessage;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:o.ephemeralKey=e.bytes();break;case 2:o.counter=e.uint32();break;case 3:o.previousCounter=e.uint32();break;case 4:o.ciphertext=e.bytes();break;default:e.skipType(s&7);break}}return o},n.decodeDelimited=function(e){return e instanceof ur||(e=new ur(e)),this.decode(e,e.uint32())},n.verify=function(e){return typeof e!="object"||e===null?"object expected":e.ephemeralKey!=null&&e.hasOwnProperty("ephemeralKey")&&!(e.ephemeralKey&&typeof e.ephemeralKey.length=="number"||Te.isString(e.ephemeralKey))?"ephemeralKey: buffer expected":e.counter!=null&&e.hasOwnProperty("counter")&&!Te.isInteger(e.counter)?"counter: integer expected":e.previousCounter!=null&&e.hasOwnProperty("previousCounter")&&!Te.isInteger(e.previousCounter)?"previousCounter: integer expected":e.ciphertext!=null&&e.hasOwnProperty("ciphertext")&&!(e.ciphertext&&typeof e.ciphertext.length=="number"||Te.isString(e.ciphertext))?"ciphertext: buffer expected":null},n.fromObject=function(e){if(e instanceof Mr.textsecure.WhisperMessage)return e;var t=new Mr.textsecure.WhisperMessage;return e.ephemeralKey!=null&&(typeof e.ephemeralKey=="string"?Te.base64.decode(e.ephemeralKey,t.ephemeralKey=Te.newBuffer(Te.base64.length(e.ephemeralKey)),0):e.ephemeralKey.length&&(t.ephemeralKey=e.ephemeralKey)),e.counter!=null&&(t.counter=e.counter>>>0),e.previousCounter!=null&&(t.previousCounter=e.previousCounter>>>0),e.ciphertext!=null&&(typeof e.ciphertext=="string"?Te.base64.decode(e.ciphertext,t.ciphertext=Te.newBuffer(Te.base64.length(e.ciphertext)),0):e.ciphertext.length&&(t.ciphertext=e.ciphertext)),t},n.toObject=function(e,t){t||(t={});var i={};return t.defaults&&(t.bytes===String?i.ephemeralKey="":(i.ephemeralKey=[],t.bytes!==Array&&(i.ephemeralKey=Te.newBuffer(i.ephemeralKey))),i.counter=0,i.previousCounter=0,t.bytes===String?i.ciphertext="":(i.ciphertext=[],t.bytes!==Array&&(i.ciphertext=Te.newBuffer(i.ciphertext)))),e.ephemeralKey!=null&&e.hasOwnProperty("ephemeralKey")&&(i.ephemeralKey=t.bytes===String?Te.base64.encode(e.ephemeralKey,0,e.ephemeralKey.length):t.bytes===Array?Array.prototype.slice.call(e.ephemeralKey):e.ephemeralKey),e.counter!=null&&e.hasOwnProperty("counter")&&(i.counter=e.counter),e.previousCounter!=null&&e.hasOwnProperty("previousCounter")&&(i.previousCounter=e.previousCounter),e.ciphertext!=null&&e.hasOwnProperty("ciphertext")&&(i.ciphertext=t.bytes===String?Te.base64.encode(e.ciphertext,0,e.ciphertext.length):t.bytes===Array?Array.prototype.slice.call(e.ciphertext):e.ciphertext),i},n.prototype.toJSON=function(){return this.constructor.toObject(this,Zi.util.toJSONOptions)},n}(),a.PreKeyWhisperMessage=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.registrationId=0,n.prototype.preKeyId=0,n.prototype.signedPreKeyId=0,n.prototype.baseKey=Te.newBuffer([]),n.prototype.identityKey=Te.newBuffer([]),n.prototype.message=Te.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=Zf.create()),e.preKeyId!=null&&e.hasOwnProperty("preKeyId")&&t.uint32(8).uint32(e.preKeyId),e.baseKey!=null&&e.hasOwnProperty("baseKey")&&t.uint32(18).bytes(e.baseKey),e.identityKey!=null&&e.hasOwnProperty("identityKey")&&t.uint32(26).bytes(e.identityKey),e.message!=null&&e.hasOwnProperty("message")&&t.uint32(34).bytes(e.message),e.registrationId!=null&&e.hasOwnProperty("registrationId")&&t.uint32(40).uint32(e.registrationId),e.signedPreKeyId!=null&&e.hasOwnProperty("signedPreKeyId")&&t.uint32(48).uint32(e.signedPreKeyId),t},n.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},n.decode=function(e,t){e instanceof ur||(e=ur.create(e));for(var i=t===void 0?e.len:e.pos+t,o=new Mr.textsecure.PreKeyWhisperMessage;e.pos<i;){var s=e.uint32();switch(s>>>3){case 5:o.registrationId=e.uint32();break;case 1:o.preKeyId=e.uint32();break;case 6:o.signedPreKeyId=e.uint32();break;case 2:o.baseKey=e.bytes();break;case 3:o.identityKey=e.bytes();break;case 4:o.message=e.bytes();break;default:e.skipType(s&7);break}}return o},n.decodeDelimited=function(e){return e instanceof ur||(e=new ur(e)),this.decode(e,e.uint32())},n.verify=function(e){return typeof e!="object"||e===null?"object expected":e.registrationId!=null&&e.hasOwnProperty("registrationId")&&!Te.isInteger(e.registrationId)?"registrationId: integer expected":e.preKeyId!=null&&e.hasOwnProperty("preKeyId")&&!Te.isInteger(e.preKeyId)?"preKeyId: integer expected":e.signedPreKeyId!=null&&e.hasOwnProperty("signedPreKeyId")&&!Te.isInteger(e.signedPreKeyId)?"signedPreKeyId: integer expected":e.baseKey!=null&&e.hasOwnProperty("baseKey")&&!(e.baseKey&&typeof e.baseKey.length=="number"||Te.isString(e.baseKey))?"baseKey: buffer expected":e.identityKey!=null&&e.hasOwnProperty("identityKey")&&!(e.identityKey&&typeof e.identityKey.length=="number"||Te.isString(e.identityKey))?"identityKey: buffer expected":e.message!=null&&e.hasOwnProperty("message")&&!(e.message&&typeof e.message.length=="number"||Te.isString(e.message))?"message: buffer expected":null},n.fromObject=function(e){if(e instanceof Mr.textsecure.PreKeyWhisperMessage)return e;var t=new Mr.textsecure.PreKeyWhisperMessage;return e.registrationId!=null&&(t.registrationId=e.registrationId>>>0),e.preKeyId!=null&&(t.preKeyId=e.preKeyId>>>0),e.signedPreKeyId!=null&&(t.signedPreKeyId=e.signedPreKeyId>>>0),e.baseKey!=null&&(typeof e.baseKey=="string"?Te.base64.decode(e.baseKey,t.baseKey=Te.newBuffer(Te.base64.length(e.baseKey)),0):e.baseKey.length&&(t.baseKey=e.baseKey)),e.identityKey!=null&&(typeof e.identityKey=="string"?Te.base64.decode(e.identityKey,t.identityKey=Te.newBuffer(Te.base64.length(e.identityKey)),0):e.identityKey.length&&(t.identityKey=e.identityKey)),e.message!=null&&(typeof e.message=="string"?Te.base64.decode(e.message,t.message=Te.newBuffer(Te.base64.length(e.message)),0):e.message.length&&(t.message=e.message)),t},n.toObject=function(e,t){t||(t={});var i={};return t.defaults&&(i.preKeyId=0,t.bytes===String?i.baseKey="":(i.baseKey=[],t.bytes!==Array&&(i.baseKey=Te.newBuffer(i.baseKey))),t.bytes===String?i.identityKey="":(i.identityKey=[],t.bytes!==Array&&(i.identityKey=Te.newBuffer(i.identityKey))),t.bytes===String?i.message="":(i.message=[],t.bytes!==Array&&(i.message=Te.newBuffer(i.message))),i.registrationId=0,i.signedPreKeyId=0),e.preKeyId!=null&&e.hasOwnProperty("preKeyId")&&(i.preKeyId=e.preKeyId),e.baseKey!=null&&e.hasOwnProperty("baseKey")&&(i.baseKey=t.bytes===String?Te.base64.encode(e.baseKey,0,e.baseKey.length):t.bytes===Array?Array.prototype.slice.call(e.baseKey):e.baseKey),e.identityKey!=null&&e.hasOwnProperty("identityKey")&&(i.identityKey=t.bytes===String?Te.base64.encode(e.identityKey,0,e.identityKey.length):t.bytes===Array?Array.prototype.slice.call(e.identityKey):e.identityKey),e.message!=null&&e.hasOwnProperty("message")&&(i.message=t.bytes===String?Te.base64.encode(e.message,0,e.message.length):t.bytes===Array?Array.prototype.slice.call(e.message):e.message),e.registrationId!=null&&e.hasOwnProperty("registrationId")&&(i.registrationId=e.registrationId),e.signedPreKeyId!=null&&e.hasOwnProperty("signedPreKeyId")&&(i.signedPreKeyId=e.signedPreKeyId),i},n.prototype.toJSON=function(){return this.constructor.toObject(this,Zi.util.toJSONOptions)},n}(),a.KeyExchangeMessage=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.id=0,n.prototype.baseKey=Te.newBuffer([]),n.prototype.ephemeralKey=Te.newBuffer([]),n.prototype.identityKey=Te.newBuffer([]),n.prototype.baseKeySignature=Te.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=Zf.create()),e.id!=null&&e.hasOwnProperty("id")&&t.uint32(8).uint32(e.id),e.baseKey!=null&&e.hasOwnProperty("baseKey")&&t.uint32(18).bytes(e.baseKey),e.ephemeralKey!=null&&e.hasOwnProperty("ephemeralKey")&&t.uint32(26).bytes(e.ephemeralKey),e.identityKey!=null&&e.hasOwnProperty("identityKey")&&t.uint32(34).bytes(e.identityKey),e.baseKeySignature!=null&&e.hasOwnProperty("baseKeySignature")&&t.uint32(42).bytes(e.baseKeySignature),t},n.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},n.decode=function(e,t){e instanceof ur||(e=ur.create(e));for(var i=t===void 0?e.len:e.pos+t,o=new Mr.textsecure.KeyExchangeMessage;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:o.id=e.uint32();break;case 2:o.baseKey=e.bytes();break;case 3:o.ephemeralKey=e.bytes();break;case 4:o.identityKey=e.bytes();break;case 5:o.baseKeySignature=e.bytes();break;default:e.skipType(s&7);break}}return o},n.decodeDelimited=function(e){return e instanceof ur||(e=new ur(e)),this.decode(e,e.uint32())},n.verify=function(e){return typeof e!="object"||e===null?"object expected":e.id!=null&&e.hasOwnProperty("id")&&!Te.isInteger(e.id)?"id: integer expected":e.baseKey!=null&&e.hasOwnProperty("baseKey")&&!(e.baseKey&&typeof e.baseKey.length=="number"||Te.isString(e.baseKey))?"baseKey: buffer expected":e.ephemeralKey!=null&&e.hasOwnProperty("ephemeralKey")&&!(e.ephemeralKey&&typeof e.ephemeralKey.length=="number"||Te.isString(e.ephemeralKey))?"ephemeralKey: buffer expected":e.identityKey!=null&&e.hasOwnProperty("identityKey")&&!(e.identityKey&&typeof e.identityKey.length=="number"||Te.isString(e.identityKey))?"identityKey: buffer expected":e.baseKeySignature!=null&&e.hasOwnProperty("baseKeySignature")&&!(e.baseKeySignature&&typeof e.baseKeySignature.length=="number"||Te.isString(e.baseKeySignature))?"baseKeySignature: buffer expected":null},n.fromObject=function(e){if(e instanceof Mr.textsecure.KeyExchangeMessage)return e;var t=new Mr.textsecure.KeyExchangeMessage;return e.id!=null&&(t.id=e.id>>>0),e.baseKey!=null&&(typeof e.baseKey=="string"?Te.base64.decode(e.baseKey,t.baseKey=Te.newBuffer(Te.base64.length(e.baseKey)),0):e.baseKey.length&&(t.baseKey=e.baseKey)),e.ephemeralKey!=null&&(typeof e.ephemeralKey=="string"?Te.base64.decode(e.ephemeralKey,t.ephemeralKey=Te.newBuffer(Te.base64.length(e.ephemeralKey)),0):e.ephemeralKey.length&&(t.ephemeralKey=e.ephemeralKey)),e.identityKey!=null&&(typeof e.identityKey=="string"?Te.base64.decode(e.identityKey,t.identityKey=Te.newBuffer(Te.base64.length(e.identityKey)),0):e.identityKey.length&&(t.identityKey=e.identityKey)),e.baseKeySignature!=null&&(typeof e.baseKeySignature=="string"?Te.base64.decode(e.baseKeySignature,t.baseKeySignature=Te.newBuffer(Te.base64.length(e.baseKeySignature)),0):e.baseKeySignature.length&&(t.baseKeySignature=e.baseKeySignature)),t},n.toObject=function(e,t){t||(t={});var i={};return t.defaults&&(i.id=0,t.bytes===String?i.baseKey="":(i.baseKey=[],t.bytes!==Array&&(i.baseKey=Te.newBuffer(i.baseKey))),t.bytes===String?i.ephemeralKey="":(i.ephemeralKey=[],t.bytes!==Array&&(i.ephemeralKey=Te.newBuffer(i.ephemeralKey))),t.bytes===String?i.identityKey="":(i.identityKey=[],t.bytes!==Array&&(i.identityKey=Te.newBuffer(i.identityKey))),t.bytes===String?i.baseKeySignature="":(i.baseKeySignature=[],t.bytes!==Array&&(i.baseKeySignature=Te.newBuffer(i.baseKeySignature)))),e.id!=null&&e.hasOwnProperty("id")&&(i.id=e.id),e.baseKey!=null&&e.hasOwnProperty("baseKey")&&(i.baseKey=t.bytes===String?Te.base64.encode(e.baseKey,0,e.baseKey.length):t.bytes===Array?Array.prototype.slice.call(e.baseKey):e.baseKey),e.ephemeralKey!=null&&e.hasOwnProperty("ephemeralKey")&&(i.ephemeralKey=t.bytes===String?Te.base64.encode(e.ephemeralKey,0,e.ephemeralKey.length):t.bytes===Array?Array.prototype.slice.call(e.ephemeralKey):e.ephemeralKey),e.identityKey!=null&&e.hasOwnProperty("identityKey")&&(i.identityKey=t.bytes===String?Te.base64.encode(e.identityKey,0,e.identityKey.length):t.bytes===Array?Array.prototype.slice.call(e.identityKey):e.identityKey),e.baseKeySignature!=null&&e.hasOwnProperty("baseKeySignature")&&(i.baseKeySignature=t.bytes===String?Te.base64.encode(e.baseKeySignature,0,e.baseKeySignature.length):t.bytes===Array?Array.prototype.slice.call(e.baseKeySignature):e.baseKeySignature),i},n.prototype.toJSON=function(){return this.constructor.toObject(this,Zi.util.toJSONOptions)},n}(),a}();XI.exports=Mr});var ZI=z((R5,QI)=>{"use strict";var{textsecure:{WhisperMessage:wM,PreKeyWhisperMessage:kM}}=JI();QI.exports={WhisperMessage:wM,PreKeyWhisperMessage:kM}});var rO=z((C5,nO)=>{var su=xf(),vM=Uf(),UM=Hf(),eO=eu(),Ti=Sa(),tO=$i(),Hr=tu(),Lo=ZI(),BM=jf(),ea=3;function cu(a){if(!(a instanceof Buffer))throw TypeError(`Expected Buffer instead of: ${a.constructor.name}`);return a}var eh=class{constructor(n,r){if(!(r instanceof vM))throw new TypeError("protocolAddress must be a ProtocolAddress");this.addr=r,this.storage=n}_encodeTupleByte(n,r){if(n>15||r>15)throw TypeError("Numbers must be 4 bits or less");return n<<4|r}_decodeTupleByte(n){return[n>>4,n&15]}toString(){return`<SessionCipher(${this.addr.toString()})>`}async getRecord(){let n=await this.storage.loadSession(this.addr.toString());if(n&&!(n instanceof eO))throw new TypeError("SessionRecord type expected from loadSession");return n}async storeRecord(n){n.removeOldSessions(),await this.storage.storeSession(this.addr.toString(),n)}async queueJob(n){return await BM(this.addr.toString(),n)}async encrypt(n){cu(n);let r=await this.storage.getOurIdentity();return await this.queueJob(async()=>{let e=await this.getRecord();if(!e)throw new Hr.SessionError("No sessions");let t=e.getOpenSession();if(!t)throw new Hr.SessionError("No open session");let i=t.indexInfo.remoteIdentityKey;if(!await this.storage.isTrustedIdentity(this.addr.id,i))throw new Hr.UntrustedIdentityKeyError(this.addr.id,i);let o=t.getChain(t.currentRatchet.ephemeralKeyPair.pubKey);if(o.chainType===su.RECEIVING)throw new Error("Tried to encrypt on a receiving chain");this.fillMessageKeys(o,o.chainKey.counter+1);let s=Ti.deriveSecrets(o.messageKeys[o.chainKey.counter],Buffer.alloc(32),Buffer.from("WhisperMessageKeys"));delete o.messageKeys[o.chainKey.counter];let c=Lo.WhisperMessage.create();c.ephemeralKey=t.currentRatchet.ephemeralKeyPair.pubKey,c.counter=o.chainKey.counter,c.previousCounter=t.currentRatchet.previousCounter,c.ciphertext=Ti.encrypt(s[0],n,s[2].slice(0,16));let l=Lo.WhisperMessage.encode(c).finish(),d=Buffer.alloc(l.byteLength+33*2+1);d.set(r.pubKey),d.set(t.indexInfo.remoteIdentityKey,33),d[33*2]=this._encodeTupleByte(ea,ea),d.set(l,33*2+1);let f=Ti.calculateMAC(s[1],d),g=Buffer.alloc(l.byteLength+9);g[0]=this._encodeTupleByte(ea,ea),g.set(l,1),g.set(f.slice(0,8),l.byteLength+1),await this.storeRecord(e);let _,y;if(t.pendingPreKey){_=3;let T=Lo.PreKeyWhisperMessage.create({identityKey:r.pubKey,registrationId:await this.storage.getOurRegistrationId(),baseKey:t.pendingPreKey.baseKey,signedPreKeyId:t.pendingPreKey.signedKeyId,message:g});t.pendingPreKey.preKeyId&&(T.preKeyId=t.pendingPreKey.preKeyId),y=Buffer.concat([Buffer.from([this._encodeTupleByte(ea,ea)]),Buffer.from(Lo.PreKeyWhisperMessage.encode(T).finish())])}else _=1,y=g;return{type:_,body:y,registrationId:t.registrationId}})}async decryptWithSessions(n,r){if(!r.length)throw new Hr.SessionError("No sessions available");let e=[];for(let t of r){let i;try{return i=await this.doDecryptWhisperMessage(n,t),t.indexInfo.used=Date.now(),{session:t,plaintext:i}}catch(o){e.push(o)}}console.error("Failed to decrypt message with any known session...");for(let t of e)console.error("Session error:"+t,t.stack);throw new Hr.SessionError("No matching sessions found for message")}async decryptWhisperMessage(n){return cu(n),await this.queueJob(async()=>{let r=await this.getRecord();if(!r)throw new Hr.SessionError("No session record");let e=await this.decryptWithSessions(n,r.getSessions()),t=e.session.indexInfo.remoteIdentityKey;if(!await this.storage.isTrustedIdentity(this.addr.id,t))throw new Hr.UntrustedIdentityKeyError(this.addr.id,t);return r.isClosed(e.session)&&console.warn("Decrypted message with closed session."),await this.storeRecord(r),e.plaintext})}async decryptPreKeyWhisperMessage(n){cu(n);let r=this._decodeTupleByte(n[0]);if(r[1]>3||r[0]<3)throw new Error("Incompatible version number on PreKeyWhisperMessage");return await this.queueJob(async()=>{let e=await this.getRecord(),t=Lo.PreKeyWhisperMessage.decode(n.slice(1));if(!e){if(t.registrationId==null)throw new Error("No registrationId");e=new eO}let o=await new UM(this.storage,this.addr).initIncoming(e,t),s=e.getSession(t.baseKey),c=await this.doDecryptWhisperMessage(t.message,s);return await this.storeRecord(e),o&&await this.storage.removePreKey(o),c})}async doDecryptWhisperMessage(n,r){if(cu(n),!r)throw new TypeError("session required");let e=this._decodeTupleByte(n[0]);if(e[1]>3||e[0]<3)throw new Error("Incompatible version number on WhisperMessage");let t=n.slice(1,-8),i=Lo.WhisperMessage.decode(t);this.maybeStepRatchet(r,i.ephemeralKey,i.previousCounter);let o=r.getChain(i.ephemeralKey);if(o.chainType===su.SENDING)throw new Error("Tried to decrypt on a sending chain");if(this.fillMessageKeys(o,i.counter),!o.messageKeys.hasOwnProperty(i.counter))throw new Hr.MessageCounterError("Key used already or never filled");let s=o.messageKeys[i.counter];delete o.messageKeys[i.counter];let c=Ti.deriveSecrets(s,Buffer.alloc(32),Buffer.from("WhisperMessageKeys")),l=await this.storage.getOurIdentity(),d=Buffer.alloc(t.byteLength+33*2+1);d.set(r.indexInfo.remoteIdentityKey),d.set(l.pubKey,33),d[33*2]=this._encodeTupleByte(ea,ea),d.set(t,33*2+1),Ti.verifyMAC(d,c[1],n.slice(-8),8);let f=Ti.decrypt(c[0],i.ciphertext,c[2].slice(0,16));return delete r.pendingPreKey,f}fillMessageKeys(n,r){if(n.chainKey.counter>=r)return;if(r-n.chainKey.counter>2e3)throw new Hr.SessionError("Over 2000 messages into the future!");if(n.chainKey.key===void 0)throw new Hr.SessionError("Chain closed");let e=n.chainKey.key;return n.messageKeys[n.chainKey.counter+1]=Ti.calculateMAC(e,Buffer.from([1])),n.chainKey.key=Ti.calculateMAC(e,Buffer.from([2])),n.chainKey.counter+=1,this.fillMessageKeys(n,r)}maybeStepRatchet(n,r,e){if(n.getChain(r))return;let t=n.currentRatchet,i=n.getChain(t.lastRemoteEphemeralKey);i&&(this.fillMessageKeys(i,e),delete i.chainKey.key),this.calculateRatchet(n,r,!1);let o=n.getChain(t.ephemeralKeyPair.pubKey);o&&(t.previousCounter=o.chainKey.counter,n.deleteChain(t.ephemeralKeyPair.pubKey)),t.ephemeralKeyPair=tO.generateKeyPair(),this.calculateRatchet(n,r,!0),t.lastRemoteEphemeralKey=r}calculateRatchet(n,r,e){let t=n.currentRatchet,i=tO.calculateAgreement(r,t.ephemeralKeyPair.privKey),o=Ti.deriveSecrets(i,t.rootKey,Buffer.from("WhisperRatchet"),2),s=e?t.ephemeralKeyPair.pubKey:r;n.addChain(s,{messageKeys:{},chainKey:{counter:-1,key:o[1]},chainType:e?su.SENDING:su.RECEIVING}),t.rootKey=o[0]}async hasOpenSession(){return await this.queueJob(async()=>{let n=await this.getRecord();return n?n.haveOpenSession():!1})}async closeOpenSession(){return await this.queueJob(async()=>{let n=await this.getRecord();if(n){let r=n.getOpenSession();r&&(n.closeSession(r),await this.storeRecord(n))}})}};nO.exports=eh});var iO=z(Ii=>{"use strict";Ii.crypto=Sa();Ii.curve=$i();Ii.keyhelper=sI();Ii.ProtocolAddress=Uf();Ii.SessionBuilder=Hf();Ii.SessionCipher=rO();Ii.SessionRecord=eu();Object.assign(Ii,tu())});var rh=z((w5,lO)=>{"use strict";lO.exports=function(...a){try{return JSON.stringify(...a)}catch(n){return"[Cannot display object: "+n.message+"]"}}});var ih=z((uO,dO)=>{"use strict";var jM=rh();dO.exports=class extends Error{constructor(a){let n=a.filter(r=>r!=="").map(r=>typeof r=="string"?r:r instanceof Error?r.message:jM(r));super(n.join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,uO.assert)}}});var ba=z((v5,pO)=>{"use strict";var KM=ih();pO.exports=function(a,...n){if(!a)throw n.length===1&&n[0]instanceof Error?n[0]:new KM(n)}});var hc=z((U5,hO)=>{"use strict";var ah=ba(),fO={};hO.exports=function(a,n,r){if(n===!1||n===null||n===void 0)return a;r=r||{},typeof r=="string"&&(r={separator:r});let e=Array.isArray(n);ah(!e||!r.separator,"Separator option is not valid for array-based chain");let t=e?n:n.split(r.separator||"."),i=a;for(let o=0;o<t.length;++o){let s=t[o],c=r.iterables&&fO.iterables(i);if(Array.isArray(i)||c==="set"){let l=Number(s);Number.isInteger(l)&&(s=l<0?i.length+l:l)}if(!i||typeof i=="function"&&r.functions===!1||!c&&i[s]===void 0){ah(!r.strict||o+1===t.length,"Missing segment",s,"in reach path ",n),ah(typeof i=="object"||r.functions===!0||typeof i!="function","Invalid segment",s,"in reach path ",n),i=r.default;break}c?c==="set"?i=[...i][s]:i=i.get(s):i=i[s]}return i};fO.iterables=function(a){if(a instanceof Set)return"set";if(a instanceof Map)return"map"}});var oh=z((Tn,EO)=>{"use strict";var gO={};Tn=EO.exports={array:Array.prototype,buffer:Buffer&&Buffer.prototype,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype};gO.typeMap=new Map([["[object Error]",Tn.error],["[object Map]",Tn.map],["[object Promise]",Tn.promise],["[object Set]",Tn.set],["[object WeakMap]",Tn.weakMap],["[object WeakSet]",Tn.weakSet]]);Tn.getInternalProto=function(a){if(Array.isArray(a))return Tn.array;if(Buffer&&a instanceof Buffer)return Tn.buffer;if(a instanceof Date)return Tn.date;if(a instanceof RegExp)return Tn.regex;if(a instanceof Error)return Tn.error;let n=Object.prototype.toString.call(a);return gO.typeMap.get(n)||Tn.generic}});var uu=z(yO=>{"use strict";yO.keys=function(a,n={}){return n.symbols!==!1?Reflect.ownKeys(a):Object.getOwnPropertyNames(a)}});var du=z((x5,_O)=>{"use strict";var HM=hc(),Wn=oh(),GM=uu(),Oi={needsProtoHack:new Set([Wn.set,Wn.map,Wn.weakSet,Wn.weakMap])};_O.exports=Oi.clone=function(a,n={},r=null){if(typeof a!="object"||a===null)return a;let e=Oi.clone,t=r;if(n.shallow){if(n.shallow!==!0)return Oi.cloneWithShallow(a,n);e=c=>c}else if(t){let c=t.get(a);if(c)return c}else t=new Map;let i=Wn.getInternalProto(a);if(i===Wn.buffer)return Buffer&&Buffer.from(a);if(i===Wn.date)return new Date(a.getTime());if(i===Wn.regex)return new RegExp(a);let o=Oi.base(a,i,n);if(o===a)return a;if(t&&t.set(a,o),i===Wn.set)for(let c of a)o.add(e(c,n,t));else if(i===Wn.map)for(let[c,l]of a)o.set(c,e(l,n,t));let s=GM.keys(a,n);for(let c of s){if(c==="__proto__")continue;if(i===Wn.array&&c==="length"){o.length=a.length;continue}let l=Object.getOwnPropertyDescriptor(a,c);l?l.get||l.set?Object.defineProperty(o,c,l):l.enumerable?o[c]=e(a[c],n,t):Object.defineProperty(o,c,{enumerable:!1,writable:!0,configurable:!0,value:e(a[c],n,t)}):Object.defineProperty(o,c,{enumerable:!0,writable:!0,configurable:!0,value:e(a[c],n,t)})}return o};Oi.cloneWithShallow=function(a,n){let r=n.shallow;n=Object.assign({},n),n.shallow=!1;let e=new Map;for(let t of r){let i=HM(a,t);(typeof i=="object"||typeof i=="function")&&e.set(i,i)}return Oi.clone(a,n,e)};Oi.base=function(a,n,r){if(r.prototype===!1)return Oi.needsProtoHack.has(n)?new n.constructor:n===Wn.array?[]:{};let e=Object.getPrototypeOf(a);if(e&&e.isImmutable)return a;if(n===Wn.array){let t=[];return e!==n&&Object.setPrototypeOf(t,e),t}if(Oi.needsProtoHack.has(n)){let t=new e.constructor;return e!==n&&Object.setPrototypeOf(t,e),t}return Object.create(e)}});var ch=z((F5,OO)=>{"use strict";var sh=ba(),TO=du(),VM=uu(),IO={};OO.exports=IO.merge=function(a,n,r){if(sh(a&&typeof a=="object","Invalid target value: must be an object"),sh(n==null||typeof n=="object","Invalid source value: must be null, undefined, or an object"),!n)return a;if(r=Object.assign({nullOverride:!0,mergeArrays:!0},r),Array.isArray(n)){sh(Array.isArray(a),"Cannot merge array onto an object"),r.mergeArrays||(a.length=0);for(let t=0;t<n.length;++t)a.push(TO(n[t],{symbols:r.symbols}));return a}let e=VM.keys(n,r);for(let t=0;t<e.length;++t){let i=e[t];if(i==="__proto__"||!Object.prototype.propertyIsEnumerable.call(n,i))continue;let o=n[i];if(o&&typeof o=="object"){if(a[i]===o)continue;!a[i]||typeof a[i]!="object"||Array.isArray(a[i])!==Array.isArray(o)||o instanceof Date||Buffer&&Buffer.isBuffer(o)||o instanceof RegExp?a[i]=TO(o,{symbols:r.symbols}):IO.merge(a[i],o,r)}else(o!=null||r.nullOverride)&&(a[i]=o)}return a}});var RO=z((j5,bO)=>{"use strict";var pu=ba(),AO=du(),mO=ch(),SO=hc(),fu={};bO.exports=function(a,n,r={}){if(pu(a&&typeof a=="object","Invalid defaults value: must be an object"),pu(!n||n===!0||typeof n=="object","Invalid source value: must be true, falsy or an object"),pu(typeof r=="object","Invalid options: must be an object"),!n)return null;if(r.shallow)return fu.applyToDefaultsWithShallow(a,n,r);let e=AO(a);if(n===!0)return e;let t=r.nullOverride!==void 0?r.nullOverride:!1;return mO(e,n,{nullOverride:t,mergeArrays:!1})};fu.applyToDefaultsWithShallow=function(a,n,r){let e=r.shallow;pu(Array.isArray(e),"Invalid keys");let t=new Map,i=n===!0?null:new Set;for(let c of e){c=Array.isArray(c)?c:c.split(".");let l=SO(a,c);l&&typeof l=="object"?t.set(l,i&&SO(n,c)||l):i&&i.add(c)}let o=AO(a,{},t);if(!i)return o;for(let c of i)fu.reachCopy(o,n,c);let s=r.nullOverride!==void 0?r.nullOverride:!1;return mO(o,n,{nullOverride:s,mergeArrays:!1})};fu.reachCopy=function(a,n,r){for(let i of r){if(!(i in n))return;let o=n[i];if(typeof o!="object"||o===null)return;n=o}let e=n,t=a;for(let i=0;i<r.length-1;++i){let o=r[i];typeof t[o]!="object"&&(t[o]={}),t=t[o]}t[r[r.length-1]]=e}});var NO=z((K5,CO)=>{"use strict";var lh={};CO.exports=lh.Bench=class{constructor(){this.ts=0,this.reset()}reset(){this.ts=lh.Bench.now()}elapsed(){return lh.Bench.now()-this.ts}static now(){let a=process.hrtime();return a[0]*1e3+a[1]/1e6}}});var uh=z((G5,MO)=>{"use strict";MO.exports=function(){}});var LO=z((V5,PO)=>{"use strict";var WM=uh();PO.exports=function(){return new Promise(WM)}});var dh=z((W5,DO)=>{"use strict";var Gr=oh(),pn={mismatched:null};DO.exports=function(a,n,r){return r=Object.assign({prototype:!0},r),!!pn.isDeepEqual(a,n,r,[])};pn.isDeepEqual=function(a,n,r,e){if(a===n)return a!==0||1/a===1/n;let t=typeof a;if(t!==typeof n||a===null||n===null)return!1;if(t==="function"){if(!r.deepFunction||a.toString()!==n.toString())return!1}else if(t!=="object")return a!==a&&n!==n;let i=pn.getSharedType(a,n,!!r.prototype);switch(i){case Gr.buffer:return Buffer&&Buffer.prototype.equals.call(a,n);case Gr.promise:return a===n;case Gr.regex:return a.toString()===n.toString();case pn.mismatched:return!1}for(let o=e.length-1;o>=0;--o)if(e[o].isSame(a,n))return!0;e.push(new pn.SeenEntry(a,n));try{return!!pn.isDeepEqualObj(i,a,n,r,e)}finally{e.pop()}};pn.getSharedType=function(a,n,r){if(r)return Object.getPrototypeOf(a)!==Object.getPrototypeOf(n)?pn.mismatched:Gr.getInternalProto(a);let e=Gr.getInternalProto(a);return e!==Gr.getInternalProto(n)?pn.mismatched:e};pn.valueOf=function(a){let n=a.valueOf;if(n===void 0)return a;try{return n.call(a)}catch(r){return r}};pn.hasOwnEnumerableProperty=function(a,n){return Object.prototype.propertyIsEnumerable.call(a,n)};pn.isSetSimpleEqual=function(a,n){for(let r of Set.prototype.values.call(a))if(!Set.prototype.has.call(n,r))return!1;return!0};pn.isDeepEqualObj=function(a,n,r,e,t){let{isDeepEqual:i,valueOf:o,hasOwnEnumerableProperty:s}=pn,{keys:c,getOwnPropertySymbols:l}=Object;if(a===Gr.array)if(e.part){for(let y of n)for(let T of r)if(i(y,T,e,t))return!0}else{if(n.length!==r.length)return!1;for(let y=0;y<n.length;++y)if(!i(n[y],r[y],e,t))return!1;return!0}else if(a===Gr.set){if(n.size!==r.size)return!1;if(!pn.isSetSimpleEqual(n,r)){let y=new Set(Set.prototype.values.call(r));for(let T of Set.prototype.values.call(n)){if(y.delete(T))continue;let I=!1;for(let O of y)if(i(T,O,e,t)){y.delete(O),I=!0;break}if(!I)return!1}}}else if(a===Gr.map){if(n.size!==r.size)return!1;for(let[y,T]of Map.prototype.entries.call(n))if(T===void 0&&!Map.prototype.has.call(r,y)||!i(T,Map.prototype.get.call(r,y),e,t))return!1}else if(a===Gr.error&&(n.name!==r.name||n.message!==r.message))return!1;let d=o(n),f=o(r);if((n!==d||r!==f)&&!i(d,f,e,t))return!1;let g=c(n);if(!e.part&&g.length!==c(r).length&&!e.skip)return!1;let _=0;for(let y of g){if(e.skip&&e.skip.includes(y)){r[y]===void 0&&++_;continue}if(!s(r,y)||!i(n[y],r[y],e,t))return!1}if(!e.part&&g.length-_!==c(r).length)return!1;if(e.symbols!==!1){let y=l(n),T=new Set(l(r));for(let I of y){if(!e.skip||!e.skip.includes(I)){if(s(n,I)){if(!s(r,I)||!i(n[I],r[I],e,t))return!1}else if(s(r,I))return!1}T.delete(I)}for(let I of T)if(s(r,I))return!1}return!0};pn.SeenEntry=class{constructor(a,n){this.obj=a,this.ref=n}isSame(a,n){return this.obj===a&&this.ref===n}}});var ph=z((z5,wO)=>{"use strict";wO.exports=function(a){return a.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}});var vO=z((q5,kO)=>{"use strict";var hu=ba(),YM=dh(),zM=ph(),qM=uu(),Yn={};kO.exports=function(a,n,r={}){return typeof n!="object"&&(n=[n]),hu(!Array.isArray(n)||n.length,"Values array cannot be empty"),typeof a=="string"?Yn.string(a,n,r):Array.isArray(a)?Yn.array(a,n,r):(hu(typeof a=="object","Reference must be string or an object"),Yn.object(a,n,r))};Yn.array=function(a,n,r){if(Array.isArray(n)||(n=[n]),!a.length||r.only&&r.once&&a.length!==n.length)return!1;let e,t=new Map;for(let o of n)if(!r.deep||!o||typeof o!="object"){let s=t.get(o);s?++s.allowed:t.set(o,{allowed:1,hits:0})}else{e=e||Yn.compare(r);let s=!1;for(let[c,l]of t.entries())if(e(c,o)){++l.allowed,s=!0;break}s||t.set(o,{allowed:1,hits:0})}let i=0;for(let o of a){let s;if(!r.deep||!o||typeof o!="object")s=t.get(o);else{e=e||Yn.compare(r);for(let[c,l]of t.entries())if(e(c,o)){s=l;break}}if(s&&(++s.hits,++i,r.once&&s.hits>s.allowed))return!1}if(r.only&&i!==a.length)return!1;for(let o of t.values())if(o.hits!==o.allowed&&o.hits<o.allowed&&!r.part)return!1;return!!i};Yn.object=function(a,n,r){hu(r.once===void 0,"Cannot use option once with object");let e=qM.keys(a,r);if(!e.length)return!1;if(Array.isArray(n))return Yn.array(e,n,r);let t=Object.getOwnPropertySymbols(n).filter(c=>n.propertyIsEnumerable(c)),i=[...Object.keys(n),...t],o=Yn.compare(r),s=new Set(i);for(let c of e){if(!s.has(c)){if(r.only)return!1;continue}if(!o(n[c],a[c]))return!1;s.delete(c)}return s.size?r.part?s.size<i.length:!1:!0};Yn.string=function(a,n,r){if(a==="")return n.length===1&&n[0]===""||!r.once&&!n.some(c=>c!=="");let e=new Map,t=[];for(let c of n)if(hu(typeof c=="string","Cannot compare string reference to non-string value"),c){let l=e.get(c);l?++l.allowed:(e.set(c,{allowed:1,hits:0}),t.push(zM(c)))}else if(r.once||r.only)return!1;if(!t.length)return!0;let i=new RegExp(`(${t.join("|")})`,"g"),o=a.replace(i,(c,l)=>(++e.get(l).hits,""));if(r.only&&o)return!1;let s=!1;for(let c of e.values())if(c.hits&&(s=!0),c.hits!==c.allowed&&(c.hits<c.allowed&&!r.part||r.once))return!1;return!!s};Yn.compare=function(a){if(!a.deep)return Yn.shallow;let n=a.only!==void 0,r=a.part!==void 0,e={prototype:n?a.only:r?!a.part:!1,part:n?!a.only:r?a.part:!1};return(t,i)=>YM(t,i,e)};Yn.shallow=function(a,n){return a===n}});var BO=z(($5,UO)=>{"use strict";var $M=ba();UO.exports=function(a){return $M(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(a),"Bad attribute value ("+a+")"),a.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')}});var FO=z((X5,xO)=>{"use strict";var na={};xO.exports=function(a){if(!a)return"";let n="";for(let r=0;r<a.length;++r){let e=a.charCodeAt(r);na.isSafe(e)?n+=a[r]:n+=na.escapeHtmlChar(e)}return n};na.escapeHtmlChar=function(a){let n=na.namedHtml.get(a);return n||(a>=256?"&#"+a+";":`&#x${a.toString(16).padStart(2,"0")};`)};na.isSafe=function(a){return na.safeCharCodes.has(a)};na.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]);na.safeCharCodes=function(){let a=new Set;for(let n=32;n<123;++n)(n>=97||n>=65&&n<=90||n>=48&&n<=57||n===32||n===46||n===44||n===45||n===58||n===95)&&a.add(n);return a}()});var KO=z((J5,jO)=>{"use strict";var gu={};jO.exports=function(a){return a?a.replace(/[<>&\u2028\u2029]/g,gu.escape):""};gu.escape=function(a){return gu.replacements.get(a)};gu.replacements=new Map([["<","\\u003c"],[">","\\u003e"],["&","\\u0026"],["\u2028","\\u2028"],["\u2029","\\u2029"]])});var VO=z((Q5,GO)=>{"use strict";var HO={};GO.exports=HO.flatten=function(a,n){let r=n||[];for(let e of a)Array.isArray(e)?HO.flatten(e,r):r.push(e);return r}});var zO=z((Z5,YO)=>{"use strict";var WO={};YO.exports=function(a,n,r={}){if(!a||!n)return r.first?null:[];let e=[],t=Array.isArray(a)?new Set(a):a,i=new Set;for(let o of n)if(WO.has(t,o)&&!i.has(o)){if(r.first)return o;e.push(o),i.add(o)}return r.first?null:e};WO.has=function(a,n){return typeof a.has=="function"?a.has(n):a[n]!==void 0}});var $O=z((eF,qO)=>{"use strict";qO.exports=function(a){return!!a&&typeof a.then=="function"}});var QO=z((tF,JO)=>{"use strict";var XO={wrapped:Symbol("wrapped")};JO.exports=function(a){if(a[XO.wrapped])return a;let n=!1,r=function(...e){n||(n=!0,a(...e))};return r[XO.wrapped]=!0,r}});var eS=z((nF,ZO)=>{"use strict";var XM=hc();ZO.exports=function(a,n,r){return n.replace(/{([^{}]+)}/g,(e,t)=>{let i=XM(a,t,r);return i??""})}});var nS=z((rF,tS)=>{"use strict";var JM={maxTimer:2147483647};tS.exports=function(a,n,r){if(typeof a=="bigint"&&(a=Number(a)),a>=Number.MAX_SAFE_INTEGER&&(a=1/0),typeof a!="number"&&a!==void 0)throw new TypeError("Timeout must be a number or bigint");return new Promise(e=>{let t=r?r.setTimeout:setTimeout,i=()=>{let o=Math.min(a,JM.maxTimer);a-=o,t(()=>a>0?i():e(n),o)};a!==1/0&&i()})}});var rS=z(Lt=>{"use strict";Lt.applyToDefaults=RO();Lt.assert=ba();Lt.Bench=NO();Lt.block=LO();Lt.clone=du();Lt.contain=vO();Lt.deepEqual=dh();Lt.Error=ih();Lt.escapeHeaderAttribute=BO();Lt.escapeHtml=FO();Lt.escapeJson=KO();Lt.escapeRegex=ph();Lt.flatten=VO();Lt.ignore=uh();Lt.intersect=zO();Lt.isPromise=$O();Lt.merge=ch();Lt.once=QO();Lt.reach=hc();Lt.reachTemplate=eS();Lt.stringify=rh();Lt.wait=nS()});var fn=z(te=>{"use strict";var Ra=rS(),Dn={codes:new Map([[100,"Continue"],[101,"Switching Protocols"],[102,"Processing"],[200,"OK"],[201,"Created"],[202,"Accepted"],[203,"Non-Authoritative Information"],[204,"No Content"],[205,"Reset Content"],[206,"Partial Content"],[207,"Multi-Status"],[300,"Multiple Choices"],[301,"Moved Permanently"],[302,"Moved Temporarily"],[303,"See Other"],[304,"Not Modified"],[305,"Use Proxy"],[307,"Temporary Redirect"],[400,"Bad Request"],[401,"Unauthorized"],[402,"Payment Required"],[403,"Forbidden"],[404,"Not Found"],[405,"Method Not Allowed"],[406,"Not Acceptable"],[407,"Proxy Authentication Required"],[408,"Request Time-out"],[409,"Conflict"],[410,"Gone"],[411,"Length Required"],[412,"Precondition Failed"],[413,"Request Entity Too Large"],[414,"Request-URI Too Large"],[415,"Unsupported Media Type"],[416,"Requested Range Not Satisfiable"],[417,"Expectation Failed"],[418,"I'm a teapot"],[422,"Unprocessable Entity"],[423,"Locked"],[424,"Failed Dependency"],[425,"Too Early"],[426,"Upgrade Required"],[428,"Precondition Required"],[429,"Too Many Requests"],[431,"Request Header Fields Too Large"],[451,"Unavailable For Legal Reasons"],[500,"Internal Server Error"],[501,"Not Implemented"],[502,"Bad Gateway"],[503,"Service Unavailable"],[504,"Gateway Time-out"],[505,"HTTP Version Not Supported"],[506,"Variant Also Negotiates"],[507,"Insufficient Storage"],[509,"Bandwidth Limit Exceeded"],[510,"Not Extended"],[511,"Network Authentication Required"]])};te.Boom=class extends Error{constructor(a,n={}){if(a instanceof Error)return te.boomify(Ra.clone(a),n);let{statusCode:r=500,data:e=null,ctor:t=te.Boom}=n,i=new Error(a||void 0);Error.captureStackTrace(i,t),i.data=e;let o=Dn.initialize(i,r);return Object.defineProperty(o,"typeof",{value:t}),n.decorate&&Object.assign(o,n.decorate),o}static[Symbol.hasInstance](a){return this===te.Boom?te.isBoom(a):this.prototype.isPrototypeOf(a)}};te.isBoom=function(a,n){return a instanceof Error&&!!a.isBoom&&(!n||a.output.statusCode===n)};te.boomify=function(a,n){return Ra.assert(a instanceof Error,"Cannot wrap non-Error object"),n=n||{},n.data!==void 0&&(a.data=n.data),n.decorate&&Object.assign(a,n.decorate),a.isBoom?n.override===!1||!n.statusCode&&!n.message?a:Dn.initialize(a,n.statusCode||a.output.statusCode,n.message):Dn.initialize(a,n.statusCode||500,n.message)};te.badRequest=function(a,n){return new te.Boom(a,{statusCode:400,data:n,ctor:te.badRequest})};te.unauthorized=function(a,n,r){let e=new te.Boom(a,{statusCode:401,ctor:te.unauthorized});if(!n)return e;if(typeof n!="string")return e.output.headers["WWW-Authenticate"]=n.join(", "),e;let t=`${n}`;return(r||a)&&(e.output.payload.attributes={}),r&&(typeof r=="string"?(t+=" "+Ra.escapeHeaderAttribute(r),e.output.payload.attributes=r):t+=" "+Object.keys(r).map(i=>{let o=r[i];return o==null&&(o=""),e.output.payload.attributes[i]=o,`${i}="${Ra.escapeHeaderAttribute(o.toString())}"`}).join(", ")),a?(r&&(t+=","),t+=` error="${Ra.escapeHeaderAttribute(a)}"`,e.output.payload.attributes.error=a):e.isMissing=!0,e.output.headers["WWW-Authenticate"]=t,e};te.paymentRequired=function(a,n){return new te.Boom(a,{statusCode:402,data:n,ctor:te.paymentRequired})};te.forbidden=function(a,n){return new te.Boom(a,{statusCode:403,data:n,ctor:te.forbidden})};te.notFound=function(a,n){return new te.Boom(a,{statusCode:404,data:n,ctor:te.notFound})};te.methodNotAllowed=function(a,n,r){let e=new te.Boom(a,{statusCode:405,data:n,ctor:te.methodNotAllowed});return typeof r=="string"&&(r=[r]),Array.isArray(r)&&(e.output.headers.Allow=r.join(", ")),e};te.notAcceptable=function(a,n){return new te.Boom(a,{statusCode:406,data:n,ctor:te.notAcceptable})};te.proxyAuthRequired=function(a,n){return new te.Boom(a,{statusCode:407,data:n,ctor:te.proxyAuthRequired})};te.clientTimeout=function(a,n){return new te.Boom(a,{statusCode:408,data:n,ctor:te.clientTimeout})};te.conflict=function(a,n){return new te.Boom(a,{statusCode:409,data:n,ctor:te.conflict})};te.resourceGone=function(a,n){return new te.Boom(a,{statusCode:410,data:n,ctor:te.resourceGone})};te.lengthRequired=function(a,n){return new te.Boom(a,{statusCode:411,data:n,ctor:te.lengthRequired})};te.preconditionFailed=function(a,n){return new te.Boom(a,{statusCode:412,data:n,ctor:te.preconditionFailed})};te.entityTooLarge=function(a,n){return new te.Boom(a,{statusCode:413,data:n,ctor:te.entityTooLarge})};te.uriTooLong=function(a,n){return new te.Boom(a,{statusCode:414,data:n,ctor:te.uriTooLong})};te.unsupportedMediaType=function(a,n){return new te.Boom(a,{statusCode:415,data:n,ctor:te.unsupportedMediaType})};te.rangeNotSatisfiable=function(a,n){return new te.Boom(a,{statusCode:416,data:n,ctor:te.rangeNotSatisfiable})};te.expectationFailed=function(a,n){return new te.Boom(a,{statusCode:417,data:n,ctor:te.expectationFailed})};te.teapot=function(a,n){return new te.Boom(a,{statusCode:418,data:n,ctor:te.teapot})};te.badData=function(a,n){return new te.Boom(a,{statusCode:422,data:n,ctor:te.badData})};te.locked=function(a,n){return new te.Boom(a,{statusCode:423,data:n,ctor:te.locked})};te.failedDependency=function(a,n){return new te.Boom(a,{statusCode:424,data:n,ctor:te.failedDependency})};te.tooEarly=function(a,n){return new te.Boom(a,{statusCode:425,data:n,ctor:te.tooEarly})};te.preconditionRequired=function(a,n){return new te.Boom(a,{statusCode:428,data:n,ctor:te.preconditionRequired})};te.tooManyRequests=function(a,n){return new te.Boom(a,{statusCode:429,data:n,ctor:te.tooManyRequests})};te.illegal=function(a,n){return new te.Boom(a,{statusCode:451,data:n,ctor:te.illegal})};te.internal=function(a,n,r=500){return Dn.serverError(a,n,r,te.internal)};te.notImplemented=function(a,n){return Dn.serverError(a,n,501,te.notImplemented)};te.badGateway=function(a,n){return Dn.serverError(a,n,502,te.badGateway)};te.serverUnavailable=function(a,n){return Dn.serverError(a,n,503,te.serverUnavailable)};te.gatewayTimeout=function(a,n){return Dn.serverError(a,n,504,te.gatewayTimeout)};te.badImplementation=function(a,n){let r=Dn.serverError(a,n,500,te.badImplementation);return r.isDeveloperError=!0,r};Dn.initialize=function(a,n,r){let e=parseInt(n,10);if(Ra.assert(!isNaN(e)&&e>=400,"First argument must be a number (400+):",n),a.isBoom=!0,a.isServer=e>=500,a.hasOwnProperty("data")||(a.data=null),a.output={statusCode:e,payload:{},headers:{}},Object.defineProperty(a,"reformat",{value:Dn.reformat,configurable:!0}),!r&&!a.message&&(a.reformat(),r=a.output.payload.error),r){let t=Object.getOwnPropertyDescriptor(a,"message")||Object.getOwnPropertyDescriptor(Object.getPrototypeOf(a),"message");Ra.assert(!t||t.configurable&&!t.get,"The error is not compatible with boom"),a.message=r+(a.message?": "+a.message:""),a.output.payload.message=a.message}return a.reformat(),a};Dn.reformat=function(a=!1){this.output.payload.statusCode=this.output.statusCode,this.output.payload.error=Dn.codes.get(this.output.statusCode)||"Unknown",this.output.statusCode===500&&a!==!0?this.output.payload.message="An internal server error occurred":this.message&&(this.output.payload.message=this.message)};Dn.serverError=function(a,n,r,e){return n instanceof Error&&!n.isBoom?te.boomify(n,{statusCode:r,message:a}):new te.Boom(a,{statusCode:r,data:n,ctor:e})}});var gS=z((pF,hS)=>{"use strict";hS.exports=typeof self=="object"?self.FormData:window.FormData});var LS=z(PS=>{"use strict";var n3=_t("node:url").parse,r3={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},i3=String.prototype.endsWith||function(a){return a.length<=this.length&&this.indexOf(a,this.length-a.length)!==-1};function a3(a){var n=typeof a=="string"?n3(a):a||{},r=n.protocol,e=n.host,t=n.port;if(typeof e!="string"||!e||typeof r!="string"||(r=r.split(":",1)[0],e=e.replace(/:\d*$/,""),t=parseInt(t)||r3[r]||0,!o3(e,t)))return"";var i=Fo("npm_config_"+r+"_proxy")||Fo(r+"_proxy")||Fo("npm_config_proxy")||Fo("all_proxy");return i&&i.indexOf("://")===-1&&(i=r+"://"+i),i}function o3(a,n){var r=(Fo("npm_config_no_proxy")||Fo("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(e){if(!e)return!0;var t=e.match(/^(.+):(\d+)$/),i=t?t[1]:e,o=t?parseInt(t[2]):0;return o&&o!==n?!0:/^[.*]/.test(i)?(i.charAt(0)==="*"&&(i=i.slice(1)),!i3.call(a,i)):a!==i}):!0}function Fo(a){return process.env[a.toLowerCase()]||process.env[a.toUpperCase()]||""}PS.getProxyForUrl=a3});var wS=z((gj,DS)=>{var jo=1e3,Ko=jo*60,Ho=Ko*60,Pa=Ho*24,s3=Pa*7,c3=Pa*365.25;DS.exports=function(a,n){n=n||{};var r=typeof a;if(r==="string"&&a.length>0)return l3(a);if(r==="number"&&isFinite(a))return n.long?d3(a):u3(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))};function l3(a){if(a=String(a),!(a.length>100)){var n=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(a);if(n){var r=parseFloat(n[1]),e=(n[2]||"ms").toLowerCase();switch(e){case"years":case"year":case"yrs":case"yr":case"y":return r*c3;case"weeks":case"week":case"w":return r*s3;case"days":case"day":case"d":return r*Pa;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Ho;case"minutes":case"minute":case"mins":case"min":case"m":return r*Ko;case"seconds":case"second":case"secs":case"sec":case"s":return r*jo;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function u3(a){var n=Math.abs(a);return n>=Pa?Math.round(a/Pa)+"d":n>=Ho?Math.round(a/Ho)+"h":n>=Ko?Math.round(a/Ko)+"m":n>=jo?Math.round(a/jo)+"s":a+"ms"}function d3(a){var n=Math.abs(a);return n>=Pa?Au(a,n,Pa,"day"):n>=Ho?Au(a,n,Ho,"hour"):n>=Ko?Au(a,n,Ko,"minute"):n>=jo?Au(a,n,jo,"second"):a+" ms"}function Au(a,n,r,e){var t=n>=r*1.5;return Math.round(a/r)+" "+e+(t?"s":"")}});var vS=z((Ej,kS)=>{function p3(a){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=t,r.enabled=s,r.humanize=wS(),r.destroy=l,Object.keys(a).forEach(d=>{r[d]=a[d]}),r.names=[],r.skips=[],r.formatters={};function n(d){let f=0;for(let g=0;g<d.length;g++)f=(f<<5)-f+d.charCodeAt(g),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=n;function r(d){let f,g=null,_,y;function T(...I){if(!T.enabled)return;let O=T,R=Number(new Date),M=R-(f||R);O.diff=M,O.prev=f,O.curr=R,f=R,I[0]=r.coerce(I[0]),typeof I[0]!="string"&&I.unshift("%O");let v=0;I[0]=I[0].replace(/%([a-zA-Z%])/g,(k,b)=>{if(k==="%%")return"%";v++;let j=r.formatters[b];if(typeof j=="function"){let H=I[v];k=j.call(O,H),I.splice(v,1),v--}return k}),r.formatArgs.call(O,I),(O.log||r.log).apply(O,I)}return T.namespace=d,T.useColors=r.useColors(),T.color=r.selectColor(d),T.extend=e,T.destroy=r.destroy,Object.defineProperty(T,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(_!==r.namespaces&&(_=r.namespaces,y=r.enabled(d)),y),set:I=>{g=I}}),typeof r.init=="function"&&r.init(T),T}function e(d,f){let g=r(this.namespace+(typeof f>"u"?":":f)+d);return g.log=this.log,g}function t(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];let f=(typeof d=="string"?d:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let g of f)g[0]==="-"?r.skips.push(g.slice(1)):r.names.push(g)}function i(d,f){let g=0,_=0,y=-1,T=0;for(;g<d.length;)if(_<f.length&&(f[_]===d[g]||f[_]==="*"))f[_]==="*"?(y=_,T=g,_++):(g++,_++);else if(y!==-1)_=y+1,T++,g=T;else return!1;for(;_<f.length&&f[_]==="*";)_++;return _===f.length}function o(){let d=[...r.names,...r.skips.map(f=>"-"+f)].join(",");return r.enable(""),d}function s(d){for(let f of r.skips)if(i(d,f))return!1;for(let f of r.names)if(i(d,f))return!0;return!1}function c(d){return d instanceof Error?d.stack||d.message:d}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}kS.exports=p3});var Ot=z((kn,mu)=>{kn.formatArgs=h3;kn.save=g3;kn.load=E3;kn.useColors=f3;kn.storage=y3();kn.destroy=(()=>{let a=!1;return()=>{a||(a=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();kn.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function f3(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let a;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(a=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(a[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function h3(a){if(a[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+a[0]+(this.useColors?"%c ":" ")+"+"+mu.exports.humanize(this.diff),!this.useColors)return;let n="color: "+this.color;a.splice(1,0,n,"color: inherit");let r=0,e=0;a[0].replace(/%[a-zA-Z%]/g,t=>{t!=="%%"&&(r++,t==="%c"&&(e=r))}),a.splice(e,0,n)}kn.log=console.debug||console.log||(()=>{});function g3(a){try{a?kn.storage.setItem("debug",a):kn.storage.removeItem("debug")}catch{}}function E3(){let a;try{a=kn.storage.getItem("debug")||kn.storage.getItem("DEBUG")}catch{}return!a&&typeof process<"u"&&"env"in process&&(a=process.env.DEBUG),a}function y3(){try{return localStorage}catch{}}mu.exports=vS()(kn);var{formatters:_3}=mu.exports;_3.j=function(a){try{return JSON.stringify(a)}catch(n){return"[UnexpectedJSONParseError]: "+n.message}}});var BS=z((yj,US)=>{var Sc;US.exports=function(){if(!Sc){try{Sc=Ot()("follow-redirects")}catch{}typeof Sc!="function"&&(Sc=function(){})}Sc.apply(null,arguments)}});var HS=z((_j,xh)=>{var mc=_t("node:url"),Ac=mc.URL,T3=_t("node:http"),I3=_t("node:https"),Lh=_t("node:stream").Writable,Dh=_t("node:assert"),xS=BS();(function(){var n=typeof process<"u",r=typeof window<"u"&&typeof document<"u",e=Da(Error.captureStackTrace);!n&&(r||!e)&&console.warn("The follow-redirects package should be excluded from browser builds.")})();var wh=!1;try{Dh(new Ac(""))}catch(a){wh=a.code==="ERR_INVALID_URL"}var O3=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],kh=["abort","aborted","connect","error","socket","timeout"],vh=Object.create(null);kh.forEach(function(a){vh[a]=function(n,r,e){this._redirectable.emit(a,n,r,e)}});var Nh=bc("ERR_INVALID_URL","Invalid URL",TypeError),Mh=bc("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),S3=bc("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",Mh),A3=bc("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),m3=bc("ERR_STREAM_WRITE_AFTER_END","write after end"),b3=Lh.prototype.destroy||jS;function vn(a,n){Lh.call(this),this._sanitizeOptions(a),this._options=a,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],n&&this.on("response",n);var r=this;this._onNativeResponse=function(e){try{r._processResponse(e)}catch(t){r.emit("error",t instanceof Mh?t:new Mh({cause:t}))}},this._performRequest()}vn.prototype=Object.create(Lh.prototype);vn.prototype.abort=function(){Bh(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};vn.prototype.destroy=function(a){return Bh(this._currentRequest,a),b3.call(this,a),this};vn.prototype.write=function(a,n,r){if(this._ending)throw new m3;if(!La(a)&&!N3(a))throw new TypeError("data should be a string, Buffer or Uint8Array");if(Da(n)&&(r=n,n=null),a.length===0){r&&r();return}this._requestBodyLength+a.length<=this._options.maxBodyLength?(this._requestBodyLength+=a.length,this._requestBodyBuffers.push({data:a,encoding:n}),this._currentRequest.write(a,n,r)):(this.emit("error",new A3),this.abort())};vn.prototype.end=function(a,n,r){if(Da(a)?(r=a,a=n=null):Da(n)&&(r=n,n=null),!a)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var e=this,t=this._currentRequest;this.write(a,n,function(){e._ended=!0,t.end(null,null,r)}),this._ending=!0}};vn.prototype.setHeader=function(a,n){this._options.headers[a]=n,this._currentRequest.setHeader(a,n)};vn.prototype.removeHeader=function(a){delete this._options.headers[a],this._currentRequest.removeHeader(a)};vn.prototype.setTimeout=function(a,n){var r=this;function e(o){o.setTimeout(a),o.removeListener("timeout",o.destroy),o.addListener("timeout",o.destroy)}function t(o){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),i()},a),e(o)}function i(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",i),r.removeListener("error",i),r.removeListener("response",i),r.removeListener("close",i),n&&r.removeListener("timeout",n),r.socket||r._currentRequest.removeListener("socket",t)}return n&&this.on("timeout",n),this.socket?t(this.socket):this._currentRequest.once("socket",t),this.on("socket",e),this.on("abort",i),this.on("error",i),this.on("response",i),this.on("close",i),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(a){vn.prototype[a]=function(n,r){return this._currentRequest[a](n,r)}});["aborted","connection","socket"].forEach(function(a){Object.defineProperty(vn.prototype,a,{get:function(){return this._currentRequest[a]}})});vn.prototype._sanitizeOptions=function(a){if(a.headers||(a.headers={}),a.host&&(a.hostname||(a.hostname=a.host),delete a.host),!a.pathname&&a.path){var n=a.path.indexOf("?");n<0?a.pathname=a.path:(a.pathname=a.path.substring(0,n),a.search=a.path.substring(n))}};vn.prototype._performRequest=function(){var a=this._options.protocol,n=this._options.nativeProtocols[a];if(!n)throw new TypeError("Unsupported protocol "+a);if(this._options.agents){var r=a.slice(0,-1);this._options.agent=this._options.agents[r]}var e=this._currentRequest=n.request(this._options,this._onNativeResponse);e._redirectable=this;for(var t of kh)e.on(t,vh[t]);if(this._currentUrl=/^\//.test(this._options.path)?mc.format(this._options):this._options.path,this._isRedirect){var i=0,o=this,s=this._requestBodyBuffers;(function c(l){if(e===o._currentRequest)if(l)o.emit("error",l);else if(i<s.length){var d=s[i++];e.finished||e.write(d.data,d.encoding,c)}else o._ended&&e.end()})()}};vn.prototype._processResponse=function(a){var n=a.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:a.headers,statusCode:n});var r=a.headers.location;if(!r||this._options.followRedirects===!1||n<300||n>=400){a.responseUrl=this._currentUrl,a.redirects=this._redirects,this.emit("response",a),this._requestBodyBuffers=[];return}if(Bh(this._currentRequest),a.destroy(),++this._redirectCount>this._options.maxRedirects)throw new S3;var e,t=this._options.beforeRedirect;t&&(e=Object.assign({Host:a.req.getHeader("host")},this._options.headers));var i=this._options.method;((n===301||n===302)&&this._options.method==="POST"||n===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],Ch(/^content-/i,this._options.headers));var o=Ch(/^host$/i,this._options.headers),s=Uh(this._currentUrl),c=o||s.host,l=/^\w+:/.test(r)?this._currentUrl:mc.format(Object.assign(s,{host:c})),d=R3(r,l);if(xS("redirecting to",d.href),this._isRedirect=!0,Ph(d,this._options),(d.protocol!==s.protocol&&d.protocol!=="https:"||d.host!==c&&!C3(d.host,c))&&Ch(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),Da(t)){var f={headers:a.headers,statusCode:n},g={url:l,method:i,headers:e};t(this._options,f,g),this._sanitizeOptions(this._options)}this._performRequest()};function FS(a){var n={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(a).forEach(function(e){var t=e+":",i=r[t]=a[e],o=n[e]=Object.create(i);function s(l,d,f){return M3(l)?l=Ph(l):La(l)?l=Ph(Uh(l)):(f=d,d=KS(l),l={protocol:t}),Da(d)&&(f=d,d=null),d=Object.assign({maxRedirects:n.maxRedirects,maxBodyLength:n.maxBodyLength},l,d),d.nativeProtocols=r,!La(d.host)&&!La(d.hostname)&&(d.hostname="::1"),Dh.equal(d.protocol,t,"protocol mismatch"),xS("options",d),new vn(d,f)}function c(l,d,f){var g=o.request(l,d,f);return g.end(),g}Object.defineProperties(o,{request:{value:s,configurable:!0,enumerable:!0,writable:!0},get:{value:c,configurable:!0,enumerable:!0,writable:!0}})}),n}function jS(){}function Uh(a){var n;if(wh)n=new Ac(a);else if(n=KS(mc.parse(a)),!La(n.protocol))throw new Nh({input:a});return n}function R3(a,n){return wh?new Ac(a,n):Uh(mc.resolve(n,a))}function KS(a){if(/^\[/.test(a.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(a.hostname))throw new Nh({input:a.href||a});if(/^\[/.test(a.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(a.host))throw new Nh({input:a.href||a});return a}function Ph(a,n){var r=n||{};for(var e of O3)r[e]=a[e];return r.hostname.startsWith("[")&&(r.hostname=r.hostname.slice(1,-1)),r.port!==""&&(r.port=Number(r.port)),r.path=r.search?r.pathname+r.search:r.pathname,r}function Ch(a,n){var r;for(var e in n)a.test(e)&&(r=n[e],delete n[e]);return r===null||typeof r>"u"?void 0:String(r).trim()}function bc(a,n,r){function e(t){Da(Error.captureStackTrace)&&Error.captureStackTrace(this,this.constructor),Object.assign(this,t||{}),this.code=a,this.message=this.cause?n+": "+this.cause.message:n}return e.prototype=new(r||Error),Object.defineProperties(e.prototype,{constructor:{value:e,enumerable:!1},name:{value:"Error ["+a+"]",enumerable:!1}}),e}function Bh(a,n){for(var r of kh)a.removeListener(r,vh[r]);a.on("error",jS),a.destroy(n)}function C3(a,n){Dh(La(a)&&La(n));var r=a.length-n.length-1;return r>0&&a[r]==="."&&a.endsWith(n)}function La(a){return typeof a=="string"||a instanceof String}function Da(a){return typeof a=="function"}function N3(a){return typeof a=="object"&&"length"in a}function M3(a){return Ac&&a instanceof Ac}xh.exports=FS({http:T3,https:I3});xh.exports.wrap=FS});var qr=z((RG,DA)=>{"use strict";var LA=function(a){return typeof a<"u"&&a!==null},FL=function(a){return typeof a=="object"},jL=function(a){return Object.prototype.toString.call(a)==="[object Object]"},KL=function(a){return typeof a=="function"},HL=function(a){return typeof a=="boolean"},GL=function(a){return a instanceof Buffer},VL=function(a){if(LA(a))switch(a.constructor){case Uint8Array:case Uint8ClampedArray:case Int8Array:case Uint16Array:case Int16Array:case Uint32Array:case Int32Array:case Float32Array:case Float64Array:return!0}return!1},WL=function(a){return a instanceof ArrayBuffer},YL=function(a){return typeof a=="string"&&a.length>0},zL=function(a){return typeof a=="number"&&!Number.isNaN(a)},qL=function(a){return Number.isInteger(a)},$L=function(a,n,r){return a>=n&&a<=r},XL=function(a,n){return n.includes(a)},JL=function(a,n,r){return new Error(`Expected ${n} for ${a} but received ${r} of type ${typeof r}`)},QL=function(a,n){return n.message=a.message,n};DA.exports={defined:LA,object:FL,plainObject:jL,fn:KL,bool:HL,buffer:GL,typedArray:VL,arrayBuffer:WL,string:YL,number:zL,integer:qL,inRange:$L,inArray:XL,invalidParameterError:JL,nativeError:QL}});var vA=z((CG,kA)=>{"use strict";var wA=()=>process.platform==="linux",Hu=null,ZL=()=>{if(!Hu)if(wA()&&process.report){let a=process.report.excludeNetwork;process.report.excludeNetwork=!0,Hu=process.report.getReport(),process.report.excludeNetwork=a}else Hu={};return Hu};kA.exports={isLinux:wA,getReport:ZL}});var BA=z((NG,UA)=>{"use strict";var Xo=_t("node:fs"),eD="/usr/bin/ldd",tD="/proc/self/exe",Gu=2048,nD=a=>{let n=Xo.openSync(a,"r"),r=Buffer.alloc(Gu),e=Xo.readSync(n,r,0,Gu,0);return Xo.close(n),r.subarray(0,e)},rD=a=>new Promise((n,r)=>{Xo.open(a,"r",(e,t)=>{if(e)r(e);else{let i=Buffer.alloc(Gu);Xo.read(t,i,0,Gu,0,(o,s)=>{n(i.subarray(0,s)),Xo.close(t,()=>{})})}})});UA.exports={LDD_PATH:eD,SELF_PATH:tD,readFileSync:nD,readFile:rD}});var FA=z((MG,xA)=>{"use strict";var iD=a=>{if(a.length<64||a.readUInt32BE(0)!==2135247942||a.readUInt8(4)!==2||a.readUInt8(5)!==1)return null;let n=a.readUInt32LE(32),r=a.readUInt16LE(54),e=a.readUInt16LE(56);for(let t=0;t<e;t++){let i=n+t*r;if(a.readUInt32LE(i)===3){let s=a.readUInt32LE(i+8),c=a.readUInt32LE(i+32);return a.subarray(s,s+c).toString().replace(/\0.*$/g,"")}}return null};xA.exports={interpreterPath:iD}});var Wu=z((PG,rm)=>{"use strict";var KA=_t("node:child_process"),{isLinux:Jo,getReport:HA}=vA(),{LDD_PATH:Vu,SELF_PATH:GA,readFile:Ng,readFileSync:Mg}=BA(),{interpreterPath:VA}=FA(),$r,Xr,Jr,WA="getconf GNU_LIBC_VERSION 2>&1 || true; ldd --version 2>&1 || true",sa="",YA=()=>sa||new Promise(a=>{KA.exec(WA,(n,r)=>{sa=n?" ":r,a(sa)})}),zA=()=>{if(!sa)try{sa=KA.execSync(WA,{encoding:"utf8"})}catch{sa=" "}return sa},Ni="glibc",qA=/LIBC[a-z0-9 \-).]*?(\d+\.\d+)/i,Ha="musl",aD=a=>a.includes("libc.musl-")||a.includes("ld-musl-"),$A=()=>{let a=HA();return a.header&&a.header.glibcVersionRuntime?Ni:Array.isArray(a.sharedObjects)&&a.sharedObjects.some(aD)?Ha:null},XA=a=>{let[n,r]=a.split(/[\r\n]+/);return n&&n.includes(Ni)?Ni:r&&r.includes(Ha)?Ha:null},JA=a=>{if(a){if(a.includes("/ld-musl-"))return Ha;if(a.includes("/ld-linux-"))return Ni}return null},QA=a=>(a=a.toString(),a.includes("musl")?Ha:a.includes("GNU C Library")?Ni:null),oD=async()=>{if(Xr!==void 0)return Xr;Xr=null;try{let a=await Ng(Vu);Xr=QA(a)}catch{}return Xr},sD=()=>{if(Xr!==void 0)return Xr;Xr=null;try{let a=Mg(Vu);Xr=QA(a)}catch{}return Xr},cD=async()=>{if($r!==void 0)return $r;$r=null;try{let a=await Ng(GA),n=VA(a);$r=JA(n)}catch{}return $r},lD=()=>{if($r!==void 0)return $r;$r=null;try{let a=Mg(GA),n=VA(a);$r=JA(n)}catch{}return $r},ZA=async()=>{let a=null;if(Jo()&&(a=await cD(),!a&&(a=await oD(),a||(a=$A()),!a))){let n=await YA();a=XA(n)}return a},em=()=>{let a=null;if(Jo()&&(a=lD(),!a&&(a=sD(),a||(a=$A()),!a))){let n=zA();a=XA(n)}return a},uD=async()=>Jo()&&await ZA()!==Ni,dD=()=>Jo()&&em()!==Ni,pD=async()=>{if(Jr!==void 0)return Jr;Jr=null;try{let n=(await Ng(Vu)).match(qA);n&&(Jr=n[1])}catch{}return Jr},fD=()=>{if(Jr!==void 0)return Jr;Jr=null;try{let n=Mg(Vu).match(qA);n&&(Jr=n[1])}catch{}return Jr},tm=()=>{let a=HA();return a.header&&a.header.glibcVersionRuntime?a.header.glibcVersionRuntime:null},jA=a=>a.trim().split(/\s+/)[1],nm=a=>{let[n,r,e]=a.split(/[\r\n]+/);return n&&n.includes(Ni)?jA(n):r&&e&&r.includes(Ha)?jA(e):null},hD=async()=>{let a=null;if(Jo()&&(a=await pD(),a||(a=tm()),!a)){let n=await YA();a=nm(n)}return a},gD=()=>{let a=null;if(Jo()&&(a=fD(),a||(a=tm()),!a)){let n=zA();a=nm(n)}return a};rm.exports={GLIBC:Ni,MUSL:Ha,family:ZA,familySync:em,isNonGlibcLinux:uD,isNonGlibcLinuxSync:dD,version:hD,versionSync:gD}});var vc=z((LG,im)=>{"use strict";var ED=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...a)=>console.error("SEMVER",...a):()=>{};im.exports=ED});var Yu=z((DG,am)=>{"use strict";var yD="2.0.0",_D=Number.MAX_SAFE_INTEGER||9007199254740991,TD=16,ID=250,OD=["major","premajor","minor","preminor","patch","prepatch","prerelease"];am.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:TD,MAX_SAFE_BUILD_LENGTH:ID,MAX_SAFE_INTEGER:_D,RELEASE_TYPES:OD,SEMVER_SPEC_VERSION:yD,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Uc=z((Qr,om)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:Pg,MAX_SAFE_BUILD_LENGTH:SD,MAX_LENGTH:AD}=Yu(),mD=vc();Qr=om.exports={};var bD=Qr.re=[],RD=Qr.safeRe=[],Oe=Qr.src=[],CD=Qr.safeSrc=[],Se=Qr.t={},ND=0,Lg="[a-zA-Z0-9-]",MD=[["\\s",1],["\\d",AD],[Lg,SD]],PD=a=>{for(let[n,r]of MD)a=a.split(`${n}*`).join(`${n}{0,${r}}`).split(`${n}+`).join(`${n}{1,${r}}`);return a},Ze=(a,n,r)=>{let e=PD(n),t=ND++;mD(a,t,n),Se[a]=t,Oe[t]=n,CD[t]=e,bD[t]=new RegExp(n,r?"g":void 0),RD[t]=new RegExp(e,r?"g":void 0)};Ze("NUMERICIDENTIFIER","0|[1-9]\\d*");Ze("NUMERICIDENTIFIERLOOSE","\\d+");Ze("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Lg}*`);Ze("MAINVERSION",`(${Oe[Se.NUMERICIDENTIFIER]})\\.(${Oe[Se.NUMERICIDENTIFIER]})\\.(${Oe[Se.NUMERICIDENTIFIER]})`);Ze("MAINVERSIONLOOSE",`(${Oe[Se.NUMERICIDENTIFIERLOOSE]})\\.(${Oe[Se.NUMERICIDENTIFIERLOOSE]})\\.(${Oe[Se.NUMERICIDENTIFIERLOOSE]})`);Ze("PRERELEASEIDENTIFIER",`(?:${Oe[Se.NONNUMERICIDENTIFIER]}|${Oe[Se.NUMERICIDENTIFIER]})`);Ze("PRERELEASEIDENTIFIERLOOSE",`(?:${Oe[Se.NONNUMERICIDENTIFIER]}|${Oe[Se.NUMERICIDENTIFIERLOOSE]})`);Ze("PRERELEASE",`(?:-(${Oe[Se.PRERELEASEIDENTIFIER]}(?:\\.${Oe[Se.PRERELEASEIDENTIFIER]})*))`);Ze("PRERELEASELOOSE",`(?:-?(${Oe[Se.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Oe[Se.PRERELEASEIDENTIFIERLOOSE]})*))`);Ze("BUILDIDENTIFIER",`${Lg}+`);Ze("BUILD",`(?:\\+(${Oe[Se.BUILDIDENTIFIER]}(?:\\.${Oe[Se.BUILDIDENTIFIER]})*))`);Ze("FULLPLAIN",`v?${Oe[Se.MAINVERSION]}${Oe[Se.PRERELEASE]}?${Oe[Se.BUILD]}?`);Ze("FULL",`^${Oe[Se.FULLPLAIN]}$`);Ze("LOOSEPLAIN",`[v=\\s]*${Oe[Se.MAINVERSIONLOOSE]}${Oe[Se.PRERELEASELOOSE]}?${Oe[Se.BUILD]}?`);Ze("LOOSE",`^${Oe[Se.LOOSEPLAIN]}$`);Ze("GTLT","((?:<|>)?=?)");Ze("XRANGEIDENTIFIERLOOSE",`${Oe[Se.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Ze("XRANGEIDENTIFIER",`${Oe[Se.NUMERICIDENTIFIER]}|x|X|\\*`);Ze("XRANGEPLAIN",`[v=\\s]*(${Oe[Se.XRANGEIDENTIFIER]})(?:\\.(${Oe[Se.XRANGEIDENTIFIER]})(?:\\.(${Oe[Se.XRANGEIDENTIFIER]})(?:${Oe[Se.PRERELEASE]})?${Oe[Se.BUILD]}?)?)?`);Ze("XRANGEPLAINLOOSE",`[v=\\s]*(${Oe[Se.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Oe[Se.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Oe[Se.XRANGEIDENTIFIERLOOSE]})(?:${Oe[Se.PRERELEASELOOSE]})?${Oe[Se.BUILD]}?)?)?`);Ze("XRANGE",`^${Oe[Se.GTLT]}\\s*${Oe[Se.XRANGEPLAIN]}$`);Ze("XRANGELOOSE",`^${Oe[Se.GTLT]}\\s*${Oe[Se.XRANGEPLAINLOOSE]}$`);Ze("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Pg}})(?:\\.(\\d{1,${Pg}}))?(?:\\.(\\d{1,${Pg}}))?`);Ze("COERCE",`${Oe[Se.COERCEPLAIN]}(?:$|[^\\d])`);Ze("COERCEFULL",Oe[Se.COERCEPLAIN]+`(?:${Oe[Se.PRERELEASE]})?(?:${Oe[Se.BUILD]})?(?:$|[^\\d])`);Ze("COERCERTL",Oe[Se.COERCE],!0);Ze("COERCERTLFULL",Oe[Se.COERCEFULL],!0);Ze("LONETILDE","(?:~>?)");Ze("TILDETRIM",`(\\s*)${Oe[Se.LONETILDE]}\\s+`,!0);Qr.tildeTrimReplace="$1~";Ze("TILDE",`^${Oe[Se.LONETILDE]}${Oe[Se.XRANGEPLAIN]}$`);Ze("TILDELOOSE",`^${Oe[Se.LONETILDE]}${Oe[Se.XRANGEPLAINLOOSE]}$`);Ze("LONECARET","(?:\\^)");Ze("CARETTRIM",`(\\s*)${Oe[Se.LONECARET]}\\s+`,!0);Qr.caretTrimReplace="$1^";Ze("CARET",`^${Oe[Se.LONECARET]}${Oe[Se.XRANGEPLAIN]}$`);Ze("CARETLOOSE",`^${Oe[Se.LONECARET]}${Oe[Se.XRANGEPLAINLOOSE]}$`);Ze("COMPARATORLOOSE",`^${Oe[Se.GTLT]}\\s*(${Oe[Se.LOOSEPLAIN]})$|^$`);Ze("COMPARATOR",`^${Oe[Se.GTLT]}\\s*(${Oe[Se.FULLPLAIN]})$|^$`);Ze("COMPARATORTRIM",`(\\s*)${Oe[Se.GTLT]}\\s*(${Oe[Se.LOOSEPLAIN]}|${Oe[Se.XRANGEPLAIN]})`,!0);Qr.comparatorTrimReplace="$1$2$3";Ze("HYPHENRANGE",`^\\s*(${Oe[Se.XRANGEPLAIN]})\\s+-\\s+(${Oe[Se.XRANGEPLAIN]})\\s*$`);Ze("HYPHENRANGELOOSE",`^\\s*(${Oe[Se.XRANGEPLAINLOOSE]})\\s+-\\s+(${Oe[Se.XRANGEPLAINLOOSE]})\\s*$`);Ze("STAR","(<|>)?=?\\s*\\*");Ze("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Ze("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var zu=z((wG,sm)=>{"use strict";var LD=Object.freeze({loose:!0}),DD=Object.freeze({}),wD=a=>a?typeof a!="object"?LD:a:DD;sm.exports=wD});var dm=z((kG,um)=>{"use strict";var cm=/^[0-9]+$/,lm=(a,n)=>{let r=cm.test(a),e=cm.test(n);return r&&e&&(a=+a,n=+n),a===n?0:r&&!e?-1:e&&!r?1:a<n?-1:1},kD=(a,n)=>lm(n,a);um.exports={compareIdentifiers:lm,rcompareIdentifiers:kD}});var Zo=z((vG,fm)=>{"use strict";var qu=vc(),{MAX_LENGTH:pm,MAX_SAFE_INTEGER:$u}=Yu(),{safeRe:Xu,t:Ju}=Uc(),vD=zu(),{compareIdentifiers:Qo}=dm(),Dg=class a{constructor(n,r){if(r=vD(r),n instanceof a){if(n.loose===!!r.loose&&n.includePrerelease===!!r.includePrerelease)return n;n=n.version}else if(typeof n!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof n}".`);if(n.length>pm)throw new TypeError(`version is longer than ${pm} characters`);qu("SemVer",n,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let e=n.trim().match(r.loose?Xu[Ju.LOOSE]:Xu[Ju.FULL]);if(!e)throw new TypeError(`Invalid Version: ${n}`);if(this.raw=n,this.major=+e[1],this.minor=+e[2],this.patch=+e[3],this.major>$u||this.major<0)throw new TypeError("Invalid major version");if(this.minor>$u||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>$u||this.patch<0)throw new TypeError("Invalid patch version");e[4]?this.prerelease=e[4].split(".").map(t=>{if(/^[0-9]+$/.test(t)){let i=+t;if(i>=0&&i<$u)return i}return t}):this.prerelease=[],this.build=e[5]?e[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(n){if(qu("SemVer.compare",this.version,this.options,n),!(n instanceof a)){if(typeof n=="string"&&n===this.version)return 0;n=new a(n,this.options)}return n.version===this.version?0:this.compareMain(n)||this.comparePre(n)}compareMain(n){return n instanceof a||(n=new a(n,this.options)),Qo(this.major,n.major)||Qo(this.minor,n.minor)||Qo(this.patch,n.patch)}comparePre(n){if(n instanceof a||(n=new a(n,this.options)),this.prerelease.length&&!n.prerelease.length)return-1;if(!this.prerelease.length&&n.prerelease.length)return 1;if(!this.prerelease.length&&!n.prerelease.length)return 0;let r=0;do{let e=this.prerelease[r],t=n.prerelease[r];if(qu("prerelease compare",r,e,t),e===void 0&&t===void 0)return 0;if(t===void 0)return 1;if(e===void 0)return-1;if(e===t)continue;return Qo(e,t)}while(++r)}compareBuild(n){n instanceof a||(n=new a(n,this.options));let r=0;do{let e=this.build[r],t=n.build[r];if(qu("build compare",r,e,t),e===void 0&&t===void 0)return 0;if(t===void 0)return 1;if(e===void 0)return-1;if(e===t)continue;return Qo(e,t)}while(++r)}inc(n,r,e){if(n.startsWith("pre")){if(!r&&e===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let t=`-${r}`.match(this.options.loose?Xu[Ju.PRERELEASELOOSE]:Xu[Ju.PRERELEASE]);if(!t||t[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(n){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,e),this.inc("pre",r,e);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,e),this.inc("pre",r,e);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let t=Number(e)?1:0;if(this.prerelease.length===0)this.prerelease=[t];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&e===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(t)}}if(r){let i=[r,t];e===!1&&(i=[r]),Qo(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${n}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};fm.exports=Dg});var Em=z((UG,gm)=>{"use strict";var hm=Zo(),UD=(a,n,r=!1)=>{if(a instanceof hm)return a;try{return new hm(a,n)}catch(e){if(!r)return null;throw e}};gm.exports=UD});var _m=z((BG,ym)=>{"use strict";var BD=Zo(),xD=Em(),{safeRe:Qu,t:Zu}=Uc(),FD=(a,n)=>{if(a instanceof BD)return a;if(typeof a=="number"&&(a=String(a)),typeof a!="string")return null;n=n||{};let r=null;if(!n.rtl)r=a.match(n.includePrerelease?Qu[Zu.COERCEFULL]:Qu[Zu.COERCE]);else{let c=n.includePrerelease?Qu[Zu.COERCERTLFULL]:Qu[Zu.COERCERTL],l;for(;(l=c.exec(a))&&(!r||r.index+r[0].length!==a.length);)(!r||l.index+l[0].length!==r.index+r[0].length)&&(r=l),c.lastIndex=l.index+l[1].length+l[2].length;c.lastIndex=-1}if(r===null)return null;let e=r[2],t=r[3]||"0",i=r[4]||"0",o=n.includePrerelease&&r[5]?`-${r[5]}`:"",s=n.includePrerelease&&r[6]?`+${r[6]}`:"";return xD(`${e}.${t}.${i}${o}${s}`,n)};ym.exports=FD});var Ga=z((xG,Im)=>{"use strict";var Tm=Zo(),jD=(a,n,r)=>new Tm(a,r).compare(new Tm(n,r));Im.exports=jD});var wg=z((FG,Om)=>{"use strict";var KD=Ga(),HD=(a,n,r)=>KD(a,n,r)>=0;Om.exports=HD});var Am=z((jG,Sm)=>{"use strict";var kg=class{constructor(){this.max=1e3,this.map=new Map}get(n){let r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){let t=this.map.keys().next().value;this.delete(t)}this.map.set(n,r)}return this}};Sm.exports=kg});var bm=z((KG,mm)=>{"use strict";var GD=Ga(),VD=(a,n,r)=>GD(a,n,r)===0;mm.exports=VD});var Cm=z((HG,Rm)=>{"use strict";var WD=Ga(),YD=(a,n,r)=>WD(a,n,r)!==0;Rm.exports=YD});var Mm=z((GG,Nm)=>{"use strict";var zD=Ga(),qD=(a,n,r)=>zD(a,n,r)>0;Nm.exports=qD});var Lm=z((VG,Pm)=>{"use strict";var $D=Ga(),XD=(a,n,r)=>$D(a,n,r)<0;Pm.exports=XD});var wm=z((WG,Dm)=>{"use strict";var JD=Ga(),QD=(a,n,r)=>JD(a,n,r)<=0;Dm.exports=QD});var vm=z((YG,km)=>{"use strict";var ZD=bm(),ew=Cm(),tw=Mm(),nw=wg(),rw=Lm(),iw=wm(),aw=(a,n,r,e)=>{switch(n){case"===":return typeof a=="object"&&(a=a.version),typeof r=="object"&&(r=r.version),a===r;case"!==":return typeof a=="object"&&(a=a.version),typeof r=="object"&&(r=r.version),a!==r;case"":case"=":case"==":return ZD(a,r,e);case"!=":return ew(a,r,e);case">":return tw(a,r,e);case">=":return nw(a,r,e);case"<":return rw(a,r,e);case"<=":return iw(a,r,e);default:throw new TypeError(`Invalid operator: ${n}`)}};km.exports=aw});var Hm=z((zG,Km)=>{"use strict";var Bc=Symbol("SemVer ANY"),Bg=class a{static get ANY(){return Bc}constructor(n,r){if(r=Um(r),n instanceof a){if(n.loose===!!r.loose)return n;n=n.value}n=n.trim().split(/\s+/).join(" "),Ug("comparator",n,r),this.options=r,this.loose=!!r.loose,this.parse(n),this.semver===Bc?this.value="":this.value=this.operator+this.semver.version,Ug("comp",this)}parse(n){let r=this.options.loose?Bm[xm.COMPARATORLOOSE]:Bm[xm.COMPARATOR],e=n.match(r);if(!e)throw new TypeError(`Invalid comparator: ${n}`);this.operator=e[1]!==void 0?e[1]:"",this.operator==="="&&(this.operator=""),e[2]?this.semver=new Fm(e[2],this.options.loose):this.semver=Bc}toString(){return this.value}test(n){if(Ug("Comparator.test",n,this.options.loose),this.semver===Bc||n===Bc)return!0;if(typeof n=="string")try{n=new Fm(n,this.options)}catch{return!1}return vg(n,this.operator,this.semver,this.options)}intersects(n,r){if(!(n instanceof a))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new jm(n.value,r).test(this.value):n.operator===""?n.value===""?!0:new jm(this.value,r).test(n.semver):(r=Um(r),r.includePrerelease&&(this.value==="<0.0.0-0"||n.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||n.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&n.operator.startsWith(">")||this.operator.startsWith("<")&&n.operator.startsWith("<")||this.semver.version===n.semver.version&&this.operator.includes("=")&&n.operator.includes("=")||vg(this.semver,"<",n.semver,r)&&this.operator.startsWith(">")&&n.operator.startsWith("<")||vg(this.semver,">",n.semver,r)&&this.operator.startsWith("<")&&n.operator.startsWith(">")))}};Km.exports=Bg;var Um=zu(),{safeRe:Bm,t:xm}=Uc(),vg=vm(),Ug=vc(),Fm=Zo(),jm=xg()});var xg=z((qG,Ym)=>{"use strict";var ow=/\s+/g,Fg=class a{constructor(n,r){if(r=cw(r),n instanceof a)return n.loose===!!r.loose&&n.includePrerelease===!!r.includePrerelease?n:new a(n.raw,r);if(n instanceof jg)return this.raw=n.value,this.set=[[n]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=n.trim().replace(ow," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let e=this.set[0];if(this.set=this.set.filter(t=>!Vm(t[0])),this.set.length===0)this.set=[e];else if(this.set.length>1){for(let t of this.set)if(t.length===1&&gw(t[0])){this.set=[t];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let n=0;n<this.set.length;n++){n>0&&(this.formatted+="||");let r=this.set[n];for(let e=0;e<r.length;e++)e>0&&(this.formatted+=" "),this.formatted+=r[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(n){let e=((this.options.includePrerelease&&fw)|(this.options.loose&&hw))+":"+n,t=Gm.get(e);if(t)return t;let i=this.options.loose,o=i?xn[Sn.HYPHENRANGELOOSE]:xn[Sn.HYPHENRANGE];n=n.replace(o,bw(this.options.includePrerelease)),Nt("hyphen replace",n),n=n.replace(xn[Sn.COMPARATORTRIM],uw),Nt("comparator trim",n),n=n.replace(xn[Sn.TILDETRIM],dw),Nt("tilde trim",n),n=n.replace(xn[Sn.CARETTRIM],pw),Nt("caret trim",n);let s=n.split(" ").map(f=>Ew(f,this.options)).join(" ").split(/\s+/).map(f=>mw(f,this.options));i&&(s=s.filter(f=>(Nt("loose invalid filter",f,this.options),!!f.match(xn[Sn.COMPARATORLOOSE])))),Nt("range list",s);let c=new Map,l=s.map(f=>new jg(f,this.options));for(let f of l){if(Vm(f))return[f];c.set(f.value,f)}c.size>1&&c.has("")&&c.delete("");let d=[...c.values()];return Gm.set(e,d),d}intersects(n,r){if(!(n instanceof a))throw new TypeError("a Range is required");return this.set.some(e=>Wm(e,r)&&n.set.some(t=>Wm(t,r)&&e.every(i=>t.every(o=>i.intersects(o,r)))))}test(n){if(!n)return!1;if(typeof n=="string")try{n=new lw(n,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Rw(this.set[r],n,this.options))return!0;return!1}};Ym.exports=Fg;var sw=Am(),Gm=new sw,cw=zu(),jg=Hm(),Nt=vc(),lw=Zo(),{safeRe:xn,t:Sn,comparatorTrimReplace:uw,tildeTrimReplace:dw,caretTrimReplace:pw}=Uc(),{FLAG_INCLUDE_PRERELEASE:fw,FLAG_LOOSE:hw}=Yu(),Vm=a=>a.value==="<0.0.0-0",gw=a=>a.value==="",Wm=(a,n)=>{let r=!0,e=a.slice(),t=e.pop();for(;r&&e.length;)r=e.every(i=>t.intersects(i,n)),t=e.pop();return r},Ew=(a,n)=>(Nt("comp",a,n),a=Tw(a,n),Nt("caret",a),a=yw(a,n),Nt("tildes",a),a=Ow(a,n),Nt("xrange",a),a=Aw(a,n),Nt("stars",a),a),An=a=>!a||a.toLowerCase()==="x"||a==="*",yw=(a,n)=>a.trim().split(/\s+/).map(r=>_w(r,n)).join(" "),_w=(a,n)=>{let r=n.loose?xn[Sn.TILDELOOSE]:xn[Sn.TILDE];return a.replace(r,(e,t,i,o,s)=>{Nt("tilde",a,e,t,i,o,s);let c;return An(t)?c="":An(i)?c=`>=${t}.0.0 <${+t+1}.0.0-0`:An(o)?c=`>=${t}.${i}.0 <${t}.${+i+1}.0-0`:s?(Nt("replaceTilde pr",s),c=`>=${t}.${i}.${o}-${s} <${t}.${+i+1}.0-0`):c=`>=${t}.${i}.${o} <${t}.${+i+1}.0-0`,Nt("tilde return",c),c})},Tw=(a,n)=>a.trim().split(/\s+/).map(r=>Iw(r,n)).join(" "),Iw=(a,n)=>{Nt("caret",a,n);let r=n.loose?xn[Sn.CARETLOOSE]:xn[Sn.CARET],e=n.includePrerelease?"-0":"";return a.replace(r,(t,i,o,s,c)=>{Nt("caret",a,t,i,o,s,c);let l;return An(i)?l="":An(o)?l=`>=${i}.0.0${e} <${+i+1}.0.0-0`:An(s)?i==="0"?l=`>=${i}.${o}.0${e} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.0${e} <${+i+1}.0.0-0`:c?(Nt("replaceCaret pr",c),i==="0"?o==="0"?l=`>=${i}.${o}.${s}-${c} <${i}.${o}.${+s+1}-0`:l=`>=${i}.${o}.${s}-${c} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${s}-${c} <${+i+1}.0.0-0`):(Nt("no pr"),i==="0"?o==="0"?l=`>=${i}.${o}.${s}${e} <${i}.${o}.${+s+1}-0`:l=`>=${i}.${o}.${s}${e} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${s} <${+i+1}.0.0-0`),Nt("caret return",l),l})},Ow=(a,n)=>(Nt("replaceXRanges",a,n),a.split(/\s+/).map(r=>Sw(r,n)).join(" ")),Sw=(a,n)=>{a=a.trim();let r=n.loose?xn[Sn.XRANGELOOSE]:xn[Sn.XRANGE];return a.replace(r,(e,t,i,o,s,c)=>{Nt("xRange",a,e,t,i,o,s,c);let l=An(i),d=l||An(o),f=d||An(s),g=f;return t==="="&&g&&(t=""),c=n.includePrerelease?"-0":"",l?t===">"||t==="<"?e="<0.0.0-0":e="*":t&&g?(d&&(o=0),s=0,t===">"?(t=">=",d?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):t==="<="&&(t="<",d?i=+i+1:o=+o+1),t==="<"&&(c="-0"),e=`${t+i}.${o}.${s}${c}`):d?e=`>=${i}.0.0${c} <${+i+1}.0.0-0`:f&&(e=`>=${i}.${o}.0${c} <${i}.${+o+1}.0-0`),Nt("xRange return",e),e})},Aw=(a,n)=>(Nt("replaceStars",a,n),a.trim().replace(xn[Sn.STAR],"")),mw=(a,n)=>(Nt("replaceGTE0",a,n),a.trim().replace(xn[n.includePrerelease?Sn.GTE0PRE:Sn.GTE0],"")),bw=a=>(n,r,e,t,i,o,s,c,l,d,f,g)=>(An(e)?r="":An(t)?r=`>=${e}.0.0${a?"-0":""}`:An(i)?r=`>=${e}.${t}.0${a?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${a?"-0":""}`,An(l)?c="":An(d)?c=`<${+l+1}.0.0-0`:An(f)?c=`<${l}.${+d+1}.0-0`:g?c=`<=${l}.${d}.${f}-${g}`:a?c=`<${l}.${d}.${+f+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),Rw=(a,n,r)=>{for(let e=0;e<a.length;e++)if(!a[e].test(n))return!1;if(n.prerelease.length&&!r.includePrerelease){for(let e=0;e<a.length;e++)if(Nt(a[e].semver),a[e].semver!==jg.ANY&&a[e].semver.prerelease.length>0){let t=a[e].semver;if(t.major===n.major&&t.minor===n.minor&&t.patch===n.patch)return!0}return!1}return!0}});var qm=z(($G,zm)=>{"use strict";var Cw=xg(),Nw=(a,n,r)=>{try{n=new Cw(n,r)}catch{return!1}return n.test(a)};zm.exports=Nw});var Kg=z((XG,Mw)=>{Mw.exports={name:"sharp",description:"High performance Node.js image processing, the fastest module to resize JPEG, PNG, WebP, GIF, AVIF and TIFF images",version:"0.34.4",author:"Lovell Fuller <npm@lovell.info>",homepage:"https://sharp.pixelplumbing.com",contributors:["Pierre Inglebert <pierre.inglebert@gmail.com>","Jonathan Ong <jonathanrichardong@gmail.com>","Chanon Sajjamanochai <chanon.s@gmail.com>","Juliano Julio <julianojulio@gmail.com>","Daniel Gasienica <daniel@gasienica.ch>","Julian Walker <julian@fiftythree.com>","Amit Pitaru <pitaru.amit@gmail.com>","Brandon Aaron <hello.brandon@aaron.sh>","Andreas Lind <andreas@one.com>","Maurus Cuelenaere <mcuelenaere@gmail.com>","Linus Unneb\xE4ck <linus@folkdatorn.se>","Victor Mateevitsi <mvictoras@gmail.com>","Alaric Holloway <alaric.holloway@gmail.com>","Bernhard K. Weisshuhn <bkw@codingforce.com>","Chris Riley <criley@primedia.com>","David Carley <dacarley@gmail.com>","John Tobin <john@limelightmobileinc.com>","Kenton Gray <kentongray@gmail.com>","Felix B\xFCnemann <Felix.Buenemann@gmail.com>","Samy Al Zahrani <samyalzahrany@gmail.com>","Chintan Thakkar <lemnisk8@gmail.com>","F. Orlando Galashan <frulo@gmx.de>","Kleis Auke Wolthuizen <info@kleisauke.nl>","Matt Hirsch <mhirsch@media.mit.edu>","Matthias Thoemmes <thoemmes@gmail.com>","Patrick Paskaris <patrick@paskaris.gr>","J\xE9r\xE9my Lal <kapouer@melix.org>","Rahul Nanwani <r.nanwani@gmail.com>","Alice Monday <alice0meta@gmail.com>","Kristo Jorgenson <kristo.jorgenson@gmail.com>","YvesBos <yves_bos@outlook.com>","Guy Maliar <guy@tailorbrands.com>","Nicolas Coden <nicolas@ncoden.fr>","Matt Parrish <matt.r.parrish@gmail.com>","Marcel Bretschneider <marcel.bretschneider@gmail.com>","Matthew McEachen <matthew+github@mceachen.org>","Jarda Kot\u011B\u0161ovec <jarda.kotesovec@gmail.com>","Kenric D'Souza <kenric.dsouza@gmail.com>","Oleh Aleinyk <oleg.aleynik@gmail.com>","Marcel Bretschneider <marcel.bretschneider@gmail.com>","Andrea Bianco <andrea.bianco@unibas.ch>","Rik Heywood <rik@rik.org>","Thomas Parisot <hi@oncletom.io>","Nathan Graves <nathanrgraves+github@gmail.com>","Tom Lokhorst <tom@lokhorst.eu>","Espen Hovlandsdal <espen@hovlandsdal.com>","Sylvain Dumont <sylvain.dumont35@gmail.com>","Alun Davies <alun.owain.davies@googlemail.com>","Aidan Hoolachan <ajhoolachan21@gmail.com>","Axel Eirola <axel.eirola@iki.fi>","Freezy <freezy@xbmc.org>","Daiz <taneli.vatanen@gmail.com>","Julian Aubourg <j@ubourg.net>","Keith Belovay <keith@picthrive.com>","Michael B. Klein <mbklein@gmail.com>","Jordan Prudhomme <jordan@raboland.fr>","Ilya Ovdin <iovdin@gmail.com>","Andargor <andargor@yahoo.com>","Paul Neave <paul.neave@gmail.com>","Brendan Kennedy <brenwken@gmail.com>","Brychan Bennett-Odlum <git@brychan.io>","Edward Silverton <e.silverton@gmail.com>","Roman Malieiev <aromaleev@gmail.com>","Tomas Szabo <tomas.szabo@deftomat.com>","Robert O'Rourke <robert@o-rourke.org>","Guillermo Alfonso Varela Chouci\xF1o <guillevch@gmail.com>","Christian Flintrup <chr@gigahost.dk>","Manan Jadhav <manan@motionden.com>","Leon Radley <leon@radley.se>","alza54 <alza54@thiocod.in>","Jacob Smith <jacob@frende.me>","Michael Nutt <michael@nutt.im>","Brad Parham <baparham@gmail.com>","Taneli Vatanen <taneli.vatanen@gmail.com>","Joris Dugu\xE9 <zaruike10@gmail.com>","Chris Banks <christopher.bradley.banks@gmail.com>","Ompal Singh <ompal.hitm09@gmail.com>","Brodan <christopher.hranj@gmail.com>","Ankur Parihar <ankur.github@gmail.com>","Brahim Ait elhaj <brahima@gmail.com>","Mart Jansink <m.jansink@gmail.com>","Lachlan Newman <lachnewman007@gmail.com>","Dennis Beatty <dennis@dcbeatty.com>","Ingvar Stepanyan <me@rreverser.com>","Don Denton <don@happycollision.com>"],scripts:{install:"node install/check.js",clean:"rm -rf src/build/ .nyc_output/ coverage/ test/fixtures/output.*",test:"npm run test-lint && npm run test-unit && npm run test-licensing && npm run test-types","test-lint":"semistandard && cpplint","test-unit":"nyc --reporter=lcov --reporter=text --check-coverage --branches=100 mocha","test-licensing":'license-checker --production --summary --onlyAllow="Apache-2.0;BSD;ISC;LGPL-3.0-or-later;MIT"',"test-leak":"./test/leak/leak.sh","test-types":"tsd","package-from-local-build":"node npm/from-local-build.js","package-release-notes":"node npm/release-notes.js","docs-build":"node docs/build.mjs","docs-serve":"cd docs && npm start","docs-publish":"cd docs && npm run build && npx firebase-tools deploy --project pixelplumbing --only hosting:pixelplumbing-sharp"},type:"commonjs",main:"lib/index.js",types:"lib/index.d.ts",files:["install","lib","src/*.{cc,h,gyp}"],repository:{type:"git",url:"git://github.com/lovell/sharp.git"},keywords:["jpeg","png","webp","avif","tiff","gif","svg","jp2","dzi","image","resize","thumbnail","crop","embed","libvips","vips"],dependencies:{"@img/colour":"^1.0.0","detect-libc":"^2.1.0",semver:"^7.7.2"},optionalDependencies:{"@img/sharp-darwin-arm64":"0.34.4","@img/sharp-darwin-x64":"0.34.4","@img/sharp-libvips-darwin-arm64":"1.2.3","@img/sharp-libvips-darwin-x64":"1.2.3","@img/sharp-libvips-linux-arm":"1.2.3","@img/sharp-libvips-linux-arm64":"1.2.3","@img/sharp-libvips-linux-ppc64":"1.2.3","@img/sharp-libvips-linux-s390x":"1.2.3","@img/sharp-libvips-linux-x64":"1.2.3","@img/sharp-libvips-linuxmusl-arm64":"1.2.3","@img/sharp-libvips-linuxmusl-x64":"1.2.3","@img/sharp-linux-arm":"0.34.4","@img/sharp-linux-arm64":"0.34.4","@img/sharp-linux-ppc64":"0.34.4","@img/sharp-linux-s390x":"0.34.4","@img/sharp-linux-x64":"0.34.4","@img/sharp-linuxmusl-arm64":"0.34.4","@img/sharp-linuxmusl-x64":"0.34.4","@img/sharp-wasm32":"0.34.4","@img/sharp-win32-arm64":"0.34.4","@img/sharp-win32-ia32":"0.34.4","@img/sharp-win32-x64":"0.34.4"},devDependencies:{"@emnapi/runtime":"^1.5.0","@img/sharp-libvips-dev":"1.2.3","@img/sharp-libvips-dev-wasm32":"1.2.3","@img/sharp-libvips-win32-arm64":"1.2.3","@img/sharp-libvips-win32-ia32":"1.2.3","@img/sharp-libvips-win32-x64":"1.2.3","@types/node":"*",cc:"^3.0.1",emnapi:"^1.5.0","exif-reader":"^2.0.2","extract-zip":"^2.0.1",icc:"^3.0.0","jsdoc-to-markdown":"^9.1.2","license-checker":"^25.0.1",mocha:"^11.7.2","node-addon-api":"^8.5.0","node-gyp":"^11.4.2",nyc:"^17.1.0",semistandard:"^17.0.0","tar-fs":"^3.1.1",tsd:"^0.33.0"},license:"Apache-2.0",engines:{node:"^18.17.0 || ^20.3.0 || >=21.0.0"},config:{libvips:">=8.17.2"},funding:{url:"https://opencollective.com/libvips"},semistandard:{env:["mocha"]},cc:{linelength:"120",filter:["build/include"]},nyc:{include:["lib"]},tsd:{directory:"test/types/"}}});var Gg=z((JG,ib)=>{"use strict";var{spawnSync:ed}=_t("node:child_process"),{createHash:Pw}=_t("node:crypto"),Qm=_m(),Lw=wg(),Dw=qm(),$m=Wu(),{config:ww,engines:Xm,optionalDependencies:kw}=Kg(),vw=process.env.npm_package_config_libvips||ww.libvips,Zm=Qm(vw).version,Uw=["darwin-arm64","darwin-x64","linux-arm","linux-arm64","linux-ppc64","linux-s390x","linux-x64","linuxmusl-arm64","linuxmusl-x64","win32-arm64","win32-ia32","win32-x64"],td={encoding:"utf8",shell:!0},Bw=a=>{a instanceof Error?console.error(`sharp: Installation error: ${a.message}`):console.log(`sharp: ${a}`)},eb=()=>$m.isNonGlibcLinuxSync()?$m.familySync():"",xw=()=>`${process.platform}${eb()}-${process.arch}`,es=()=>{if(tb())return"wasm32";let{npm_config_arch:a,npm_config_platform:n,npm_config_libc:r}=process.env,e=typeof r=="string"?r:eb();return`${n||process.platform}${e}-${a||process.arch}`},Fw=()=>{try{return _t(`@img/sharp-libvips-dev-${es()}/include`)}catch{try{return _t("@img/sharp-libvips-dev/include")}catch{}}return""},jw=()=>{try{return _t("@img/sharp-libvips-dev/cplusplus")}catch{}return""},Kw=()=>{try{return _t(`@img/sharp-libvips-dev-${es()}/lib`)}catch{try{return _t(`@img/sharp-libvips-${es()}/lib`)}catch{}}return""},Hw=()=>{if(process.release?.name==="node"&&process.versions&&!Dw(process.versions.node,Xm.node))return{found:process.versions.node,expected:Xm.node}},tb=()=>{let{CC:a}=process.env;return!!(a&&a.endsWith("/emcc"))},Gw=()=>process.platform==="darwin"&&process.arch==="x64"?(ed("sysctl sysctl.proc_translated",td).stdout||"").trim()==="sysctl.proc_translated: 1":!1,Jm=a=>Pw("sha512").update(a).digest("hex"),Vw=()=>{try{let a=Jm(`imgsharp-libvips-${es()}`),n=Qm(kw[`@img/sharp-libvips-${es()}`],{includePrerelease:!0}).version;return Jm(`${a}npm:${n}`).slice(0,10)}catch{}return""},Ww=()=>ed(`node-gyp rebuild --directory=src ${tb()?"--nodedir=emscripten":""}`,{...td,stdio:"inherit"}).status,nb=()=>process.platform!=="win32"?(ed("pkg-config --modversion vips-cpp",{...td,env:{...process.env,PKG_CONFIG_PATH:rb()}}).stdout||"").trim():"",rb=()=>process.platform!=="win32"?[(ed('which brew >/dev/null 2>&1 && brew environment --plain | grep PKG_CONFIG_LIBDIR | cut -d" " -f2',td).stdout||"").trim(),process.env.PKG_CONFIG_PATH,"/usr/local/lib/pkgconfig","/usr/lib/pkgconfig","/usr/local/libdata/pkgconfig","/usr/libdata/pkgconfig"].filter(Boolean).join(":"):"",Hg=(a,n,r)=>(r&&r(`Detected ${n}, skipping search for globally-installed libvips`),a),Yw=a=>{if(process.env.SHARP_IGNORE_GLOBAL_LIBVIPS)return Hg(!1,"SHARP_IGNORE_GLOBAL_LIBVIPS",a);if(process.env.SHARP_FORCE_GLOBAL_LIBVIPS)return Hg(!0,"SHARP_FORCE_GLOBAL_LIBVIPS",a);if(Gw())return Hg(!1,"Rosetta",a);let n=nb();return!!n&&Lw(n,Zm)};ib.exports={minimumLibvipsVersion:Zm,prebuiltPlatforms:Uw,buildPlatformArch:es,buildSharpLibvipsIncludeDir:Fw,buildSharpLibvipsCPlusPlusDir:jw,buildSharpLibvipsLibDir:Kw,isUnsupportedNodeRuntime:Hw,runtimePlatformArch:xw,log:Bw,yarnLocator:Vw,spawnRebuild:Ww,globalLibvipsVersion:nb,pkgConfigPath:rb,useGlobalLibvips:Yw}});var Fc=z((ZG,ob)=>{"use strict";var{familySync:zw,versionSync:qw}=Wu(),{runtimePlatformArch:$w,isUnsupportedNodeRuntime:ab,prebuiltPlatforms:Xw,minimumLibvipsVersion:Jw}=Gg(),Va=$w(),Qw=[`../src/build/Release/sharp-${Va}.node`,"../src/build/Release/sharp-wasm32.node",`@img/sharp-${Va}/sharp.node`,"@img/sharp-wasm32/sharp.node"],Vg,ts,xc=[];for(Vg of Qw)try{ts=_t(Vg);break}catch(a){xc.push(a)}if(ts&&Vg.startsWith("@img/sharp-linux-x64")&&!ts._isUsingX64V2()){let a=new Error("Prebuilt binaries for linux-x64 require v2 microarchitecture");a.code="Unsupported CPU",xc.push(a),ts=null}if(ts)ob.exports=ts;else{let[a,n,r]=["linux","darwin","win32"].map(i=>Va.startsWith(i)),e=[`Could not load the "sharp" module using the ${Va} runtime`];xc.forEach(i=>{i.code!=="MODULE_NOT_FOUND"&&e.push(`${i.code}: ${i.message}`)});let t=xc.map(i=>i.message).join(" ");if(e.push("Possible solutions:"),ab()){let{found:i,expected:o}=ab();e.push("- Please upgrade Node.js:",`    Found ${i}`,`    Requires ${o}`)}else if(Xw.includes(Va)){let[i,o]=Va.split("-"),s=i.endsWith("musl")?" --libc=musl":"";e.push("- Ensure optional dependencies can be installed:","    npm install --include=optional sharp","- Ensure your package manager supports multi-platform installation:","    See https://sharp.pixelplumbing.com/install#cross-platform","- Add platform-specific dependencies:",`    npm install --os=${i.replace("musl","")}${s} --cpu=${o} sharp`)}else e.push(`- Manually install libvips >= ${Jw}`,"- Add experimental WebAssembly-based dependencies:","    npm install --cpu=wasm32 sharp","    npm install @img/sharp-wasm32");if(a&&/(symbol not found|CXXABI_)/i.test(t))try{let{config:i}=_t(`@img/sharp-libvips-${Va}/package`),o=`${zw()} ${qw()}`,s=`${i.musl?"musl":"glibc"} ${i.musl||i.glibc}`;e.push("- Update your OS:",`    Found ${o}`,`    Requires ${s}`)}catch{}throw a&&/\/snap\/core[0-9]{2}/.test(t)&&e.push("- Remove the Node.js Snap, which does not support native modules","    snap remove node"),n&&/Incompatible library version/.test(t)&&e.push("- Update Homebrew:","    brew update && brew upgrade vips"),xc.some(i=>i.code==="ERR_DLOPEN_DISABLED")&&e.push("- Run Node.js without using the --no-addons flag"),r&&/The specified procedure could not be found/.test(t)&&e.push("- Using the canvas package on Windows?","    See https://sharp.pixelplumbing.com/install#canvas-and-windows","- Check for outdated versions of sharp in the dependency tree:","    npm ls sharp"),e.push("- Consult the installation documentation:","    See https://sharp.pixelplumbing.com/install"),new Error(e.join(`
`))}});var cb=z((tV,sb)=>{"use strict";var Zw=_t("node:util"),Wg=_t("node:stream"),ek=qr();Fc();var tk=Zw.debuglog("sharp"),Wa=function(a,n){if(arguments.length===1&&!ek.defined(a))throw new Error("Invalid input");return this instanceof Wa?(Wg.Duplex.call(this),this.options={topOffsetPre:-1,leftOffsetPre:-1,widthPre:-1,heightPre:-1,topOffsetPost:-1,leftOffsetPost:-1,widthPost:-1,heightPost:-1,width:-1,height:-1,canvas:"crop",position:0,resizeBackground:[0,0,0,255],angle:0,rotationAngle:0,rotationBackground:[0,0,0,255],rotateBefore:!1,orientBefore:!1,flip:!1,flop:!1,extendTop:0,extendBottom:0,extendLeft:0,extendRight:0,extendBackground:[0,0,0,255],extendWith:"background",withoutEnlargement:!1,withoutReduction:!1,affineMatrix:[],affineBackground:[0,0,0,255],affineIdx:0,affineIdy:0,affineOdx:0,affineOdy:0,affineInterpolator:this.constructor.interpolators.bilinear,kernel:"lanczos3",fastShrinkOnLoad:!0,tint:[-1,0,0,0],flatten:!1,flattenBackground:[0,0,0],unflatten:!1,negate:!1,negateAlpha:!0,medianSize:0,blurSigma:0,precision:"integer",minAmpl:.2,sharpenSigma:0,sharpenM1:1,sharpenM2:2,sharpenX1:2,sharpenY2:10,sharpenY3:20,threshold:0,thresholdGrayscale:!0,trimBackground:[],trimThreshold:-1,trimLineArt:!1,dilateWidth:0,erodeWidth:0,gamma:0,gammaOut:0,greyscale:!1,normalise:!1,normaliseLower:1,normaliseUpper:99,claheWidth:0,claheHeight:0,claheMaxSlope:3,brightness:1,saturation:1,hue:0,lightness:0,booleanBufferIn:null,booleanFileIn:"",joinChannelIn:[],extractChannel:-1,removeAlpha:!1,ensureAlpha:-1,colourspace:"srgb",colourspacePipeline:"last",composite:[],fileOut:"",formatOut:"input",streamOut:!1,keepMetadata:0,withMetadataOrientation:-1,withMetadataDensity:0,withIccProfile:"",withExif:{},withExifMerge:!0,withXmp:"",resolveWithObject:!1,loop:-1,delay:[],jpegQuality:80,jpegProgressive:!1,jpegChromaSubsampling:"4:2:0",jpegTrellisQuantisation:!1,jpegOvershootDeringing:!1,jpegOptimiseScans:!1,jpegOptimiseCoding:!0,jpegQuantisationTable:0,pngProgressive:!1,pngCompressionLevel:6,pngAdaptiveFiltering:!1,pngPalette:!1,pngQuality:100,pngEffort:7,pngBitdepth:8,pngDither:1,jp2Quality:80,jp2TileHeight:512,jp2TileWidth:512,jp2Lossless:!1,jp2ChromaSubsampling:"4:4:4",webpQuality:80,webpAlphaQuality:100,webpLossless:!1,webpNearLossless:!1,webpSmartSubsample:!1,webpSmartDeblock:!1,webpPreset:"default",webpEffort:4,webpMinSize:!1,webpMixed:!1,gifBitdepth:8,gifEffort:7,gifDither:1,gifInterFrameMaxError:0,gifInterPaletteMaxError:3,gifKeepDuplicateFrames:!1,gifReuse:!0,gifProgressive:!1,tiffQuality:80,tiffCompression:"jpeg",tiffPredictor:"horizontal",tiffPyramid:!1,tiffMiniswhite:!1,tiffBitdepth:8,tiffTile:!1,tiffTileHeight:256,tiffTileWidth:256,tiffXres:1,tiffYres:1,tiffResolutionUnit:"inch",heifQuality:50,heifLossless:!1,heifCompression:"av1",heifEffort:4,heifChromaSubsampling:"4:4:4",heifBitdepth:8,jxlDistance:1,jxlDecodingTier:0,jxlEffort:7,jxlLossless:!1,rawDepth:"uchar",tileSize:256,tileOverlap:0,tileContainer:"fs",tileLayout:"dz",tileFormat:"last",tileDepth:"last",tileAngle:0,tileSkipBlanks:-1,tileBackground:[255,255,255,255],tileCentre:!1,tileId:"https://example.com/iiif",tileBasename:"",timeoutSeconds:0,linearA:[],linearB:[],pdfBackground:[255,255,255,255],debuglog:r=>{this.emit("warning",r),tk(r)},queueListener:function(r){Wa.queue.emit("change",r)}},this.options.input=this._createInputDescriptor(a,n,{allowStream:!0}),this):new Wa(a,n)};Object.setPrototypeOf(Wa.prototype,Wg.Duplex.prototype);Object.setPrototypeOf(Wa,Wg.Duplex);function nk(){let a=this.constructor.call(),{debuglog:n,queueListener:r,...e}=this.options;return a.options=structuredClone(e),a.options.debuglog=n,a.options.queueListener=r,this._isStreamInput()&&this.on("finish",()=>{this._flattenBufferIn(),a.options.input.buffer=this.options.input.buffer,a.emit("finish")}),a}Object.assign(Wa.prototype,{clone:nk});sb.exports=Wa});var db=z((nV,ub)=>{"use strict";var P=qr(),ca=Fc(),rk={left:"low",top:"low",low:"low",center:"centre",centre:"centre",right:"high",bottom:"high",high:"high"},ik=["failOn","limitInputPixels","unlimited","animated","autoOrient","density","ignoreIcc","page","pages","sequentialRead","jp2","openSlide","pdf","raw","svg","tiff","failOnError","openSlideLevel","pdfBackground","tiffSubifd"];function lb(a){let n=ik.filter(r=>P.defined(a[r])).map(r=>[r,a[r]]);return n.length?Object.fromEntries(n):void 0}function ak(a,n,r){let e={autoOrient:!1,failOn:"warning",limitInputPixels:Math.pow(16383,2),ignoreIcc:!1,unlimited:!1,sequentialRead:!0};if(P.string(a))e.file=a;else if(P.buffer(a)){if(a.length===0)throw Error("Input Buffer is empty");e.buffer=a}else if(P.arrayBuffer(a)){if(a.byteLength===0)throw Error("Input bit Array is empty");e.buffer=Buffer.from(a,0,a.byteLength)}else if(P.typedArray(a)){if(a.length===0)throw Error("Input Bit Array is empty");e.buffer=Buffer.from(a.buffer,a.byteOffset,a.byteLength)}else if(P.plainObject(a)&&!P.defined(n))n=a,lb(n)&&(e.buffer=[]);else if(!P.defined(a)&&!P.defined(n)&&P.object(r)&&r.allowStream)e.buffer=[];else if(Array.isArray(a))if(a.length>1)if(!this.options.joining)this.options.joining=!0,this.options.join=a.map(t=>this._createInputDescriptor(t));else throw new Error("Recursive join is unsupported");else throw new Error("Expected at least two images to join");else throw new Error(`Unsupported input '${a}' of type ${typeof a}${P.defined(n)?` when also providing options of type ${typeof n}`:""}`);if(P.object(n)){if(P.defined(n.failOnError))if(P.bool(n.failOnError))e.failOn=n.failOnError?"warning":"none";else throw P.invalidParameterError("failOnError","boolean",n.failOnError);if(P.defined(n.failOn))if(P.string(n.failOn)&&P.inArray(n.failOn,["none","truncated","error","warning"]))e.failOn=n.failOn;else throw P.invalidParameterError("failOn","one of: none, truncated, error, warning",n.failOn);if(P.defined(n.autoOrient))if(P.bool(n.autoOrient))e.autoOrient=n.autoOrient;else throw P.invalidParameterError("autoOrient","boolean",n.autoOrient);if(P.defined(n.density))if(P.inRange(n.density,1,1e5))e.density=n.density;else throw P.invalidParameterError("density","number between 1 and 100000",n.density);if(P.defined(n.ignoreIcc))if(P.bool(n.ignoreIcc))e.ignoreIcc=n.ignoreIcc;else throw P.invalidParameterError("ignoreIcc","boolean",n.ignoreIcc);if(P.defined(n.limitInputPixels))if(P.bool(n.limitInputPixels))e.limitInputPixels=n.limitInputPixels?Math.pow(16383,2):0;else if(P.integer(n.limitInputPixels)&&P.inRange(n.limitInputPixels,0,Number.MAX_SAFE_INTEGER))e.limitInputPixels=n.limitInputPixels;else throw P.invalidParameterError("limitInputPixels","positive integer",n.limitInputPixels);if(P.defined(n.unlimited))if(P.bool(n.unlimited))e.unlimited=n.unlimited;else throw P.invalidParameterError("unlimited","boolean",n.unlimited);if(P.defined(n.sequentialRead))if(P.bool(n.sequentialRead))e.sequentialRead=n.sequentialRead;else throw P.invalidParameterError("sequentialRead","boolean",n.sequentialRead);if(P.defined(n.raw)){if(P.object(n.raw)&&P.integer(n.raw.width)&&n.raw.width>0&&P.integer(n.raw.height)&&n.raw.height>0&&P.integer(n.raw.channels)&&P.inRange(n.raw.channels,1,4))switch(e.rawWidth=n.raw.width,e.rawHeight=n.raw.height,e.rawChannels=n.raw.channels,a.constructor){case Uint8Array:case Uint8ClampedArray:e.rawDepth="uchar";break;case Int8Array:e.rawDepth="char";break;case Uint16Array:e.rawDepth="ushort";break;case Int16Array:e.rawDepth="short";break;case Uint32Array:e.rawDepth="uint";break;case Int32Array:e.rawDepth="int";break;case Float32Array:e.rawDepth="float";break;case Float64Array:e.rawDepth="double";break;default:e.rawDepth="uchar";break}else throw new Error("Expected width, height and channels for raw pixel input");if(e.rawPremultiplied=!1,P.defined(n.raw.premultiplied))if(P.bool(n.raw.premultiplied))e.rawPremultiplied=n.raw.premultiplied;else throw P.invalidParameterError("raw.premultiplied","boolean",n.raw.premultiplied);if(e.rawPageHeight=0,P.defined(n.raw.pageHeight))if(P.integer(n.raw.pageHeight)&&n.raw.pageHeight>0&&n.raw.pageHeight<=n.raw.height){if(n.raw.height%n.raw.pageHeight!==0)throw new Error(`Expected raw.height ${n.raw.height} to be a multiple of raw.pageHeight ${n.raw.pageHeight}`);e.rawPageHeight=n.raw.pageHeight}else throw P.invalidParameterError("raw.pageHeight","positive integer",n.raw.pageHeight)}if(P.defined(n.animated))if(P.bool(n.animated))e.pages=n.animated?-1:1;else throw P.invalidParameterError("animated","boolean",n.animated);if(P.defined(n.pages))if(P.integer(n.pages)&&P.inRange(n.pages,-1,1e5))e.pages=n.pages;else throw P.invalidParameterError("pages","integer between -1 and 100000",n.pages);if(P.defined(n.page))if(P.integer(n.page)&&P.inRange(n.page,0,1e5))e.page=n.page;else throw P.invalidParameterError("page","integer between 0 and 100000",n.page);if(P.object(n.openSlide)&&P.defined(n.openSlide.level))if(P.integer(n.openSlide.level)&&P.inRange(n.openSlide.level,0,256))e.openSlideLevel=n.openSlide.level;else throw P.invalidParameterError("openSlide.level","integer between 0 and 256",n.openSlide.level);else if(P.defined(n.level))if(P.integer(n.level)&&P.inRange(n.level,0,256))e.openSlideLevel=n.level;else throw P.invalidParameterError("level","integer between 0 and 256",n.level);if(P.object(n.tiff)&&P.defined(n.tiff.subifd))if(P.integer(n.tiff.subifd)&&P.inRange(n.tiff.subifd,-1,1e5))e.tiffSubifd=n.tiff.subifd;else throw P.invalidParameterError("tiff.subifd","integer between -1 and 100000",n.tiff.subifd);else if(P.defined(n.subifd))if(P.integer(n.subifd)&&P.inRange(n.subifd,-1,1e5))e.tiffSubifd=n.subifd;else throw P.invalidParameterError("subifd","integer between -1 and 100000",n.subifd);if(P.object(n.svg)){if(P.defined(n.svg.stylesheet))if(P.string(n.svg.stylesheet))e.svgStylesheet=n.svg.stylesheet;else throw P.invalidParameterError("svg.stylesheet","string",n.svg.stylesheet);if(P.defined(n.svg.highBitdepth))if(P.bool(n.svg.highBitdepth))e.svgHighBitdepth=n.svg.highBitdepth;else throw P.invalidParameterError("svg.highBitdepth","boolean",n.svg.highBitdepth)}if(P.object(n.pdf)&&P.defined(n.pdf.background)?e.pdfBackground=this._getBackgroundColourOption(n.pdf.background):P.defined(n.pdfBackground)&&(e.pdfBackground=this._getBackgroundColourOption(n.pdfBackground)),P.object(n.jp2)&&P.defined(n.jp2.oneshot))if(P.bool(n.jp2.oneshot))e.jp2Oneshot=n.jp2.oneshot;else throw P.invalidParameterError("jp2.oneshot","boolean",n.jp2.oneshot);if(P.defined(n.create))if(P.object(n.create)&&P.integer(n.create.width)&&n.create.width>0&&P.integer(n.create.height)&&n.create.height>0&&P.integer(n.create.channels)){if(e.createWidth=n.create.width,e.createHeight=n.create.height,e.createChannels=n.create.channels,e.createPageHeight=0,P.defined(n.create.pageHeight))if(P.integer(n.create.pageHeight)&&n.create.pageHeight>0&&n.create.pageHeight<=n.create.height){if(n.create.height%n.create.pageHeight!==0)throw new Error(`Expected create.height ${n.create.height} to be a multiple of create.pageHeight ${n.create.pageHeight}`);e.createPageHeight=n.create.pageHeight}else throw P.invalidParameterError("create.pageHeight","positive integer",n.create.pageHeight);if(P.defined(n.create.noise)){if(!P.object(n.create.noise))throw new Error("Expected noise to be an object");if(n.create.noise.type!=="gaussian")throw new Error("Only gaussian noise is supported at the moment");if(e.createNoiseType=n.create.noise.type,!P.inRange(n.create.channels,1,4))throw P.invalidParameterError("create.channels","number between 1 and 4",n.create.channels);if(e.createNoiseMean=128,P.defined(n.create.noise.mean))if(P.number(n.create.noise.mean)&&P.inRange(n.create.noise.mean,0,1e4))e.createNoiseMean=n.create.noise.mean;else throw P.invalidParameterError("create.noise.mean","number between 0 and 10000",n.create.noise.mean);if(e.createNoiseSigma=30,P.defined(n.create.noise.sigma))if(P.number(n.create.noise.sigma)&&P.inRange(n.create.noise.sigma,0,1e4))e.createNoiseSigma=n.create.noise.sigma;else throw P.invalidParameterError("create.noise.sigma","number between 0 and 10000",n.create.noise.sigma)}else if(P.defined(n.create.background)){if(!P.inRange(n.create.channels,3,4))throw P.invalidParameterError("create.channels","number between 3 and 4",n.create.channels);e.createBackground=this._getBackgroundColourOption(n.create.background)}else throw new Error("Expected valid noise or background to create a new input image");delete e.buffer}else throw new Error("Expected valid width, height and channels to create a new input image");if(P.defined(n.text))if(P.object(n.text)&&P.string(n.text.text)){if(e.textValue=n.text.text,P.defined(n.text.height)&&P.defined(n.text.dpi))throw new Error("Expected only one of dpi or height");if(P.defined(n.text.font))if(P.string(n.text.font))e.textFont=n.text.font;else throw P.invalidParameterError("text.font","string",n.text.font);if(P.defined(n.text.fontfile))if(P.string(n.text.fontfile))e.textFontfile=n.text.fontfile;else throw P.invalidParameterError("text.fontfile","string",n.text.fontfile);if(P.defined(n.text.width))if(P.integer(n.text.width)&&n.text.width>0)e.textWidth=n.text.width;else throw P.invalidParameterError("text.width","positive integer",n.text.width);if(P.defined(n.text.height))if(P.integer(n.text.height)&&n.text.height>0)e.textHeight=n.text.height;else throw P.invalidParameterError("text.height","positive integer",n.text.height);if(P.defined(n.text.align))if(P.string(n.text.align)&&P.string(this.constructor.align[n.text.align]))e.textAlign=this.constructor.align[n.text.align];else throw P.invalidParameterError("text.align","valid alignment",n.text.align);if(P.defined(n.text.justify))if(P.bool(n.text.justify))e.textJustify=n.text.justify;else throw P.invalidParameterError("text.justify","boolean",n.text.justify);if(P.defined(n.text.dpi))if(P.integer(n.text.dpi)&&P.inRange(n.text.dpi,1,1e6))e.textDpi=n.text.dpi;else throw P.invalidParameterError("text.dpi","integer between 1 and 1000000",n.text.dpi);if(P.defined(n.text.rgba))if(P.bool(n.text.rgba))e.textRgba=n.text.rgba;else throw P.invalidParameterError("text.rgba","bool",n.text.rgba);if(P.defined(n.text.spacing))if(P.integer(n.text.spacing)&&P.inRange(n.text.spacing,-1e6,1e6))e.textSpacing=n.text.spacing;else throw P.invalidParameterError("text.spacing","integer between -1000000 and 1000000",n.text.spacing);if(P.defined(n.text.wrap))if(P.string(n.text.wrap)&&P.inArray(n.text.wrap,["word","char","word-char","none"]))e.textWrap=n.text.wrap;else throw P.invalidParameterError("text.wrap","one of: word, char, word-char, none",n.text.wrap);delete e.buffer}else throw new Error("Expected a valid string to create an image with text.");if(P.defined(n.join))if(P.defined(this.options.join)){if(P.defined(n.join.animated))if(P.bool(n.join.animated))e.joinAnimated=n.join.animated;else throw P.invalidParameterError("join.animated","boolean",n.join.animated);if(P.defined(n.join.across))if(P.integer(n.join.across)&&P.inRange(n.join.across,1,1e6))e.joinAcross=n.join.across;else throw P.invalidParameterError("join.across","integer between 1 and 100000",n.join.across);if(P.defined(n.join.shim))if(P.integer(n.join.shim)&&P.inRange(n.join.shim,0,1e6))e.joinShim=n.join.shim;else throw P.invalidParameterError("join.shim","integer between 0 and 100000",n.join.shim);if(P.defined(n.join.background)&&(e.joinBackground=this._getBackgroundColourOption(n.join.background)),P.defined(n.join.halign))if(P.string(n.join.halign)&&P.string(this.constructor.align[n.join.halign]))e.joinHalign=this.constructor.align[n.join.halign];else throw P.invalidParameterError("join.halign","valid alignment",n.join.halign);if(P.defined(n.join.valign))if(P.string(n.join.valign)&&P.string(this.constructor.align[n.join.valign]))e.joinValign=this.constructor.align[n.join.valign];else throw P.invalidParameterError("join.valign","valid alignment",n.join.valign)}else throw new Error("Expected input to be an array of images to join")}else if(P.defined(n))throw new Error("Invalid input options "+n);return e}function ok(a,n,r){Array.isArray(this.options.input.buffer)?P.buffer(a)?(this.options.input.buffer.length===0&&this.on("finish",()=>{this.streamInFinished=!0}),this.options.input.buffer.push(a),r()):r(new Error("Non-Buffer data on Writable Stream")):r(new Error("Unexpected data on Writable Stream"))}function sk(){this._isStreamInput()&&(this.options.input.buffer=Buffer.concat(this.options.input.buffer))}function ck(){return Array.isArray(this.options.input.buffer)}function lk(a){let n=Error();return P.fn(a)?(this._isStreamInput()?this.on("finish",()=>{this._flattenBufferIn(),ca.metadata(this.options,(r,e)=>{r?a(P.nativeError(r,n)):a(null,e)})}):ca.metadata(this.options,(r,e)=>{r?a(P.nativeError(r,n)):a(null,e)}),this):this._isStreamInput()?new Promise((r,e)=>{let t=()=>{this._flattenBufferIn(),ca.metadata(this.options,(i,o)=>{i?e(P.nativeError(i,n)):r(o)})};this.writableFinished?t():this.once("finish",t)}):new Promise((r,e)=>{ca.metadata(this.options,(t,i)=>{t?e(P.nativeError(t,n)):r(i)})})}function uk(a){let n=Error();return P.fn(a)?(this._isStreamInput()?this.on("finish",()=>{this._flattenBufferIn(),ca.stats(this.options,(r,e)=>{r?a(P.nativeError(r,n)):a(null,e)})}):ca.stats(this.options,(r,e)=>{r?a(P.nativeError(r,n)):a(null,e)}),this):this._isStreamInput()?new Promise((r,e)=>{this.on("finish",function(){this._flattenBufferIn(),ca.stats(this.options,(t,i)=>{t?e(P.nativeError(t,n)):r(i)})})}):new Promise((r,e)=>{ca.stats(this.options,(t,i)=>{t?e(P.nativeError(t,n)):r(i)})})}ub.exports=function(a){Object.assign(a.prototype,{_inputOptionsFromObject:lb,_createInputDescriptor:ak,_write:ok,_flattenBufferIn:sk,_isStreamInput:ck,metadata:lk,stats:uk}),a.align=rk}});var yb=z((rV,Eb)=>{"use strict";var De=qr(),fb={center:0,centre:0,north:1,east:2,south:3,west:4,northeast:5,southeast:6,southwest:7,northwest:8},hb={top:1,right:2,bottom:3,left:4,"right top":5,"right bottom":6,"left bottom":7,"left top":8},pb={background:"background",copy:"copy",repeat:"repeat",mirror:"mirror"},gb={entropy:16,attention:17},Yg={nearest:"nearest",linear:"linear",cubic:"cubic",mitchell:"mitchell",lanczos2:"lanczos2",lanczos3:"lanczos3",mks2013:"mks2013",mks2021:"mks2021"},dk={contain:"contain",cover:"cover",fill:"fill",inside:"inside",outside:"outside"},pk={contain:"embed",cover:"crop",fill:"ignore_aspect",inside:"max",outside:"min"};function zg(a){return a.angle%360!==0||a.rotationAngle!==0}function nd(a){return a.width!==-1||a.height!==-1}function fk(a,n,r){if(nd(this.options)&&this.options.debuglog("ignoring previous resize options"),this.options.widthPost!==-1&&this.options.debuglog("operation order will be: extract, resize, extract"),De.defined(a))if(De.object(a)&&!De.defined(r))r=a;else if(De.integer(a)&&a>0)this.options.width=a;else throw De.invalidParameterError("width","positive integer",a);else this.options.width=-1;if(De.defined(n))if(De.integer(n)&&n>0)this.options.height=n;else throw De.invalidParameterError("height","positive integer",n);else this.options.height=-1;if(De.object(r)){if(De.defined(r.width))if(De.integer(r.width)&&r.width>0)this.options.width=r.width;else throw De.invalidParameterError("width","positive integer",r.width);if(De.defined(r.height))if(De.integer(r.height)&&r.height>0)this.options.height=r.height;else throw De.invalidParameterError("height","positive integer",r.height);if(De.defined(r.fit)){let e=pk[r.fit];if(De.string(e))this.options.canvas=e;else throw De.invalidParameterError("fit","valid fit",r.fit)}if(De.defined(r.position)){let e=De.integer(r.position)?r.position:gb[r.position]||hb[r.position]||fb[r.position];if(De.integer(e)&&(De.inRange(e,0,8)||De.inRange(e,16,17)))this.options.position=e;else throw De.invalidParameterError("position","valid position/gravity/strategy",r.position)}if(this._setBackgroundColourOption("resizeBackground",r.background),De.defined(r.kernel))if(De.string(Yg[r.kernel]))this.options.kernel=Yg[r.kernel];else throw De.invalidParameterError("kernel","valid kernel name",r.kernel);De.defined(r.withoutEnlargement)&&this._setBooleanOption("withoutEnlargement",r.withoutEnlargement),De.defined(r.withoutReduction)&&this._setBooleanOption("withoutReduction",r.withoutReduction),De.defined(r.fastShrinkOnLoad)&&this._setBooleanOption("fastShrinkOnLoad",r.fastShrinkOnLoad)}return zg(this.options)&&nd(this.options)&&(this.options.rotateBefore=!0),this}function hk(a){if(De.integer(a)&&a>0)this.options.extendTop=a,this.options.extendBottom=a,this.options.extendLeft=a,this.options.extendRight=a;else if(De.object(a)){if(De.defined(a.top))if(De.integer(a.top)&&a.top>=0)this.options.extendTop=a.top;else throw De.invalidParameterError("top","positive integer",a.top);if(De.defined(a.bottom))if(De.integer(a.bottom)&&a.bottom>=0)this.options.extendBottom=a.bottom;else throw De.invalidParameterError("bottom","positive integer",a.bottom);if(De.defined(a.left))if(De.integer(a.left)&&a.left>=0)this.options.extendLeft=a.left;else throw De.invalidParameterError("left","positive integer",a.left);if(De.defined(a.right))if(De.integer(a.right)&&a.right>=0)this.options.extendRight=a.right;else throw De.invalidParameterError("right","positive integer",a.right);if(this._setBackgroundColourOption("extendBackground",a.background),De.defined(a.extendWith))if(De.string(pb[a.extendWith]))this.options.extendWith=pb[a.extendWith];else throw De.invalidParameterError("extendWith","one of: background, copy, repeat, mirror",a.extendWith)}else throw De.invalidParameterError("extend","integer or object",a);return this}function gk(a){let n=nd(this.options)||this.options.widthPre!==-1?"Post":"Pre";return this.options[`width${n}`]!==-1&&this.options.debuglog("ignoring previous extract options"),["left","top","width","height"].forEach(function(r){let e=a[r];if(De.integer(e)&&e>=0)this.options[r+(r==="left"||r==="top"?"Offset":"")+n]=e;else throw De.invalidParameterError(r,"integer",e)},this),zg(this.options)&&!nd(this.options)&&(this.options.widthPre===-1||this.options.widthPost===-1)&&(this.options.rotateBefore=!0),this.options.input.autoOrient&&(this.options.orientBefore=!0),this}function Ek(a){if(this.options.trimThreshold=10,De.defined(a))if(De.object(a)){if(De.defined(a.background)&&this._setBackgroundColourOption("trimBackground",a.background),De.defined(a.threshold))if(De.number(a.threshold)&&a.threshold>=0)this.options.trimThreshold=a.threshold;else throw De.invalidParameterError("threshold","positive number",a.threshold);De.defined(a.lineArt)&&this._setBooleanOption("trimLineArt",a.lineArt)}else throw De.invalidParameterError("trim","object",a);return zg(this.options)&&(this.options.rotateBefore=!0),this}Eb.exports=function(a){Object.assign(a.prototype,{resize:fk,extend:hk,extract:gk,trim:Ek}),a.gravity=fb,a.strategy=gb,a.kernel=Yg,a.fit=dk,a.position=hb}});var Tb=z((iV,_b)=>{"use strict";var mt=qr(),qg={clear:"clear",source:"source",over:"over",in:"in",out:"out",atop:"atop",dest:"dest","dest-over":"dest-over","dest-in":"dest-in","dest-out":"dest-out","dest-atop":"dest-atop",xor:"xor",add:"add",saturate:"saturate",multiply:"multiply",screen:"screen",overlay:"overlay",darken:"darken",lighten:"lighten","colour-dodge":"colour-dodge","color-dodge":"colour-dodge","colour-burn":"colour-burn","color-burn":"colour-burn","hard-light":"hard-light","soft-light":"soft-light",difference:"difference",exclusion:"exclusion"};function yk(a){if(!Array.isArray(a))throw mt.invalidParameterError("images to composite","array",a);return this.options.composite=a.map(n=>{if(!mt.object(n))throw mt.invalidParameterError("image to composite","object",n);let r=this._inputOptionsFromObject(n),e={input:this._createInputDescriptor(n.input,r,{allowStream:!1}),blend:"over",tile:!1,left:0,top:0,hasOffset:!1,gravity:0,premultiplied:!1};if(mt.defined(n.blend))if(mt.string(qg[n.blend]))e.blend=qg[n.blend];else throw mt.invalidParameterError("blend","valid blend name",n.blend);if(mt.defined(n.tile))if(mt.bool(n.tile))e.tile=n.tile;else throw mt.invalidParameterError("tile","boolean",n.tile);if(mt.defined(n.left))if(mt.integer(n.left))e.left=n.left;else throw mt.invalidParameterError("left","integer",n.left);if(mt.defined(n.top))if(mt.integer(n.top))e.top=n.top;else throw mt.invalidParameterError("top","integer",n.top);if(mt.defined(n.top)!==mt.defined(n.left))throw new Error("Expected both left and top to be set");if(e.hasOffset=mt.integer(n.top)&&mt.integer(n.left),mt.defined(n.gravity))if(mt.integer(n.gravity)&&mt.inRange(n.gravity,0,8))e.gravity=n.gravity;else if(mt.string(n.gravity)&&mt.integer(this.constructor.gravity[n.gravity]))e.gravity=this.constructor.gravity[n.gravity];else throw mt.invalidParameterError("gravity","valid gravity",n.gravity);if(mt.defined(n.premultiplied))if(mt.bool(n.premultiplied))e.premultiplied=n.premultiplied;else throw mt.invalidParameterError("premultiplied","boolean",n.premultiplied);return e}),this}_b.exports=function(a){a.prototype.composite=yk,a.blend=qg}});var mb=z((aV,Ab)=>{"use strict";var B=qr(),Ib={integer:"integer",float:"float",approximate:"approximate"};function _k(a,n){if(!B.defined(a))return this.autoOrient();if((this.options.angle||this.options.rotationAngle)&&(this.options.debuglog("ignoring previous rotate options"),this.options.angle=0,this.options.rotationAngle=0),B.integer(a)&&!(a%90))this.options.angle=a;else if(B.number(a))this.options.rotationAngle=a,B.object(n)&&n.background&&this._setBackgroundColourOption("rotationBackground",n.background);else throw B.invalidParameterError("angle","numeric",a);return this}function Tk(){return this.options.input.autoOrient=!0,this}function Ik(a){return this.options.flip=B.bool(a)?a:!0,this}function Ok(a){return this.options.flop=B.bool(a)?a:!0,this}function Sk(a,n){let r=[].concat(...a);if(r.length===4&&r.every(B.number))this.options.affineMatrix=r;else throw B.invalidParameterError("matrix","1x4 or 2x2 array",a);if(B.defined(n))if(B.object(n)){if(this._setBackgroundColourOption("affineBackground",n.background),B.defined(n.idx))if(B.number(n.idx))this.options.affineIdx=n.idx;else throw B.invalidParameterError("options.idx","number",n.idx);if(B.defined(n.idy))if(B.number(n.idy))this.options.affineIdy=n.idy;else throw B.invalidParameterError("options.idy","number",n.idy);if(B.defined(n.odx))if(B.number(n.odx))this.options.affineOdx=n.odx;else throw B.invalidParameterError("options.odx","number",n.odx);if(B.defined(n.ody))if(B.number(n.ody))this.options.affineOdy=n.ody;else throw B.invalidParameterError("options.ody","number",n.ody);if(B.defined(n.interpolator))if(B.inArray(n.interpolator,Object.values(this.constructor.interpolators)))this.options.affineInterpolator=n.interpolator;else throw B.invalidParameterError("options.interpolator","valid interpolator name",n.interpolator)}else throw B.invalidParameterError("options","object",n);return this}function Ak(a,n,r){if(!B.defined(a))this.options.sharpenSigma=-1;else if(B.bool(a))this.options.sharpenSigma=a?-1:0;else if(B.number(a)&&B.inRange(a,.01,1e4)){if(this.options.sharpenSigma=a,B.defined(n))if(B.number(n)&&B.inRange(n,0,1e4))this.options.sharpenM1=n;else throw B.invalidParameterError("flat","number between 0 and 10000",n);if(B.defined(r))if(B.number(r)&&B.inRange(r,0,1e4))this.options.sharpenM2=r;else throw B.invalidParameterError("jagged","number between 0 and 10000",r)}else if(B.plainObject(a)){if(B.number(a.sigma)&&B.inRange(a.sigma,1e-6,10))this.options.sharpenSigma=a.sigma;else throw B.invalidParameterError("options.sigma","number between 0.000001 and 10",a.sigma);if(B.defined(a.m1))if(B.number(a.m1)&&B.inRange(a.m1,0,1e6))this.options.sharpenM1=a.m1;else throw B.invalidParameterError("options.m1","number between 0 and 1000000",a.m1);if(B.defined(a.m2))if(B.number(a.m2)&&B.inRange(a.m2,0,1e6))this.options.sharpenM2=a.m2;else throw B.invalidParameterError("options.m2","number between 0 and 1000000",a.m2);if(B.defined(a.x1))if(B.number(a.x1)&&B.inRange(a.x1,0,1e6))this.options.sharpenX1=a.x1;else throw B.invalidParameterError("options.x1","number between 0 and 1000000",a.x1);if(B.defined(a.y2))if(B.number(a.y2)&&B.inRange(a.y2,0,1e6))this.options.sharpenY2=a.y2;else throw B.invalidParameterError("options.y2","number between 0 and 1000000",a.y2);if(B.defined(a.y3))if(B.number(a.y3)&&B.inRange(a.y3,0,1e6))this.options.sharpenY3=a.y3;else throw B.invalidParameterError("options.y3","number between 0 and 1000000",a.y3)}else throw B.invalidParameterError("sigma","number between 0.01 and 10000",a);return this}function mk(a){if(!B.defined(a))this.options.medianSize=3;else if(B.integer(a)&&B.inRange(a,1,1e3))this.options.medianSize=a;else throw B.invalidParameterError("size","integer between 1 and 1000",a);return this}function bk(a){let n;if(B.number(a))n=a;else if(B.plainObject(a)){if(!B.number(a.sigma))throw B.invalidParameterError("options.sigma","number between 0.3 and 1000",n);if(n=a.sigma,"precision"in a)if(B.string(Ib[a.precision]))this.options.precision=Ib[a.precision];else throw B.invalidParameterError("precision","one of: integer, float, approximate",a.precision);if("minAmplitude"in a)if(B.number(a.minAmplitude)&&B.inRange(a.minAmplitude,.001,1))this.options.minAmpl=a.minAmplitude;else throw B.invalidParameterError("minAmplitude","number between 0.001 and 1",a.minAmplitude)}if(!B.defined(a))this.options.blurSigma=-1;else if(B.bool(a))this.options.blurSigma=a?-1:0;else if(B.number(n)&&B.inRange(n,.3,1e3))this.options.blurSigma=n;else throw B.invalidParameterError("sigma","number between 0.3 and 1000",n);return this}function Ob(a){if(!B.defined(a))this.options.dilateWidth=1;else if(B.integer(a)&&a>0)this.options.dilateWidth=a;else throw B.invalidParameterError("dilate","positive integer",Ob);return this}function Sb(a){if(!B.defined(a))this.options.erodeWidth=1;else if(B.integer(a)&&a>0)this.options.erodeWidth=a;else throw B.invalidParameterError("erode","positive integer",Sb);return this}function Rk(a){return this.options.flatten=B.bool(a)?a:!0,B.object(a)&&this._setBackgroundColourOption("flattenBackground",a.background),this}function Ck(){return this.options.unflatten=!0,this}function Nk(a,n){if(!B.defined(a))this.options.gamma=2.2;else if(B.number(a)&&B.inRange(a,1,3))this.options.gamma=a;else throw B.invalidParameterError("gamma","number between 1.0 and 3.0",a);if(!B.defined(n))this.options.gammaOut=this.options.gamma;else if(B.number(n)&&B.inRange(n,1,3))this.options.gammaOut=n;else throw B.invalidParameterError("gammaOut","number between 1.0 and 3.0",n);return this}function Mk(a){if(this.options.negate=B.bool(a)?a:!0,B.plainObject(a)&&"alpha"in a)if(B.bool(a.alpha))this.options.negateAlpha=a.alpha;else throw B.invalidParameterError("alpha","should be boolean value",a.alpha);return this}function Pk(a){if(B.plainObject(a)){if(B.defined(a.lower))if(B.number(a.lower)&&B.inRange(a.lower,0,99))this.options.normaliseLower=a.lower;else throw B.invalidParameterError("lower","number between 0 and 99",a.lower);if(B.defined(a.upper))if(B.number(a.upper)&&B.inRange(a.upper,1,100))this.options.normaliseUpper=a.upper;else throw B.invalidParameterError("upper","number between 1 and 100",a.upper)}if(this.options.normaliseLower>=this.options.normaliseUpper)throw B.invalidParameterError("range","lower to be less than upper",`${this.options.normaliseLower} >= ${this.options.normaliseUpper}`);return this.options.normalise=!0,this}function Lk(a){return this.normalise(a)}function Dk(a){if(B.plainObject(a)){if(B.integer(a.width)&&a.width>0)this.options.claheWidth=a.width;else throw B.invalidParameterError("width","integer greater than zero",a.width);if(B.integer(a.height)&&a.height>0)this.options.claheHeight=a.height;else throw B.invalidParameterError("height","integer greater than zero",a.height);if(B.defined(a.maxSlope))if(B.integer(a.maxSlope)&&B.inRange(a.maxSlope,0,100))this.options.claheMaxSlope=a.maxSlope;else throw B.invalidParameterError("maxSlope","integer between 0 and 100",a.maxSlope)}else throw B.invalidParameterError("options","plain object",a);return this}function wk(a){if(!B.object(a)||!Array.isArray(a.kernel)||!B.integer(a.width)||!B.integer(a.height)||!B.inRange(a.width,3,1001)||!B.inRange(a.height,3,1001)||a.height*a.width!==a.kernel.length)throw new Error("Invalid convolution kernel");return B.integer(a.scale)||(a.scale=a.kernel.reduce(function(n,r){return n+r},0)),a.scale<1&&(a.scale=1),B.integer(a.offset)||(a.offset=0),this.options.convKernel=a,this}function kk(a,n){if(!B.defined(a))this.options.threshold=128;else if(B.bool(a))this.options.threshold=a?128:0;else if(B.integer(a)&&B.inRange(a,0,255))this.options.threshold=a;else throw B.invalidParameterError("threshold","integer between 0 and 255",a);return!B.object(n)||n.greyscale===!0||n.grayscale===!0?this.options.thresholdGrayscale=!0:this.options.thresholdGrayscale=!1,this}function vk(a,n,r){if(this.options.boolean=this._createInputDescriptor(a,r),B.string(n)&&B.inArray(n,["and","or","eor"]))this.options.booleanOp=n;else throw B.invalidParameterError("operator","one of: and, or, eor",n);return this}function Uk(a,n){if(!B.defined(a)&&B.number(n)?a=1:B.number(a)&&!B.defined(n)&&(n=0),!B.defined(a))this.options.linearA=[];else if(B.number(a))this.options.linearA=[a];else if(Array.isArray(a)&&a.length&&a.every(B.number))this.options.linearA=a;else throw B.invalidParameterError("a","number or array of numbers",a);if(!B.defined(n))this.options.linearB=[];else if(B.number(n))this.options.linearB=[n];else if(Array.isArray(n)&&n.length&&n.every(B.number))this.options.linearB=n;else throw B.invalidParameterError("b","number or array of numbers",n);if(this.options.linearA.length!==this.options.linearB.length)throw new Error("Expected a and b to be arrays of the same length");return this}function Bk(a){if(!Array.isArray(a))throw B.invalidParameterError("inputMatrix","array",a);if(a.length!==3&&a.length!==4)throw B.invalidParameterError("inputMatrix","3x3 or 4x4 array",a.length);let n=a.flat().map(Number);if(n.length!==9&&n.length!==16)throw B.invalidParameterError("inputMatrix","cardinality of 9 or 16",n.length);return this.options.recombMatrix=n,this}function xk(a){if(!B.plainObject(a))throw B.invalidParameterError("options","plain object",a);if("brightness"in a)if(B.number(a.brightness)&&a.brightness>=0)this.options.brightness=a.brightness;else throw B.invalidParameterError("brightness","number above zero",a.brightness);if("saturation"in a)if(B.number(a.saturation)&&a.saturation>=0)this.options.saturation=a.saturation;else throw B.invalidParameterError("saturation","number above zero",a.saturation);if("hue"in a)if(B.integer(a.hue))this.options.hue=a.hue%360;else throw B.invalidParameterError("hue","number",a.hue);if("lightness"in a)if(B.number(a.lightness))this.options.lightness=a.lightness;else throw B.invalidParameterError("lightness","number",a.lightness);return this}Ab.exports=function(a){Object.assign(a.prototype,{autoOrient:Tk,rotate:_k,flip:Ik,flop:Ok,affine:Sk,sharpen:Ak,erode:Sb,dilate:Ob,median:mk,blur:bk,flatten:Rk,unflatten:Ck,gamma:Nk,negate:Mk,normalise:Pk,normalize:Lk,clahe:Dk,convolve:wk,threshold:kk,boolean:vk,linear:Uk,recomb:Bk,modulate:xk})}});var Pb=z((oV,Mb)=>{var Qg=Object.defineProperty,Fk=Object.getOwnPropertyDescriptor,jk=Object.getOwnPropertyNames,Kk=Object.prototype.hasOwnProperty,Hk=(a,n)=>{for(var r in n)Qg(a,r,{get:n[r],enumerable:!0})},Gk=(a,n,r,e)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of jk(n))!Kk.call(a,t)&&t!==r&&Qg(a,t,{get:()=>n[t],enumerable:!(e=Fk(n,t))||e.enumerable});return a},Vk=a=>Gk(Qg({},"__esModule",{value:!0}),a),bb={};Hk(bb,{default:()=>iv});Mb.exports=Vk(bb);var Zr={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Rb=Object.create(null);for(let a in Zr)Object.hasOwn(Zr,a)&&(Rb[Zr[a]]=a);var Fn={to:{},get:{}};Fn.get=function(a){let n=a.slice(0,3).toLowerCase(),r,e;switch(n){case"hsl":{r=Fn.get.hsl(a),e="hsl";break}case"hwb":{r=Fn.get.hwb(a),e="hwb";break}default:{r=Fn.get.rgb(a),e="rgb";break}}return r?{model:e,value:r}:null};Fn.get.rgb=function(a){if(!a)return null;let n=/^#([a-f\d]{3,4})$/i,r=/^#([a-f\d]{6})([a-f\d]{2})?$/i,e=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[\s,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,t=/^rgba?\(\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[\s,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,i=/^(\w+)$/,o=[0,0,0,1],s,c,l;if(s=a.match(r)){for(l=s[2],s=s[1],c=0;c<3;c++){let d=c*2;o[c]=Number.parseInt(s.slice(d,d+2),16)}l&&(o[3]=Number.parseInt(l,16)/255)}else if(s=a.match(n)){for(s=s[1],l=s[3],c=0;c<3;c++)o[c]=Number.parseInt(s[c]+s[c],16);l&&(o[3]=Number.parseInt(l+l,16)/255)}else if(s=a.match(e)){for(c=0;c<3;c++)o[c]=Number.parseInt(s[c+1],10);s[4]&&(o[3]=s[5]?Number.parseFloat(s[4])*.01:Number.parseFloat(s[4]))}else if(s=a.match(t)){for(c=0;c<3;c++)o[c]=Math.round(Number.parseFloat(s[c+1])*2.55);s[4]&&(o[3]=s[5]?Number.parseFloat(s[4])*.01:Number.parseFloat(s[4]))}else return(s=a.match(i))?s[1]==="transparent"?[0,0,0,0]:Object.hasOwn(Zr,s[1])?(o=Zr[s[1]],o[3]=1,o):null:null;for(c=0;c<3;c++)o[c]=la(o[c],0,255);return o[3]=la(o[3],0,1),o};Fn.get.hsl=function(a){if(!a)return null;let n=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=a.match(n);if(r){let e=Number.parseFloat(r[4]),t=(Number.parseFloat(r[1])%360+360)%360,i=la(Number.parseFloat(r[2]),0,100),o=la(Number.parseFloat(r[3]),0,100),s=la(Number.isNaN(e)?1:e,0,1);return[t,i,o,s]}return null};Fn.get.hwb=function(a){if(!a)return null;let n=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*[\s,]\s*([+-]?[\d.]+)%\s*[\s,]\s*([+-]?[\d.]+)%\s*(?:[\s,]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=a.match(n);if(r){let e=Number.parseFloat(r[4]),t=(Number.parseFloat(r[1])%360+360)%360,i=la(Number.parseFloat(r[2]),0,100),o=la(Number.parseFloat(r[3]),0,100),s=la(Number.isNaN(e)?1:e,0,1);return[t,i,o,s]}return null};Fn.to.hex=function(...a){return"#"+rd(a[0])+rd(a[1])+rd(a[2])+(a[3]<1?rd(Math.round(a[3]*255)):"")};Fn.to.rgb=function(...a){return a.length<4||a[3]===1?"rgb("+Math.round(a[0])+", "+Math.round(a[1])+", "+Math.round(a[2])+")":"rgba("+Math.round(a[0])+", "+Math.round(a[1])+", "+Math.round(a[2])+", "+a[3]+")"};Fn.to.rgb.percent=function(...a){let n=Math.round(a[0]/255*100),r=Math.round(a[1]/255*100),e=Math.round(a[2]/255*100);return a.length<4||a[3]===1?"rgb("+n+"%, "+r+"%, "+e+"%)":"rgba("+n+"%, "+r+"%, "+e+"%, "+a[3]+")"};Fn.to.hsl=function(...a){return a.length<4||a[3]===1?"hsl("+a[0]+", "+a[1]+"%, "+a[2]+"%)":"hsla("+a[0]+", "+a[1]+"%, "+a[2]+"%, "+a[3]+")"};Fn.to.hwb=function(...a){let n="";return a.length>=4&&a[3]!==1&&(n=", "+a[3]),"hwb("+a[0]+", "+a[1]+"%, "+a[2]+"%"+n+")"};Fn.to.keyword=function(...a){return Rb[a.slice(0,3)]};function la(a,n,r){return Math.min(Math.max(n,a),r)}function rd(a){let n=Math.round(a).toString(16).toUpperCase();return n.length<2?"0"+n:n}var ns=Fn,Cb={};for(let a of Object.keys(Zr))Cb[Zr[a]]=a;var Ie={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},oklab:{channels:3,labels:["okl","oka","okb"]},lch:{channels:3,labels:"lch"},oklch:{channels:3,labels:["okl","okc","okh"]},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},Ya=Ie,Mi=(6/29)**3;function is(a){let n=a>.0031308?1.055*a**.4166666666666667-.055:a*12.92;return Math.min(Math.max(0,n),1)}function as(a){return a>.04045?((a+.055)/1.055)**2.4:a/12.92}for(let a of Object.keys(Ie)){if(!("channels"in Ie[a]))throw new Error("missing channels property: "+a);if(!("labels"in Ie[a]))throw new Error("missing channel labels property: "+a);if(Ie[a].labels.length!==Ie[a].channels)throw new Error("channel and label counts mismatch: "+a);let{channels:n,labels:r}=Ie[a];delete Ie[a].channels,delete Ie[a].labels,Object.defineProperty(Ie[a],"channels",{value:n}),Object.defineProperty(Ie[a],"labels",{value:r})}Ie.rgb.hsl=function(a){let n=a[0]/255,r=a[1]/255,e=a[2]/255,t=Math.min(n,r,e),i=Math.max(n,r,e),o=i-t,s,c;switch(i){case t:{s=0;break}case n:{s=(r-e)/o;break}case r:{s=2+(e-n)/o;break}case e:{s=4+(n-r)/o;break}}s=Math.min(s*60,360),s<0&&(s+=360);let l=(t+i)/2;return i===t?c=0:l<=.5?c=o/(i+t):c=o/(2-i-t),[s,c*100,l*100]};Ie.rgb.hsv=function(a){let n,r,e,t,i,o=a[0]/255,s=a[1]/255,c=a[2]/255,l=Math.max(o,s,c),d=l-Math.min(o,s,c),f=function(g){return(l-g)/6/d+1/2};if(d===0)t=0,i=0;else{switch(i=d/l,n=f(o),r=f(s),e=f(c),l){case o:{t=e-r;break}case s:{t=1/3+n-e;break}case c:{t=2/3+r-n;break}}t<0?t+=1:t>1&&(t-=1)}return[t*360,i*100,l*100]};Ie.rgb.hwb=function(a){let n=a[0],r=a[1],e=a[2],t=Ie.rgb.hsl(a)[0],i=1/255*Math.min(n,Math.min(r,e));return e=1-1/255*Math.max(n,Math.max(r,e)),[t,i*100,e*100]};Ie.rgb.oklab=function(a){let n=as(a[0]/255),r=as(a[1]/255),e=as(a[2]/255),t=Math.cbrt(.4122214708*n+.5363325363*r+.0514459929*e),i=Math.cbrt(.2119034982*n+.6806995451*r+.1073969566*e),o=Math.cbrt(.0883024619*n+.2817188376*r+.6299787005*e),s=.2104542553*t+.793617785*i-.0040720468*o,c=1.9779984951*t-2.428592205*i+.4505937099*o,l=.0259040371*t+.7827717662*i-.808675766*o;return[s*100,c*100,l*100]};Ie.rgb.cmyk=function(a){let n=a[0]/255,r=a[1]/255,e=a[2]/255,t=Math.min(1-n,1-r,1-e),i=(1-n-t)/(1-t)||0,o=(1-r-t)/(1-t)||0,s=(1-e-t)/(1-t)||0;return[i*100,o*100,s*100,t*100]};function Wk(a,n){return(a[0]-n[0])**2+(a[1]-n[1])**2+(a[2]-n[2])**2}Ie.rgb.keyword=function(a){let n=Cb[a];if(n)return n;let r=Number.POSITIVE_INFINITY,e;for(let t of Object.keys(Zr)){let i=Zr[t],o=Wk(a,i);o<r&&(r=o,e=t)}return e};Ie.keyword.rgb=function(a){return Zr[a]};Ie.rgb.xyz=function(a){let n=as(a[0]/255),r=as(a[1]/255),e=as(a[2]/255),t=n*.4124564+r*.3575761+e*.1804375,i=n*.2126729+r*.7151522+e*.072175,o=n*.0193339+r*.119192+e*.9503041;return[t*100,i*100,o*100]};Ie.rgb.lab=function(a){let n=Ie.rgb.xyz(a),r=n[0],e=n[1],t=n[2];r/=95.047,e/=100,t/=108.883,r=r>Mi?r**(1/3):7.787*r+16/116,e=e>Mi?e**(1/3):7.787*e+16/116,t=t>Mi?t**(1/3):7.787*t+16/116;let i=116*e-16,o=500*(r-e),s=200*(e-t);return[i,o,s]};Ie.hsl.rgb=function(a){let n=a[0]/360,r=a[1]/100,e=a[2]/100,t,i;if(r===0)return i=e*255,[i,i,i];let o=e<.5?e*(1+r):e+r-e*r,s=2*e-o,c=[0,0,0];for(let l=0;l<3;l++)t=n+1/3*-(l-1),t<0&&t++,t>1&&t--,6*t<1?i=s+(o-s)*6*t:2*t<1?i=o:3*t<2?i=s+(o-s)*(2/3-t)*6:i=s,c[l]=i*255;return c};Ie.hsl.hsv=function(a){let n=a[0],r=a[1]/100,e=a[2]/100,t=r,i=Math.max(e,.01);e*=2,r*=e<=1?e:2-e,t*=i<=1?i:2-i;let o=(e+r)/2,s=e===0?2*t/(i+t):2*r/(e+r);return[n,s*100,o*100]};Ie.hsv.rgb=function(a){let n=a[0]/60,r=a[1]/100,e=a[2]/100,t=Math.floor(n)%6,i=n-Math.floor(n),o=255*e*(1-r),s=255*e*(1-r*i),c=255*e*(1-r*(1-i));switch(e*=255,t){case 0:return[e,c,o];case 1:return[s,e,o];case 2:return[o,e,c];case 3:return[o,s,e];case 4:return[c,o,e];case 5:return[e,o,s]}};Ie.hsv.hsl=function(a){let n=a[0],r=a[1]/100,e=a[2]/100,t=Math.max(e,.01),i,o;o=(2-r)*e;let s=(2-r)*t;return i=r*t,i/=s<=1?s:2-s,i=i||0,o/=2,[n,i*100,o*100]};Ie.hwb.rgb=function(a){let n=a[0]/360,r=a[1]/100,e=a[2]/100,t=r+e,i;t>1&&(r/=t,e/=t);let o=Math.floor(6*n),s=1-e;i=6*n-o,(o&1)!==0&&(i=1-i);let c=r+i*(s-r),l,d,f;switch(o){default:case 6:case 0:{l=s,d=c,f=r;break}case 1:{l=c,d=s,f=r;break}case 2:{l=r,d=s,f=c;break}case 3:{l=r,d=c,f=s;break}case 4:{l=c,d=r,f=s;break}case 5:{l=s,d=r,f=c;break}}return[l*255,d*255,f*255]};Ie.cmyk.rgb=function(a){let n=a[0]/100,r=a[1]/100,e=a[2]/100,t=a[3]/100,i=1-Math.min(1,n*(1-t)+t),o=1-Math.min(1,r*(1-t)+t),s=1-Math.min(1,e*(1-t)+t);return[i*255,o*255,s*255]};Ie.xyz.rgb=function(a){let n=a[0]/100,r=a[1]/100,e=a[2]/100,t,i,o;return t=n*3.2404542+r*-1.5371385+e*-.4985314,i=n*-.969266+r*1.8760108+e*.041556,o=n*.0556434+r*-.2040259+e*1.0572252,t=is(t),i=is(i),o=is(o),[t*255,i*255,o*255]};Ie.xyz.lab=function(a){let n=a[0],r=a[1],e=a[2];n/=95.047,r/=100,e/=108.883,n=n>Mi?n**(1/3):7.787*n+16/116,r=r>Mi?r**(1/3):7.787*r+16/116,e=e>Mi?e**(1/3):7.787*e+16/116;let t=116*r-16,i=500*(n-r),o=200*(r-e);return[t,i,o]};Ie.xyz.oklab=function(a){let n=a[0]/100,r=a[1]/100,e=a[2]/100,t=Math.cbrt(.8189330101*n+.3618667424*r-.1288597137*e),i=Math.cbrt(.0329845436*n+.9293118715*r+.0361456387*e),o=Math.cbrt(.0482003018*n+.2643662691*r+.633851707*e),s=.2104542553*t+.793617785*i-.0040720468*o,c=1.9779984951*t-2.428592205*i+.4505937099*o,l=.0259040371*t+.7827717662*i-.808675766*o;return[s*100,c*100,l*100]};Ie.oklab.oklch=function(a){return Ie.lab.lch(a)};Ie.oklab.xyz=function(a){let n=a[0]/100,r=a[1]/100,e=a[2]/100,t=(.999999998*n+.396337792*r+.215803758*e)**3,i=(1.000000008*n-.105561342*r-.063854175*e)**3,o=(1.000000055*n-.089484182*r-1.291485538*e)**3,s=1.227013851*t-.55779998*i+.281256149*o,c=-.040580178*t+1.11225687*i-.071676679*o,l=-.076381285*t-.421481978*i+1.58616322*o;return[s*100,c*100,l*100]};Ie.oklab.rgb=function(a){let n=a[0]/100,r=a[1]/100,e=a[2]/100,t=(n+.3963377774*r+.2158037573*e)**3,i=(n-.1055613458*r-.0638541728*e)**3,o=(n-.0894841775*r-1.291485548*e)**3,s=is(4.0767416621*t-3.3077115913*i+.2309699292*o),c=is(-1.2684380046*t+2.6097574011*i-.3413193965*o),l=is(-.0041960863*t-.7034186147*i+1.707614701*o);return[s*255,c*255,l*255]};Ie.oklch.oklab=function(a){return Ie.lch.lab(a)};Ie.lab.xyz=function(a){let n=a[0],r=a[1],e=a[2],t,i,o;i=(n+16)/116,t=r/500+i,o=i-e/200;let s=i**3,c=t**3,l=o**3;return i=s>Mi?s:(i-16/116)/7.787,t=c>Mi?c:(t-16/116)/7.787,o=l>Mi?l:(o-16/116)/7.787,t*=95.047,i*=100,o*=108.883,[t,i,o]};Ie.lab.lch=function(a){let n=a[0],r=a[1],e=a[2],t;t=Math.atan2(e,r)*360/2/Math.PI,t<0&&(t+=360);let o=Math.sqrt(r*r+e*e);return[n,o,t]};Ie.lch.lab=function(a){let n=a[0],r=a[1],t=a[2]/360*2*Math.PI,i=r*Math.cos(t),o=r*Math.sin(t);return[n,i,o]};Ie.rgb.ansi16=function(a,n=null){let[r,e,t]=a,i=n===null?Ie.rgb.hsv(a)[2]:n;if(i=Math.round(i/50),i===0)return 30;let o=30+(Math.round(t/255)<<2|Math.round(e/255)<<1|Math.round(r/255));return i===2&&(o+=60),o};Ie.hsv.ansi16=function(a){return Ie.rgb.ansi16(Ie.hsv.rgb(a),a[2])};Ie.rgb.ansi256=function(a){let n=a[0],r=a[1],e=a[2];return n>>4===r>>4&&r>>4===e>>4?n<8?16:n>248?231:Math.round((n-8)/247*24)+232:16+36*Math.round(n/255*5)+6*Math.round(r/255*5)+Math.round(e/255*5)};Ie.ansi16.rgb=function(a){a=a[0];let n=a%10;if(n===0||n===7)return a>50&&(n+=3.5),n=n/10.5*255,[n,n,n];let r=(Math.trunc(a>50)+1)*.5,e=(n&1)*r*255,t=(n>>1&1)*r*255,i=(n>>2&1)*r*255;return[e,t,i]};Ie.ansi256.rgb=function(a){if(a=a[0],a>=232){let i=(a-232)*10+8;return[i,i,i]}a-=16;let n,r=Math.floor(a/36)/5*255,e=Math.floor((n=a%36)/6)/5*255,t=n%6/5*255;return[r,e,t]};Ie.rgb.hex=function(a){let r=(((Math.round(a[0])&255)<<16)+((Math.round(a[1])&255)<<8)+(Math.round(a[2])&255)).toString(16).toUpperCase();return"000000".slice(r.length)+r};Ie.hex.rgb=function(a){let n=a.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!n)return[0,0,0];let r=n[0];n[0].length===3&&(r=[...r].map(s=>s+s).join(""));let e=Number.parseInt(r,16),t=e>>16&255,i=e>>8&255,o=e&255;return[t,i,o]};Ie.rgb.hcg=function(a){let n=a[0]/255,r=a[1]/255,e=a[2]/255,t=Math.max(Math.max(n,r),e),i=Math.min(Math.min(n,r),e),o=t-i,s,c=o<1?i/(1-o):0;return o<=0?s=0:t===n?s=(r-e)/o%6:t===r?s=2+(e-n)/o:s=4+(n-r)/o,s/=6,s%=1,[s*360,o*100,c*100]};Ie.hsl.hcg=function(a){let n=a[1]/100,r=a[2]/100,e=r<.5?2*n*r:2*n*(1-r),t=0;return e<1&&(t=(r-.5*e)/(1-e)),[a[0],e*100,t*100]};Ie.hsv.hcg=function(a){let n=a[1]/100,r=a[2]/100,e=n*r,t=0;return e<1&&(t=(r-e)/(1-e)),[a[0],e*100,t*100]};Ie.hcg.rgb=function(a){let n=a[0]/360,r=a[1]/100,e=a[2]/100;if(r===0)return[e*255,e*255,e*255];let t=[0,0,0],i=n%1*6,o=i%1,s=1-o,c=0;switch(Math.floor(i)){case 0:{t[0]=1,t[1]=o,t[2]=0;break}case 1:{t[0]=s,t[1]=1,t[2]=0;break}case 2:{t[0]=0,t[1]=1,t[2]=o;break}case 3:{t[0]=0,t[1]=s,t[2]=1;break}case 4:{t[0]=o,t[1]=0,t[2]=1;break}default:t[0]=1,t[1]=0,t[2]=s}return c=(1-r)*e,[(r*t[0]+c)*255,(r*t[1]+c)*255,(r*t[2]+c)*255]};Ie.hcg.hsv=function(a){let n=a[1]/100,r=a[2]/100,e=n+r*(1-n),t=0;return e>0&&(t=n/e),[a[0],t*100,e*100]};Ie.hcg.hsl=function(a){let n=a[1]/100,e=a[2]/100*(1-n)+.5*n,t=0;return e>0&&e<.5?t=n/(2*e):e>=.5&&e<1&&(t=n/(2*(1-e))),[a[0],t*100,e*100]};Ie.hcg.hwb=function(a){let n=a[1]/100,r=a[2]/100,e=n+r*(1-n);return[a[0],(e-n)*100,(1-e)*100]};Ie.hwb.hcg=function(a){let n=a[1]/100,e=1-a[2]/100,t=e-n,i=0;return t<1&&(i=(e-t)/(1-t)),[a[0],t*100,i*100]};Ie.apple.rgb=function(a){return[a[0]/65535*255,a[1]/65535*255,a[2]/65535*255]};Ie.rgb.apple=function(a){return[a[0]/255*65535,a[1]/255*65535,a[2]/255*65535]};Ie.gray.rgb=function(a){return[a[0]/100*255,a[0]/100*255,a[0]/100*255]};Ie.gray.hsl=function(a){return[0,0,a[0]]};Ie.gray.hsv=Ie.gray.hsl;Ie.gray.hwb=function(a){return[0,100,a[0]]};Ie.gray.cmyk=function(a){return[0,0,0,a[0]]};Ie.gray.lab=function(a){return[a[0],0,0]};Ie.gray.hex=function(a){let n=Math.round(a[0]/100*255)&255,e=((n<<16)+(n<<8)+n).toString(16).toUpperCase();return"000000".slice(e.length)+e};Ie.rgb.gray=function(a){return[(a[0]+a[1]+a[2])/3/255*100]};function Yk(){let a={},n=Object.keys(Ya);for(let{length:r}=n,e=0;e<r;e++)a[n[e]]={distance:-1,parent:null};return a}function zk(a){let n=Yk(),r=[a];for(n[a].distance=0;r.length>0;){let e=r.pop(),t=Object.keys(Ya[e]);for(let{length:i}=t,o=0;o<i;o++){let s=t[o],c=n[s];c.distance===-1&&(c.distance=n[e].distance+1,c.parent=e,r.unshift(s))}}return n}function qk(a,n){return function(r){return n(a(r))}}function $k(a,n){let r=[n[a].parent,a],e=Ya[n[a].parent][a],t=n[a].parent;for(;n[t].parent;)r.unshift(n[t].parent),e=qk(Ya[n[t].parent][t],e),t=n[t].parent;return e.conversion=r,e}function Xk(a){let n=zk(a),r={},e=Object.keys(n);for(let{length:t}=e,i=0;i<t;i++){let o=e[i];n[o].parent!==null&&(r[o]=$k(o,n))}return r}var Jk=Xk,rs={},Qk=Object.keys(Ya);function Zk(a){let n=function(...r){let e=r[0];return e==null?e:(e.length>1&&(r=e),a(r))};return"conversion"in a&&(n.conversion=a.conversion),n}function ev(a){let n=function(...r){let e=r[0];if(e==null)return e;e.length>1&&(r=e);let t=a(r);if(typeof t=="object")for(let{length:i}=t,o=0;o<i;o++)t[o]=Math.round(t[o]);return t};return"conversion"in a&&(n.conversion=a.conversion),n}for(let a of Qk){rs[a]={},Object.defineProperty(rs[a],"channels",{value:Ya[a].channels}),Object.defineProperty(rs[a],"labels",{value:Ya[a].labels});let n=Jk(a),r=Object.keys(n);for(let e of r){let t=n[e];rs[a][e]=ev(t),rs[a][e].raw=Zk(t)}}var Jn=rs,Nb=["keyword","gray","hex"],$g={};for(let a of Object.keys(Jn))$g[[...Jn[a].labels].sort().join("")]=a;var Xg={};function sn(a,n){if(!(this instanceof sn))return new sn(a,n);if(n&&n in Nb&&(n=null),n&&!(n in Jn))throw new Error("Unknown model: "+n);let r,e;if(a==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(a instanceof sn)this.model=a.model,this.color=[...a.color],this.valpha=a.valpha;else if(typeof a=="string"){let t=ns.get(a);if(t===null)throw new Error("Unable to parse color from string: "+a);this.model=t.model,e=Jn[this.model].channels,this.color=t.value.slice(0,e),this.valpha=typeof t.value[e]=="number"?t.value[e]:1}else if(a.length>0){this.model=n||"rgb",e=Jn[this.model].channels;let t=Array.prototype.slice.call(a,0,e);this.color=Jg(t,e),this.valpha=typeof a[e]=="number"?a[e]:1}else if(typeof a=="number")this.model="rgb",this.color=[a>>16&255,a>>8&255,a&255],this.valpha=1;else{this.valpha=1;let t=Object.keys(a);"alpha"in a&&(t.splice(t.indexOf("alpha"),1),this.valpha=typeof a.alpha=="number"?a.alpha:0);let i=t.sort().join("");if(!(i in $g))throw new Error("Unable to parse color from object: "+JSON.stringify(a));this.model=$g[i];let{labels:o}=Jn[this.model],s=[];for(r=0;r<o.length;r++)s.push(a[o[r]]);this.color=Jg(s)}if(Xg[this.model])for(e=Jn[this.model].channels,r=0;r<e;r++){let t=Xg[this.model][r];t&&(this.color[r]=t(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}sn.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(a){let n=this.model in ns.to?this:this.rgb();n=n.round(typeof a=="number"?a:1);let r=n.valpha===1?n.color:[...n.color,this.valpha];return ns.to[n.model](...r)},percentString(a){let n=this.rgb().round(typeof a=="number"?a:1),r=n.valpha===1?n.color:[...n.color,this.valpha];return ns.to.rgb.percent(...r)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){let a={},{channels:n}=Jn[this.model],{labels:r}=Jn[this.model];for(let e=0;e<n;e++)a[r[e]]=this.color[e];return this.valpha!==1&&(a.alpha=this.valpha),a},unitArray(){let a=this.rgb().color;return a[0]/=255,a[1]/=255,a[2]/=255,this.valpha!==1&&a.push(this.valpha),a},unitObject(){let a=this.rgb().object();return a.r/=255,a.g/=255,a.b/=255,this.valpha!==1&&(a.alpha=this.valpha),a},round(a){return a=Math.max(a||0,0),new sn([...this.color.map(nv(a)),this.valpha],this.model)},alpha(a){return a!==void 0?new sn([...this.color,Math.max(0,Math.min(1,a))],this.model):this.valpha},red:Ft("rgb",0,Jt(255)),green:Ft("rgb",1,Jt(255)),blue:Ft("rgb",2,Jt(255)),hue:Ft(["hsl","hsv","hsl","hwb","hcg"],0,a=>(a%360+360)%360),saturationl:Ft("hsl",1,Jt(100)),lightness:Ft("hsl",2,Jt(100)),saturationv:Ft("hsv",1,Jt(100)),value:Ft("hsv",2,Jt(100)),chroma:Ft("hcg",1,Jt(100)),gray:Ft("hcg",2,Jt(100)),white:Ft("hwb",1,Jt(100)),wblack:Ft("hwb",2,Jt(100)),cyan:Ft("cmyk",0,Jt(100)),magenta:Ft("cmyk",1,Jt(100)),yellow:Ft("cmyk",2,Jt(100)),black:Ft("cmyk",3,Jt(100)),x:Ft("xyz",0,Jt(95.047)),y:Ft("xyz",1,Jt(100)),z:Ft("xyz",2,Jt(108.833)),l:Ft("lab",0,Jt(100)),a:Ft("lab",1),b:Ft("lab",2),keyword(a){return a!==void 0?new sn(a):Jn[this.model].keyword(this.color)},hex(a){return a!==void 0?new sn(a):ns.to.hex(...this.rgb().round().color)},hexa(a){if(a!==void 0)return new sn(a);let n=this.rgb().round().color,r=Math.round(this.valpha*255).toString(16).toUpperCase();return r.length===1&&(r="0"+r),ns.to.hex(...n)+r},rgbNumber(){let a=this.rgb().color;return(a[0]&255)<<16|(a[1]&255)<<8|a[2]&255},luminosity(){let a=this.rgb().color,n=[];for(let[r,e]of a.entries()){let t=e/255;n[r]=t<=.04045?t/12.92:((t+.055)/1.055)**2.4}return .2126*n[0]+.7152*n[1]+.0722*n[2]},contrast(a){let n=this.luminosity(),r=a.luminosity();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},level(a){let n=this.contrast(a);return n>=7?"AAA":n>=4.5?"AA":""},isDark(){let a=this.rgb().color;return(a[0]*2126+a[1]*7152+a[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){let a=this.rgb();for(let n=0;n<3;n++)a.color[n]=255-a.color[n];return a},lighten(a){let n=this.hsl();return n.color[2]+=n.color[2]*a,n},darken(a){let n=this.hsl();return n.color[2]-=n.color[2]*a,n},saturate(a){let n=this.hsl();return n.color[1]+=n.color[1]*a,n},desaturate(a){let n=this.hsl();return n.color[1]-=n.color[1]*a,n},whiten(a){let n=this.hwb();return n.color[1]+=n.color[1]*a,n},blacken(a){let n=this.hwb();return n.color[2]+=n.color[2]*a,n},grayscale(){let a=this.rgb().color,n=a[0]*.3+a[1]*.59+a[2]*.11;return sn.rgb(n,n,n)},fade(a){return this.alpha(this.valpha-this.valpha*a)},opaquer(a){return this.alpha(this.valpha+this.valpha*a)},rotate(a){let n=this.hsl(),r=n.color[0];return r=(r+a)%360,r=r<0?360+r:r,n.color[0]=r,n},mix(a,n){if(!a||!a.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof a);let r=a.rgb(),e=this.rgb(),t=n===void 0?.5:n,i=2*t-1,o=r.alpha()-e.alpha(),s=((i*o===-1?i:(i+o)/(1+i*o))+1)/2,c=1-s;return sn.rgb(s*r.red()+c*e.red(),s*r.green()+c*e.green(),s*r.blue()+c*e.blue(),r.alpha()*t+e.alpha()*(1-t))}};for(let a of Object.keys(Jn)){if(Nb.includes(a))continue;let{channels:n}=Jn[a];sn.prototype[a]=function(...r){return this.model===a?new sn(this):r.length>0?new sn(r,a):new sn([...rv(Jn[this.model][a].raw(this.color)),this.valpha],a)},sn[a]=function(...r){let e=r[0];return typeof e=="number"&&(e=Jg(r,n)),new sn(e,a)}}function tv(a,n){return Number(a.toFixed(n))}function nv(a){return function(n){return tv(n,a)}}function Ft(a,n,r){a=Array.isArray(a)?a:[a];for(let e of a)(Xg[e]||=[])[n]=r;return a=a[0],function(e){let t;return e!==void 0?(r&&(e=r(e)),t=this[a](),t.color[n]=e,t):(t=this[a]().color[n],r&&(t=r(t)),t)}}function Jt(a){return function(n){return Math.max(0,Math.min(a,n))}}function rv(a){return Array.isArray(a)?a:[a]}function Jg(a,n){for(let r=0;r<n;r++)typeof a[r]!="number"&&(a[r]=0);return a}var iv=sn});var Db=z((sV,Lb)=>{Lb.exports=Pb().default});var Ub=z((cV,vb)=>{"use strict";var av=Db(),Pi=qr(),wb={multiband:"multiband","b-w":"b-w",bw:"b-w",cmyk:"cmyk",srgb:"srgb"};function ov(a){return this._setBackgroundColourOption("tint",a),this}function sv(a){return this.options.greyscale=Pi.bool(a)?a:!0,this}function cv(a){return this.greyscale(a)}function lv(a){if(!Pi.string(a))throw Pi.invalidParameterError("colourspace","string",a);return this.options.colourspacePipeline=a,this}function uv(a){return this.pipelineColourspace(a)}function dv(a){if(!Pi.string(a))throw Pi.invalidParameterError("colourspace","string",a);return this.options.colourspace=a,this}function pv(a){return this.toColourspace(a)}function kb(a){if(Pi.object(a)||Pi.string(a)){let n=av(a);return[n.red(),n.green(),n.blue(),Math.round(n.alpha()*255)]}else throw Pi.invalidParameterError("background","object or string",a)}function fv(a,n){Pi.defined(n)&&(this.options[a]=kb(n))}vb.exports=function(a){Object.assign(a.prototype,{tint:ov,greyscale:sv,grayscale:cv,pipelineColourspace:lv,pipelineColorspace:uv,toColourspace:dv,toColorspace:pv,_getBackgroundColourOption:kb,_setBackgroundColourOption:fv}),a.colourspace=wb,a.colorspace=wb}});var xb=z((lV,Bb)=>{"use strict";var ei=qr(),hv={and:"and",or:"or",eor:"eor"};function gv(){return this.options.removeAlpha=!0,this}function Ev(a){if(ei.defined(a))if(ei.number(a)&&ei.inRange(a,0,1))this.options.ensureAlpha=a;else throw ei.invalidParameterError("alpha","number between 0 and 1",a);else this.options.ensureAlpha=1;return this}function yv(a){let n={red:0,green:1,blue:2,alpha:3};if(Object.keys(n).includes(a)&&(a=n[a]),ei.integer(a)&&ei.inRange(a,0,4))this.options.extractChannel=a;else throw ei.invalidParameterError("channel","integer or one of: red, green, blue, alpha",a);return this}function _v(a,n){return Array.isArray(a)?a.forEach(function(r){this.options.joinChannelIn.push(this._createInputDescriptor(r,n))},this):this.options.joinChannelIn.push(this._createInputDescriptor(a,n)),this}function Tv(a){if(ei.string(a)&&ei.inArray(a,["and","or","eor"]))this.options.bandBoolOp=a;else throw ei.invalidParameterError("boolOp","one of: and, or, eor",a);return this}Bb.exports=function(a){Object.assign(a.prototype,{removeAlpha:gv,ensureAlpha:Ev,extractChannel:yv,joinChannel:_v,bandbool:Tv}),a.bool=hv}});var Gb=z((uV,Hb)=>{"use strict";var Zg=_t("node:path"),S=qr(),os=Fc(),Fb=new Map([["heic","heif"],["heif","heif"],["avif","avif"],["jpeg","jpeg"],["jpg","jpeg"],["jpe","jpeg"],["tile","tile"],["dz","tile"],["png","png"],["raw","raw"],["tiff","tiff"],["tif","tiff"],["webp","webp"],["gif","gif"],["jp2","jp2"],["jpx","jp2"],["j2k","jp2"],["j2c","jp2"],["jxl","jxl"]]),Iv=/\.(jp[2x]|j2[kc])$/i,jb=()=>new Error("JP2 output requires libvips with support for OpenJPEG"),Kb=a=>1<<31-Math.clz32(Math.ceil(Math.log2(a)));function Ov(a,n){let r;if(S.string(a)?S.string(this.options.input.file)&&Zg.resolve(this.options.input.file)===Zg.resolve(a)?r=new Error("Cannot use same file for input and output"):Iv.test(Zg.extname(a))&&!this.constructor.format.jp2k.output.file&&(r=jb()):r=new Error("Missing output file path"),r)if(S.fn(n))n(r);else return Promise.reject(r);else{this.options.fileOut=a;let e=Error();return this._pipeline(n,e)}return this}function Sv(a,n){S.object(a)?this._setBooleanOption("resolveWithObject",a.resolveWithObject):this.options.resolveWithObject&&(this.options.resolveWithObject=!1),this.options.fileOut="";let r=Error();return this._pipeline(S.fn(a)?a:n,r)}function Av(){return this.options.keepMetadata|=1,this}function mv(a){if(S.object(a))for(let[n,r]of Object.entries(a))if(S.object(r))for(let[e,t]of Object.entries(r))if(S.string(t))this.options.withExif[`exif-${n.toLowerCase()}-${e}`]=t;else throw S.invalidParameterError(`${n}.${e}`,"string",t);else throw S.invalidParameterError(n,"object",r);else throw S.invalidParameterError("exif","object",a);return this.options.withExifMerge=!1,this.keepExif()}function bv(a){return this.withExif(a),this.options.withExifMerge=!0,this}function Rv(){return this.options.keepMetadata|=8,this}function Cv(a,n){if(S.string(a))this.options.withIccProfile=a;else throw S.invalidParameterError("icc","string",a);if(this.keepIccProfile(),S.object(n)&&S.defined(n.attach))if(S.bool(n.attach))n.attach||(this.options.keepMetadata&=-9);else throw S.invalidParameterError("attach","boolean",n.attach);return this}function Nv(){return this.options.keepMetadata|=2,this}function Mv(a){if(S.string(a)&&a.length>0)this.options.withXmp=a,this.options.keepMetadata|=2;else throw S.invalidParameterError("xmp","non-empty string",a);return this}function Pv(){return this.options.keepMetadata=31,this}function Lv(a){if(this.keepMetadata(),this.withIccProfile("srgb"),S.object(a)){if(S.defined(a.orientation))if(S.integer(a.orientation)&&S.inRange(a.orientation,1,8))this.options.withMetadataOrientation=a.orientation;else throw S.invalidParameterError("orientation","integer between 1 and 8",a.orientation);if(S.defined(a.density))if(S.number(a.density)&&a.density>0)this.options.withMetadataDensity=a.density;else throw S.invalidParameterError("density","positive number",a.density);S.defined(a.icc)&&this.withIccProfile(a.icc),S.defined(a.exif)&&this.withExifMerge(a.exif)}return this}function Dv(a,n){let r=Fb.get((S.object(a)&&S.string(a.id)?a.id:a).toLowerCase());if(!r)throw S.invalidParameterError("format",`one of: ${[...Fb.keys()].join(", ")}`,a);return this[r](n)}function wv(a){if(S.object(a)){if(S.defined(a.quality))if(S.integer(a.quality)&&S.inRange(a.quality,1,100))this.options.jpegQuality=a.quality;else throw S.invalidParameterError("quality","integer between 1 and 100",a.quality);if(S.defined(a.progressive)&&this._setBooleanOption("jpegProgressive",a.progressive),S.defined(a.chromaSubsampling))if(S.string(a.chromaSubsampling)&&S.inArray(a.chromaSubsampling,["4:2:0","4:4:4"]))this.options.jpegChromaSubsampling=a.chromaSubsampling;else throw S.invalidParameterError("chromaSubsampling","one of: 4:2:0, 4:4:4",a.chromaSubsampling);let n=S.bool(a.optimizeCoding)?a.optimizeCoding:a.optimiseCoding;if(S.defined(n)&&this._setBooleanOption("jpegOptimiseCoding",n),S.defined(a.mozjpeg))if(S.bool(a.mozjpeg))a.mozjpeg&&(this.options.jpegTrellisQuantisation=!0,this.options.jpegOvershootDeringing=!0,this.options.jpegOptimiseScans=!0,this.options.jpegProgressive=!0,this.options.jpegQuantisationTable=3);else throw S.invalidParameterError("mozjpeg","boolean",a.mozjpeg);let r=S.bool(a.trellisQuantization)?a.trellisQuantization:a.trellisQuantisation;S.defined(r)&&this._setBooleanOption("jpegTrellisQuantisation",r),S.defined(a.overshootDeringing)&&this._setBooleanOption("jpegOvershootDeringing",a.overshootDeringing);let e=S.bool(a.optimizeScans)?a.optimizeScans:a.optimiseScans;S.defined(e)&&(this._setBooleanOption("jpegOptimiseScans",e),e&&(this.options.jpegProgressive=!0));let t=S.number(a.quantizationTable)?a.quantizationTable:a.quantisationTable;if(S.defined(t))if(S.integer(t)&&S.inRange(t,0,8))this.options.jpegQuantisationTable=t;else throw S.invalidParameterError("quantisationTable","integer between 0 and 8",t)}return this._updateFormatOut("jpeg",a)}function kv(a){if(S.object(a)){if(S.defined(a.progressive)&&this._setBooleanOption("pngProgressive",a.progressive),S.defined(a.compressionLevel))if(S.integer(a.compressionLevel)&&S.inRange(a.compressionLevel,0,9))this.options.pngCompressionLevel=a.compressionLevel;else throw S.invalidParameterError("compressionLevel","integer between 0 and 9",a.compressionLevel);S.defined(a.adaptiveFiltering)&&this._setBooleanOption("pngAdaptiveFiltering",a.adaptiveFiltering);let n=a.colours||a.colors;if(S.defined(n))if(S.integer(n)&&S.inRange(n,2,256))this.options.pngBitdepth=Kb(n);else throw S.invalidParameterError("colours","integer between 2 and 256",n);if(S.defined(a.palette)?this._setBooleanOption("pngPalette",a.palette):[a.quality,a.effort,a.colours,a.colors,a.dither].some(S.defined)&&this._setBooleanOption("pngPalette",!0),this.options.pngPalette){if(S.defined(a.quality))if(S.integer(a.quality)&&S.inRange(a.quality,0,100))this.options.pngQuality=a.quality;else throw S.invalidParameterError("quality","integer between 0 and 100",a.quality);if(S.defined(a.effort))if(S.integer(a.effort)&&S.inRange(a.effort,1,10))this.options.pngEffort=a.effort;else throw S.invalidParameterError("effort","integer between 1 and 10",a.effort);if(S.defined(a.dither))if(S.number(a.dither)&&S.inRange(a.dither,0,1))this.options.pngDither=a.dither;else throw S.invalidParameterError("dither","number between 0.0 and 1.0",a.dither)}}return this._updateFormatOut("png",a)}function vv(a){if(S.object(a)){if(S.defined(a.quality))if(S.integer(a.quality)&&S.inRange(a.quality,1,100))this.options.webpQuality=a.quality;else throw S.invalidParameterError("quality","integer between 1 and 100",a.quality);if(S.defined(a.alphaQuality))if(S.integer(a.alphaQuality)&&S.inRange(a.alphaQuality,0,100))this.options.webpAlphaQuality=a.alphaQuality;else throw S.invalidParameterError("alphaQuality","integer between 0 and 100",a.alphaQuality);if(S.defined(a.lossless)&&this._setBooleanOption("webpLossless",a.lossless),S.defined(a.nearLossless)&&this._setBooleanOption("webpNearLossless",a.nearLossless),S.defined(a.smartSubsample)&&this._setBooleanOption("webpSmartSubsample",a.smartSubsample),S.defined(a.smartDeblock)&&this._setBooleanOption("webpSmartDeblock",a.smartDeblock),S.defined(a.preset))if(S.string(a.preset)&&S.inArray(a.preset,["default","photo","picture","drawing","icon","text"]))this.options.webpPreset=a.preset;else throw S.invalidParameterError("preset","one of: default, photo, picture, drawing, icon, text",a.preset);if(S.defined(a.effort))if(S.integer(a.effort)&&S.inRange(a.effort,0,6))this.options.webpEffort=a.effort;else throw S.invalidParameterError("effort","integer between 0 and 6",a.effort);S.defined(a.minSize)&&this._setBooleanOption("webpMinSize",a.minSize),S.defined(a.mixed)&&this._setBooleanOption("webpMixed",a.mixed)}return eE(a,this.options),this._updateFormatOut("webp",a)}function Uv(a){if(S.object(a)){S.defined(a.reuse)&&this._setBooleanOption("gifReuse",a.reuse),S.defined(a.progressive)&&this._setBooleanOption("gifProgressive",a.progressive);let n=a.colours||a.colors;if(S.defined(n))if(S.integer(n)&&S.inRange(n,2,256))this.options.gifBitdepth=Kb(n);else throw S.invalidParameterError("colours","integer between 2 and 256",n);if(S.defined(a.effort))if(S.number(a.effort)&&S.inRange(a.effort,1,10))this.options.gifEffort=a.effort;else throw S.invalidParameterError("effort","integer between 1 and 10",a.effort);if(S.defined(a.dither))if(S.number(a.dither)&&S.inRange(a.dither,0,1))this.options.gifDither=a.dither;else throw S.invalidParameterError("dither","number between 0.0 and 1.0",a.dither);if(S.defined(a.interFrameMaxError))if(S.number(a.interFrameMaxError)&&S.inRange(a.interFrameMaxError,0,32))this.options.gifInterFrameMaxError=a.interFrameMaxError;else throw S.invalidParameterError("interFrameMaxError","number between 0.0 and 32.0",a.interFrameMaxError);if(S.defined(a.interPaletteMaxError))if(S.number(a.interPaletteMaxError)&&S.inRange(a.interPaletteMaxError,0,256))this.options.gifInterPaletteMaxError=a.interPaletteMaxError;else throw S.invalidParameterError("interPaletteMaxError","number between 0.0 and 256.0",a.interPaletteMaxError);if(S.defined(a.keepDuplicateFrames))if(S.bool(a.keepDuplicateFrames))this._setBooleanOption("gifKeepDuplicateFrames",a.keepDuplicateFrames);else throw S.invalidParameterError("keepDuplicateFrames","boolean",a.keepDuplicateFrames)}return eE(a,this.options),this._updateFormatOut("gif",a)}function Bv(a){if(!this.constructor.format.jp2k.output.buffer)throw jb();if(S.object(a)){if(S.defined(a.quality))if(S.integer(a.quality)&&S.inRange(a.quality,1,100))this.options.jp2Quality=a.quality;else throw S.invalidParameterError("quality","integer between 1 and 100",a.quality);if(S.defined(a.lossless))if(S.bool(a.lossless))this.options.jp2Lossless=a.lossless;else throw S.invalidParameterError("lossless","boolean",a.lossless);if(S.defined(a.tileWidth))if(S.integer(a.tileWidth)&&S.inRange(a.tileWidth,1,32768))this.options.jp2TileWidth=a.tileWidth;else throw S.invalidParameterError("tileWidth","integer between 1 and 32768",a.tileWidth);if(S.defined(a.tileHeight))if(S.integer(a.tileHeight)&&S.inRange(a.tileHeight,1,32768))this.options.jp2TileHeight=a.tileHeight;else throw S.invalidParameterError("tileHeight","integer between 1 and 32768",a.tileHeight);if(S.defined(a.chromaSubsampling))if(S.string(a.chromaSubsampling)&&S.inArray(a.chromaSubsampling,["4:2:0","4:4:4"]))this.options.jp2ChromaSubsampling=a.chromaSubsampling;else throw S.invalidParameterError("chromaSubsampling","one of: 4:2:0, 4:4:4",a.chromaSubsampling)}return this._updateFormatOut("jp2",a)}function eE(a,n){if(S.object(a)&&S.defined(a.loop))if(S.integer(a.loop)&&S.inRange(a.loop,0,65535))n.loop=a.loop;else throw S.invalidParameterError("loop","integer between 0 and 65535",a.loop);if(S.object(a)&&S.defined(a.delay))if(S.integer(a.delay)&&S.inRange(a.delay,0,65535))n.delay=[a.delay];else if(Array.isArray(a.delay)&&a.delay.every(S.integer)&&a.delay.every(r=>S.inRange(r,0,65535)))n.delay=a.delay;else throw S.invalidParameterError("delay","integer or an array of integers between 0 and 65535",a.delay)}function xv(a){if(S.object(a)){if(S.defined(a.quality))if(S.integer(a.quality)&&S.inRange(a.quality,1,100))this.options.tiffQuality=a.quality;else throw S.invalidParameterError("quality","integer between 1 and 100",a.quality);if(S.defined(a.bitdepth))if(S.integer(a.bitdepth)&&S.inArray(a.bitdepth,[1,2,4,8]))this.options.tiffBitdepth=a.bitdepth;else throw S.invalidParameterError("bitdepth","1, 2, 4 or 8",a.bitdepth);if(S.defined(a.tile)&&this._setBooleanOption("tiffTile",a.tile),S.defined(a.tileWidth))if(S.integer(a.tileWidth)&&a.tileWidth>0)this.options.tiffTileWidth=a.tileWidth;else throw S.invalidParameterError("tileWidth","integer greater than zero",a.tileWidth);if(S.defined(a.tileHeight))if(S.integer(a.tileHeight)&&a.tileHeight>0)this.options.tiffTileHeight=a.tileHeight;else throw S.invalidParameterError("tileHeight","integer greater than zero",a.tileHeight);if(S.defined(a.miniswhite)&&this._setBooleanOption("tiffMiniswhite",a.miniswhite),S.defined(a.pyramid)&&this._setBooleanOption("tiffPyramid",a.pyramid),S.defined(a.xres))if(S.number(a.xres)&&a.xres>0)this.options.tiffXres=a.xres;else throw S.invalidParameterError("xres","number greater than zero",a.xres);if(S.defined(a.yres))if(S.number(a.yres)&&a.yres>0)this.options.tiffYres=a.yres;else throw S.invalidParameterError("yres","number greater than zero",a.yres);if(S.defined(a.compression))if(S.string(a.compression)&&S.inArray(a.compression,["none","jpeg","deflate","packbits","ccittfax4","lzw","webp","zstd","jp2k"]))this.options.tiffCompression=a.compression;else throw S.invalidParameterError("compression","one of: none, jpeg, deflate, packbits, ccittfax4, lzw, webp, zstd, jp2k",a.compression);if(S.defined(a.predictor))if(S.string(a.predictor)&&S.inArray(a.predictor,["none","horizontal","float"]))this.options.tiffPredictor=a.predictor;else throw S.invalidParameterError("predictor","one of: none, horizontal, float",a.predictor);if(S.defined(a.resolutionUnit))if(S.string(a.resolutionUnit)&&S.inArray(a.resolutionUnit,["inch","cm"]))this.options.tiffResolutionUnit=a.resolutionUnit;else throw S.invalidParameterError("resolutionUnit","one of: inch, cm",a.resolutionUnit)}return this._updateFormatOut("tiff",a)}function Fv(a){return this.heif({...a,compression:"av1"})}function jv(a){if(S.object(a)){if(S.string(a.compression)&&S.inArray(a.compression,["av1","hevc"]))this.options.heifCompression=a.compression;else throw S.invalidParameterError("compression","one of: av1, hevc",a.compression);if(S.defined(a.quality))if(S.integer(a.quality)&&S.inRange(a.quality,1,100))this.options.heifQuality=a.quality;else throw S.invalidParameterError("quality","integer between 1 and 100",a.quality);if(S.defined(a.lossless))if(S.bool(a.lossless))this.options.heifLossless=a.lossless;else throw S.invalidParameterError("lossless","boolean",a.lossless);if(S.defined(a.effort))if(S.integer(a.effort)&&S.inRange(a.effort,0,9))this.options.heifEffort=a.effort;else throw S.invalidParameterError("effort","integer between 0 and 9",a.effort);if(S.defined(a.chromaSubsampling))if(S.string(a.chromaSubsampling)&&S.inArray(a.chromaSubsampling,["4:2:0","4:4:4"]))this.options.heifChromaSubsampling=a.chromaSubsampling;else throw S.invalidParameterError("chromaSubsampling","one of: 4:2:0, 4:4:4",a.chromaSubsampling);if(S.defined(a.bitdepth))if(S.integer(a.bitdepth)&&S.inArray(a.bitdepth,[8,10,12])){if(a.bitdepth!==8&&this.constructor.versions.heif)throw S.invalidParameterError("bitdepth when using prebuilt binaries",8,a.bitdepth);this.options.heifBitdepth=a.bitdepth}else throw S.invalidParameterError("bitdepth","8, 10 or 12",a.bitdepth)}else throw S.invalidParameterError("options","Object",a);return this._updateFormatOut("heif",a)}function Kv(a){if(S.object(a)){if(S.defined(a.quality))if(S.integer(a.quality)&&S.inRange(a.quality,1,100))this.options.jxlDistance=a.quality>=30?.1+(100-a.quality)*.09:53/3e3*a.quality*a.quality-23/20*a.quality+25;else throw S.invalidParameterError("quality","integer between 1 and 100",a.quality);else if(S.defined(a.distance))if(S.number(a.distance)&&S.inRange(a.distance,0,15))this.options.jxlDistance=a.distance;else throw S.invalidParameterError("distance","number between 0.0 and 15.0",a.distance);if(S.defined(a.decodingTier))if(S.integer(a.decodingTier)&&S.inRange(a.decodingTier,0,4))this.options.jxlDecodingTier=a.decodingTier;else throw S.invalidParameterError("decodingTier","integer between 0 and 4",a.decodingTier);if(S.defined(a.lossless))if(S.bool(a.lossless))this.options.jxlLossless=a.lossless;else throw S.invalidParameterError("lossless","boolean",a.lossless);if(S.defined(a.effort))if(S.integer(a.effort)&&S.inRange(a.effort,1,9))this.options.jxlEffort=a.effort;else throw S.invalidParameterError("effort","integer between 1 and 9",a.effort)}return eE(a,this.options),this._updateFormatOut("jxl",a)}function Hv(a){if(S.object(a)&&S.defined(a.depth))if(S.string(a.depth)&&S.inArray(a.depth,["char","uchar","short","ushort","int","uint","float","complex","double","dpcomplex"]))this.options.rawDepth=a.depth;else throw S.invalidParameterError("depth","one of: char, uchar, short, ushort, int, uint, float, complex, double, dpcomplex",a.depth);return this._updateFormatOut("raw")}function Gv(a){if(S.object(a)){if(S.defined(a.size))if(S.integer(a.size)&&S.inRange(a.size,1,8192))this.options.tileSize=a.size;else throw S.invalidParameterError("size","integer between 1 and 8192",a.size);if(S.defined(a.overlap))if(S.integer(a.overlap)&&S.inRange(a.overlap,0,8192)){if(a.overlap>this.options.tileSize)throw S.invalidParameterError("overlap",`<= size (${this.options.tileSize})`,a.overlap);this.options.tileOverlap=a.overlap}else throw S.invalidParameterError("overlap","integer between 0 and 8192",a.overlap);if(S.defined(a.container))if(S.string(a.container)&&S.inArray(a.container,["fs","zip"]))this.options.tileContainer=a.container;else throw S.invalidParameterError("container","one of: fs, zip",a.container);if(S.defined(a.layout))if(S.string(a.layout)&&S.inArray(a.layout,["dz","google","iiif","iiif3","zoomify"]))this.options.tileLayout=a.layout;else throw S.invalidParameterError("layout","one of: dz, google, iiif, iiif3, zoomify",a.layout);if(S.defined(a.angle))if(S.integer(a.angle)&&!(a.angle%90))this.options.tileAngle=a.angle;else throw S.invalidParameterError("angle","positive/negative multiple of 90",a.angle);if(this._setBackgroundColourOption("tileBackground",a.background),S.defined(a.depth))if(S.string(a.depth)&&S.inArray(a.depth,["onepixel","onetile","one"]))this.options.tileDepth=a.depth;else throw S.invalidParameterError("depth","one of: onepixel, onetile, one",a.depth);if(S.defined(a.skipBlanks))if(S.integer(a.skipBlanks)&&S.inRange(a.skipBlanks,-1,65535))this.options.tileSkipBlanks=a.skipBlanks;else throw S.invalidParameterError("skipBlanks","integer between -1 and 255/65535",a.skipBlanks);else S.defined(a.layout)&&a.layout==="google"&&(this.options.tileSkipBlanks=5);let n=S.bool(a.center)?a.center:a.centre;if(S.defined(n)&&this._setBooleanOption("tileCentre",n),S.defined(a.id))if(S.string(a.id))this.options.tileId=a.id;else throw S.invalidParameterError("id","string",a.id);if(S.defined(a.basename))if(S.string(a.basename))this.options.tileBasename=a.basename;else throw S.invalidParameterError("basename","string",a.basename)}if(S.inArray(this.options.formatOut,["jpeg","png","webp"]))this.options.tileFormat=this.options.formatOut;else if(this.options.formatOut!=="input")throw S.invalidParameterError("format","one of: jpeg, png, webp",this.options.formatOut);return this._updateFormatOut("dz")}function Vv(a){if(!S.plainObject(a))throw S.invalidParameterError("options","object",a);if(S.integer(a.seconds)&&S.inRange(a.seconds,0,3600))this.options.timeoutSeconds=a.seconds;else throw S.invalidParameterError("seconds","integer between 0 and 3600",a.seconds);return this}function Wv(a,n){return S.object(n)&&n.force===!1||(this.options.formatOut=a),this}function Yv(a,n){if(S.bool(n))this.options[a]=n;else throw S.invalidParameterError(a,"boolean",n)}function zv(){if(!this.options.streamOut){this.options.streamOut=!0;let a=Error();this._pipeline(void 0,a)}}function qv(a,n){return typeof a=="function"?(this._isStreamInput()?this.on("finish",()=>{this._flattenBufferIn(),os.pipeline(this.options,(r,e,t)=>{r?a(S.nativeError(r,n)):a(null,e,t)})}):os.pipeline(this.options,(r,e,t)=>{r?a(S.nativeError(r,n)):a(null,e,t)}),this):this.options.streamOut?(this._isStreamInput()?(this.once("finish",()=>{this._flattenBufferIn(),os.pipeline(this.options,(r,e,t)=>{r?this.emit("error",S.nativeError(r,n)):(this.emit("info",t),this.push(e)),this.push(null),this.on("end",()=>this.emit("close"))})}),this.streamInFinished&&this.emit("finish")):os.pipeline(this.options,(r,e,t)=>{r?this.emit("error",S.nativeError(r,n)):(this.emit("info",t),this.push(e)),this.push(null),this.on("end",()=>this.emit("close"))}),this):this._isStreamInput()?new Promise((r,e)=>{this.once("finish",()=>{this._flattenBufferIn(),os.pipeline(this.options,(t,i,o)=>{t?e(S.nativeError(t,n)):this.options.resolveWithObject?r({data:i,info:o}):r(i)})})}):new Promise((r,e)=>{os.pipeline(this.options,(t,i,o)=>{t?e(S.nativeError(t,n)):this.options.resolveWithObject?r({data:i,info:o}):r(i)})})}Hb.exports=function(a){Object.assign(a.prototype,{toFile:Ov,toBuffer:Sv,keepExif:Av,withExif:mv,withExifMerge:bv,keepIccProfile:Rv,withIccProfile:Cv,keepXmp:Nv,withXmp:Mv,keepMetadata:Pv,withMetadata:Lv,toFormat:Dv,jpeg:wv,jp2:Bv,png:kv,webp:vv,tiff:xv,avif:Fv,heif:jv,jxl:Kv,gif:Uv,raw:Hv,tile:Gv,timeout:Vv,_updateFormatOut:Wv,_setBooleanOption:Yv,_read:zv,_pipeline:qv})}});var zb=z((dV,Yb)=>{"use strict";var $v=_t("node:events"),id=Wu(),hr=qr(),{runtimePlatformArch:Xv}=Gg(),mn=Fc(),Vb=Xv(),tE=mn.libvipsVersion(),ua=mn.format();ua.heif.output.alias=["avif","heic"];ua.jpeg.output.alias=["jpe","jpg"];ua.tiff.output.alias=["tif"];ua.jp2k.output.alias=["j2c","j2k","jp2","jpx"];var Jv={nearest:"nearest",bilinear:"bilinear",bicubic:"bicubic",locallyBoundedBicubic:"lbb",nohalo:"nohalo",vertexSplitQuadraticBasisSpline:"vsqbs"},ss={vips:tE.semver};if(!tE.isGlobal)if(tE.isWasm)try{ss=_t("@img/sharp-wasm32/versions")}catch{}else try{ss=_t(`@img/sharp-${Vb}/versions`)}catch{try{ss=_t(`@img/sharp-libvips-${Vb}/versions`)}catch{}}ss.sharp=Kg().version;ss.heif&&ua.heif&&(ua.heif.input.fileSuffix=[".avif"],ua.heif.output.alias=["avif"]);function Wb(a){return hr.bool(a)?a?mn.cache(50,20,100):mn.cache(0,0,0):hr.object(a)?mn.cache(a.memory,a.files,a.items):mn.cache()}Wb(!0);function Qv(a){return mn.concurrency(hr.integer(a)?a:null)}id.familySync()===id.GLIBC&&!mn._isUsingJemalloc()?mn.concurrency(1):id.familySync()===id.MUSL&&mn.concurrency()===1024&&mn.concurrency(_t("node:os").availableParallelism());var Zv=new $v.EventEmitter;function eU(){return mn.counters()}function tU(a){return mn.simd(hr.bool(a)?a:null)}function nU(a){if(hr.object(a))if(Array.isArray(a.operation)&&a.operation.every(hr.string))mn.block(a.operation,!0);else throw hr.invalidParameterError("operation","Array<string>",a.operation);else throw hr.invalidParameterError("options","object",a)}function rU(a){if(hr.object(a))if(Array.isArray(a.operation)&&a.operation.every(hr.string))mn.block(a.operation,!1);else throw hr.invalidParameterError("operation","Array<string>",a.operation);else throw hr.invalidParameterError("options","object",a)}Yb.exports=function(a){a.cache=Wb,a.concurrency=Qv,a.counters=eU,a.simd=tU,a.format=ua,a.interpolators=Jv,a.versions=ss,a.queue=Zv,a.block=nU,a.unblock=rU}});var $b=z((fV,qb)=>{"use strict";var Li=cb();db()(Li);yb()(Li);Tb()(Li);mb()(Li);Ub()(Li);xb()(Li);Gb()(Li);zb()(Li);qb.exports=Li});var iU,ct,za,jc=$(()=>{iU="End-Of-Stream",ct=class extends Error{constructor(){super(iU),this.name="EndOfStreamError"}},za=class extends Error{constructor(n="The operation was aborted"){super(n),this.name="AbortError"}}});var Xb=$(()=>{});var qa,ad=$(()=>{jc();qa=class{constructor(){this.endOfStream=!1,this.interrupted=!1,this.peekQueue=[]}async peek(n,r=!1){let e=await this.read(n,r);return this.peekQueue.push(n.subarray(0,e)),e}async read(n,r=!1){if(n.length===0)return 0;let e=this.readFromPeekBuffer(n);if(this.endOfStream||(e+=await this.readRemainderFromStream(n.subarray(e),r)),e===0&&!r)throw new ct;return e}readFromPeekBuffer(n){let r=n.length,e=0;for(;this.peekQueue.length>0&&r>0;){let t=this.peekQueue.pop();if(!t)throw new Error("peekData should be defined");let i=Math.min(t.length,r);n.set(t.subarray(0,i),e),e+=i,r-=i,i<t.length&&this.peekQueue.push(t.subarray(i))}return e}async readRemainderFromStream(n,r){let e=0;for(;e<n.length&&!this.endOfStream;){if(this.interrupted)throw new za;let t=await this.readFromStream(n.subarray(e),r);if(t===0)break;e+=t}if(!r&&e<n.length)throw new ct;return e}}});var Jb=$(()=>{jc();Xb();ad()});var od,Qb=$(()=>{ad();od=class extends qa{constructor(n){super(),this.reader=n}async abort(){return this.close()}async close(){this.reader.releaseLock()}}});var Kc,nE=$(()=>{Qb();Kc=class extends od{async readFromStream(n,r){if(n.length===0)return 0;let e=await this.reader.read(new Uint8Array(n.length),{min:r?void 0:n.length});return e.done&&(this.endOfStream=e.done),e.value?(n.set(e.value),e.value.length):0}}});var cs,rE=$(()=>{jc();ad();cs=class extends qa{constructor(n){super(),this.reader=n,this.buffer=null}writeChunk(n,r){let e=Math.min(r.length,n.length);return n.set(r.subarray(0,e)),e<r.length?this.buffer=r.subarray(e):this.buffer=null,e}async readFromStream(n,r){if(n.length===0)return 0;let e=0;for(this.buffer&&(e+=this.writeChunk(n,this.buffer));e<n.length&&!this.endOfStream;){let t=await this.reader.read();if(t.done){this.endOfStream=!0;break}t.value&&(e+=this.writeChunk(n.subarray(e),t.value))}if(!r&&e===0&&this.endOfStream)throw new ct;return e}abort(){return this.interrupted=!0,this.reader.cancel()}async close(){await this.abort(),this.reader.releaseLock()}}});function iE(a){try{let n=a.getReader({mode:"byob"});return n instanceof ReadableStreamDefaultReader?new cs(n):new Kc(n)}catch(n){if(n instanceof TypeError)return new cs(a.getReader());throw n}}var Zb=$(()=>{nE();rE()});var $a=$(()=>{jc();Jb();nE();rE();Zb()});var Di,Hc=$(()=>{$a();Di=class{constructor(n){this.numBuffer=new Uint8Array(8),this.position=0,this.onClose=n?.onClose,n?.abortSignal&&n.abortSignal.addEventListener("abort",()=>{this.abort()})}async readToken(n,r=this.position){let e=new Uint8Array(n.len);if(await this.readBuffer(e,{position:r})<n.len)throw new ct;return n.get(e,0)}async peekToken(n,r=this.position){let e=new Uint8Array(n.len);if(await this.peekBuffer(e,{position:r})<n.len)throw new ct;return n.get(e,0)}async readNumber(n){if(await this.readBuffer(this.numBuffer,{length:n.len})<n.len)throw new ct;return n.get(this.numBuffer,0)}async peekNumber(n){if(await this.peekBuffer(this.numBuffer,{length:n.len})<n.len)throw new ct;return n.get(this.numBuffer,0)}async ignore(n){if(this.fileInfo.size!==void 0){let r=this.fileInfo.size-this.position;if(n>r)return this.position+=r,r}return this.position+=n,n}async close(){await this.abort(),await this.onClose?.()}normalizeOptions(n,r){if(!this.supportsRandomAccess()&&r&&r.position!==void 0&&r.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return{mayBeLess:!1,offset:0,length:n.length,position:this.position,...r}}abort(){return Promise.resolve()}}});var oU,sd,e2=$(()=>{Hc();$a();oU=256e3,sd=class extends Di{constructor(n,r){super(r),this.streamReader=n,this.fileInfo=r?.fileInfo??{}}async readBuffer(n,r){let e=this.normalizeOptions(n,r),t=e.position-this.position;if(t>0)return await this.ignore(t),this.readBuffer(n,r);if(t<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(e.length===0)return 0;let i=await this.streamReader.read(n.subarray(0,e.length),e.mayBeLess);if(this.position+=i,(!r||!r.mayBeLess)&&i<e.length)throw new ct;return i}async peekBuffer(n,r){let e=this.normalizeOptions(n,r),t=0;if(e.position){let i=e.position-this.position;if(i>0){let o=new Uint8Array(e.length+i);return t=await this.peekBuffer(o,{mayBeLess:e.mayBeLess}),n.set(o.subarray(i)),t-i}if(i<0)throw new Error("Cannot peek from a negative offset in a stream")}if(e.length>0){try{t=await this.streamReader.peek(n.subarray(0,e.length),e.mayBeLess)}catch(i){if(r?.mayBeLess&&i instanceof ct)return 0;throw i}if(!e.mayBeLess&&t<e.length)throw new ct}return t}async ignore(n){let r=Math.min(oU,n),e=new Uint8Array(r),t=0;for(;t<n;){let i=n-t,o=await this.readBuffer(e,{length:Math.min(r,i)});if(o<0)return o;t+=o}return t}abort(){return this.streamReader.abort()}async close(){return this.streamReader.close()}supportsRandomAccess(){return!1}}});var cd,t2=$(()=>{$a();Hc();cd=class extends Di{constructor(n,r){super(r),this.uint8Array=n,this.fileInfo={...r?.fileInfo??{},size:n.length}}async readBuffer(n,r){r?.position&&(this.position=r.position);let e=await this.peekBuffer(n,r);return this.position+=e,e}async peekBuffer(n,r){let e=this.normalizeOptions(n,r),t=Math.min(this.uint8Array.length-e.position,e.length);if(!e.mayBeLess&&t<e.length)throw new ct;return n.set(this.uint8Array.subarray(e.position,e.position+t)),t}close(){return super.close()}supportsRandomAccess(){return!0}setPosition(n){this.position=n}}});var ld,n2=$(()=>{$a();Hc();ld=class extends Di{constructor(n,r){super(r),this.blob=n,this.fileInfo={...r?.fileInfo??{},size:n.size,mimeType:n.type}}async readBuffer(n,r){r?.position&&(this.position=r.position);let e=await this.peekBuffer(n,r);return this.position+=e,e}async peekBuffer(n,r){let e=this.normalizeOptions(n,r),t=Math.min(this.blob.size-e.position,e.length);if(!e.mayBeLess&&t<e.length)throw new ct;let i=await this.blob.slice(e.position,e.position+t).arrayBuffer();return n.set(new Uint8Array(i)),t}close(){return super.close()}supportsRandomAccess(){return!0}setPosition(n){this.position=n}}});function ud(a,n){let r=iE(a),e=n??{},t=e.onClose;return e.onClose=async()=>{if(await r.close(),t)return t()},new sd(r,e)}function Qn(a,n){return new cd(a,n)}function r2(a,n){return new ld(a,n)}var Dr=$(()=>{$a();e2();t2();n2();$a();Hc()});var i2=z(aE=>{aE.read=function(a,n,r,e,t){var i,o,s=t*8-e-1,c=(1<<s)-1,l=c>>1,d=-7,f=r?t-1:0,g=r?-1:1,_=a[n+f];for(f+=g,i=_&(1<<-d)-1,_>>=-d,d+=s;d>0;i=i*256+a[n+f],f+=g,d-=8);for(o=i&(1<<-d)-1,i>>=-d,d+=e;d>0;o=o*256+a[n+f],f+=g,d-=8);if(i===0)i=1-l;else{if(i===c)return o?NaN:(_?-1:1)*(1/0);o=o+Math.pow(2,e),i=i-l}return(_?-1:1)*o*Math.pow(2,i-e)};aE.write=function(a,n,r,e,t,i){var o,s,c,l=i*8-t-1,d=(1<<l)-1,f=d>>1,g=t===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=e?0:i-1,y=e?1:-1,T=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(s=isNaN(n)?1:0,o=d):(o=Math.floor(Math.log(n)/Math.LN2),n*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+f>=1?n+=g/c:n+=g*Math.pow(2,1-f),n*c>=2&&(o++,c/=2),o+f>=d?(s=0,o=d):o+f>=1?(s=(n*c-1)*Math.pow(2,t),o=o+f):(s=n*Math.pow(2,f-1)*Math.pow(2,t),o=0));t>=8;a[r+_]=s&255,_+=y,s/=256,t-=8);for(o=o<<t|s,l+=t;l>0;a[r+_]=o&255,_+=y,o/=256,l-=8);a[r+_-y]|=T*128}});function a2(a,n="utf-8"){switch(n.toLowerCase()){case"utf-8":case"utf8":return typeof globalThis.TextDecoder<"u"?new globalThis.TextDecoder("utf-8").decode(a):cU(a);case"utf-16le":return lU(a);case"ascii":return uU(a);case"latin1":case"iso-8859-1":return dU(a);case"windows-1252":return pU(a);default:throw new RangeError(`Encoding '${n}' not supported`)}}function cU(a){let n="",r=0;for(;r<a.length;){let e=a[r++];if(e<128)n+=String.fromCharCode(e);else if(e<224){let t=a[r++]&63;n+=String.fromCharCode((e&31)<<6|t)}else if(e<240){let t=a[r++]&63,i=a[r++]&63;n+=String.fromCharCode((e&15)<<12|t<<6|i)}else{let t=a[r++]&63,i=a[r++]&63,o=a[r++]&63,s=(e&7)<<18|t<<12|i<<6|o;s-=65536,n+=String.fromCharCode(55296+(s>>10&1023),56320+(s&1023))}}return n}function lU(a){let n="";for(let r=0;r<a.length;r+=2)n+=String.fromCharCode(a[r]|a[r+1]<<8);return n}function uU(a){return String.fromCharCode(...a.map(n=>n&127))}function dU(a){return String.fromCharCode(...a)}function pU(a){let n="";for(let r of a)r>=128&&r<=159&&oE[r]?n+=oE[r]:n+=String.fromCharCode(r);return n}var oE,sU,o2=$(()=>{oE={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},sU={};for(let[a,n]of Object.entries(oE))sU[n]=Number.parseInt(a)});var at={};tn(at,{AnsiStringType:()=>cE,Float16_BE:()=>gU,Float16_LE:()=>EU,Float32_BE:()=>uE,Float32_LE:()=>yU,Float64_BE:()=>pd,Float64_LE:()=>_U,Float80_BE:()=>TU,Float80_LE:()=>IU,INT16_BE:()=>wr,INT16_LE:()=>fU,INT24_BE:()=>dd,INT24_LE:()=>hU,INT32_BE:()=>bn,INT32_LE:()=>wt,INT64_BE:()=>lE,INT64_LE:()=>Wc,INT8:()=>ni,IgnoreType:()=>sE,StringType:()=>le,UINT16_BE:()=>ot,UINT16_LE:()=>we,UINT24_BE:()=>qt,UINT24_LE:()=>Vc,UINT32_BE:()=>ge,UINT32_LE:()=>ae,UINT64_BE:()=>ls,UINT64_LE:()=>$t,UINT8:()=>ve,Uint8ArrayType:()=>At});function tt(a){return new DataView(a.buffer,a.byteOffset)}var ti,ve,we,ot,Vc,qt,ae,ge,ni,wr,fU,hU,dd,bn,wt,$t,Wc,ls,lE,gU,EU,uE,yU,pd,_U,TU,IU,sE,At,le,cE,Ve=$(()=>{ti=Me(i2());o2();ve={len:1,get(a,n){return tt(a).getUint8(n)},put(a,n,r){return tt(a).setUint8(n,r),n+1}},we={len:2,get(a,n){return tt(a).getUint16(n,!0)},put(a,n,r){return tt(a).setUint16(n,r,!0),n+2}},ot={len:2,get(a,n){return tt(a).getUint16(n)},put(a,n,r){return tt(a).setUint16(n,r),n+2}},Vc={len:3,get(a,n){let r=tt(a);return r.getUint8(n)+(r.getUint16(n+1,!0)<<8)},put(a,n,r){let e=tt(a);return e.setUint8(n,r&255),e.setUint16(n+1,r>>8,!0),n+3}},qt={len:3,get(a,n){let r=tt(a);return(r.getUint16(n)<<8)+r.getUint8(n+2)},put(a,n,r){let e=tt(a);return e.setUint16(n,r>>8),e.setUint8(n+2,r&255),n+3}},ae={len:4,get(a,n){return tt(a).getUint32(n,!0)},put(a,n,r){return tt(a).setUint32(n,r,!0),n+4}},ge={len:4,get(a,n){return tt(a).getUint32(n)},put(a,n,r){return tt(a).setUint32(n,r),n+4}},ni={len:1,get(a,n){return tt(a).getInt8(n)},put(a,n,r){return tt(a).setInt8(n,r),n+1}},wr={len:2,get(a,n){return tt(a).getInt16(n)},put(a,n,r){return tt(a).setInt16(n,r),n+2}},fU={len:2,get(a,n){return tt(a).getInt16(n,!0)},put(a,n,r){return tt(a).setInt16(n,r,!0),n+2}},hU={len:3,get(a,n){let r=Vc.get(a,n);return r>8388607?r-16777216:r},put(a,n,r){let e=tt(a);return e.setUint8(n,r&255),e.setUint16(n+1,r>>8,!0),n+3}},dd={len:3,get(a,n){let r=qt.get(a,n);return r>8388607?r-16777216:r},put(a,n,r){let e=tt(a);return e.setUint16(n,r>>8),e.setUint8(n+2,r&255),n+3}},bn={len:4,get(a,n){return tt(a).getInt32(n)},put(a,n,r){return tt(a).setInt32(n,r),n+4}},wt={len:4,get(a,n){return tt(a).getInt32(n,!0)},put(a,n,r){return tt(a).setInt32(n,r,!0),n+4}},$t={len:8,get(a,n){return tt(a).getBigUint64(n,!0)},put(a,n,r){return tt(a).setBigUint64(n,r,!0),n+8}},Wc={len:8,get(a,n){return tt(a).getBigInt64(n,!0)},put(a,n,r){return tt(a).setBigInt64(n,r,!0),n+8}},ls={len:8,get(a,n){return tt(a).getBigUint64(n)},put(a,n,r){return tt(a).setBigUint64(n,r),n+8}},lE={len:8,get(a,n){return tt(a).getBigInt64(n)},put(a,n,r){return tt(a).setBigInt64(n,r),n+8}},gU={len:2,get(a,n){return ti.read(a,n,!1,10,this.len)},put(a,n,r){return ti.write(a,r,n,!1,10,this.len),n+this.len}},EU={len:2,get(a,n){return ti.read(a,n,!0,10,this.len)},put(a,n,r){return ti.write(a,r,n,!0,10,this.len),n+this.len}},uE={len:4,get(a,n){return tt(a).getFloat32(n)},put(a,n,r){return tt(a).setFloat32(n,r),n+4}},yU={len:4,get(a,n){return tt(a).getFloat32(n,!0)},put(a,n,r){return tt(a).setFloat32(n,r,!0),n+4}},pd={len:8,get(a,n){return tt(a).getFloat64(n)},put(a,n,r){return tt(a).setFloat64(n,r),n+8}},_U={len:8,get(a,n){return tt(a).getFloat64(n,!0)},put(a,n,r){return tt(a).setFloat64(n,r,!0),n+8}},TU={len:10,get(a,n){return ti.read(a,n,!1,63,this.len)},put(a,n,r){return ti.write(a,r,n,!1,63,this.len),n+this.len}},IU={len:10,get(a,n){return ti.read(a,n,!0,63,this.len)},put(a,n,r){return ti.write(a,r,n,!0,63,this.len),n+this.len}},sE=class{constructor(n){this.len=n}get(n,r){}},At=class{constructor(n){this.len=n}get(n,r){return n.subarray(r,r+this.len)}},le=class{constructor(n,r){this.len=n,this.encoding=r}get(n,r=0){let e=n.subarray(r,r+this.len);return a2(e,this.encoding)}},cE=class extends le{constructor(n){super(n,"windows-1252")}}});function kU(a,n){return hE(a,{i:2},n&&n.out,n&&n.dictionary)}function vU(a,n){var r=LU(a);return r+8>a.length&&Zn(6,"invalid gzip data"),hE(a.subarray(r,-8),{i:2},n&&n.out||new er(DU(a)),n&&n.dictionary)}function UU(a,n){return hE(a.subarray(wU(a,n&&n.dictionary),-4),{i:2},n&&n.out,n&&n.dictionary)}function h2(a,n){return a[0]==31&&a[1]==139&&a[2]==8?vU(a,n):(a[0]&15)!=8||a[0]>>4>7||(a[0]<<8|a[1])%31?kU(a,n):UU(a,n)}var er,us,OU,s2,c2,SU,l2,u2,d2,AU,p2,mU,a7,fE,wi,St,Yc,zc,St,St,St,St,f2,St,bU,RU,dE,kr,pE,CU,NU,MU,Zn,hE,PU,LU,DU,wU,BU,xU,g2=$(()=>{er=Uint8Array,us=Uint16Array,OU=Int32Array,s2=new er([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),c2=new er([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),SU=new er([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l2=function(a,n){for(var r=new us(31),e=0;e<31;++e)r[e]=n+=1<<a[e-1];for(var t=new OU(r[30]),e=1;e<30;++e)for(var i=r[e];i<r[e+1];++i)t[i]=i-r[e]<<5|e;return{b:r,r:t}},u2=l2(s2,2),d2=u2.b,AU=u2.r;d2[28]=258,AU[258]=28;p2=l2(c2,0),mU=p2.b,a7=p2.r,fE=new us(32768);for(St=0;St<32768;++St)wi=(St&43690)>>1|(St&21845)<<1,wi=(wi&52428)>>2|(wi&13107)<<2,wi=(wi&61680)>>4|(wi&3855)<<4,fE[St]=((wi&65280)>>8|(wi&255)<<8)>>1;Yc=function(a,n,r){for(var e=a.length,t=0,i=new us(n);t<e;++t)a[t]&&++i[a[t]-1];var o=new us(n);for(t=1;t<n;++t)o[t]=o[t-1]+i[t-1]<<1;var s;if(r){s=new us(1<<n);var c=15-n;for(t=0;t<e;++t)if(a[t])for(var l=t<<4|a[t],d=n-a[t],f=o[a[t]-1]++<<d,g=f|(1<<d)-1;f<=g;++f)s[fE[f]>>c]=l}else for(s=new us(e),t=0;t<e;++t)a[t]&&(s[t]=fE[o[a[t]-1]++]>>15-a[t]);return s},zc=new er(288);for(St=0;St<144;++St)zc[St]=8;for(St=144;St<256;++St)zc[St]=9;for(St=256;St<280;++St)zc[St]=7;for(St=280;St<288;++St)zc[St]=8;f2=new er(32);for(St=0;St<32;++St)f2[St]=5;bU=Yc(zc,9,1),RU=Yc(f2,5,1),dE=function(a){for(var n=a[0],r=1;r<a.length;++r)a[r]>n&&(n=a[r]);return n},kr=function(a,n,r){var e=n/8|0;return(a[e]|a[e+1]<<8)>>(n&7)&r},pE=function(a,n){var r=n/8|0;return(a[r]|a[r+1]<<8|a[r+2]<<16)>>(n&7)},CU=function(a){return(a+7)/8|0},NU=function(a,n,r){return(n==null||n<0)&&(n=0),(r==null||r>a.length)&&(r=a.length),new er(a.subarray(n,r))},MU=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Zn=function(a,n,r){var e=new Error(n||MU[a]);if(e.code=a,Error.captureStackTrace&&Error.captureStackTrace(e,Zn),!r)throw e;return e},hE=function(a,n,r,e){var t=a.length,i=e?e.length:0;if(!t||n.f&&!n.l)return r||new er(0);var o=!r,s=o||n.i!=2,c=n.i;o&&(r=new er(t*3));var l=function(xe){var Fe=r.length;if(xe>Fe){var Ke=new er(Math.max(Fe*2,xe));Ke.set(r),r=Ke}},d=n.f||0,f=n.p||0,g=n.b||0,_=n.l,y=n.d,T=n.m,I=n.n,O=t*8;do{if(!_){d=kr(a,f,1);var R=kr(a,f+1,3);if(f+=3,R)if(R==1)_=bU,y=RU,T=9,I=5;else if(R==2){var k=kr(a,f,31)+257,b=kr(a,f+10,15)+4,j=k+kr(a,f+5,31)+1;f+=14;for(var H=new er(j),L=new er(19),U=0;U<b;++U)L[SU[U]]=kr(a,f+U*3,7);f+=b*3;for(var X=dE(L),w=(1<<X)-1,K=Yc(L,X,1),U=0;U<j;){var ee=K[kr(a,f,w)];f+=ee&15;var M=ee>>4;if(M<16)H[U++]=M;else{var Ae=0,se=0;for(M==16?(se=3+kr(a,f,3),f+=2,Ae=H[U-1]):M==17?(se=3+kr(a,f,7),f+=3):M==18&&(se=11+kr(a,f,127),f+=7);se--;)H[U++]=Ae}}var pe=H.subarray(0,k),We=H.subarray(k);T=dE(pe),I=dE(We),_=Yc(pe,T,1),y=Yc(We,I,1)}else Zn(1);else{var M=CU(f)+4,v=a[M-4]|a[M-3]<<8,D=M+v;if(D>t){c&&Zn(0);break}s&&l(g+v),r.set(a.subarray(M,D),g),n.b=g+=v,n.p=f=D*8,n.f=d;continue}if(f>O){c&&Zn(0);break}}s&&l(g+131072);for(var je=(1<<T)-1,Pe=(1<<I)-1,Be=f;;Be=f){var Ae=_[pE(a,f)&je],Ye=Ae>>4;if(f+=Ae&15,f>O){c&&Zn(0);break}if(Ae||Zn(2),Ye<256)r[g++]=Ye;else if(Ye==256){Be=f,_=null;break}else{var Ce=Ye-254;if(Ye>264){var U=Ye-257,W=s2[U];Ce=kr(a,f,(1<<W)-1)+d2[U],f+=W}var Z=y[pE(a,f)&Pe],ue=Z>>4;Z||Zn(3),f+=Z&15;var We=mU[ue];if(ue>3){var W=c2[ue];We+=pE(a,f)&(1<<W)-1,f+=W}if(f>O){c&&Zn(0);break}s&&l(g+131072);var q=g+Ce;if(g<We){var ne=i-We,ye=Math.min(We,q);for(ne+g<0&&Zn(3);g<ye;++g)r[g]=e[ne+g]}for(;g<q;++g)r[g]=r[g-We]}}n.l=_,n.p=Be,n.b=g,n.f=d,_&&(d=1,n.m=T,n.d=y,n.n=I)}while(!d);return g!=r.length&&o?NU(r,0,g):r.subarray(0,g)},PU=new er(0),LU=function(a){(a[0]!=31||a[1]!=139||a[2]!=8)&&Zn(6,"invalid gzip data");var n=a[3],r=10;n&4&&(r+=(a[10]|a[11]<<8)+2);for(var e=(n>>3&1)+(n>>4&1);e>0;e-=!a[r++]);return r+(n&2)},DU=function(a){var n=a.length;return(a[n-4]|a[n-3]<<8|a[n-2]<<16|a[n-1]<<24)>>>0},wU=function(a,n){return((a[0]&15)!=8||a[0]>>4>7||(a[0]<<8|a[1])%31)&&Zn(6,"invalid zlib data"),(a[1]>>5&1)==+!n&&Zn(6,"invalid zlib data: "+(a[1]&32?"need":"unexpected")+" dictionary"),(a[1]>>3&4)+2};BU=typeof TextDecoder<"u"&&new TextDecoder,xU=0;try{BU.decode(PU,{stream:!0}),xU=1}catch{}});var Xa,gE,E2,y2,_2,T2=$(()=>{Ve();Xa={LocalFileHeader:67324752,DataDescriptor:134695760,CentralFileHeader:33639248,EndOfCentralDirectory:101010256},gE={get(a){let n=we.get(a,6);return{signature:ae.get(a,0),compressedSize:ae.get(a,8),uncompressedSize:ae.get(a,12)}},len:16},E2={get(a){let n=we.get(a,6);return{signature:ae.get(a,0),minVersion:we.get(a,4),dataDescriptor:!!(n&8),compressedMethod:we.get(a,8),compressedSize:ae.get(a,18),uncompressedSize:ae.get(a,22),filenameLength:we.get(a,26),extraFieldLength:we.get(a,28),filename:null}},len:30},y2={get(a){return{signature:ae.get(a,0),nrOfThisDisk:we.get(a,4),nrOfThisDiskWithTheStart:we.get(a,6),nrOfEntriesOnThisDisk:we.get(a,8),nrOfEntriesOfSize:we.get(a,10),sizeOfCd:ae.get(a,12),offsetOfStartOfCd:ae.get(a,16),zipFileCommentLength:we.get(a,20)}},len:22},_2={get(a){let n=we.get(a,8);return{signature:ae.get(a,0),minVersion:we.get(a,6),dataDescriptor:!!(n&8),compressedMethod:we.get(a,10),compressedSize:ae.get(a,20),uncompressedSize:ae.get(a,24),filenameLength:we.get(a,28),extraFieldLength:we.get(a,30),fileCommentLength:we.get(a,32),relativeOffsetOfLocalHeader:ae.get(a,42),filename:null}},len:46}});function O2(a){let n=new Uint8Array(ae.len);return ae.put(n,0,a),n}function jU(a,n){let r=a.length,e=n.length;if(e>r)return-1;for(let t=0;t<=r-e;t++){let i=!0;for(let o=0;o<e;o++)if(a[t+o]!==n[o]){i=!1;break}if(i)return t}return-1}function KU(a){let n=a.reduce((t,i)=>t+i.length,0),r=new Uint8Array(n),e=0;for(let t of a)r.set(t,e),e+=t.length;return r}var I2,ri,EE,FU,fd,hd,S2=$(()=>{Ve();g2();I2=Me(Ot());T2();ri=(0,I2.default)("tokenizer:inflate"),EE=256*1024,FU=O2(Xa.DataDescriptor),fd=O2(Xa.EndOfCentralDirectory),hd=class{constructor(n){this.tokenizer=n,this.syncBuffer=new Uint8Array(EE)}async isZip(){return await this.peekSignature()===Xa.LocalFileHeader}peekSignature(){return this.tokenizer.peekToken(ae)}async findEndOfCentralDirectoryLocator(){let n=this.tokenizer,r=Math.min(16*1024,n.fileInfo.size),e=this.syncBuffer.subarray(0,r);await this.tokenizer.readBuffer(e,{position:n.fileInfo.size-r});for(let t=e.length-4;t>=0;t--)if(e[t]===fd[0]&&e[t+1]===fd[1]&&e[t+2]===fd[2]&&e[t+3]===fd[3])return n.fileInfo.size-r+t;return-1}async readCentralDirectory(){if(!this.tokenizer.supportsRandomAccess()){ri("Cannot reading central-directory without random-read support");return}ri("Reading central-directory...");let n=this.tokenizer.position,r=await this.findEndOfCentralDirectoryLocator();if(r>0){ri("Central-directory 32-bit signature found");let e=await this.tokenizer.readToken(y2,r),t=[];this.tokenizer.setPosition(e.offsetOfStartOfCd);for(let i=0;i<e.nrOfEntriesOfSize;++i){let o=await this.tokenizer.readToken(_2);if(o.signature!==Xa.CentralFileHeader)throw new Error("Expected Central-File-Header signature");o.filename=await this.tokenizer.readToken(new le(o.filenameLength,"utf-8")),await this.tokenizer.ignore(o.extraFieldLength),await this.tokenizer.ignore(o.fileCommentLength),t.push(o),ri(`Add central-directory file-entry: n=${i+1}/${t.length}: filename=${t[i].filename}`)}return this.tokenizer.setPosition(n),t}this.tokenizer.setPosition(n)}async unzip(n){let r=await this.readCentralDirectory();if(r)return this.iterateOverCentralDirectory(r,n);let e=!1;do{let t=await this.readLocalFileHeader();if(!t)break;let i=n(t);e=!!i.stop;let o;if(await this.tokenizer.ignore(t.extraFieldLength),t.dataDescriptor&&t.compressedSize===0){let s=[],c=EE;ri("Compressed-file-size unknown, scanning for next data-descriptor-signature....");let l=-1;for(;l<0&&c===EE;){c=await this.tokenizer.peekBuffer(this.syncBuffer,{mayBeLess:!0}),l=jU(this.syncBuffer.subarray(0,c),FU);let d=l>=0?l:c;if(i.handler){let f=new Uint8Array(d);await this.tokenizer.readBuffer(f),s.push(f)}else await this.tokenizer.ignore(d)}ri(`Found data-descriptor-signature at pos=${this.tokenizer.position}`),i.handler&&await this.inflate(t,KU(s),i.handler)}else i.handler?(ri(`Reading compressed-file-data: ${t.compressedSize} bytes`),o=new Uint8Array(t.compressedSize),await this.tokenizer.readBuffer(o),await this.inflate(t,o,i.handler)):(ri(`Ignoring compressed-file-data: ${t.compressedSize} bytes`),await this.tokenizer.ignore(t.compressedSize));if(ri(`Reading data-descriptor at pos=${this.tokenizer.position}`),t.dataDescriptor&&(await this.tokenizer.readToken(gE)).signature!==134695760)throw new Error(`Expected data-descriptor-signature at position ${this.tokenizer.position-gE.len}`)}while(!e)}async iterateOverCentralDirectory(n,r){for(let e of n){let t=r(e);if(t.handler){this.tokenizer.setPosition(e.relativeOffsetOfLocalHeader);let i=await this.readLocalFileHeader();if(i){await this.tokenizer.ignore(i.extraFieldLength);let o=new Uint8Array(e.compressedSize);await this.tokenizer.readBuffer(o),await this.inflate(i,o,t.handler)}}if(t.stop)break}}inflate(n,r,e){if(n.compressedMethod===0)return e(r);ri(`Decompress filename=${n.filename}, compressed-size=${r.length}`);let t=h2(r);return e(t)}async readLocalFileHeader(){let n=await this.tokenizer.peekToken(ae);if(n===Xa.LocalFileHeader){let r=await this.tokenizer.readToken(E2);return r.filename=await this.tokenizer.readToken(new le(r.filenameLength,"utf-8")),r}if(n===Xa.CentralFileHeader)return!1;throw n===3759263696?new Error("Encrypted ZIP"):new Error("Unexpected signature")}}});function VU(a,n,r){return a?a.constructor===n?!0:HU.call(a)===r:!1}function WU(a){return VU(a,Uint8Array,GU)}function YU(a){if(!WU(a))throw new TypeError(`Expected \`Uint8Array\`, got \`${typeof a}\``)}function zU(a){if(typeof a!="string")throw new TypeError(`Expected \`string\`, got \`${typeof a}\``)}function ds(a){YU(a);let n="";for(let r=0;r<a.length;r++)n+=qU[a[r]];return n}function yE(a){if(zU(a),a.length%2!==0)throw new Error("Invalid Hex string length.");let n=a.length/2,r=new Uint8Array(n);for(let e=0;e<n;e++){let t=A2[a[e*2]],i=A2[a[e*2+1]];if(t===void 0||i===void 0)throw new Error(`Invalid Hex character encountered at position ${e*2}`);r[e]=t<<4|i}return r}function qc(a){let{byteLength:n}=a;if(n===6)return a.getUint16(0)*2**32+a.getUint32(2);if(n===5)return a.getUint8(0)*2**32+a.getUint32(1);if(n===4)return a.getUint32(0);if(n===3)return a.getUint8(0)*2**16+a.getUint16(1);if(n===2)return a.getUint16(0);if(n===1)return a.getUint8(0)}var HU,GU,f7,h7,qU,A2,ps=$(()=>{HU=Object.prototype.toString,GU="[object Uint8Array]";f7={utf8:new globalThis.TextDecoder("utf8")};h7=new globalThis.TextEncoder,qU=Array.from({length:256},(a,n)=>n.toString(16).padStart(2,"0"));A2={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15,A:10,B:11,C:12,D:13,E:14,F:15}});function m2(a){return[...a].map(n=>n.charCodeAt(0))}function b2(a,n=0){let r=Number.parseInt(new le(6).get(a,148).replace(/\0.*$/,"").trim(),8);if(Number.isNaN(r))return!1;let e=8*32;for(let t=n;t<n+148;t++)e+=a[t];for(let t=n+156;t<n+512;t++)e+=a[t];return r===e}var R2,C2=$(()=>{Ve();R2={get:(a,n)=>a[n+3]&127|a[n+2]<<7|a[n+1]<<14|a[n]<<21,len:4}});var N2,M2,P2=$(()=>{N2=["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","elf","macho","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ttc","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","j2c","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf","jls","pst","dwg","parquet","class","arj","cpio","ace","avro","icc","fbx","vsdx","vtt","apk","drc","lz4","potx","xltx","dotx","xltm","ott","ots","otp","odg","otg","xlsm","docm","dotm","potm","pptm","jar","rm","ppsm","ppsx"],M2=["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/vnd.apache.arrow.file","video/mp4","audio/midi","video/matroska","video/webm","video/quicktime","video/vnd.avi","audio/wav","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","video/ogg","audio/ogg","audio/ogg; codecs=opus","application/ogg","audio/flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-elf","application/x-mach-binary","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","font/collection","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/j2c","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","text/vtt","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd","image/jls","application/vnd.ms-outlook","image/vnd.dwg","application/vnd.apache.parquet","application/java-vm","application/x-arj","application/x-cpio","application/x-ace-compressed","application/avro","application/vnd.iccprofile","application/x.autodesk.fbx","application/vnd.visio","application/vnd.android.package-archive","application/vnd.google.draco","application/x-lz4","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-excel.template.macroenabled.12","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.presentation-template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.graphics-template","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/java-archive","application/vnd.rn-realmedia"]});async function gd(a,n){return new IE(n).fromBuffer(a)}function TE(a){switch(a=a.toLowerCase(),a){case"application/epub+zip":return{ext:"epub",mime:a};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:a};case"application/vnd.oasis.opendocument.text-template":return{ext:"ott",mime:a};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:a};case"application/vnd.oasis.opendocument.spreadsheet-template":return{ext:"ots",mime:a};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:a};case"application/vnd.oasis.opendocument.presentation-template":return{ext:"otp",mime:a};case"application/vnd.oasis.opendocument.graphics":return{ext:"odg",mime:a};case"application/vnd.oasis.opendocument.graphics-template":return{ext:"otg",mime:a};case"application/vnd.openxmlformats-officedocument.presentationml.slideshow":return{ext:"ppsx",mime:a};case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return{ext:"xlsx",mime:a};case"application/vnd.ms-excel.sheet.macroenabled":return{ext:"xlsm",mime:"application/vnd.ms-excel.sheet.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.spreadsheetml.template":return{ext:"xltx",mime:a};case"application/vnd.ms-excel.template.macroenabled":return{ext:"xltm",mime:"application/vnd.ms-excel.template.macroenabled.12"};case"application/vnd.ms-powerpoint.slideshow.macroenabled":return{ext:"ppsm",mime:"application/vnd.ms-powerpoint.slideshow.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return{ext:"docx",mime:a};case"application/vnd.ms-word.document.macroenabled":return{ext:"docm",mime:"application/vnd.ms-word.document.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.wordprocessingml.template":return{ext:"dotx",mime:a};case"application/vnd.ms-word.template.macroenabledtemplate":return{ext:"dotm",mime:"application/vnd.ms-word.template.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.presentationml.template":return{ext:"potx",mime:a};case"application/vnd.ms-powerpoint.template.macroenabled":return{ext:"potm",mime:"application/vnd.ms-powerpoint.template.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return{ext:"pptx",mime:a};case"application/vnd.ms-powerpoint.presentation.macroenabled":return{ext:"pptm",mime:"application/vnd.ms-powerpoint.presentation.macroenabled.12"};case"application/vnd.ms-visio.drawing":return{ext:"vsdx",mime:"application/vnd.visio"};case"application/vnd.ms-package.3dmanufacturing-3dmodel+xml":return{ext:"3mf",mime:"model/3mf"};default:}}function ii(a,n,r){r={offset:0,...r};for(let[e,t]of n.entries())if(r.mask){if(t!==(r.mask[e]&a[e+r.offset]))return!1}else if(t!==a[e+r.offset])return!1;return!0}var _E,IE,A7,m7,OE=$(()=>{Ve();Dr();S2();ps();C2();P2();_E=4100;IE=class{constructor(n){this.options={mpegOffsetTolerance:0,...n},this.detectors=[...n?.customDetectors??[],{id:"core",detect:this.detectConfident},{id:"core.imprecise",detect:this.detectImprecise}],this.tokenizerOptions={abortSignal:n?.signal}}async fromTokenizer(n){let r=n.position;for(let e of this.detectors){let t=await e.detect(n);if(t)return t;if(r!==n.position)return}}async fromBuffer(n){if(!(n instanceof Uint8Array||n instanceof ArrayBuffer))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof n}\``);let r=n instanceof Uint8Array?n:new Uint8Array(n);if(r?.length>1)return this.fromTokenizer(Qn(r,this.tokenizerOptions))}async fromBlob(n){return this.fromStream(n.stream())}async fromStream(n){let r=await ud(n,this.tokenizerOptions);try{return await this.fromTokenizer(r)}finally{await r.close()}}async toDetectionStream(n,r){let{sampleSize:e=_E}=r,t,i,o=n.getReader({mode:"byob"});try{let{value:l,done:d}=await o.read(new Uint8Array(e));if(i=l,!d&&l)try{t=await this.fromBuffer(l.subarray(0,e))}catch(f){if(!(f instanceof ct))throw f;t=void 0}i=l}finally{o.releaseLock()}let s=new TransformStream({async start(l){l.enqueue(i)},transform(l,d){d.enqueue(l)}}),c=n.pipeThrough(s);return c.fileType=t,c}check(n,r){return ii(this.buffer,n,r)}checkString(n,r){return this.check(m2(n),r)}detectConfident=async n=>{if(this.buffer=new Uint8Array(_E),n.fileInfo.size===void 0&&(n.fileInfo.size=Number.MAX_SAFE_INTEGER),this.tokenizer=n,await n.peekBuffer(this.buffer,{length:12,mayBeLess:!0}),this.check([66,77]))return{ext:"bmp",mime:"image/bmp"};if(this.check([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(this.check([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(this.check([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(this.check([37,33]))return await n.peekBuffer(this.buffer,{length:24,mayBeLess:!0}),this.checkString("PS-Adobe-",{offset:2})&&this.checkString(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(this.check([31,160])||this.check([31,157]))return{ext:"Z",mime:"application/x-compress"};if(this.check([199,113]))return{ext:"cpio",mime:"application/x-cpio"};if(this.check([96,234]))return{ext:"arj",mime:"application/x-arj"};if(this.check([239,187,191]))return this.tokenizer.ignore(3),this.detectConfident(n);if(this.check([71,73,70]))return{ext:"gif",mime:"image/gif"};if(this.check([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(this.check([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(this.check([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(this.checkString("ID3")){await n.ignore(6);let r=await n.readToken(R2);return n.position+r>n.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await n.ignore(r),this.fromTokenizer(n))}if(this.checkString("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((this.buffer[0]===67||this.buffer[0]===70)&&this.check([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(this.check([255,216,255]))return this.check([247],{offset:3})?{ext:"jls",mime:"image/jls"}:{ext:"jpg",mime:"image/jpeg"};if(this.check([79,98,106,1]))return{ext:"avro",mime:"application/avro"};if(this.checkString("FLIF"))return{ext:"flif",mime:"image/flif"};if(this.checkString("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(this.checkString("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(this.checkString("FORM"))return{ext:"aif",mime:"audio/aiff"};if(this.checkString("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(this.check([80,75,3,4])){let r;return await new hd(n).unzip(e=>{switch(e.filename){case"META-INF/mozilla.rsa":return r={ext:"xpi",mime:"application/x-xpinstall"},{stop:!0};case"META-INF/MANIFEST.MF":return r={ext:"jar",mime:"application/java-archive"},{stop:!0};case"mimetype":return{async handler(t){let i=new TextDecoder("utf-8").decode(t).trim();r=TE(i)},stop:!0};case"[Content_Types].xml":return{async handler(t){let i=new TextDecoder("utf-8").decode(t),o=i.indexOf('.main+xml"');if(o===-1){let s="application/vnd.ms-package.3dmanufacturing-3dmodel+xml";i.includes(`ContentType="${s}"`)&&(r=TE(s))}else{i=i.slice(0,Math.max(0,o));let s=i.lastIndexOf('"'),c=i.slice(Math.max(0,s+1));r=TE(c)}},stop:!0};default:return/classes\d*\.dex/.test(e.filename)?(r={ext:"apk",mime:"application/vnd.android.package-archive"},{stop:!0}):{}}}),r??{ext:"zip",mime:"application/zip"}}if(this.checkString("OggS")){await n.ignore(28);let r=new Uint8Array(8);return await n.readBuffer(r),ii(r,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/ogg; codecs=opus"}:ii(r,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:ii(r,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:ii(r,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:ii(r,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:ii(r,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(this.check([80,75])&&(this.buffer[2]===3||this.buffer[2]===5||this.buffer[2]===7)&&(this.buffer[3]===4||this.buffer[3]===6||this.buffer[3]===8))return{ext:"zip",mime:"application/zip"};if(this.checkString("MThd"))return{ext:"mid",mime:"audio/midi"};if(this.checkString("wOFF")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(this.checkString("wOF2")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(this.check([212,195,178,161])||this.check([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(this.checkString("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(this.checkString("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(this.checkString("fLaC"))return{ext:"flac",mime:"audio/flac"};if(this.check([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(this.checkString("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(this.checkString("%PDF"))return{ext:"pdf",mime:"application/pdf"};if(this.check([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(this.check([73,73])){let r=await this.readTiffHeader(!1);if(r)return r}if(this.check([77,77])){let r=await this.readTiffHeader(!0);if(r)return r}if(this.checkString("MAC "))return{ext:"ape",mime:"audio/ape"};if(this.check([26,69,223,163])){async function r(){let s=await n.peekNumber(ve),c=128,l=0;for(;(s&c)===0&&c!==0;)++l,c>>=1;let d=new Uint8Array(l+1);return await n.readBuffer(d),d}async function e(){let s=await r(),c=await r();c[0]^=128>>c.length-1;let l=Math.min(6,c.length),d=new DataView(s.buffer),f=new DataView(c.buffer,c.length-l,l);return{id:qc(d),len:qc(f)}}async function t(s){for(;s>0;){let c=await e();if(c.id===17026)return(await n.readToken(new le(c.len))).replaceAll(/\00.*$/g,"");await n.ignore(c.len),--s}}let i=await e();switch(await t(i.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/matroska"};default:return}}if(this.checkString("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(this.check([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(this.checkString("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(this.checkString("MSCF")||this.checkString("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(this.check([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(this.check([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(this.check([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(this.check([127,69,76,70]))return{ext:"elf",mime:"application/x-elf"};if(this.check([33,66,68,78]))return{ext:"pst",mime:"application/vnd.ms-outlook"};if(this.checkString("PAR1")||this.checkString("PARE"))return{ext:"parquet",mime:"application/vnd.apache.parquet"};if(this.checkString("ttcf"))return{ext:"ttc",mime:"font/collection"};if(this.check([207,250,237,254]))return{ext:"macho",mime:"application/x-mach-binary"};if(this.check([4,34,77,24]))return{ext:"lz4",mime:"application/x-lz4"};if(this.check([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(this.checkString("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(this.checkString("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(this.check([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(this.checkString("IMPM"))return{ext:"it",mime:"audio/x-it"};if(this.checkString("-lh0-",{offset:2})||this.checkString("-lh1-",{offset:2})||this.checkString("-lh2-",{offset:2})||this.checkString("-lh3-",{offset:2})||this.checkString("-lh4-",{offset:2})||this.checkString("-lh5-",{offset:2})||this.checkString("-lh6-",{offset:2})||this.checkString("-lh7-",{offset:2})||this.checkString("-lzs-",{offset:2})||this.checkString("-lz4-",{offset:2})||this.checkString("-lz5-",{offset:2})||this.checkString("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(this.check([0,0,1,186])){if(this.check([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(this.check([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(this.checkString("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(this.check([202,254,186,190]))return{ext:"class",mime:"application/java-vm"};if(this.checkString(".RMF"))return{ext:"rm",mime:"application/vnd.rn-realmedia"};if(this.checkString("DRACO"))return{ext:"drc",mime:"application/vnd.google.draco"};if(this.check([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(this.checkString("<?xml "))return{ext:"xml",mime:"application/xml"};if(this.check([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(this.check([82,97,114,33,26,7])&&(this.buffer[6]===0||this.buffer[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(this.checkString("solid "))return{ext:"stl",mime:"model/stl"};if(this.checkString("AC")){let r=new le(4,"latin1").get(this.buffer,2);if(r.match("^d*")&&r>=1e3&&r<=1050)return{ext:"dwg",mime:"image/vnd.dwg"}}if(this.checkString("070707"))return{ext:"cpio",mime:"application/x-cpio"};if(this.checkString("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(this.checkString("!<arch>"))return await n.ignore(8),await n.readToken(new le(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(this.checkString("WEBVTT")&&[`
`,"\r","	"," ","\0"].some(r=>this.checkString(r,{offset:6})))return{ext:"vtt",mime:"text/vtt"};if(this.check([137,80,78,71,13,10,26,10])){await n.ignore(8);async function r(){return{length:await n.readToken(bn),type:await n.readToken(new le(4,"latin1"))}}do{let e=await r();if(e.length<0)return;switch(e.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await n.ignore(e.length+4)}}while(n.position+8<n.fileInfo.size);return{ext:"png",mime:"image/png"}}if(this.check([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/vnd.apache.arrow.file"};if(this.check([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(this.check([102,114,101,101],{offset:4})||this.check([109,100,97,116],{offset:4})||this.check([109,111,111,118],{offset:4})||this.check([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(this.check([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(this.checkString("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(this.checkString("ftyp",{offset:4})&&(this.buffer[8]&96)!==0){let r=new le(4,"latin1").get(this.buffer,8).replace("\0"," ").trim();switch(r){case"avif":case"avis":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return r.startsWith("3g")?r.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(this.check([82,73,70,70])){if(this.checkString("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(this.check([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(this.check([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/wav"};if(this.check([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(this.check([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(this.check([48,38,178,117,142,102,207,17,166,217])){async function r(){let e=new Uint8Array(16);return await n.readBuffer(e),{id:e,size:Number(await n.readToken($t))}}for(await n.ignore(30);n.position+24<n.fileInfo.size;){let e=await r(),t=e.size-24;if(ii(e.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){let i=new Uint8Array(16);if(t-=await n.readBuffer(i),ii(i,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(ii(i,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await n.ignore(t)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(this.check([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((this.check([126,16,4])||this.check([126,24,4]))&&this.check([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(this.check([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(this.check([255,79,255,81]))return{ext:"j2c",mime:"image/j2c"};if(this.check([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await n.ignore(20),await n.readToken(new le(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(this.check([255,10])||this.check([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(this.check([254,255]))return this.check([0,60,0,63,0,120,0,109,0,108],{offset:2})?{ext:"xml",mime:"application/xml"}:void 0;if(this.check([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await n.peekBuffer(this.buffer,{length:Math.min(256,n.fileInfo.size),mayBeLess:!0}),this.check([97,99,115,112],{offset:36}))return{ext:"icc",mime:"application/vnd.iccprofile"};if(this.checkString("**ACE",{offset:7})&&this.checkString("**",{offset:12}))return{ext:"ace",mime:"application/x-ace-compressed"};if(this.checkString("BEGIN:")){if(this.checkString("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(this.checkString("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(this.checkString("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(this.checkString("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(this.checkString("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(this.check([4,0,0,0])&&this.buffer.length>=16){let r=new DataView(this.buffer.buffer).getUint32(12,!0);if(r>12&&this.buffer.length>=r+16)try{let e=new TextDecoder().decode(this.buffer.subarray(16,r+16));if(JSON.parse(e).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(this.check([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(this.checkString("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(this.check([71])&&this.check([71],{offset:188}))return{ext:"mts",mime:"video/mp2t"};if(this.check([71],{offset:4})&&this.check([71],{offset:196}))return{ext:"mts",mime:"video/mp2t"};if(this.check([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(this.check([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(this.check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(this.check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(this.checkString("Kaydara FBX Binary  \0"))return{ext:"fbx",mime:"application/x.autodesk.fbx"};if(this.check([76,80],{offset:34})&&(this.check([0,0,1],{offset:8})||this.check([1,0,2],{offset:8})||this.check([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(this.check([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await n.peekBuffer(this.buffer,{length:Math.min(512,n.fileInfo.size),mayBeLess:!0}),this.checkString("ustar",{offset:257})&&(this.checkString("\0",{offset:262})||this.checkString(" ",{offset:262}))||this.check([0,0,0,0,0,0],{offset:257})&&b2(this.buffer))return{ext:"tar",mime:"application/x-tar"};if(this.check([255,254]))return this.check([60,0,63,0,120,0,109,0,108,0],{offset:2})?{ext:"xml",mime:"application/xml"}:this.check([255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0],{offset:2})?{ext:"skp",mime:"application/vnd.sketchup.skp"}:void 0;if(this.checkString("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"}};detectImprecise=async n=>{if(this.buffer=new Uint8Array(_E),await n.peekBuffer(this.buffer,{length:Math.min(8,n.fileInfo.size),mayBeLess:!0}),this.check([0,0,1,186])||this.check([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(this.check([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(this.check([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(this.check([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(await n.peekBuffer(this.buffer,{length:Math.min(2+this.options.mpegOffsetTolerance,n.fileInfo.size),mayBeLess:!0}),this.buffer.length>=2+this.options.mpegOffsetTolerance)for(let r=0;r<=this.options.mpegOffsetTolerance;++r){let e=this.scanMpeg(r);if(e)return e}};async readTiffTag(n){let r=await this.tokenizer.readToken(n?ot:we);switch(this.tokenizer.ignore(10),r){case 50341:return{ext:"arw",mime:"image/x-sony-arw"};case 50706:return{ext:"dng",mime:"image/x-adobe-dng"};default:}}async readTiffIFD(n){let r=await this.tokenizer.readToken(n?ot:we);for(let e=0;e<r;++e){let t=await this.readTiffTag(n);if(t)return t}}async readTiffHeader(n){let r=(n?ot:we).get(this.buffer,2),e=(n?ge:ae).get(this.buffer,4);if(r===42){if(e>=6){if(this.checkString("CR",{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(e>=8){let i=(n?ot:we).get(this.buffer,8),o=(n?ot:we).get(this.buffer,10);if(i===28&&o===254||i===31&&o===11)return{ext:"nef",mime:"image/x-nikon-nef"}}}return await this.tokenizer.ignore(e),await this.readTiffIFD(n)??{ext:"tif",mime:"image/tiff"}}if(r===43)return{ext:"tif",mime:"image/tiff"}}scanMpeg(n){if(this.check([255,224],{offset:n,mask:[255,224]})){if(this.check([16],{offset:n+1,mask:[22]}))return this.check([8],{offset:n+1,mask:[8]})?{ext:"aac",mime:"audio/aac"}:{ext:"aac",mime:"audio/aac"};if(this.check([2],{offset:n+1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(this.check([4],{offset:n+1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(this.check([6],{offset:n+1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}},A7=new Set(N2),m7=new Set(M2)});var k2=z(SE=>{"use strict";var L2=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,$U=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,D2=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,XU=/\\([\u000b\u0020-\u00ff])/g,JU=/([\\"])/g,w2=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;SE.format=QU;SE.parse=ZU;function QU(a){if(!a||typeof a!="object")throw new TypeError("argument obj is required");var n=a.parameters,r=a.type;if(!r||!w2.test(r))throw new TypeError("invalid type");var e=r;if(n&&typeof n=="object")for(var t,i=Object.keys(n).sort(),o=0;o<i.length;o++){if(t=i[o],!D2.test(t))throw new TypeError("invalid parameter name");e+="; "+t+"="+tB(n[t])}return e}function ZU(a){if(!a)throw new TypeError("argument string is required");var n=typeof a=="object"?eB(a):a;if(typeof n!="string")throw new TypeError("argument string is required to be a string");var r=n.indexOf(";"),e=r!==-1?n.slice(0,r).trim():n.trim();if(!w2.test(e))throw new TypeError("invalid media type");var t=new nB(e.toLowerCase());if(r!==-1){var i,o,s;for(L2.lastIndex=r;o=L2.exec(n);){if(o.index!==r)throw new TypeError("invalid parameter format");r+=o[0].length,i=o[1].toLowerCase(),s=o[2],s.charCodeAt(0)===34&&(s=s.slice(1,-1),s.indexOf("\\")!==-1&&(s=s.replace(XU,"$1"))),t.parameters[i]=s}if(r!==n.length)throw new TypeError("invalid parameter format")}return t}function eB(a){var n;if(typeof a.getHeader=="function"?n=a.getHeader("content-type"):typeof a.headers=="object"&&(n=a.headers&&a.headers["content-type"]),typeof n!="string")throw new TypeError("content-type header is missing from object");return n}function tB(a){var n=String(a);if(D2.test(n))return n;if(n.length>0&&!$U.test(n))throw new TypeError("invalid parameter value");return'"'+n.replace(JU,"\\$1")+'"'}function nB(a){this.parameters=Object.create(null),this.type=a}});var B2=z(Ed=>{"use strict";var rB=/^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/,v2=/^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/,U2=/^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;Ed.format=iB;Ed.parse=oB;Ed.test=aB;function iB(a){if(!a||typeof a!="object")throw new TypeError("argument obj is required");var n=a.subtype,r=a.suffix,e=a.type;if(!e||!v2.test(e))throw new TypeError("invalid type");if(!n||!rB.test(n))throw new TypeError("invalid subtype");var t=e+"/"+n;if(r){if(!v2.test(r))throw new TypeError("invalid suffix");t+="+"+r}return t}function aB(a){if(!a)throw new TypeError("argument string is required");if(typeof a!="string")throw new TypeError("argument string is required to be a string");return U2.test(a.toLowerCase())}function oB(a){if(!a)throw new TypeError("argument string is required");if(typeof a!="string")throw new TypeError("argument string is required to be a string");var n=U2.exec(a.toLowerCase());if(!n)throw new TypeError("invalid media type");var r=n[1],e=n[2],t,i=e.lastIndexOf("+");return i!==-1&&(t=e.substr(i+1),e=e.substr(0,i)),new sB(r,e,t)}function sB(a,n,r){this.type=a,this.subtype=n,this.suffix=r}});var x2,cn,AE,mE=$(()=>{x2={10:"shot",20:"scene",30:"track",40:"part",50:"album",60:"edition",70:"collection"},cn={video:1,audio:2,complex:3,logo:4,subtitle:17,button:18,control:32},AE={[cn.video]:"video",[cn.audio]:"audio",[cn.complex]:"complex",[cn.logo]:"logo",[cn.subtitle]:"subtitle",[cn.button]:"button",[cn.control]:"control"}});var gs,fs,hs,bE,da,Ja,Et,kt=$(()=>{gs=a=>class extends Error{constructor(r){super(r),this.name=a}},fs=class extends gs("CouldNotDetermineFileTypeError"){},hs=class extends gs("UnsupportedFileTypeError"){},bE=class extends gs("UnexpectedFileContentError"){constructor(n,r){super(r),this.fileType=n}toString(){return`${this.name} (FileType: ${this.fileType}): ${this.message}`}},da=class extends gs("FieldDecodingError"){},Ja=class extends gs("InternalParserError"){},Et=a=>class extends bE{constructor(n){super(a,n)}}});function rt(a,n,r){return(a[n]&1<<r)!==0}function Rn(a,n,r,e){let t=n;if(e==="utf-16le"){for(;a[t]!==0||a[t+1]!==0;){if(t>=r)return r;t+=2}return t}for(;a[t]!==0;){if(t>=r)return r;t++}return t}function yd(a){let n=a.indexOf("\0");return n===-1?a:a.substr(0,n)}function cB(a){let n=a.length;if((n&1)!==0)throw new da("Buffer length must be even");for(let r=0;r<n;r+=2){let e=a[r];a[r]=a[r+1],a[r+1]=e}return a}function jt(a,n){if(a[0]===255&&a[1]===254)return jt(a.subarray(2),n);if(n==="utf-16le"&&a[0]===254&&a[1]===255){if((a.length&1)!==0)throw new da("Expected even number of octets for 16-bit unicode string");return jt(cB(a),n)}return new le(a.length,n).get(a,0)}function gr(a){return a=a.replace(/^\x00+/g,""),a=a.replace(/\x00+$/g,""),a}function it(a,n,r,e){let t=n+~~(r/8),i=r%8,o=a[t];o&=255>>i;let s=8-i,c=e-s;return c<0?o>>=8-i-e:c>0&&(o<<=c,o|=it(a,n,r+s,c)),o}function un(a,n,r){return it(a,n,r,1)===1}function F2(a){let n=[];for(let r=0,e=a.length;r<e;r++){let t=Number(a.charCodeAt(r)).toString(16);n.push(t.length===1?`0${t}`:t)}return n.join(" ")}function lB(a){return 10*Math.log10(a)}function uB(a){return 10**(a/10)}function j2(a){let n=a.split(" ").map(r=>r.trim().toLowerCase());if(n.length>=1){let r=Number.parseFloat(n[0]);return n.length===2&&n[1]==="db"?{dB:r,ratio:uB(r)}:{dB:lB(r),ratio:r}}}function _d(a){if(a.length===0)throw new Error("decodeUintBE: empty Uint8Array");let n=new DataView(a.buffer,a.byteOffset,a.byteLength);return qc(n)}var Mt=$(()=>{Ve();kt();ps()});var Es,$c,Xc,RE,Jc,CE,NE,Td,ME,Qa=$(()=>{Ve();Mt();Es={0:"Other",1:"32x32 pixels 'file icon' (PNG only)",2:"Other file icon",3:"Cover (front)",4:"Cover (back)",5:"Leaflet page",6:"Media (e.g. label side of CD)",7:"Lead artist/lead performer/soloist",8:"Artist/performer",9:"Conductor",10:"Band/Orchestra",11:"Composer",12:"Lyricist/text writer",13:"Recording Location",14:"During recording",15:"During performance",16:"Movie/video screen capture",17:"A bright coloured fish",18:"Illustration",19:"Band/artist logotype",20:"Publisher/Studio logotype"},$c={other:0,lyrics:1,text:2,movement_part:3,events:4,chord:5,trivia_pop:6},Xc={notSynchronized0:0,mpegFrameNumber:1,milliseconds:2},RE={get:(a,n)=>a[n+3]&127|a[n+2]<<7|a[n+1]<<14|a[n]<<21,len:4},Jc={len:10,get:(a,n)=>({fileIdentifier:new le(3,"ascii").get(a,n),version:{major:ni.get(a,n+3),revision:ni.get(a,n+4)},flags:{unsynchronisation:rt(a,n+5,7),isExtendedHeader:rt(a,n+5,6),expIndicator:rt(a,n+5,5),footer:rt(a,n+5,4)},size:RE.get(a,n+6)})},CE={len:10,get:(a,n)=>({size:ge.get(a,n),extendedFlags:ot.get(a,n+4),sizeOfPadding:ge.get(a,n+6),crcDataPresent:rt(a,n+4,31)})},NE={len:1,get:(a,n)=>{switch(a[n]){case 0:return{encoding:"latin1"};case 1:return{encoding:"utf-16le",bom:!0};case 2:return{encoding:"utf-16le",bom:!1};case 3:return{encoding:"utf8",bom:!1};default:return{encoding:"utf8",bom:!1}}}},Td={len:4,get:(a,n)=>({encoding:NE.get(a,n),language:new le(3,"latin1").get(a,n+1)})},ME={len:6,get:(a,n)=>{let r=Td.get(a,n);return{encoding:r.encoding,language:r.language,timeStampFormat:ve.get(a,n+4),contentType:ve.get(a,n+5)}}}});var Za=$(()=>{mE();Qa()});function K2(a){return Id[a]&&!Id[a].multiple}function H2(a){return!Id[a].multiple||Id[a].unique||!1}var fe,Id,G2=$(()=>{fe={multiple:!1},Id={year:fe,track:fe,disk:fe,title:fe,artist:fe,artists:{multiple:!0,unique:!0},albumartist:fe,album:fe,date:fe,originaldate:fe,originalyear:fe,releasedate:fe,comment:{multiple:!0,unique:!1},genre:{multiple:!0,unique:!0},picture:{multiple:!0,unique:!0},composer:{multiple:!0,unique:!0},lyrics:{multiple:!0,unique:!1},albumsort:{multiple:!1,unique:!0},titlesort:{multiple:!1,unique:!0},work:{multiple:!1,unique:!0},artistsort:{multiple:!1,unique:!0},albumartistsort:{multiple:!1,unique:!0},composersort:{multiple:!1,unique:!0},lyricist:{multiple:!0,unique:!0},writer:{multiple:!0,unique:!0},conductor:{multiple:!0,unique:!0},remixer:{multiple:!0,unique:!0},arranger:{multiple:!0,unique:!0},engineer:{multiple:!0,unique:!0},producer:{multiple:!0,unique:!0},technician:{multiple:!0,unique:!0},djmixer:{multiple:!0,unique:!0},mixer:{multiple:!0,unique:!0},label:{multiple:!0,unique:!0},grouping:fe,subtitle:{multiple:!0},discsubtitle:fe,totaltracks:fe,totaldiscs:fe,compilation:fe,rating:{multiple:!0},bpm:fe,mood:fe,media:fe,catalognumber:{multiple:!0,unique:!0},tvShow:fe,tvShowSort:fe,tvSeason:fe,tvEpisode:fe,tvEpisodeId:fe,tvNetwork:fe,podcast:fe,podcasturl:fe,releasestatus:fe,releasetype:{multiple:!0},releasecountry:fe,script:fe,language:fe,copyright:fe,license:fe,encodedby:fe,encodersettings:fe,gapless:fe,barcode:fe,isrc:{multiple:!0},asin:fe,musicbrainz_recordingid:fe,musicbrainz_trackid:fe,musicbrainz_albumid:fe,musicbrainz_artistid:{multiple:!0},musicbrainz_albumartistid:{multiple:!0},musicbrainz_releasegroupid:fe,musicbrainz_workid:fe,musicbrainz_trmid:fe,musicbrainz_discid:fe,acoustid_id:fe,acoustid_fingerprint:fe,musicip_puid:fe,musicip_fingerprint:fe,website:fe,"performer:instrument":{multiple:!0,unique:!0},averageLevel:fe,peakLevel:fe,notes:{multiple:!0,unique:!1},key:fe,originalalbum:fe,originalartist:fe,discogs_artist_id:{multiple:!0,unique:!0},discogs_release_id:fe,discogs_label_id:fe,discogs_master_release_id:fe,discogs_votes:fe,discogs_rating:fe,replaygain_track_peak:fe,replaygain_track_gain:fe,replaygain_album_peak:fe,replaygain_album_gain:fe,replaygain_track_minmax:fe,replaygain_album_minmax:fe,replaygain_undo:fe,description:{multiple:!0},longDescription:fe,category:{multiple:!0},hdVideo:fe,keywords:{multiple:!0},movement:fe,movementIndex:fe,movementTotal:fe,podcastId:fe,showMovement:fe,stik:fe,playCounter:fe}});var vt,ki=$(()=>{vt=class{static toIntOrNull(n){let r=Number.parseInt(n,10);return Number.isNaN(r)?null:r}static normalizeTrack(n){let r=n.toString().split("/");return{no:Number.parseInt(r[0],10)||null,of:Number.parseInt(r[1],10)||null}}constructor(n,r){this.tagTypes=n,this.tagMap=r}mapGenericTag(n,r){n={id:n.id,value:n.value},this.postMap(n,r);let e=this.getCommonName(n.id);return e?{id:e,value:n.value}:null}getCommonName(n){return this.tagMap[n]}postMap(n,r){}};vt.maxRatingScore=1});var dB,Od,V2=$(()=>{ki();dB={title:"title",artist:"artist",album:"album",year:"year",comment:"comment",track:"track",genre:"genre"},Od=class extends vt{constructor(){super(["ID3v1"],dB)}}});var Er,ys=$(()=>{ki();Er=class extends vt{constructor(n,r){let e={};for(let t of Object.keys(r))e[t.toUpperCase()]=r[t];super(n,e)}getCommonName(n){return this.tagMap[n.toUpperCase()]}}});var pB,Sd,W2=$(()=>{Ve();ki();ys();Mt();pB={TIT2:"title",TPE1:"artist","TXXX:Artists":"artists",TPE2:"albumartist",TALB:"album",TDRV:"date",TORY:"originalyear",TPOS:"disk",TCON:"genre",APIC:"picture",TCOM:"composer",USLT:"lyrics",TSOA:"albumsort",TSOT:"titlesort",TOAL:"originalalbum",TSOP:"artistsort",TSO2:"albumartistsort",TSOC:"composersort",TEXT:"lyricist","TXXX:Writer":"writer",TPE3:"conductor",TPE4:"remixer","IPLS:arranger":"arranger","IPLS:engineer":"engineer","IPLS:producer":"producer","IPLS:DJ-mix":"djmixer","IPLS:mix":"mixer",TPUB:"label",TIT1:"grouping",TIT3:"subtitle",TRCK:"track",TCMP:"compilation",POPM:"rating",TBPM:"bpm",TMED:"media","TXXX:CATALOGNUMBER":"catalognumber","TXXX:MusicBrainz Album Status":"releasestatus","TXXX:MusicBrainz Album Type":"releasetype","TXXX:MusicBrainz Album Release Country":"releasecountry","TXXX:RELEASECOUNTRY":"releasecountry","TXXX:SCRIPT":"script",TLAN:"language",TCOP:"copyright",WCOP:"license",TENC:"encodedby",TSSE:"encodersettings","TXXX:BARCODE":"barcode","TXXX:ISRC":"isrc",TSRC:"isrc","TXXX:ASIN":"asin","TXXX:originalyear":"originalyear","UFID:http://musicbrainz.org":"musicbrainz_recordingid","TXXX:MusicBrainz Release Track Id":"musicbrainz_trackid","TXXX:MusicBrainz Album Id":"musicbrainz_albumid","TXXX:MusicBrainz Artist Id":"musicbrainz_artistid","TXXX:MusicBrainz Album Artist Id":"musicbrainz_albumartistid","TXXX:MusicBrainz Release Group Id":"musicbrainz_releasegroupid","TXXX:MusicBrainz Work Id":"musicbrainz_workid","TXXX:MusicBrainz TRM Id":"musicbrainz_trmid","TXXX:MusicBrainz Disc Id":"musicbrainz_discid","TXXX:ACOUSTID_ID":"acoustid_id","TXXX:Acoustid Id":"acoustid_id","TXXX:Acoustid Fingerprint":"acoustid_fingerprint","TXXX:MusicIP PUID":"musicip_puid","TXXX:MusicMagic Fingerprint":"musicip_fingerprint",WOAR:"website",TDRC:"date",TYER:"year",TDOR:"originaldate","TIPL:arranger":"arranger","TIPL:engineer":"engineer","TIPL:producer":"producer","TIPL:DJ-mix":"djmixer","TIPL:mix":"mixer",TMOO:"mood",SYLT:"lyrics",TSST:"discsubtitle",TKEY:"key",COMM:"comment",TOPE:"originalartist","PRIV:AverageLevel":"averageLevel","PRIV:PeakLevel":"peakLevel","TXXX:DISCOGS_ARTIST_ID":"discogs_artist_id","TXXX:DISCOGS_ARTISTS":"artists","TXXX:DISCOGS_ARTIST_NAME":"artists","TXXX:DISCOGS_ALBUM_ARTISTS":"albumartist","TXXX:DISCOGS_CATALOG":"catalognumber","TXXX:DISCOGS_COUNTRY":"releasecountry","TXXX:DISCOGS_DATE":"originaldate","TXXX:DISCOGS_LABEL":"label","TXXX:DISCOGS_LABEL_ID":"discogs_label_id","TXXX:DISCOGS_MASTER_RELEASE_ID":"discogs_master_release_id","TXXX:DISCOGS_RATING":"discogs_rating","TXXX:DISCOGS_RELEASED":"date","TXXX:DISCOGS_RELEASE_ID":"discogs_release_id","TXXX:DISCOGS_VOTES":"discogs_votes","TXXX:CATALOGID":"catalognumber","TXXX:STYLE":"genre","TXXX:REPLAYGAIN_TRACK_PEAK":"replaygain_track_peak","TXXX:REPLAYGAIN_TRACK_GAIN":"replaygain_track_gain","TXXX:REPLAYGAIN_ALBUM_PEAK":"replaygain_album_peak","TXXX:REPLAYGAIN_ALBUM_GAIN":"replaygain_album_gain","TXXX:MP3GAIN_MINMAX":"replaygain_track_minmax","TXXX:MP3GAIN_ALBUM_MINMAX":"replaygain_album_minmax","TXXX:MP3GAIN_UNDO":"replaygain_undo",MVNM:"movement",MVIN:"movementIndex",PCST:"podcast",TCAT:"category",TDES:"description",TDRL:"releasedate",TGID:"podcastId",TKWD:"keywords",WFED:"podcasturl",GRP1:"grouping",PCNT:"playCounter"},Sd=class a extends Er{static toRating(n){return{source:n.email,rating:n.rating>0?(n.rating-1)/254*vt.maxRatingScore:void 0}}constructor(){super(["ID3v2.3","ID3v2.4"],pB)}postMap(n,r){switch(n.id){case"UFID":{let e=n.value;e.owner_identifier==="http://musicbrainz.org"&&(n.id+=`:${e.owner_identifier}`,n.value=jt(e.identifier,"latin1"))}break;case"PRIV":{let e=n.value;switch(e.owner_identifier){case"AverageLevel":case"PeakValue":n.id+=`:${e.owner_identifier}`,n.value=e.data.length===4?ae.get(e.data,0):null,n.value===null&&r.addWarning("Failed to parse PRIV:PeakValue");break;default:r.addWarning(`Unknown PRIV owner-identifier: ${e.data}`)}}break;case"POPM":n.value=a.toRating(n.value);break;default:break}}}});var fB,Ad,Y2=$(()=>{ki();fB={Title:"title",Author:"artist","WM/AlbumArtist":"albumartist","WM/AlbumTitle":"album","WM/Year":"date","WM/OriginalReleaseTime":"originaldate","WM/OriginalReleaseYear":"originalyear",Description:"comment","WM/TrackNumber":"track","WM/PartOfSet":"disk","WM/Genre":"genre","WM/Composer":"composer","WM/Lyrics":"lyrics","WM/AlbumSortOrder":"albumsort","WM/TitleSortOrder":"titlesort","WM/ArtistSortOrder":"artistsort","WM/AlbumArtistSortOrder":"albumartistsort","WM/ComposerSortOrder":"composersort","WM/Writer":"lyricist","WM/Conductor":"conductor","WM/ModifiedBy":"remixer","WM/Engineer":"engineer","WM/Producer":"producer","WM/DJMixer":"djmixer","WM/Mixer":"mixer","WM/Publisher":"label","WM/ContentGroupDescription":"grouping","WM/SubTitle":"subtitle","WM/SetSubTitle":"discsubtitle","WM/IsCompilation":"compilation","WM/SharedUserRating":"rating","WM/BeatsPerMinute":"bpm","WM/Mood":"mood","WM/Media":"media","WM/CatalogNo":"catalognumber","MusicBrainz/Album Status":"releasestatus","MusicBrainz/Album Type":"releasetype","MusicBrainz/Album Release Country":"releasecountry","WM/Script":"script","WM/Language":"language",Copyright:"copyright",LICENSE:"license","WM/EncodedBy":"encodedby","WM/EncodingSettings":"encodersettings","WM/Barcode":"barcode","WM/ISRC":"isrc","MusicBrainz/Track Id":"musicbrainz_recordingid","MusicBrainz/Release Track Id":"musicbrainz_trackid","MusicBrainz/Album Id":"musicbrainz_albumid","MusicBrainz/Artist Id":"musicbrainz_artistid","MusicBrainz/Album Artist Id":"musicbrainz_albumartistid","MusicBrainz/Release Group Id":"musicbrainz_releasegroupid","MusicBrainz/Work Id":"musicbrainz_workid","MusicBrainz/TRM Id":"musicbrainz_trmid","MusicBrainz/Disc Id":"musicbrainz_discid","Acoustid/Id":"acoustid_id","Acoustid/Fingerprint":"acoustid_fingerprint","MusicIP/PUID":"musicip_puid","WM/ARTISTS":"artists","WM/InitialKey":"key",ASIN:"asin","WM/Work":"work","WM/AuthorURL":"website","WM/Picture":"picture"},Ad=class a extends vt{static toRating(n){return{rating:Number.parseFloat(n+1)/5}}constructor(){super(["asf"],fB)}postMap(n){switch(n.id){case"WM/SharedUserRating":{let r=n.id.split(":");n.value=a.toRating(n.value),n.id=r[0];break}}}}});var hB,md,z2=$(()=>{ys();hB={TT2:"title",TP1:"artist",TP2:"albumartist",TAL:"album",TYE:"year",COM:"comment",TRK:"track",TPA:"disk",TCO:"genre",PIC:"picture",TCM:"composer",TOR:"originaldate",TOT:"originalalbum",TXT:"lyricist",TP3:"conductor",TPB:"label",TT1:"grouping",TT3:"subtitle",TLA:"language",TCR:"copyright",WCP:"license",TEN:"encodedby",TSS:"encodersettings",WAR:"website",PCS:"podcast",TCP:"compilation",TDR:"date",TS2:"albumartistsort",TSA:"albumsort",TSC:"composersort",TSP:"artistsort",TST:"titlesort",WFD:"podcasturl",TBP:"bpm"},md=class extends Er{constructor(){super(["ID3v2.2"],hB)}}});var gB,bd,q2=$(()=>{ys();gB={Title:"title",Artist:"artist",Artists:"artists","Album Artist":"albumartist",Album:"album",Year:"date",Originalyear:"originalyear",Originaldate:"originaldate",Releasedate:"releasedate",Comment:"comment",Track:"track",Disc:"disk",DISCNUMBER:"disk",Genre:"genre","Cover Art (Front)":"picture","Cover Art (Back)":"picture",Composer:"composer",Lyrics:"lyrics",ALBUMSORT:"albumsort",TITLESORT:"titlesort",WORK:"work",ARTISTSORT:"artistsort",ALBUMARTISTSORT:"albumartistsort",COMPOSERSORT:"composersort",Lyricist:"lyricist",Writer:"writer",Conductor:"conductor",MixArtist:"remixer",Arranger:"arranger",Engineer:"engineer",Producer:"producer",DJMixer:"djmixer",Mixer:"mixer",Label:"label",Grouping:"grouping",Subtitle:"subtitle",DiscSubtitle:"discsubtitle",Compilation:"compilation",BPM:"bpm",Mood:"mood",Media:"media",CatalogNumber:"catalognumber",MUSICBRAINZ_ALBUMSTATUS:"releasestatus",MUSICBRAINZ_ALBUMTYPE:"releasetype",RELEASECOUNTRY:"releasecountry",Script:"script",Language:"language",Copyright:"copyright",LICENSE:"license",EncodedBy:"encodedby",EncoderSettings:"encodersettings",Barcode:"barcode",ISRC:"isrc",ASIN:"asin",musicbrainz_trackid:"musicbrainz_recordingid",musicbrainz_releasetrackid:"musicbrainz_trackid",MUSICBRAINZ_ALBUMID:"musicbrainz_albumid",MUSICBRAINZ_ARTISTID:"musicbrainz_artistid",MUSICBRAINZ_ALBUMARTISTID:"musicbrainz_albumartistid",MUSICBRAINZ_RELEASEGROUPID:"musicbrainz_releasegroupid",MUSICBRAINZ_WORKID:"musicbrainz_workid",MUSICBRAINZ_TRMID:"musicbrainz_trmid",MUSICBRAINZ_DISCID:"musicbrainz_discid",Acoustid_Id:"acoustid_id",ACOUSTID_FINGERPRINT:"acoustid_fingerprint",MUSICIP_PUID:"musicip_puid",Weblink:"website",REPLAYGAIN_TRACK_GAIN:"replaygain_track_gain",REPLAYGAIN_TRACK_PEAK:"replaygain_track_peak",MP3GAIN_MINMAX:"replaygain_track_minmax",MP3GAIN_UNDO:"replaygain_undo"},bd=class extends Er{constructor(){super(["APEv2"],gB)}}});var EB,yB,Qc,$2=$(()=>{ys();EB={"\xA9nam":"title","\xA9ART":"artist",aART:"albumartist","----:com.apple.iTunes:Band":"albumartist","\xA9alb":"album","\xA9day":"date","\xA9cmt":"comment","\xA9com":"comment",trkn:"track",disk:"disk","\xA9gen":"genre",covr:"picture","\xA9wrt":"composer","\xA9lyr":"lyrics",soal:"albumsort",sonm:"titlesort",soar:"artistsort",soaa:"albumartistsort",soco:"composersort","----:com.apple.iTunes:LYRICIST":"lyricist","----:com.apple.iTunes:CONDUCTOR":"conductor","----:com.apple.iTunes:REMIXER":"remixer","----:com.apple.iTunes:ENGINEER":"engineer","----:com.apple.iTunes:PRODUCER":"producer","----:com.apple.iTunes:DJMIXER":"djmixer","----:com.apple.iTunes:MIXER":"mixer","----:com.apple.iTunes:LABEL":"label","\xA9grp":"grouping","----:com.apple.iTunes:SUBTITLE":"subtitle","----:com.apple.iTunes:DISCSUBTITLE":"discsubtitle",cpil:"compilation",tmpo:"bpm","----:com.apple.iTunes:MOOD":"mood","----:com.apple.iTunes:MEDIA":"media","----:com.apple.iTunes:CATALOGNUMBER":"catalognumber",tvsh:"tvShow",tvsn:"tvSeason",tves:"tvEpisode",sosn:"tvShowSort",tven:"tvEpisodeId",tvnn:"tvNetwork",pcst:"podcast",purl:"podcasturl","----:com.apple.iTunes:MusicBrainz Album Status":"releasestatus","----:com.apple.iTunes:MusicBrainz Album Type":"releasetype","----:com.apple.iTunes:MusicBrainz Album Release Country":"releasecountry","----:com.apple.iTunes:SCRIPT":"script","----:com.apple.iTunes:LANGUAGE":"language",cprt:"copyright","\xA9cpy":"copyright","----:com.apple.iTunes:LICENSE":"license","\xA9too":"encodedby",pgap:"gapless","----:com.apple.iTunes:BARCODE":"barcode","----:com.apple.iTunes:ISRC":"isrc","----:com.apple.iTunes:ASIN":"asin","----:com.apple.iTunes:NOTES":"comment","----:com.apple.iTunes:MusicBrainz Track Id":"musicbrainz_recordingid","----:com.apple.iTunes:MusicBrainz Release Track Id":"musicbrainz_trackid","----:com.apple.iTunes:MusicBrainz Album Id":"musicbrainz_albumid","----:com.apple.iTunes:MusicBrainz Artist Id":"musicbrainz_artistid","----:com.apple.iTunes:MusicBrainz Album Artist Id":"musicbrainz_albumartistid","----:com.apple.iTunes:MusicBrainz Release Group Id":"musicbrainz_releasegroupid","----:com.apple.iTunes:MusicBrainz Work Id":"musicbrainz_workid","----:com.apple.iTunes:MusicBrainz TRM Id":"musicbrainz_trmid","----:com.apple.iTunes:MusicBrainz Disc Id":"musicbrainz_discid","----:com.apple.iTunes:Acoustid Id":"acoustid_id","----:com.apple.iTunes:Acoustid Fingerprint":"acoustid_fingerprint","----:com.apple.iTunes:MusicIP PUID":"musicip_puid","----:com.apple.iTunes:fingerprint":"musicip_fingerprint","----:com.apple.iTunes:replaygain_track_gain":"replaygain_track_gain","----:com.apple.iTunes:replaygain_track_peak":"replaygain_track_peak","----:com.apple.iTunes:replaygain_album_gain":"replaygain_album_gain","----:com.apple.iTunes:replaygain_album_peak":"replaygain_album_peak","----:com.apple.iTunes:replaygain_track_minmax":"replaygain_track_minmax","----:com.apple.iTunes:replaygain_album_minmax":"replaygain_album_minmax","----:com.apple.iTunes:replaygain_undo":"replaygain_undo",gnre:"genre","----:com.apple.iTunes:ALBUMARTISTSORT":"albumartistsort","----:com.apple.iTunes:ARTISTS":"artists","----:com.apple.iTunes:ORIGINALDATE":"originaldate","----:com.apple.iTunes:ORIGINALYEAR":"originalyear","----:com.apple.iTunes:RELEASEDATE":"releasedate",desc:"description",ldes:"longDescription","\xA9mvn":"movement","\xA9mvi":"movementIndex","\xA9mvc":"movementTotal","\xA9wrk":"work",catg:"category",egid:"podcastId",hdvd:"hdVideo",keyw:"keywords",shwm:"showMovement",stik:"stik",rate:"rating"},yB="iTunes",Qc=class extends Er{constructor(){super([yB],EB)}postMap(n,r){switch(n.id){case"rate":n.value={source:void 0,rating:Number.parseFloat(n.value)/100};break}}}});var _B,Rd,X2=$(()=>{ki();_B={TITLE:"title",ARTIST:"artist",ARTISTS:"artists",ALBUMARTIST:"albumartist","ALBUM ARTIST":"albumartist",ALBUM:"album",DATE:"date",ORIGINALDATE:"originaldate",ORIGINALYEAR:"originalyear",RELEASEDATE:"releasedate",COMMENT:"comment",TRACKNUMBER:"track",DISCNUMBER:"disk",GENRE:"genre",METADATA_BLOCK_PICTURE:"picture",COMPOSER:"composer",LYRICS:"lyrics",ALBUMSORT:"albumsort",TITLESORT:"titlesort",WORK:"work",ARTISTSORT:"artistsort",ALBUMARTISTSORT:"albumartistsort",COMPOSERSORT:"composersort",LYRICIST:"lyricist",WRITER:"writer",CONDUCTOR:"conductor",REMIXER:"remixer",ARRANGER:"arranger",ENGINEER:"engineer",PRODUCER:"producer",DJMIXER:"djmixer",MIXER:"mixer",LABEL:"label",GROUPING:"grouping",SUBTITLE:"subtitle",DISCSUBTITLE:"discsubtitle",TRACKTOTAL:"totaltracks",DISCTOTAL:"totaldiscs",COMPILATION:"compilation",RATING:"rating",BPM:"bpm",KEY:"key",MOOD:"mood",MEDIA:"media",CATALOGNUMBER:"catalognumber",RELEASESTATUS:"releasestatus",RELEASETYPE:"releasetype",RELEASECOUNTRY:"releasecountry",SCRIPT:"script",LANGUAGE:"language",COPYRIGHT:"copyright",LICENSE:"license",ENCODEDBY:"encodedby",ENCODERSETTINGS:"encodersettings",BARCODE:"barcode",ISRC:"isrc",ASIN:"asin",MUSICBRAINZ_TRACKID:"musicbrainz_recordingid",MUSICBRAINZ_RELEASETRACKID:"musicbrainz_trackid",MUSICBRAINZ_ALBUMID:"musicbrainz_albumid",MUSICBRAINZ_ARTISTID:"musicbrainz_artistid",MUSICBRAINZ_ALBUMARTISTID:"musicbrainz_albumartistid",MUSICBRAINZ_RELEASEGROUPID:"musicbrainz_releasegroupid",MUSICBRAINZ_WORKID:"musicbrainz_workid",MUSICBRAINZ_TRMID:"musicbrainz_trmid",MUSICBRAINZ_DISCID:"musicbrainz_discid",ACOUSTID_ID:"acoustid_id",ACOUSTID_ID_FINGERPRINT:"acoustid_fingerprint",MUSICIP_PUID:"musicip_puid",WEBSITE:"website",NOTES:"notes",TOTALTRACKS:"totaltracks",TOTALDISCS:"totaldiscs",DISCOGS_ARTIST_ID:"discogs_artist_id",DISCOGS_ARTISTS:"artists",DISCOGS_ARTIST_NAME:"artists",DISCOGS_ALBUM_ARTISTS:"albumartist",DISCOGS_CATALOG:"catalognumber",DISCOGS_COUNTRY:"releasecountry",DISCOGS_DATE:"originaldate",DISCOGS_LABEL:"label",DISCOGS_LABEL_ID:"discogs_label_id",DISCOGS_MASTER_RELEASE_ID:"discogs_master_release_id",DISCOGS_RATING:"discogs_rating",DISCOGS_RELEASED:"date",DISCOGS_RELEASE_ID:"discogs_release_id",DISCOGS_VOTES:"discogs_votes",CATALOGID:"catalognumber",STYLE:"genre",REPLAYGAIN_TRACK_GAIN:"replaygain_track_gain",REPLAYGAIN_TRACK_PEAK:"replaygain_track_peak",REPLAYGAIN_ALBUM_GAIN:"replaygain_album_gain",REPLAYGAIN_ALBUM_PEAK:"replaygain_album_peak",REPLAYGAIN_MINMAX:"replaygain_track_minmax",REPLAYGAIN_ALBUM_MINMAX:"replaygain_album_minmax",REPLAYGAIN_UNDO:"replaygain_undo"},Rd=class a extends vt{static toRating(n,r,e){return{source:n?n.toLowerCase():void 0,rating:Number.parseFloat(r)/e*vt.maxRatingScore}}constructor(){super(["vorbis"],_B)}postMap(n){if(n.id==="RATING")n.value=a.toRating(void 0,n.value,100);else if(n.id.indexOf("RATING:")===0){let r=n.id.split(":");n.value=a.toRating(r[1],n.value,1),n.id=r[0]}}}});var TB,Cd,J2=$(()=>{ki();TB={IART:"artist",ICRD:"date",INAM:"title",TITL:"title",IPRD:"album",ITRK:"track",IPRT:"track",COMM:"comment",ICMT:"comment",ICNT:"releasecountry",GNRE:"genre",IWRI:"writer",RATE:"rating",YEAR:"year",ISFT:"encodedby",CODE:"encodedby",TURL:"website",IGNR:"genre",IENG:"engineer",ITCH:"technician",IMED:"media",IRPD:"album"},Cd=class extends vt{constructor(){super(["exif"],TB)}}});var IB,Nd,Q2=$(()=>{ys();IB={"segment:title":"title","album:ARTIST":"albumartist","album:ARTISTSORT":"albumartistsort","album:TITLE":"album","album:DATE_RECORDED":"originaldate","album:DATE_RELEASED":"releasedate","album:PART_NUMBER":"disk","album:TOTAL_PARTS":"totaltracks","track:ARTIST":"artist","track:ARTISTSORT":"artistsort","track:TITLE":"title","track:PART_NUMBER":"track","track:MUSICBRAINZ_TRACKID":"musicbrainz_recordingid","track:MUSICBRAINZ_ALBUMID":"musicbrainz_albumid","track:MUSICBRAINZ_ARTISTID":"musicbrainz_artistid","track:PUBLISHER":"label","track:GENRE":"genre","track:ENCODER":"encodedby","track:ENCODER_OPTIONS":"encodersettings","edition:TOTAL_PARTS":"totaldiscs",picture:"picture"},Nd=class extends Er{constructor(){super(["matroska"],IB)}}});var OB,Md,Z2=$(()=>{ki();OB={NAME:"title",AUTH:"artist","(c) ":"copyright",ANNO:"comment"},Md=class extends vt{constructor(){super(["AIFF"],OB)}}});var Pd,eR=$(()=>{V2();W2();Y2();z2();q2();$2();X2();J2();Q2();Z2();kt();Pd=class{constructor(){this.tagMappers={},[new Od,new md,new Sd,new Qc,new Qc,new Rd,new bd,new Ad,new Cd,new Nd,new Md].forEach(n=>{this.registerTagMapper(n)})}mapTag(n,r,e){if(this.tagMappers[n])return this.tagMappers[n].mapGenericTag(r,e);throw new Ja(`No generic tag mapper defined for tag-format: ${n}`)}registerTagMapper(n){for(let r of n.tagTypes)this.tagMappers[r]=n}}});function tR(a){let n=a.split(`
`),r=[],e=/\[(\d{2}):(\d{2})\.(\d{2,3})\]/;for(let t of n){let i=t.match(e);if(i){let o=Number.parseInt(i[1],10),s=Number.parseInt(i[2],10),c=i[3],l;c.length===3?l=Number.parseInt(c,10):l=Number.parseInt(c,10)*10;let d=(o*60+s)*1e3+l,f=t.replace(e,"").trim();r.push({timestamp:d,text:f})}}return{contentType:$c.lyrics,timeStampFormat:Xc.milliseconds,syncText:r}}var nR=$(()=>{Za()});function AB(a){return a.length>2?`${a.slice(0,a.length-1).join(", ")} & ${a[a.length-1]}`:a.join(" & ")}var rR,eo,SB,Ld,iR=$(()=>{Za();rR=Me(Ot());G2();eR();ki();Mt();OE();nR();eo=(0,rR.default)("music-metadata:collector"),SB=["matroska","APEv2","vorbis","ID3v2.4","ID3v2.3","ID3v2.2","exif","asf","iTunes","AIFF","ID3v1"],Ld=class{constructor(n){this.format={tagTypes:[],trackInfo:[]},this.native={},this.common={track:{no:null,of:null},disk:{no:null,of:null},movementIndex:{no:null,of:null}},this.quality={warnings:[]},this.commonOrigin={},this.originPriority={},this.tagMapper=new Pd,this.opts=n;let r=1;for(let e of SB)this.originPriority[e]=r++;this.originPriority.artificial=500,this.originPriority.id3v1=600}hasAny(){return Object.keys(this.native).length>0}addStreamInfo(n){eo(`streamInfo: type=${n.type?AE[n.type]:"?"}, codec=${n.codecName}`),this.format.trackInfo.push(n)}setFormat(n,r){eo(`format: ${n} = ${r}`),this.format[n]=r,this.opts?.observer&&this.opts.observer({metadata:this,tag:{type:"format",id:n,value:r}})}setAudioOnly(){this.setFormat("hasAudio",!0),this.setFormat("hasVideo",!1)}async addTag(n,r,e){eo(`tag ${n}.${r} = ${e}`),this.native[n]||(this.format.tagTypes.push(n),this.native[n]=[]),this.native[n].push({id:r,value:e}),await this.toCommon(n,r,e)}addWarning(n){this.quality.warnings.push({message:n})}async postMap(n,r){switch(r.id){case"artist":if(this.commonOrigin.artist===this.originPriority[n])return this.postMap("artificial",{id:"artists",value:r.value});this.common.artists||this.setGenericTag("artificial",{id:"artists",value:r.value});break;case"artists":if((!this.common.artist||this.commonOrigin.artist===this.originPriority.artificial)&&(!this.common.artists||this.common.artists.indexOf(r.value)===-1)){let e=(this.common.artists||[]).concat([r.value]),i={id:"artist",value:AB(e)};this.setGenericTag("artificial",i)}break;case"picture":return this.postFixPicture(r.value).then(e=>{e!==null&&(r.value=e,this.setGenericTag(n,r))});case"totaltracks":this.common.track.of=vt.toIntOrNull(r.value);return;case"totaldiscs":this.common.disk.of=vt.toIntOrNull(r.value);return;case"movementTotal":this.common.movementIndex.of=vt.toIntOrNull(r.value);return;case"track":case"disk":case"movementIndex":{let e=this.common[r.id].of;this.common[r.id]=vt.normalizeTrack(r.value),this.common[r.id].of=e??this.common[r.id].of;return}case"bpm":case"year":case"originalyear":r.value=Number.parseInt(r.value,10);break;case"date":{let e=Number.parseInt(r.value.substr(0,4),10);Number.isNaN(e)||(this.common.year=e);break}case"discogs_label_id":case"discogs_release_id":case"discogs_master_release_id":case"discogs_artist_id":case"discogs_votes":r.value=typeof r.value=="string"?Number.parseInt(r.value,10):r.value;break;case"replaygain_track_gain":case"replaygain_track_peak":case"replaygain_album_gain":case"replaygain_album_peak":r.value=j2(r.value);break;case"replaygain_track_minmax":r.value=r.value.split(",").map(e=>Number.parseInt(e,10));break;case"replaygain_undo":{let e=r.value.split(",").map(t=>Number.parseInt(t,10));r.value={leftChannel:e[0],rightChannel:e[1]};break}case"gapless":case"compilation":case"podcast":case"showMovement":r.value=r.value==="1"||r.value===1;break;case"isrc":{let e=this.common[r.id];if(e&&e.indexOf(r.value)!==-1)return;break}case"comment":typeof r.value=="string"&&(r.value={text:r.value}),r.value.descriptor==="iTunPGAP"&&this.setGenericTag(n,{id:"gapless",value:r.value.text==="1"});break;case"lyrics":typeof r.value=="string"&&(r.value=tR(r.value));break;default:}r.value!==null&&this.setGenericTag(n,r)}toCommonMetadata(){return{format:this.format,native:this.native,quality:this.quality,common:this.common}}async postFixPicture(n){if(n.data&&n.data.length>0){if(!n.format){let r=await gd(Uint8Array.from(n.data));if(r)n.format=r.mime;else return null}switch(n.format=n.format.toLocaleLowerCase(),n.format){case"image/jpg":n.format="image/jpeg"}return n}return this.addWarning("Empty picture tag found"),null}async toCommon(n,r,e){let t={id:r,value:e},i=this.tagMapper.mapTag(n,t,this);i&&await this.postMap(n,i)}setGenericTag(n,r){eo(`common.${r.id} = ${r.value}`);let e=this.commonOrigin[r.id]||1e3,t=this.originPriority[n];if(K2(r.id))if(t<=e)this.common[r.id]=r.value,this.commonOrigin[r.id]=t;else return eo(`Ignore native tag (singleton): ${n}.${r.id} = ${r.value}`);else if(t===e)!H2(r.id)||this.common[r.id].indexOf(r.value)===-1?this.common[r.id].push(r.value):eo(`Ignore duplicate value: ${n}.${r.id} = ${r.value}`);else if(t<e)this.common[r.id]=[r.value],this.commonOrigin[r.id]=t;else return eo(`Ignore native tag (list): ${n}.${r.id} = ${r.value}`);this.opts?.observer&&this.opts.observer({metadata:this,tag:{type:"common",id:r.id,value:r.value}})}}});var bt,jn=$(()=>{bt=class{constructor(n,r,e){this.metadata=n,this.tokenizer=r,this.options=e}}});function Zt(a,n="utf-8"){switch(n.toLowerCase()){case"utf-8":case"utf8":return typeof globalThis.TextDecoder<"u"?new globalThis.TextDecoder("utf-8").decode(a):mB(a);case"utf-16le":return bB(a);case"ascii":return RB(a);case"latin1":case"iso-8859-1":return CB(a);case"windows-1252":return NB(a);default:throw new RangeError(`Encoding '${n}' not supported`)}}function aR(a="",n="utf-8"){switch(n.toLowerCase()){case"utf-8":case"utf8":return typeof globalThis.TextEncoder<"u"?new globalThis.TextEncoder().encode(a):MB(a);case"utf-16le":return PB(a);case"ascii":return LB(a);case"latin1":case"iso-8859-1":return DB(a);case"windows-1252":return wB(a);default:throw new RangeError(`Encoding '${n}' not supported`)}}function mB(a){let n="",r=0;for(;r<a.length;){let e=a[r++];if(e<128)n+=String.fromCharCode(e);else if(e<224){let t=a[r++]&63;n+=String.fromCharCode((e&31)<<6|t)}else if(e<240){let t=a[r++]&63,i=a[r++]&63;n+=String.fromCharCode((e&15)<<12|t<<6|i)}else{let t=a[r++]&63,i=a[r++]&63,o=a[r++]&63,s=(e&7)<<18|t<<12|i<<6|o;s-=65536,n+=String.fromCharCode(55296+(s>>10&1023),56320+(s&1023))}}return n}function bB(a){let n="";for(let r=0;r<a.length;r+=2)n+=String.fromCharCode(a[r]|a[r+1]<<8);return n}function RB(a){return String.fromCharCode(...a.map(n=>n&127))}function CB(a){return String.fromCharCode(...a)}function NB(a){let n="";for(let r of a)r>=128&&r<=159&&PE[r]?n+=PE[r]:n+=String.fromCharCode(r);return n}function MB(a){let n=[];for(let r=0;r<a.length;r++){let e=a.charCodeAt(r);e<128?n.push(e):e<2048?n.push(192|e>>6,128|e&63):e<65536?n.push(224|e>>12,128|e>>6&63,128|e&63):n.push(240|e>>18,128|e>>12&63,128|e>>6&63,128|e&63)}return new Uint8Array(n)}function PB(a){let n=new Uint8Array(a.length*2);for(let r=0;r<a.length;r++){let e=a.charCodeAt(r);n[r*2]=e&255,n[r*2+1]=e>>8}return n}function LB(a){return new Uint8Array([...a].map(n=>n.charCodeAt(0)&127))}function DB(a){return new Uint8Array([...a].map(n=>n.charCodeAt(0)&255))}function wB(a){return new Uint8Array([...a].map(n=>{let r=n.charCodeAt(0);return r<=255?r:LE[n]!==void 0?LE[n]:63}))}var PE,LE,vi=$(()=>{PE={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},LE={};for(let[a,n]of Object.entries(PE))LE[n]=Number.parseInt(a)});var kB,lt,Cn=$(()=>{vi();Mt();kt();kB=/^[\x21-\x7e©][\x20-\x7e\x00()]{3}/,lt={len:4,get:(a,n)=>{let r=Zt(a.subarray(n,n+lt.len),"latin1");if(!r.match(kB))throw new da(`FourCC contains invalid characters: ${F2(r)} "${r}"`);return r},put:(a,n,r)=>{let e=aR(r,"latin1");if(e.length!==4)throw new Ja("Invalid length");return a.set(e,n),n+4}}});function sR(a){return{containsHeader:Dd(a,31),containsFooter:Dd(a,30),isHeader:Dd(a,29),readOnly:Dd(a,0),dataType:(a&6)>>1}}function Dd(a,n){return(a&1<<n)!==0}var Zc,DE,oR,Kn,wd,cR=$(()=>{Ve();Cn();Zc={text_utf8:0,binary:1,external_info:2,reserved:3},DE={len:52,get:(a,n)=>({ID:lt.get(a,n),version:ae.get(a,n+4)/1e3,descriptorBytes:ae.get(a,n+8),headerBytes:ae.get(a,n+12),seekTableBytes:ae.get(a,n+16),headerDataBytes:ae.get(a,n+20),apeFrameDataBytes:ae.get(a,n+24),apeFrameDataBytesHigh:ae.get(a,n+28),terminatingDataBytes:ae.get(a,n+32),fileMD5:new At(16).get(a,n+36)})},oR={len:24,get:(a,n)=>({compressionLevel:we.get(a,n),formatFlags:we.get(a,n+2),blocksPerFrame:ae.get(a,n+4),finalFrameBlocks:ae.get(a,n+8),totalFrames:ae.get(a,n+12),bitsPerSample:we.get(a,n+16),channel:we.get(a,n+18),sampleRate:ae.get(a,n+20)})},Kn={len:32,get:(a,n)=>({ID:new le(8,"ascii").get(a,n),version:ae.get(a,n+8),size:ae.get(a,n+12),fields:ae.get(a,n+16),flags:sR(ae.get(a,n+20))})},wd={len:8,get:(a,n)=>({size:ae.get(a,n),flags:sR(ae.get(a,n+4))})}});var pR={};tn(pR,{APEv2Parser:()=>fa,ApeContentError:()=>_s,tryParseApeHeader:()=>to});function to(a,n,r){return new fa(a,n,r).tryParseApeHeader()}var dR,pa,lR,uR,_s,fa,no=$(()=>{dR=Me(Ot());Dr();Ve();Mt();jn();cR();kt();vi();pa=(0,dR.default)("music-metadata:parser:APEv2"),lR="APEv2",uR="APETAGEX",_s=class extends Et("APEv2"){};fa=class a extends bt{constructor(){super(...arguments),this.ape={}}static calculateDuration(n){let r=n.totalFrames>1?n.blocksPerFrame*(n.totalFrames-1):0;return r+=n.finalFrameBlocks,r/n.sampleRate}static async findApeFooterOffset(n,r){let e=new Uint8Array(Kn.len),t=n.position;if(r<=Kn.len){pa(`Offset is too small to read APE footer: offset=${r}`);return}if(r>Kn.len){await n.readBuffer(e,{position:r-Kn.len}),n.setPosition(t);let i=Kn.get(e,0);if(i.ID==="APETAGEX")return i.flags.isHeader?pa(`APE Header found at offset=${r-Kn.len}`):(pa(`APE Footer found at offset=${r-Kn.len}`),r-=i.size),{footer:i,offset:r}}}static parseTagFooter(n,r,e){let t=Kn.get(r,r.length-Kn.len);if(t.ID!==uR)throw new _s("Unexpected APEv2 Footer ID preamble value");return Qn(r),new a(n,Qn(r),e).parseTags(t)}async tryParseApeHeader(){if(this.tokenizer.fileInfo.size&&this.tokenizer.fileInfo.size-this.tokenizer.position<Kn.len){pa("No APEv2 header found, end-of-file reached");return}let n=await this.tokenizer.peekToken(Kn);if(n.ID===uR)return await this.tokenizer.ignore(Kn.len),this.parseTags(n);if(pa(`APEv2 header not found at offset=${this.tokenizer.position}`),this.tokenizer.fileInfo.size){let r=this.tokenizer.fileInfo.size-this.tokenizer.position,e=new Uint8Array(r);return await this.tokenizer.readBuffer(e),a.parseTagFooter(this.metadata,e,this.options)}}async parse(){let n=await this.tokenizer.readToken(DE);if(n.ID!=="MAC ")throw new _s("Unexpected descriptor ID");this.ape.descriptor=n;let r=n.descriptorBytes-DE.len,e=await(r>0?this.parseDescriptorExpansion(r):this.parseHeader());return this.metadata.setAudioOnly(),await this.tokenizer.ignore(e.forwardBytes),this.tryParseApeHeader()}async parseTags(n){let r=new Uint8Array(256),e=n.size-Kn.len;pa(`Parse APE tags at offset=${this.tokenizer.position}, size=${e}`);for(let t=0;t<n.fields;t++){if(e<wd.len){this.metadata.addWarning(`APEv2 Tag-header: ${n.fields-t} items remaining, but no more tag data to read.`);break}let i=await this.tokenizer.readToken(wd);e-=wd.len+i.size,await this.tokenizer.peekBuffer(r,{length:Math.min(r.length,e)});let o=Rn(r,0,r.length),s=await this.tokenizer.readToken(new le(o,"ascii"));switch(await this.tokenizer.ignore(1),e-=s.length+1,i.flags.dataType){case Zc.text_utf8:{let l=(await this.tokenizer.readToken(new le(i.size,"utf8"))).split(/\x00/g);await Promise.all(l.map(d=>this.metadata.addTag(lR,s,d)));break}case Zc.binary:if(this.options.skipCovers)await this.tokenizer.ignore(i.size);else{let c=new Uint8Array(i.size);await this.tokenizer.readBuffer(c),o=Rn(c,0,c.length);let l=Zt(c.subarray(0,o),"utf-8"),d=c.subarray(o+1);await this.metadata.addTag(lR,s,{description:l,data:d})}break;case Zc.external_info:pa(`Ignore external info ${s}`),await this.tokenizer.ignore(i.size);break;case Zc.reserved:pa(`Ignore external info ${s}`),this.metadata.addWarning(`APEv2 header declares a reserved datatype for "${s}"`),await this.tokenizer.ignore(i.size);break}}}async parseDescriptorExpansion(n){return await this.tokenizer.ignore(n),this.parseHeader()}async parseHeader(){let n=await this.tokenizer.readToken(oR);if(this.metadata.setFormat("lossless",!0),this.metadata.setFormat("container","Monkey's Audio"),this.metadata.setFormat("bitsPerSample",n.bitsPerSample),this.metadata.setFormat("sampleRate",n.sampleRate),this.metadata.setFormat("numberOfChannels",n.channel),this.metadata.setFormat("duration",a.calculateDuration(n)),!this.ape.descriptor)throw new _s("Missing APE descriptor");return{forwardBytes:this.ape.descriptor.seekTableBytes+this.ape.descriptor.headerDataBytes+this.ape.descriptor.apeFrameDataBytes+this.ape.descriptor.terminatingDataBytes}}}});async function hR(a){if(a.fileInfo.size>=128){let n=new Uint8Array(3),r=a.position;return await a.readBuffer(n,{position:a.fileInfo.size-128}),a.setPosition(r),Zt(n,"latin1")==="TAG"}return!1}var fR,kd,Ts,vd,ha,Ud,el=$(()=>{fR=Me(Ot());Ve();Mt();jn();no();vi();kd=(0,fR.default)("music-metadata:parser:ID3v1"),Ts=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","Alt. Rock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta Rap","Top 40","Christian Rap","Pop/Funk","Jungle","Native American","Cabaret","New Wave","Psychedelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk/Rock","National Folk","Swing","Fast-Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","A Cappella","Euro-House","Dance Hall","Goa","Drum & Bass","Club-House","Hardcore","Terror","Indie","BritPop","Negerpunk","Polsk Punk","Beat","Christian Gangsta Rap","Heavy Metal","Black Metal","Crossover","Contemporary Christian","Christian Rock","Merengue","Salsa","Thrash Metal","Anime","JPop","Synthpop","Abstract","Art Rock","Baroque","Bhangra","Big Beat","Breakbeat","Chillout","Downtempo","Dub","EBM","Eclectic","Electro","Electroclash","Emo","Experimental","Garage","Global","IDM","Illbient","Industro-Goth","Jam Band","Krautrock","Leftfield","Lounge","Math Rock","New Romantic","Nu-Breakz","Post-Punk","Post-Rock","Psytrance","Shoegaze","Space Rock","Trop Rock","World Music","Neoclassical","Audiobook","Audio Theatre","Neue Deutsche Welle","Podcast","Indie Rock","G-Funk","Dubstep","Garage Rock","Psybient"],vd={len:128,get:(a,n)=>{let r=new ha(3).get(a,n);return r==="TAG"?{header:r,title:new ha(30).get(a,n+3),artist:new ha(30).get(a,n+33),album:new ha(30).get(a,n+63),year:new ha(4).get(a,n+93),comment:new ha(28).get(a,n+97),zeroByte:ve.get(a,n+127),track:ve.get(a,n+126),genre:ve.get(a,n+127)}:null}},ha=class{constructor(n){this.len=n,this.stringType=new le(n,"latin1")}get(n,r){let e=this.stringType.get(n,r);return e=yd(e),e=e.trim(),e.length>0?e:void 0}},Ud=class a extends bt{constructor(n,r,e){super(n,r,e),this.apeHeader=e.apeHeader}static getGenre(n){if(n<Ts.length)return Ts[n]}async parse(){if(!this.tokenizer.fileInfo.size){kd("Skip checking for ID3v1 because the file-size is unknown");return}this.apeHeader&&(this.tokenizer.ignore(this.apeHeader.offset-this.tokenizer.position),await new fa(this.metadata,this.tokenizer,this.options).parseTags(this.apeHeader.footer));let n=this.tokenizer.fileInfo.size-vd.len;if(this.tokenizer.position>n){kd("Already consumed the last 128 bytes");return}let r=await this.tokenizer.readToken(vd,n);if(r){kd("ID3v1 header found at: pos=%s",this.tokenizer.fileInfo.size-vd.len);let e=["title","artist","album","comment","track","year"];for(let i of e)r[i]&&r[i]!==""&&await this.addTag(i,r[i]);let t=a.getGenre(r.genre);t&&await this.addTag("genre",t)}else kd("ID3v1 header not found at: pos=%s",this.tokenizer.fileInfo.size-vd.len)}async addTag(n,r){await this.metadata.addTag("ID3v1",n,r)}}});function vB(a){let n=[],r,e="";for(let t of a)if(typeof r=="string")if(t==="("&&r==="")e+="(",r=void 0;else if(t===")"){e!==""&&(n.push(e),e="");let i=ER(r);i&&n.push(i),r=void 0}else r+=t;else t==="("?r="":e+=t;return e&&(n.length===0&&e.match(/^\d*$/)&&(e=ER(e)),e&&n.push(e)),n}function ER(a){if(a==="RX")return"Remix";if(a==="CR")return"Cover";if(a.match(/^\d*$/))return Ts[Number.parseInt(a)]}function UB(a){throw new Is(`Unexpected majorVer: ${a}`)}var yR,gR,vr,Bd,Is,_R=$(()=>{yR=Me(Ot());Ve();Mt();Qa();el();kt();Mt();gR=(0,yR.default)("music-metadata:id3v2:frame-parser"),vr="latin1";Bd=class a{constructor(n,r){this.major=n,this.warningCollector=r}readData(n,r,e){if(n.length===0){this.warningCollector.addWarning(`id3v2.${this.major} header has empty tag type=${r}`);return}let{encoding:t,bom:i}=NE.get(n,0),o=n.length,s=0,c=[],l=a.getNullTerminatorLength(t),d;switch(gR(`Parsing tag type=${r}, encoding=${t}, bom=${i}`),r!=="TXXX"&&r[0]==="T"?"T*":r){case"T*":case"GRP1":case"IPLS":case"MVIN":case"MVNM":case"PCS":case"PCST":{let f;try{f=jt(n.subarray(1),t).replace(/\x00+$/,"")}catch(g){if(g instanceof Error){this.warningCollector.addWarning(`id3v2.${this.major} type=${r} header has invalid string value: ${g.message}`);break}throw g}switch(r){case"TMCL":case"TIPL":case"IPLS":c=a.functionList(this.splitValue(r,f));break;case"TRK":case"TRCK":case"TPOS":c=f;break;case"TCOM":case"TEXT":case"TOLY":case"TOPE":case"TPE1":case"TSRC":c=this.splitValue(r,f);break;case"TCO":case"TCON":c=this.splitValue(r,f).map(g=>vB(g)).reduce((g,_)=>g.concat(_),[]);break;case"PCS":case"PCST":c=this.major>=4?this.splitValue(r,f):[f],c=Array.isArray(c)&&c[0]===""?1:0;break;default:c=this.major>=4?this.splitValue(r,f):[f]}break}case"TXXX":{let f=a.readIdentifierAndData(n,s+1,o,t);c={description:f.id,text:this.splitValue(r,jt(f.data,t).replace(/\x00+$/,""))};break}case"PIC":case"APIC":if(e){let f={};switch(s+=1,this.major){case 2:f.format=jt(n.subarray(s,s+3),"latin1"),s+=3;break;case 3:case 4:d=Rn(n,s,o,vr),f.format=jt(n.subarray(s,d),vr),s=d+1;break;default:throw UB(this.major)}f.format=a.fixPictureMimeType(f.format),f.type=Es[n[s]],s+=1,d=Rn(n,s,o,t),f.description=jt(n.subarray(s,d),t),s=d+l,f.data=n.subarray(s,o),c=f}break;case"CNT":case"PCNT":c=_d(n);break;case"SYLT":{let f=ME.get(n,0);s+=ME.len;let g={descriptor:"",language:f.language,contentType:f.contentType,timeStampFormat:f.timeStampFormat,syncText:[]},_=!1;for(;s<o;){let y=a.readNullTerminatedString(n.subarray(s),f.encoding);if(s+=y.len,_){let T=ge.get(n,s);s+=ge.len,g.syncText.push({text:y.text,timestamp:T})}else g.descriptor=y.text,_=!0}c=g;break}case"ULT":case"USLT":case"COM":case"COMM":{let f=Td.get(n,s);s+=Td.len;let g=a.readNullTerminatedString(n.subarray(s),f.encoding);s+=g.len;let _=a.readNullTerminatedString(n.subarray(s),f.encoding);c={language:f.language,descriptor:g.text,text:_.text};break}case"UFID":{let f=a.readIdentifierAndData(n,s,o,vr);c={owner_identifier:f.id,identifier:f.data};break}case"PRIV":{let f=a.readIdentifierAndData(n,s,o,vr);c={owner_identifier:f.id,data:f.data};break}case"POPM":{d=Rn(n,s,o,vr);let f=jt(n.subarray(s,d),vr);s=d+1;let g=o-s-1;c={email:f,rating:ve.get(n,s),counter:g>0?_d(n.subarray(s+1)):void 0};break}case"GEOB":{d=Rn(n,s+1,o,t);let f=jt(n.subarray(s+1,d),vr);s=d+1,d=Rn(n,s,o,t);let g=jt(n.subarray(s,d),vr);s=d+1,d=Rn(n,s,o,t);let _=jt(n.subarray(s,d),vr);s=d+1,c={type:f,filename:g,description:_,data:n.subarray(s,o)};break}case"WCOM":case"WCOP":case"WOAF":case"WOAR":case"WOAS":case"WORS":case"WPAY":case"WPUB":d=Rn(n,s+1,o,t),c=jt(n.subarray(s,d),vr);break;case"WXXX":{d=Rn(n,s+1,o,t);let f=jt(n.subarray(s+1,d),t);s=d+(t==="utf-16le"?2:1),c={description:f,url:jt(n.subarray(s,o),vr)};break}case"WFD":case"WFED":c=jt(n.subarray(s+1,Rn(n,s+1,o,t)),t);break;case"MCDI":{c=n.subarray(0,o);break}default:gR(`Warning: unsupported id3v2-tag-type: ${r}`);break}return c}static readNullTerminatedString(n,r){let e=r.bom?2:0,t=Rn(n,e,n.length,r.encoding),i=n.subarray(e,t);return r.encoding==="utf-16le"?e=t+2:e=t+1,{text:jt(i,r.encoding),len:e}}static fixPictureMimeType(n){switch(n=n.toLocaleLowerCase(),n){case"jpg":return"image/jpeg";case"png":return"image/png"}return n}static functionList(n){let r={};for(let e=0;e+1<n.length;e+=2){let t=n[e+1].split(",");r[n[e]]=r[n[e]]?r[n[e]].concat(t):t}return r}splitValue(n,r){let e;return this.major<4?(e=r.split(/\x00/g),e.length>1?this.warningCollector.addWarning(`ID3v2.${this.major} ${n} uses non standard null-separator.`):e=r.split(/\//g)):e=r.split(/\x00/g),a.trimArray(e)}static trimArray(n){return n.map(r=>r.replace(/\x00+$/,"").trim())}static readIdentifierAndData(n,r,e,t){let i=Rn(n,r,e,t),o=jt(n.subarray(r,i),t);return r=i+a.getNullTerminatorLength(t),{id:o,data:n.subarray(r,e)}}static getNullTerminatorLength(n){return n==="utf-16le"?2:1}},Is=class extends Et("id3v2"){}});function wE(a){throw new Is(`Unexpected majorVer: ${a}`)}var yr,Os=$(()=>{Ve();Mt();_R();Qa();vi();yr=class a{constructor(){this.tokenizer=void 0,this.id3Header=void 0,this.metadata=void 0,this.headerType=void 0,this.options=void 0}static removeUnsyncBytes(n){let r=0,e=0;for(;r<n.length-1;)r!==e&&(n[e]=n[r]),r+=n[r]===255&&n[r+1]===0?2:1,e++;return r<n.length&&(n[e++]=n[r]),n.subarray(0,e)}static getFrameHeaderLength(n){switch(n){case 2:return 6;case 3:case 4:return 10;default:throw wE(n)}}static readFrameFlags(n){return{status:{tag_alter_preservation:rt(n,0,6),file_alter_preservation:rt(n,0,5),read_only:rt(n,0,4)},format:{grouping_identity:rt(n,1,7),compression:rt(n,1,3),encryption:rt(n,1,2),unsynchronisation:rt(n,1,1),data_length_indicator:rt(n,1,0)}}}static readFrameData(n,r,e,t,i){let o=new Bd(e,i);switch(e){case 2:return o.readData(n,r.id,t);case 3:case 4:return r.flags?.format.unsynchronisation&&(n=a.removeUnsyncBytes(n)),r.flags?.format.data_length_indicator&&(n=n.subarray(4,n.length)),o.readData(n,r.id,t);default:throw wE(e)}}static makeDescriptionTagName(n,r){return n+(r?`:${r}`:"")}async parse(n,r,e){this.tokenizer=r,this.metadata=n,this.options=e;let t=await this.tokenizer.readToken(Jc);if(t.fileIdentifier!=="ID3")throw new Is("expected ID3-header file-identifier 'ID3' was not found");return this.id3Header=t,this.headerType=`ID3v2.${t.version.major}`,t.flags.isExtendedHeader?this.parseExtendedHeader():this.parseId3Data(t.size)}async parseExtendedHeader(){let n=await this.tokenizer.readToken(CE),r=n.size-CE.len;return r>0?this.parseExtendedHeaderData(r,n.size):this.parseId3Data(this.id3Header.size-n.size)}async parseExtendedHeaderData(n,r){return await this.tokenizer.ignore(n),this.parseId3Data(this.id3Header.size-r)}async parseId3Data(n){let r=await this.tokenizer.readToken(new At(n));for(let e of this.parseMetadata(r))switch(e.id){case"TXXX":e.value&&await this.handleTag(e,e.value.text,()=>e.value.description);break;default:await(Array.isArray(e.value)?Promise.all(e.value.map(t=>this.addTag(e.id,t))):this.addTag(e.id,e.value))}}async handleTag(n,r,e,t=i=>i){await Promise.all(r.map(i=>this.addTag(a.makeDescriptionTagName(n.id,e(i)),t(i))))}async addTag(n,r){await this.metadata.addTag(this.headerType,n,r)}parseMetadata(n){let r=0,e=[];for(;r!==n.length;){let t=a.getFrameHeaderLength(this.id3Header.version.major);if(r+t>n.length){this.metadata.addWarning("Illegal ID3v2 tag length");break}let i=n.subarray(r,r+t);r+=t;let o=this.readFrameHeader(i,this.id3Header.version.major),s=n.subarray(r,r+o.length);r+=o.length;let c=a.readFrameData(s,o,this.id3Header.version.major,!this.options.skipCovers,this.metadata);c&&e.push({id:o.id,value:c})}return e}readFrameHeader(n,r){let e;switch(r){case 2:e={id:Zt(n.subarray(0,3),"ascii"),length:qt.get(n,3)},e.id.match(/[A-Z0-9]{3}/g)||this.metadata.addWarning(`Invalid ID3v2.${this.id3Header.version.major} frame-header-ID: ${e.id}`);break;case 3:case 4:e={id:Zt(n.subarray(0,4),"ascii"),length:(r===4?RE:ge).get(n,4),flags:a.readFrameFlags(n.subarray(8,10))},e.id.match(/[A-Z0-9]{4}/g)||this.metadata.addWarning(`Invalid ID3v2.${this.id3Header.version.major} frame-header-ID: ${e.id}`);break;default:throw wE(r)}return e}}});var TR,kE,ai,tl=$(()=>{Dr();TR=Me(Ot());Qa();Os();el();jn();kE=(0,TR.default)("music-metadata:parser:ID3"),ai=class extends bt{constructor(){super(...arguments),this.id3parser=new yr}static async startsWithID3v2Header(n){return(await n.peekToken(Jc)).fileIdentifier==="ID3"}async parse(){try{await this.parseID3v2()}catch(n){if(n instanceof ct)kE("End-of-stream");else throw n}}finalize(){}async parseID3v2(){await this.tryReadId3v2Headers(),kE("End of ID3v2 header, go to MPEG-parser: pos=%s",this.tokenizer.position),await this.postId3v2Parse(),this.options.skipPostHeaders&&this.metadata.hasAny()?this.finalize():(await new Ud(this.metadata,this.tokenizer,this.options).parse(),this.finalize())}async tryReadId3v2Headers(){if((await this.tokenizer.peekToken(Jc)).fileIdentifier==="ID3")return kE("Found ID3v2 header, pos=%s",this.tokenizer.position),await this.id3parser.parse(this.metadata,this.tokenizer,this.options),this.tryReadId3v2Headers()}}});var vE,IR=$(()=>{Mt();vE={len:2,get:(a,n)=>{let r=it(a,n,0,3),e=it(a,n,6,1),t=it(a,n,7,9)/10;if(r>0)return{type:it(a,n,0,3),origin:it(a,n,3,3),adjustment:e?-t:t}}}});var OR,SR=$(()=>{Ve();Mt();IR();OR={len:27,get:(a,n)=>{let r=ge.get(a,n+2);return{revision:it(a,n,0,4),vbr_method:it(a,n,4,4),lowpass_filter:100*ve.get(a,n+1),track_peak:r===0?null:r/2**23,track_gain:vE.get(a,6),album_gain:vE.get(a,8),music_length:ge.get(a,n+20),music_crc:ve.get(a,n+24),header_crc:ot.get(a,n+24)}}}});async function AR(a){let n=await a.readToken(BB),r={numFrames:null,streamSize:null,vbrScale:null};if(n.frames&&(r.numFrames=await a.readToken(ge)),n.bytes&&(r.streamSize=await a.readToken(ge)),n.toc&&(r.toc=new Uint8Array(100),await a.readBuffer(r.toc)),n.vbrScale&&(r.vbrScale=await a.readToken(ge)),await a.peekToken(new le(4,"ascii"))==="LAME"){await a.ignore(4),r.lame={version:await a.readToken(new le(5,"ascii"))};let t=r.lame.version.match(/\d+.\d+/g);if(t!==null){let o=t[0].split(".").map(s=>Number.parseInt(s,10));o[0]>=3&&o[1]>=90&&(r.lame.extended=await a.readToken(OR))}}return r}var UE,xd,BB,mR=$(()=>{Ve();Mt();SR();UE=new le(4,"ascii"),xd=new le(6,"ascii"),BB={len:4,get:(a,n)=>({frames:un(a,n,31),bytes:un(a,n,30),toc:un(a,n,29),vbrScale:un(a,n,28)})}});var MR={};tn(MR,{MpegContentError:()=>ro,MpegParser:()=>BE});function FB(a){return`V${Math.floor((100-a)/10)}`}var NR,tr,ro,bR,RR,xB,nr,CR,BE,PR=$(()=>{Ve();Dr();NR=Me(Ot());Mt();tl();mR();kt();tr=(0,NR.default)("music-metadata:parser:mpeg"),ro=class extends Et("MPEG"){},bR=1024,RR={AudioObjectTypes:["AAC Main","AAC LC","AAC SSR","AAC LTP"],SamplingFrequencies:[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350,null,null,-1]},xB=[void 0,["front-center"],["front-left","front-right"],["front-center","front-left","front-right"],["front-center","front-left","front-right","back-center"],["front-center","front-left","front-right","back-left","back-right"],["front-center","front-left","front-right","back-left","back-right","LFE-channel"],["front-center","front-left","front-right","side-left","side-right","back-left","back-right","LFE-channel"]],nr=class a{constructor(n,r){this.bitrateIndex=null,this.sampRateFreqIndex=null,this.padding=null,this.privateBit=null,this.channelModeIndex=null,this.modeExtension=null,this.isOriginalMedia=null,this.version=null,this.bitrate=null,this.samplingRate=null,this.frameLength=0,this.versionIndex=it(n,r+1,3,2),this.layer=a.LayerDescription[it(n,r+1,5,2)],this.versionIndex>1&&this.layer===0?this.parseAdtsHeader(n,r):this.parseMpegHeader(n,r),this.isProtectedByCRC=!un(n,r+1,7)}calcDuration(n){return this.samplingRate==null?null:n*this.calcSamplesPerFrame()/this.samplingRate}calcSamplesPerFrame(){return a.samplesInFrameTable[this.version===1?0:1][this.layer]}calculateSideInfoLength(){if(this.layer!==3)return 2;if(this.channelModeIndex===3){if(this.version===1)return 17;if(this.version===2||this.version===2.5)return 9}else{if(this.version===1)return 32;if(this.version===2||this.version===2.5)return 17}return null}calcSlotSize(){return[null,4,1,1][this.layer]}parseMpegHeader(n,r){this.container="MPEG",this.bitrateIndex=it(n,r+2,0,4),this.sampRateFreqIndex=it(n,r+2,4,2),this.padding=un(n,r+2,6),this.privateBit=un(n,r+2,7),this.channelModeIndex=it(n,r+3,0,2),this.modeExtension=it(n,r+3,2,2),this.isCopyrighted=un(n,r+3,4),this.isOriginalMedia=un(n,r+3,5),this.emphasis=it(n,r+3,7,2),this.version=a.VersionID[this.versionIndex],this.channelMode=a.ChannelMode[this.channelModeIndex],this.codec=`MPEG ${this.version} Layer ${this.layer}`;let e=this.calcBitrate();if(!e)throw new ro("Cannot determine bit-rate");if(this.bitrate=e*1e3,this.samplingRate=this.calcSamplingRate(),this.samplingRate==null)throw new ro("Cannot determine sampling-rate")}parseAdtsHeader(n,r){tr("layer=0 => ADTS"),this.version=this.versionIndex===2?4:2,this.container=`ADTS/MPEG-${this.version}`;let e=it(n,r+2,0,2);this.codec="AAC",this.codecProfile=RR.AudioObjectTypes[e],tr(`MPEG-4 audio-codec=${this.codec}`);let t=it(n,r+2,2,4);this.samplingRate=RR.SamplingFrequencies[t],tr(`sampling-rate=${this.samplingRate}`);let i=it(n,r+2,7,3);this.mp4ChannelConfig=xB[i],tr(`channel-config=${this.mp4ChannelConfig?this.mp4ChannelConfig.join("+"):"?"}`),this.frameLength=it(n,r+3,6,2)<<11}calcBitrate(){if(this.bitrateIndex===0||this.bitrateIndex===15)return null;if(this.version&&this.bitrateIndex){let n=10*Math.floor(this.version)+this.layer;return a.bitrate_index[this.bitrateIndex][n]}return null}calcSamplingRate(){return this.sampRateFreqIndex===3||this.version===null||this.sampRateFreqIndex==null?null:a.sampling_rate_freq_index[this.version][this.sampRateFreqIndex]}};nr.SyncByte1=255;nr.SyncByte2=224;nr.VersionID=[2.5,null,2,1];nr.LayerDescription=[0,3,2,1];nr.ChannelMode=["stereo","joint_stereo","dual_channel","mono"];nr.bitrate_index={1:{11:32,12:32,13:32,21:32,22:8,23:8},2:{11:64,12:48,13:40,21:48,22:16,23:16},3:{11:96,12:56,13:48,21:56,22:24,23:24},4:{11:128,12:64,13:56,21:64,22:32,23:32},5:{11:160,12:80,13:64,21:80,22:40,23:40},6:{11:192,12:96,13:80,21:96,22:48,23:48},7:{11:224,12:112,13:96,21:112,22:56,23:56},8:{11:256,12:128,13:112,21:128,22:64,23:64},9:{11:288,12:160,13:128,21:144,22:80,23:80},10:{11:320,12:192,13:160,21:160,22:96,23:96},11:{11:352,12:224,13:192,21:176,22:112,23:112},12:{11:384,12:256,13:224,21:192,22:128,23:128},13:{11:416,12:320,13:256,21:224,22:144,23:144},14:{11:448,12:384,13:320,21:256,22:160,23:160}};nr.sampling_rate_freq_index={1:{0:44100,1:48e3,2:32e3},2:{0:22050,1:24e3,2:16e3},2.5:{0:11025,1:12e3,2:8e3}};nr.samplesInFrameTable=[[0,384,1152,1152],[0,384,1152,576]];CR={len:4,get:(a,n)=>new nr(a,n)};BE=class extends ai{constructor(){super(...arguments),this.frameCount=0,this.syncFrameCount=-1,this.countSkipFrameData=0,this.totalDataLength=0,this.bitrates=[],this.offset=0,this.frame_size=0,this.crc=null,this.calculateEofDuration=!1,this.samplesPerFrame=null,this.buf_frame_header=new Uint8Array(4),this.mpegOffset=null,this.syncPeek={buf:new Uint8Array(bR),len:0}}async postId3v2Parse(){this.metadata.setFormat("lossless",!1),this.metadata.setAudioOnly();try{let n=!1;for(;!n;)await this.sync(),n=await this.parseCommonMpegHeader()}catch(n){if(n instanceof ct){if(tr("End-of-stream"),this.calculateEofDuration&&this.samplesPerFrame!==null){let r=this.frameCount*this.samplesPerFrame;if(this.metadata.setFormat("numberOfSamples",r),this.metadata.format.sampleRate){let e=r/this.metadata.format.sampleRate;tr(`Calculate duration at EOF: ${e} sec.`,e),this.metadata.setFormat("duration",e)}}}else throw n}}finalize(){let n=this.metadata.format,r=!!this.metadata.native.ID3v1;if(this.mpegOffset!==null){if(n.duration&&this.tokenizer.fileInfo.size){let e=this.tokenizer.fileInfo.size-this.mpegOffset-(r?128:0);n.codecProfile&&n.codecProfile[0]==="V"&&this.metadata.setFormat("bitrate",e*8/n.duration)}if(this.tokenizer.fileInfo.size&&n.codecProfile==="CBR"){let e=this.tokenizer.fileInfo.size-this.mpegOffset-(r?128:0);if(this.frame_size!==null&&this.samplesPerFrame!==null){let t=Math.round(e/this.frame_size)*this.samplesPerFrame;if(this.metadata.setFormat("numberOfSamples",t),n.sampleRate&&!n.duration){let i=t/n.sampleRate;tr("Calculate CBR duration based on file size: %s",i),this.metadata.setFormat("duration",i)}}}}}async sync(){let n=!1;for(;;){let r=0;if(this.syncPeek.len=await this.tokenizer.peekBuffer(this.syncPeek.buf,{length:bR,mayBeLess:!0}),this.syncPeek.len<=163)throw new ct;for(;;){if(n&&(this.syncPeek.buf[r]&224)===224){this.buf_frame_header[0]=nr.SyncByte1,this.buf_frame_header[1]=this.syncPeek.buf[r],await this.tokenizer.ignore(r),tr(`Sync at offset=${this.tokenizer.position-1}, frameCount=${this.frameCount}`),this.syncFrameCount===this.frameCount&&(tr(`Re-synced MPEG stream, frameCount=${this.frameCount}`),this.frameCount=0,this.frame_size=0),this.syncFrameCount=this.frameCount;return}if(n=!1,r=this.syncPeek.buf.indexOf(nr.SyncByte1,r),r===-1){if(this.syncPeek.len<this.syncPeek.buf.length)throw new ct;await this.tokenizer.ignore(this.syncPeek.len);break}++r,n=!0}}}async parseCommonMpegHeader(){this.frameCount===0&&(this.mpegOffset=this.tokenizer.position-1),await this.tokenizer.peekBuffer(this.buf_frame_header.subarray(1),{length:3});let n;try{n=CR.get(this.buf_frame_header,0)}catch(r){if(await this.tokenizer.ignore(1),r instanceof Error)return this.metadata.addWarning(`Parse error: ${r.message}`),!1;throw r}return await this.tokenizer.ignore(3),this.metadata.setFormat("container",n.container),this.metadata.setFormat("codec",n.codec),this.metadata.setFormat("lossless",!1),this.metadata.setFormat("sampleRate",n.samplingRate),this.frameCount++,n.version!==null&&n.version>=2&&n.layer===0?this.parseAdts(n):this.parseAudioFrameHeader(n)}async parseAudioFrameHeader(n){this.metadata.setFormat("numberOfChannels",n.channelMode==="mono"?1:2),this.metadata.setFormat("bitrate",n.bitrate),this.frameCount<20*1e4&&tr("offset=%s MP%s bitrate=%s sample-rate=%s",this.tokenizer.position-4,n.layer,n.bitrate,n.samplingRate);let r=n.calcSlotSize();if(r===null)throw new ro("invalid slot_size");let e=n.calcSamplesPerFrame();tr(`samples_per_frame=${e}`);let t=e/8;if(n.bitrate!==null&&n.samplingRate!=null){let i=t*n.bitrate/n.samplingRate+(n.padding?r:0);this.frame_size=Math.floor(i)}if(this.audioFrameHeader=n,n.bitrate!==null&&this.bitrates.push(n.bitrate),this.frameCount===1)return this.offset=CR.len,await this.skipSideInformation(),!1;if(this.frameCount===4){if(this.areAllSame(this.bitrates)){if(this.samplesPerFrame=e,this.metadata.setFormat("codecProfile","CBR"),this.tokenizer.fileInfo.size)return!0}else if(this.metadata.format.duration)return!0;if(!this.options.duration)return!0}return this.options.duration&&this.frameCount===4&&(this.samplesPerFrame=e,this.calculateEofDuration=!0),this.offset=4,n.isProtectedByCRC?(await this.parseCrc(),!1):(await this.skipSideInformation(),!1)}async parseAdts(n){let r=new Uint8Array(3);if(await this.tokenizer.readBuffer(r),n.frameLength+=it(r,0,0,11),this.totalDataLength+=n.frameLength,this.samplesPerFrame=1024,n.samplingRate!==null){let e=n.samplingRate/this.samplesPerFrame,i=8*(this.frameCount===0?0:this.totalDataLength/this.frameCount)*e+.5;this.metadata.setFormat("bitrate",i),tr(`frame-count=${this.frameCount}, size=${n.frameLength} bytes, bit-rate=${i}`)}if(await this.tokenizer.ignore(n.frameLength>7?n.frameLength-7:1),this.frameCount===3)if(this.metadata.setFormat("codecProfile",n.codecProfile),n.mp4ChannelConfig&&this.metadata.setFormat("numberOfChannels",n.mp4ChannelConfig.length),this.options.duration)this.calculateEofDuration=!0;else return!0;return!1}async parseCrc(){return this.crc=await this.tokenizer.readNumber(wr),this.offset+=2,this.skipSideInformation()}async skipSideInformation(){if(this.audioFrameHeader){let n=this.audioFrameHeader.calculateSideInfoLength();if(n!==null){await this.tokenizer.readToken(new At(n)),this.offset+=n,await this.readXtraInfoHeader();return}}}async readXtraInfoHeader(){let n=await this.tokenizer.readToken(UE);switch(this.offset+=UE.len,n){case"Info":return this.metadata.setFormat("codecProfile","CBR"),this.readXingInfoHeader();case"Xing":{let e=await this.readXingInfoHeader();if(e.vbrScale!==null){let t=FB(e.vbrScale);this.metadata.setFormat("codecProfile",t)}return null}case"Xtra":break;case"LAME":{let e=await this.tokenizer.readToken(xd);if(this.frame_size!==null&&this.frame_size>=this.offset+xd.len)return this.offset+=xd.len,this.metadata.setFormat("tool",`LAME ${e}`),await this.skipFrameData(this.frame_size-this.offset),null;this.metadata.addWarning("Corrupt LAME header");break}}let r=this.frame_size-this.offset;return r<0?this.metadata.addWarning(`Frame ${this.frameCount}corrupt: negative frameDataLeft`):await this.skipFrameData(r),null}async readXingInfoHeader(){let n=this.tokenizer.position,r=await AR(this.tokenizer);if(this.offset+=this.tokenizer.position-n,r.lame&&(this.metadata.setFormat("tool",`LAME ${gr(r.lame.version)}`),r.lame.extended&&(this.metadata.setFormat("trackPeakLevel",r.lame.extended.track_peak),r.lame.extended.track_gain&&this.metadata.setFormat("trackGain",r.lame.extended.track_gain.adjustment),r.lame.extended.album_gain&&this.metadata.setFormat("albumGain",r.lame.extended.album_gain.adjustment),this.metadata.setFormat("duration",r.lame.extended.music_length/1e3))),r.streamSize&&this.audioFrameHeader&&r.numFrames!==null){let t=this.audioFrameHeader.calcDuration(r.numFrames);return this.metadata.setFormat("duration",t),tr("Get duration from Xing header: %s",this.metadata.format.duration),r}let e=this.frame_size-this.offset;return await this.skipFrameData(e),r}async skipFrameData(n){if(n<0)throw new ro("frame-data-left cannot be negative");await this.tokenizer.ignore(n),this.countSkipFrameData+=n}areAllSame(n){let r=n[0];return n.every(e=>e===r)}}});var LR,DR=$(()=>{LR={parserType:"mpeg",extensions:[".mp2",".mp3",".m2a",".aac","aacp"],mimeTypes:["audio/mpeg","audio/mp3","audio/aacs","audio/aacp"],async load(){return(await Promise.resolve().then(()=>(PR(),MR))).MpegParser}}});var wR,kR=$(()=>{wR={parserType:"apev2",extensions:[".ape"],mimeTypes:["audio/ape","audio/monkeys-audio"],async load(){return(await Promise.resolve().then(()=>(no(),pR))).APEv2Parser}}});var oe,Pt,xE=$(()=>{ps();oe=class a{static fromBin(n,r=0){return new a(a.decode(n,r))}static decode(n,r=0){let e=new DataView(n.buffer,r);return`${e.getUint32(0,!0).toString(16)}-${e.getUint16(4,!0).toString(16)}-${e.getUint16(6,!0).toString(16)}-${e.getUint16(8).toString(16)}-${ds(n.subarray(r+10,r+16))}`.toUpperCase()}static decodeMediaType(n){switch(n.str){case a.AudioMedia.str:return"audio";case a.VideoMedia.str:return"video";case a.CommandMedia.str:return"command";case a.Degradable_JPEG_Media.str:return"degradable-jpeg";case a.FileTransferMedia.str:return"file-transfer";case a.BinaryMedia.str:return"binary"}}static encode(n){let r=new Uint8Array(16),e=new DataView(r.buffer);return e.setUint32(0,Number.parseInt(n.substring(0,8),16),!0),e.setUint16(4,Number.parseInt(n.substring(9,13),16),!0),e.setUint16(6,Number.parseInt(n.substring(14,18),16),!0),r.set(yE(n.substring(19,23)),8),r.set(yE(n.substring(24)),10),r}constructor(n){this.str=n}equals(n){return this.str===n.str}toBin(){return a.encode(this.str)}};oe.HeaderObject=new oe("75B22630-668E-11CF-A6D9-00AA0062CE6C");oe.DataObject=new oe("75B22636-668E-11CF-A6D9-00AA0062CE6C");oe.SimpleIndexObject=new oe("33000890-E5B1-11CF-89F4-00A0C90349CB");oe.IndexObject=new oe("D6E229D3-35DA-11D1-9034-00A0C90349BE");oe.MediaObjectIndexObject=new oe("FEB103F8-12AD-4C64-840F-2A1D2F7AD48C");oe.TimecodeIndexObject=new oe("3CB73FD0-0C4A-4803-953D-EDF7B6228F0C");oe.FilePropertiesObject=new oe("8CABDCA1-A947-11CF-8EE4-00C00C205365");oe.StreamPropertiesObject=new oe("B7DC0791-A9B7-11CF-8EE6-00C00C205365");oe.HeaderExtensionObject=new oe("5FBF03B5-A92E-11CF-8EE3-00C00C205365");oe.CodecListObject=new oe("86D15240-311D-11D0-A3A4-00A0C90348F6");oe.ScriptCommandObject=new oe("1EFB1A30-0B62-11D0-A39B-00A0C90348F6");oe.MarkerObject=new oe("F487CD01-A951-11CF-8EE6-00C00C205365");oe.BitrateMutualExclusionObject=new oe("D6E229DC-35DA-11D1-9034-00A0C90349BE");oe.ErrorCorrectionObject=new oe("75B22635-668E-11CF-A6D9-00AA0062CE6C");oe.ContentDescriptionObject=new oe("75B22633-668E-11CF-A6D9-00AA0062CE6C");oe.ExtendedContentDescriptionObject=new oe("D2D0A440-E307-11D2-97F0-00A0C95EA850");oe.ContentBrandingObject=new oe("2211B3FA-BD23-11D2-B4B7-00A0C955FC6E");oe.StreamBitratePropertiesObject=new oe("7BF875CE-468D-11D1-8D82-006097C9A2B2");oe.ContentEncryptionObject=new oe("2211B3FB-BD23-11D2-B4B7-00A0C955FC6E");oe.ExtendedContentEncryptionObject=new oe("298AE614-2622-4C17-B935-DAE07EE9289C");oe.DigitalSignatureObject=new oe("2211B3FC-BD23-11D2-B4B7-00A0C955FC6E");oe.PaddingObject=new oe("1806D474-CADF-4509-A4BA-9AABCB96AAE8");oe.ExtendedStreamPropertiesObject=new oe("14E6A5CB-C672-4332-8399-A96952065B5A");oe.AdvancedMutualExclusionObject=new oe("A08649CF-4775-4670-8A16-6E35357566CD");oe.GroupMutualExclusionObject=new oe("D1465A40-5A79-4338-B71B-E36B8FD6C249");oe.StreamPrioritizationObject=new oe("D4FED15B-88D3-454F-81F0-ED5C45999E24");oe.BandwidthSharingObject=new oe("A69609E6-517B-11D2-B6AF-00C04FD908E9");oe.LanguageListObject=new oe("7C4346A9-EFE0-4BFC-B229-393EDE415C85");oe.MetadataObject=new oe("C5F8CBEA-5BAF-4877-8467-AA8C44FA4CCA");oe.MetadataLibraryObject=new oe("44231C94-9498-49D1-A141-1D134E457054");oe.IndexParametersObject=new oe("D6E229DF-35DA-11D1-9034-00A0C90349BE");oe.MediaObjectIndexParametersObject=new oe("6B203BAD-3F11-48E4-ACA8-D7613DE2CFA7");oe.TimecodeIndexParametersObject=new oe("F55E496D-9797-4B5D-8C8B-604DFE9BFB24");oe.CompatibilityObject=new oe("26F18B5D-4584-47EC-9F5F-0E651F0452C9");oe.AdvancedContentEncryptionObject=new oe("43058533-6981-49E6-9B74-AD12CB86D58C");oe.AudioMedia=new oe("F8699E40-5B4D-11CF-A8FD-00805F5C442B");oe.VideoMedia=new oe("BC19EFC0-5B4D-11CF-A8FD-00805F5C442B");oe.CommandMedia=new oe("59DACFC0-59E6-11D0-A3AC-00A0C90348F6");oe.JFIF_Media=new oe("B61BE100-5B4E-11CF-A8FD-00805F5C442B");oe.Degradable_JPEG_Media=new oe("35907DE0-E415-11CF-A917-00805F5C442B");oe.FileTransferMedia=new oe("91BD222C-F21C-497A-8B6D-5AA86BFC0185");oe.BinaryMedia=new oe("3AFB65E2-47EF-40F2-AC2C-70A90D71D343");oe.ASF_Index_Placeholder_Object=new oe("D9AADE20-7C17-4F9C-BC28-8555DD98E2A2");Pt=oe});function UR(a){return jB[a]}function nl(a){return gr(jt(a,"utf-16le"))}function vR(a){return new Uint8Array(a)}function KB(a,n=0){return BR(a,n)===1}function HB(a,n=0){return ae.get(a,n)}function GB(a,n=0){return $t.get(a,n)}function BR(a,n=0){return we.get(a,n)}var jB,xR=$(()=>{Ve();Mt();jB=[nl,vR,KB,HB,GB,BR,vR]});async function FR(a){let n=await a.readNumber(we);return(await a.readToken(new le(n*2,"utf-16le"))).replace("\0","")}async function KR(a){let n=await a.readToken(VB),r=[];for(let e=0;e<n.entryCount;++e)r.push(await YB(a));return r}async function WB(a){let n=await a.readNumber(we),r=new Uint8Array(n);return await a.readBuffer(r),r}async function YB(a){let n=await a.readNumber(we);return{type:{videoCodec:(n&1)===1,audioCodec:(n&2)===2},codecName:await FR(a),description:await FR(a),information:await WB(a)}}var rl,jR,ga,Ui,il,Ss,As,ms,VB,io,bs,Rs,ao,Cs,FE,jE=$(()=>{Ve();Mt();xE();xR();Qa();kt();rl=class extends Et("ASF"){},jR={len:30,get:(a,n)=>({objectId:Pt.fromBin(a,n),objectSize:Number($t.get(a,n+16)),numberOfHeaderObjects:ae.get(a,n+24)})},ga={len:24,get:(a,n)=>({objectId:Pt.fromBin(a,n),objectSize:Number($t.get(a,n+16))})},Ui=class{constructor(n){this.len=Number(n.objectSize)-ga.len}postProcessTag(n,r,e,t){if(r==="WM/Picture")n.push({id:r,value:FE.fromBuffer(t)});else{let i=UR(e);if(!i)throw new rl(`unexpected value headerType: ${e}`);n.push({id:r,value:i(t)})}}},il=class extends Ui{get(n,r){return null}},Ss=class extends Ui{get(n,r){return{fileId:Pt.fromBin(n,r),fileSize:$t.get(n,r+16),creationDate:$t.get(n,r+24),dataPacketsCount:$t.get(n,r+32),playDuration:$t.get(n,r+40),sendDuration:$t.get(n,r+48),preroll:$t.get(n,r+56),flags:{broadcast:rt(n,r+64,24),seekable:rt(n,r+64,25)},minimumDataPacketSize:ae.get(n,r+68),maximumDataPacketSize:ae.get(n,r+72),maximumBitrate:ae.get(n,r+76)}}};Ss.guid=Pt.FilePropertiesObject;As=class extends Ui{get(n,r){return{streamType:Pt.decodeMediaType(Pt.fromBin(n,r)),errorCorrectionType:Pt.fromBin(n,r+8)}}};As.guid=Pt.StreamPropertiesObject;ms=class{constructor(){this.len=22}get(n,r){let e=new DataView(n.buffer,r);return{reserved1:Pt.fromBin(n,r),reserved2:e.getUint16(16,!0),extensionDataSize:e.getUint16(18,!0)}}};ms.guid=Pt.HeaderExtensionObject;VB={len:20,get:(a,n)=>({entryCount:new DataView(a.buffer,n).getUint16(16,!0)})};io=class a extends Ui{get(n,r){let e=[],t=new DataView(n.buffer,r),i=10;for(let o=0;o<a.contentDescTags.length;++o){let s=t.getUint16(o*2,!0);if(s>0){let c=a.contentDescTags[o],l=i+s;e.push({id:c,value:nl(n.subarray(r+i,r+l))}),i=l}}return e}};io.guid=Pt.ContentDescriptionObject;io.contentDescTags=["Title","Author","Copyright","Description","Rating"];bs=class extends Ui{get(n,r){let e=[],t=new DataView(n.buffer,r),i=t.getUint16(0,!0),o=2;for(let s=0;s<i;s+=1){let c=t.getUint16(o,!0);o+=2;let l=nl(n.subarray(r+o,r+o+c));o+=c;let d=t.getUint16(o,!0);o+=2;let f=t.getUint16(o,!0);o+=2;let g=n.subarray(r+o,r+o+f);o+=f,this.postProcessTag(e,l,d,g)}return e}};bs.guid=Pt.ExtendedContentDescriptionObject;Rs=class extends Ui{get(n,r){let e=new DataView(n.buffer,r);return{startTime:$t.get(n,r),endTime:$t.get(n,r+8),dataBitrate:e.getInt32(12,!0),bufferSize:e.getInt32(16,!0),initialBufferFullness:e.getInt32(20,!0),alternateDataBitrate:e.getInt32(24,!0),alternateBufferSize:e.getInt32(28,!0),alternateInitialBufferFullness:e.getInt32(32,!0),maximumObjectSize:e.getInt32(36,!0),flags:{reliableFlag:rt(n,r+40,0),seekableFlag:rt(n,r+40,1),resendLiveCleanpointsFlag:rt(n,r+40,2)},streamNumber:e.getInt16(42,!0),streamLanguageId:e.getInt16(44,!0),averageTimePerFrame:e.getInt32(52,!0),streamNameCount:e.getInt32(54,!0),payloadExtensionSystems:e.getInt32(56,!0),streamNames:[],streamPropertiesObject:null}}};Rs.guid=Pt.ExtendedStreamPropertiesObject;ao=class extends Ui{get(n,r){let e=[],t=new DataView(n.buffer,r),i=t.getUint16(0,!0),o=2;for(let s=0;s<i;s+=1){o+=4;let c=t.getUint16(o,!0);o+=2;let l=t.getUint16(o,!0);o+=2;let d=t.getUint32(o,!0);o+=4;let f=nl(n.subarray(r+o,r+o+c));o+=c;let g=n.subarray(r+o,r+o+d);o+=d,this.postProcessTag(e,f,l,g)}return e}};ao.guid=Pt.MetadataObject;Cs=class extends ao{};Cs.guid=Pt.MetadataLibraryObject;FE=class a{static fromBuffer(n){return new a(n.length).get(n,0)}constructor(n){this.len=n}get(n,r){let e=new DataView(n.buffer,r),t=e.getUint8(0),i=e.getInt32(1,!0),o=5;for(;e.getUint16(o)!==0;)o+=2;let s=new le(o-5,"utf-16le").get(n,5);for(;e.getUint16(o)!==0;)o+=2;let c=new le(o-5,"utf-16le").get(n,5);return{type:Es[t],format:s,description:c,size:i,data:n.slice(o+4)}}}});var GR={};tn(GR,{AsfParser:()=>KE});var HR,Fd,qB,KE,VR=$(()=>{HR=Me(Ot());Za();xE();jE();jn();jE();Fd=(0,HR.default)("music-metadata:parser:ASF"),qB="asf",KE=class extends bt{async parse(){let n=await this.tokenizer.readToken(jR);if(!n.objectId.equals(Pt.HeaderObject))throw new rl(`expected asf header; but was not found; got: ${n.objectId.str}`);try{await this.parseObjectHeader(n.numberOfHeaderObjects)}catch(r){Fd("Error while parsing ASF: %s",r)}}async parseObjectHeader(n){let r;do{let e=await this.tokenizer.readToken(ga);switch(Fd("header GUID=%s",e.objectId.str),e.objectId.str){case Ss.guid.str:{let t=await this.tokenizer.readToken(new Ss(e));this.metadata.setFormat("duration",Number(t.playDuration/BigInt(1e3))/1e4-Number(t.preroll)/1e3),this.metadata.setFormat("bitrate",t.maximumBitrate);break}case As.guid.str:{let t=await this.tokenizer.readToken(new As(e));this.metadata.setFormat("container",`ASF/${t.streamType}`);break}case ms.guid.str:{let t=await this.tokenizer.readToken(new ms);await this.parseExtensionObject(t.extensionDataSize);break}case io.guid.str:r=await this.tokenizer.readToken(new io(e)),await this.addTags(r);break;case bs.guid.str:r=await this.tokenizer.readToken(new bs(e)),await this.addTags(r);break;case Pt.CodecListObject.str:{let t=await KR(this.tokenizer);t.forEach(o=>{this.metadata.addStreamInfo({type:o.type.videoCodec?cn.video:cn.audio,codecName:o.codecName})});let i=t.filter(o=>o.type.audioCodec).map(o=>o.codecName).join("/");this.metadata.setFormat("codec",i);break}case Pt.StreamBitratePropertiesObject.str:await this.tokenizer.ignore(e.objectSize-ga.len);break;case Pt.PaddingObject.str:Fd("Padding: %s bytes",e.objectSize-ga.len),await this.tokenizer.ignore(e.objectSize-ga.len);break;default:this.metadata.addWarning(`Ignore ASF-Object-GUID: ${e.objectId.str}`),Fd("Ignore ASF-Object-GUID: %s",e.objectId.str),await this.tokenizer.readToken(new il(e))}}while(--n)}async addTags(n){await Promise.all(n.map(({id:r,value:e})=>this.metadata.addTag(qB,r,e)))}async parseExtensionObject(n){do{let r=await this.tokenizer.readToken(ga),e=r.objectSize-ga.len;switch(r.objectId.str){case Rs.guid.str:await this.tokenizer.readToken(new Rs(r));break;case ao.guid.str:{let t=await this.tokenizer.readToken(new ao(r));await this.addTags(t);break}case Cs.guid.str:{let t=await this.tokenizer.readToken(new Cs(r));await this.addTags(t);break}case Pt.PaddingObject.str:await this.tokenizer.ignore(e);break;case Pt.CompatibilityObject.str:await this.tokenizer.ignore(e);break;case Pt.ASF_Index_Placeholder_Object.str:await this.tokenizer.ignore(e);break;default:this.metadata.addWarning(`Ignore ASF-Object-GUID: ${r.objectId.str}`),await this.tokenizer.readToken(new il(r));break}n-=r.objectSize}while(n>0)}}});var WR,YR=$(()=>{WR={parserType:"asf",extensions:[".asf"],mimeTypes:["audio/ms-wma","video/ms-wmv","audio/ms-asf","video/ms-asf","application/vnd.ms-asf"],async load(){return(await Promise.resolve().then(()=>(VR(),GR))).AsfParser}}});var oo,zR=$(()=>{Ve();Cn();oo={len:12,get:(a,n)=>({chunkID:lt.get(a,n),chunkSize:lE.get(a,n+4)})}});var $R={};tn($R,{DsdiffContentParseError:()=>Ns,DsdiffParser:()=>HE});var qR,Nn,Ns,HE,XR=$(()=>{Ve();qR=Me(Ot());Dr();Cn();jn();Os();zR();kt();Nn=(0,qR.default)("music-metadata:parser:aiff"),Ns=class extends Et("DSDIFF"){},HE=class extends bt{async parse(){let n=await this.tokenizer.readToken(oo);if(n.chunkID!=="FRM8")throw new Ns("Unexpected chunk-ID");this.metadata.setAudioOnly();let r=(await this.tokenizer.readToken(lt)).trim();switch(r){case"DSD":return this.metadata.setFormat("container",`DSDIFF/${r}`),this.metadata.setFormat("lossless",!0),this.readFmt8Chunks(n.chunkSize-BigInt(lt.len));default:throw new Ns(`Unsupported DSDIFF type: ${r}`)}}async readFmt8Chunks(n){for(;n>=oo.len;){let r=await this.tokenizer.readToken(oo);Nn(`Chunk id=${r.chunkID}`),await this.readData(r),n-=BigInt(oo.len)+r.chunkSize}}async readData(n){Nn(`Reading data of chunk[ID=${n.chunkID}, size=${n.chunkSize}]`);let r=this.tokenizer.position;switch(n.chunkID.trim()){case"FVER":{let t=await this.tokenizer.readToken(ae);Nn(`DSDIFF version=${t}`);break}case"PROP":{if(await this.tokenizer.readToken(lt)!=="SND ")throw new Ns("Unexpected PROP-chunk ID");await this.handleSoundPropertyChunks(n.chunkSize-BigInt(lt.len));break}case"ID3":{let t=await this.tokenizer.readToken(new At(Number(n.chunkSize))),i=Qn(t);await new yr().parse(this.metadata,i,this.options);break}case"DSD":this.metadata.format.numberOfChannels&&this.metadata.setFormat("numberOfSamples",Number(n.chunkSize*BigInt(8)/BigInt(this.metadata.format.numberOfChannels))),this.metadata.format.numberOfSamples&&this.metadata.format.sampleRate&&this.metadata.setFormat("duration",this.metadata.format.numberOfSamples/this.metadata.format.sampleRate);break;default:Nn(`Ignore chunk[ID=${n.chunkID}, size=${n.chunkSize}]`);break}let e=n.chunkSize-BigInt(this.tokenizer.position-r);e>0&&(Nn(`After Parsing chunk, remaining ${e} bytes`),await this.tokenizer.ignore(Number(e)))}async handleSoundPropertyChunks(n){for(Nn(`Parsing sound-property-chunks, remainingSize=${n}`);n>0;){let r=await this.tokenizer.readToken(oo);Nn(`Sound-property-chunk[ID=${r.chunkID}, size=${r.chunkSize}]`);let e=this.tokenizer.position;switch(r.chunkID.trim()){case"FS":{let i=await this.tokenizer.readToken(ge);this.metadata.setFormat("sampleRate",i);break}case"CHNL":{let i=await this.tokenizer.readToken(ot);this.metadata.setFormat("numberOfChannels",i),await this.handleChannelChunks(r.chunkSize-BigInt(ot.len));break}case"CMPR":{let i=(await this.tokenizer.readToken(lt)).trim(),o=await this.tokenizer.readToken(ve),s=await this.tokenizer.readToken(new le(o,"ascii"));i==="DSD"&&(this.metadata.setFormat("lossless",!0),this.metadata.setFormat("bitsPerSample",1)),this.metadata.setFormat("codec",`${i} (${s})`);break}case"ABSS":{let i=await this.tokenizer.readToken(ot),o=await this.tokenizer.readToken(ve),s=await this.tokenizer.readToken(ve),c=await this.tokenizer.readToken(ge);Nn(`ABSS ${i}:${o}:${s}.${c}`);break}case"LSCO":{let i=await this.tokenizer.readToken(ot);Nn(`LSCO lsConfig=${i}`);break}default:Nn(`Unknown sound-property-chunk[ID=${r.chunkID}, size=${r.chunkSize}]`),await this.tokenizer.ignore(Number(r.chunkSize))}let t=r.chunkSize-BigInt(this.tokenizer.position-e);t>0&&(Nn(`After Parsing sound-property-chunk ${r.chunkSize}, remaining ${t} bytes`),await this.tokenizer.ignore(Number(t))),n-=BigInt(oo.len)+r.chunkSize,Nn(`Parsing sound-property-chunks, remainingSize=${n}`)}if(this.metadata.format.lossless&&this.metadata.format.sampleRate&&this.metadata.format.numberOfChannels&&this.metadata.format.bitsPerSample){let r=this.metadata.format.sampleRate*this.metadata.format.numberOfChannels*this.metadata.format.bitsPerSample;this.metadata.setFormat("bitrate",r)}}async handleChannelChunks(n){Nn(`Parsing channel-chunks, remainingSize=${n}`);let r=[];for(;n>=lt.len;){let e=await this.tokenizer.readToken(lt);Nn(`Channel[ID=${e}]`),r.push(e),n-=BigInt(lt.len)}return Nn(`Channels: ${r.join(", ")}`),r}}});var JR,QR=$(()=>{JR={parserType:"dsdiff",extensions:[".dff"],mimeTypes:["audio/dsf","audio/dsd"],async load(){return(await Promise.resolve().then(()=>(XR(),$R))).DsdiffParser}}});var ZR,Ea,jd,GE=$(()=>{Ve();Cn();kt();ZR={NONE:"not compressed	PCM	Apple Computer",sowt:"PCM (byte swapped)",fl32:"32-bit floating point IEEE 32-bit float",fl64:"64-bit floating point IEEE 64-bit float	Apple Computer",alaw:"ALaw 2:1	8-bit ITU-T G.711 A-law",ulaw:"\xB5Law 2:1	8-bit ITU-T G.711 \xB5-law	Apple Computer",ULAW:"CCITT G.711 u-law 8-bit ITU-T G.711 \xB5-law",ALAW:"CCITT G.711 A-law 8-bit ITU-T G.711 A-law",FL32:"Float 32	IEEE 32-bit float "},Ea=class extends Et("AIFF"){},jd=class{constructor(n,r){this.isAifc=r;let e=r?22:18;if(n.chunkSize<e)throw new Ea(`COMMON CHUNK size should always be at least ${e}`);this.len=n.chunkSize}get(n,r){let e=ot.get(n,r+8)-16398,t=ot.get(n,r+8+2),i={numChannels:ot.get(n,r),numSampleFrames:ge.get(n,r+2),sampleSize:ot.get(n,r+6),sampleRate:e<0?t>>Math.abs(e):t<<e};if(this.isAifc){if(i.compressionType=lt.get(n,r+18),this.len>22){let o=ve.get(n,r+22);if(o>0){let s=(o+1)%2;if(23+o+s===this.len)i.compressionName=new le(o,"latin1").get(n,r+23);else throw new Ea("Illegal pstring length")}else i.compressionName=void 0}}else i.compressionName="PCM";return i}}});var Kd,eC=$(()=>{Ve();Cn();Kd={len:8,get:(a,n)=>({chunkID:lt.get(a,n),chunkSize:Number(BigInt(ge.get(a,n+4)))})}});var nC={};tn(nC,{AIFFParser:()=>WE});var tC,VE,WE,rC=$(()=>{Ve();tC=Me(Ot());Dr();Os();Cn();jn();GE();GE();eC();VE=(0,tC.default)("music-metadata:parser:aiff"),WE=class extends bt{constructor(){super(...arguments),this.isCompressed=null}async parse(){if((await this.tokenizer.readToken(Kd)).chunkID!=="FORM")throw new Ea("Invalid Chunk-ID, expected 'FORM'");let r=await this.tokenizer.readToken(lt);switch(r){case"AIFF":this.metadata.setFormat("container",r),this.isCompressed=!1;break;case"AIFC":this.metadata.setFormat("container","AIFF-C"),this.isCompressed=!0;break;default:throw new Ea(`Unsupported AIFF type: ${r}`)}this.metadata.setFormat("lossless",!this.isCompressed),this.metadata.setAudioOnly();try{for(;!this.tokenizer.fileInfo.size||this.tokenizer.fileInfo.size-this.tokenizer.position>=Kd.len;){VE(`Reading AIFF chunk at offset=${this.tokenizer.position}`);let e=await this.tokenizer.readToken(Kd),t=2*Math.round(e.chunkSize/2),i=await this.readData(e);await this.tokenizer.ignore(t-i)}}catch(e){if(e instanceof ct)VE("End-of-stream");else throw e}}async readData(n){switch(n.chunkID){case"COMM":{if(this.isCompressed===null)throw new Ea("Failed to parse AIFF.COMM chunk when compression type is unknown");let r=await this.tokenizer.readToken(new jd(n,this.isCompressed));return this.metadata.setFormat("bitsPerSample",r.sampleSize),this.metadata.setFormat("sampleRate",r.sampleRate),this.metadata.setFormat("numberOfChannels",r.numChannels),this.metadata.setFormat("numberOfSamples",r.numSampleFrames),this.metadata.setFormat("duration",r.numSampleFrames/r.sampleRate),(r.compressionName||r.compressionType)&&this.metadata.setFormat("codec",r.compressionName??ZR[r.compressionType]),n.chunkSize}case"ID3 ":{let r=await this.tokenizer.readToken(new At(n.chunkSize)),e=Qn(r);return await new yr().parse(this.metadata,e,this.options),n.chunkSize}case"SSND":return this.metadata.format.duration&&this.metadata.setFormat("bitrate",8*n.chunkSize/this.metadata.format.duration),0;case"NAME":case"AUTH":case"(c) ":case"ANNO":return this.readTextChunk(n);default:return VE(`Ignore chunk id=${n.chunkID}, size=${n.chunkSize}`),0}}async readTextChunk(n){let e=(await this.tokenizer.readToken(new le(n.chunkSize,"ascii"))).split("\0").map(t=>t.trim()).filter(t=>t?.length);return await Promise.all(e.map(t=>this.metadata.addTag("AIFF",n.chunkID,t))),n.chunkSize}}});var iC,aC=$(()=>{iC={parserType:"aiff",extensions:[".aif","aiff","aifc"],mimeTypes:["audio/aiff","audio/aif","audio/aifc","application/aiff"],async load(){return(await Promise.resolve().then(()=>(rC(),nC))).AIFFParser}}});var al,oC,sC,cC=$(()=>{Ve();Cn();al={len:12,get:(a,n)=>({id:lt.get(a,n),size:$t.get(a,n+4)})},oC={len:16,get:(a,n)=>({fileSize:Wc.get(a,n),metadataPointer:Wc.get(a,n+8)})},sC={len:40,get:(a,n)=>({formatVersion:wt.get(a,n),formatID:wt.get(a,n+4),channelType:wt.get(a,n+8),channelNum:wt.get(a,n+12),samplingFrequency:wt.get(a,n+16),bitsPerSample:wt.get(a,n+20),sampleCount:Wc.get(a,n+24),blockSizePerChannel:wt.get(a,n+32)})}});var uC={};tn(uC,{DsdContentParseError:()=>Hd,DsfParser:()=>zE});var lC,YE,Hd,zE,dC=$(()=>{lC=Me(Ot());tl();cC();Os();kt();YE=(0,lC.default)("music-metadata:parser:DSF"),Hd=class extends Et("DSD"){},zE=class extends ai{async postId3v2Parse(){let n=this.tokenizer.position,r=await this.tokenizer.readToken(al);if(r.id!=="DSD ")throw new Hd("Invalid chunk signature");this.metadata.setFormat("container","DSF"),this.metadata.setFormat("lossless",!0),this.metadata.setAudioOnly();let e=await this.tokenizer.readToken(oC);if(e.metadataPointer===BigInt(0))YE("No ID3v2 tag present");else return YE(`expect ID3v2 at offset=${e.metadataPointer}`),await this.parseChunks(e.fileSize-r.size),await this.tokenizer.ignore(Number(e.metadataPointer)-this.tokenizer.position-n),new yr().parse(this.metadata,this.tokenizer,this.options)}async parseChunks(n){for(;n>=al.len;){let r=await this.tokenizer.readToken(al);switch(YE(`Parsing chunk name=${r.id} size=${r.size}`),r.id){case"fmt ":{let e=await this.tokenizer.readToken(sC);this.metadata.setFormat("numberOfChannels",e.channelNum),this.metadata.setFormat("sampleRate",e.samplingFrequency),this.metadata.setFormat("bitsPerSample",e.bitsPerSample),this.metadata.setFormat("numberOfSamples",e.sampleCount),this.metadata.setFormat("duration",Number(e.sampleCount)/e.samplingFrequency);let t=e.bitsPerSample*e.samplingFrequency*e.channelNum;this.metadata.setFormat("bitrate",t);return}default:this.tokenizer.ignore(Number(r.size)-al.len);break}n-=r.size}}}});var pC,fC=$(()=>{pC={parserType:"dsf",extensions:[".dsf"],mimeTypes:["audio/dsf"],async load(){return(await Promise.resolve().then(()=>(dC(),uC))).DsfParser}}});var ya,ol,hC,Gd=$(()=>{Ve();Qa();ya=class a{static fromBase64(n){return a.fromBuffer(Uint8Array.from(atob(n),r=>r.charCodeAt(0)))}static fromBuffer(n){return new a(n.length).get(n,0)}constructor(n){this.len=n}get(n,r){let e=Es[ge.get(n,r)];r+=4;let t=ge.get(n,r);r+=4;let i=new le(t,"utf-8").get(n,r);r+=t;let o=ge.get(n,r);r+=4;let s=new le(o,"utf-8").get(n,r);r+=o;let c=ge.get(n,r);r+=4;let l=ge.get(n,r);r+=4;let d=ge.get(n,r);r+=4;let f=ge.get(n,r);r+=4;let g=ge.get(n,r);r+=4;let _=n.slice(r,r+g);return{type:e,format:i,description:s,width:c,height:l,colour_depth:d,indexed_color:f,data:_}}},ol={len:7,get:(a,n)=>({packetType:ve.get(a,n),vorbis:new le(6,"ascii").get(a,n+1)})},hC={len:23,get:(a,n)=>({version:ae.get(a,n+0),channelMode:ve.get(a,n+4),sampleRate:ae.get(a,n+5),bitrateMax:ae.get(a,n+9),bitrateNominal:ae.get(a,n+13),bitrateMin:ae.get(a,n+17)})}});var Ms,qE=$(()=>{Ve();vi();Ms=class{constructor(n,r){this.data=n,this.offset=r}readInt32(){let n=ae.get(this.data,this.offset);return this.offset+=4,n}readStringUtf8(){let n=this.readInt32(),r=Zt(this.data.subarray(this.offset,this.offset+n),"utf-8");return this.offset+=n,r}parseUserComment(){let n=this.offset,r=this.readStringUtf8(),e=r.indexOf("=");return{key:r.substring(0,e).toUpperCase(),value:r.substring(e+1),len:this.offset-n}}}});var gC,Ps,sl,oi,cl=$(()=>{Ve();gC=Me(Ot());qE();Gd();kt();Ps=(0,gC.default)("music-metadata:parser:ogg:vorbis1"),sl=class extends Et("Vorbis"){},oi=class a{constructor(n,r){this.pageSegments=[],this.durationOnLastPage=!0,this.metadata=n,this.options=r}async parsePage(n,r){if(this.lastPageHeader=n,n.headerType.firstPage)this.parseFirstPage(n,r);else{if(n.headerType.continued){if(this.pageSegments.length===0)throw new sl("Cannot continue on previous page");this.pageSegments.push(r)}if(n.headerType.lastPage||!n.headerType.continued){if(this.pageSegments.length>0){let e=a.mergeUint8Arrays(this.pageSegments);await this.parseFullPage(e)}this.pageSegments=n.headerType.lastPage?[]:[r]}}}static mergeUint8Arrays(n){let r=n.reduce((t,i)=>t+i.length,0),e=new Uint8Array(r);return n.forEach((t,i,o)=>{let s=o.slice(0,i).reduce((c,l)=>c+l.length,0);e.set(t,s)}),e}async flush(){await this.parseFullPage(a.mergeUint8Arrays(this.pageSegments))}async parseUserComment(n,r){let t=new Ms(n,r).parseUserComment();return await this.addTag(t.key,t.value),t.len}async addTag(n,r){if(n==="METADATA_BLOCK_PICTURE"&&typeof r=="string"){if(this.options.skipCovers){Ps("Ignore picture");return}r=ya.fromBase64(r),Ps(`Push picture: id=${n}, format=${r.format}`)}else Ps(`Push tag: id=${n}, value=${r}`);await this.metadata.addTag("vorbis",n,r)}calculateDuration(){this.lastPageHeader&&this.metadata.format.sampleRate&&this.lastPageHeader.absoluteGranulePosition>=0&&(this.metadata.setFormat("numberOfSamples",this.lastPageHeader.absoluteGranulePosition),this.metadata.setFormat("duration",this.lastPageHeader.absoluteGranulePosition/this.metadata.format.sampleRate))}parseFirstPage(n,r){this.metadata.setFormat("codec","Vorbis I"),this.metadata.setFormat("hasAudio",!0),Ps("Parse first page");let e=ol.get(r,0);if(e.vorbis!=="vorbis")throw new sl("Metadata does not look like Vorbis");if(e.packetType===1){let t=hC.get(r,ol.len);this.metadata.setFormat("sampleRate",t.sampleRate),this.metadata.setFormat("bitrate",t.bitrateNominal),this.metadata.setFormat("numberOfChannels",t.channelMode),Ps("sample-rate=%s[hz], bitrate=%s[b/s], channel-mode=%s",t.sampleRate,t.bitrateNominal,t.channelMode)}else throw new sl("First Ogg page should be type 1: the identification header")}async parseFullPage(n){let r=ol.get(n,0);switch(Ps("Parse full page: type=%s, byteLength=%s",r.packetType,n.byteLength),r.packetType){case 3:return this.parseUserCommentList(n,ol.len);case 1:case 5:break}}async parseUserCommentList(n,r){let e=ae.get(n,r);r+=4,r+=e;let t=ae.get(n,r);for(r+=4;t-- >0;)r+=await this.parseUserComment(n,r)}}});var Mn,ll,ul,$E=$(()=>{Mt();Ve();Mn={STREAMINFO:0,PADDING:1,APPLICATION:2,SEEKTABLE:3,VORBIS_COMMENT:4,CUESHEET:5,PICTURE:6},ll={len:4,get:(a,n)=>({lastBlock:rt(a,n,7),type:it(a,n,1,7),length:qt.get(a,n+1)})},ul={len:34,get:(a,n)=>({minimumBlockSize:ot.get(a,n),maximumBlockSize:ot.get(a,n+2)/1e3,minimumFrameSize:qt.get(a,n+4),maximumFrameSize:qt.get(a,n+7),sampleRate:qt.get(a,n+10)>>4,channels:it(a,n+12,4,3)+1,bitsPerSample:it(a,n+12,7,5)+1,totalSamples:it(a,n+13,4,36),fileMD5:new At(16).get(a,n+18)})}});var _C={};tn(_C,{FlacParser:()=>dl});var yC,JB,Vd,dl,XE=$(()=>{yC=Me(Ot());Ve();Gd();tl();Cn();cl();qE();kt();$E();JB=(0,yC.default)("music-metadata:parser:FLAC"),Vd=class extends Et("FLAC"){},dl=class extends ai{constructor(){super(...arguments),this.vorbisParser=new oi(this.metadata,this.options),this.padding=0}async postId3v2Parse(){if((await this.tokenizer.readToken(lt)).toString()!=="fLaC")throw new Vd("Invalid FLAC preamble");let r;do r=await this.tokenizer.readToken(ll),await this.parseDataBlock(r);while(!r.lastBlock);if(this.tokenizer.fileInfo.size&&this.metadata.format.duration){let e=this.tokenizer.fileInfo.size-this.tokenizer.position;this.metadata.setFormat("bitrate",8*e/this.metadata.format.duration)}}async parseDataBlock(n){switch(JB(`blockHeader type=${n.type}, length=${n.length}`),n.type){case Mn.STREAMINFO:return this.readBlockStreamInfo(n.length);case Mn.PADDING:this.padding+=n.length;break;case Mn.APPLICATION:break;case Mn.SEEKTABLE:break;case Mn.VORBIS_COMMENT:return this.readComment(n.length);case Mn.CUESHEET:break;case Mn.PICTURE:await this.parsePicture(n.length);return;default:this.metadata.addWarning(`Unknown block type: ${n.type}`)}return this.tokenizer.ignore(n.length).then()}async readBlockStreamInfo(n){if(n!==ul.len)throw new Vd("Unexpected block-stream-info length");let r=await this.tokenizer.readToken(ul);this.metadata.setFormat("container","FLAC"),this.processsStreamInfo(r)}processsStreamInfo(n){this.metadata.setFormat("codec","FLAC"),this.metadata.setFormat("hasAudio",!0),this.metadata.setFormat("lossless",!0),this.metadata.setFormat("numberOfChannels",n.channels),this.metadata.setFormat("bitsPerSample",n.bitsPerSample),this.metadata.setFormat("sampleRate",n.sampleRate),n.totalSamples>0&&this.metadata.setFormat("duration",n.totalSamples/n.sampleRate)}async readComment(n){let r=await this.tokenizer.readToken(new At(n));return this.parseComment(r)}async parseComment(n){let r=new Ms(n,0),e=r.readStringUtf8();e.length>0&&this.metadata.setFormat("tool",e);let t=r.readInt32(),i=new Array(t);for(let o=0;o<t;o++)i[o]=r.parseUserComment();await Promise.all(i.map(o=>(o.key==="ENCODER"&&this.metadata.setFormat("tool",o.value),this.addTag(o.key,o.value))))}async parsePicture(n){return this.options.skipCovers?this.tokenizer.ignore(n):this.addPictureTag(await this.tokenizer.readToken(new ya(n)))}addPictureTag(n){return this.addTag("METADATA_BLOCK_PICTURE",n)}addTag(n,r){return this.vorbisParser.addTag(n,r)}}});var TC,IC=$(()=>{TC={parserType:"flac",extensions:[".flac"],mimeTypes:["audio/flac"],async load(){return(await Promise.resolve().then(()=>(XE(),_C))).FlacParser}}});var J,JE=$(()=>{J={string:0,uint:1,uid:2,bool:3,binary:4,float:5}});var OC,SC=$(()=>{JE();OC={name:"dtd",container:{440786851:{name:"ebml",container:{17030:{name:"ebmlVersion",value:J.uint},17143:{name:"ebmlReadVersion",value:J.uint},17138:{name:"ebmlMaxIDWidth",value:J.uint},17139:{name:"ebmlMaxSizeWidth",value:J.uint},17026:{name:"docType",value:J.string},17031:{name:"docTypeVersion",value:J.uint},17029:{name:"docTypeReadVersion",value:J.uint}}},408125543:{name:"segment",container:{290298740:{name:"seekHead",container:{19899:{name:"seek",multiple:!0,container:{21419:{name:"id",value:J.binary},21420:{name:"position",value:J.uint}}}}},357149030:{name:"info",container:{29604:{name:"uid",value:J.uid},29572:{name:"filename",value:J.string},3979555:{name:"prevUID",value:J.uid},3965867:{name:"prevFilename",value:J.string},4110627:{name:"nextUID",value:J.uid},4096955:{name:"nextFilename",value:J.string},2807729:{name:"timecodeScale",value:J.uint},17545:{name:"duration",value:J.float},17505:{name:"dateUTC",value:J.uint},31657:{name:"title",value:J.string},19840:{name:"muxingApp",value:J.string},22337:{name:"writingApp",value:J.string}}},524531317:{name:"cluster",multiple:!0,container:{231:{name:"timecode",value:J.uid},22743:{name:"silentTracks ",multiple:!0},167:{name:"position",value:J.uid},171:{name:"prevSize",value:J.uid},160:{name:"blockGroup"},163:{name:"simpleBlock"}}},374648427:{name:"tracks",container:{174:{name:"entries",multiple:!0,container:{215:{name:"trackNumber",value:J.uint},29637:{name:"uid",value:J.uid},131:{name:"trackType",value:J.uint},185:{name:"flagEnabled",value:J.bool},136:{name:"flagDefault",value:J.bool},21930:{name:"flagForced",value:J.bool},156:{name:"flagLacing",value:J.bool},28135:{name:"minCache",value:J.uint},28136:{name:"maxCache",value:J.uint},2352003:{name:"defaultDuration",value:J.uint},2306383:{name:"timecodeScale",value:J.float},21358:{name:"name",value:J.string},2274716:{name:"language",value:J.string},134:{name:"codecID",value:J.string},25506:{name:"codecPrivate",value:J.binary},2459272:{name:"codecName",value:J.string},3839639:{name:"codecSettings",value:J.string},3883072:{name:"codecInfoUrl",value:J.string},2536e3:{name:"codecDownloadUrl",value:J.string},170:{name:"codecDecodeAll",value:J.bool},28587:{name:"trackOverlay",value:J.uint},224:{name:"video",container:{154:{name:"flagInterlaced",value:J.bool},21432:{name:"stereoMode",value:J.uint},176:{name:"pixelWidth",value:J.uint},186:{name:"pixelHeight",value:J.uint},21680:{name:"displayWidth",value:J.uint},21690:{name:"displayHeight",value:J.uint},21683:{name:"aspectRatioType",value:J.uint},3061028:{name:"colourSpace",value:J.uint},3126563:{name:"gammaValue",value:J.float}}},225:{name:"audio",container:{181:{name:"samplingFrequency",value:J.float},30901:{name:"outputSamplingFrequency",value:J.float},159:{name:"channels",value:J.uint},148:{name:"channels",value:J.uint},32123:{name:"channelPositions",value:J.binary},25188:{name:"bitDepth",value:J.uint}}},28032:{name:"contentEncodings",container:{25152:{name:"contentEncoding",container:{20529:{name:"order",value:J.uint},20530:{name:"scope",value:J.bool},20531:{name:"type",value:J.uint},20532:{name:"contentEncoding",container:{16980:{name:"contentCompAlgo",value:J.uint},16981:{name:"contentCompSettings",value:J.binary}}},20533:{name:"contentEncoding",container:{18401:{name:"contentEncAlgo",value:J.uint},18402:{name:"contentEncKeyID",value:J.binary},18403:{name:"contentSignature ",value:J.binary},18404:{name:"ContentSigKeyID  ",value:J.binary},18405:{name:"contentSigAlgo ",value:J.uint},18406:{name:"contentSigHashAlgo ",value:J.uint}}},25188:{name:"bitDepth",value:J.uint}}}}}}}}},475249515:{name:"cues",container:{187:{name:"cuePoint",container:{179:{name:"cueTime",value:J.uid},183:{name:"positions",container:{247:{name:"track",value:J.uint},241:{name:"clusterPosition",value:J.uint},21368:{name:"blockNumber",value:J.uint},234:{name:"codecState",value:J.uint},219:{name:"reference",container:{150:{name:"time",value:J.uint},151:{name:"cluster",value:J.uint},21343:{name:"number",value:J.uint},235:{name:"codecState",value:J.uint}}},240:{name:"relativePosition",value:J.uint}}}}}}},423732329:{name:"attachments",container:{24999:{name:"attachedFiles",multiple:!0,container:{18046:{name:"description",value:J.string},18030:{name:"name",value:J.string},18016:{name:"mimeType",value:J.string},18012:{name:"data",value:J.binary},18094:{name:"uid",value:J.uid}}}}},272869232:{name:"chapters",container:{17849:{name:"editionEntry",container:{182:{name:"chapterAtom",container:{29636:{name:"uid",value:J.uid},145:{name:"timeStart",value:J.uint},146:{name:"timeEnd",value:J.uid},152:{name:"hidden",value:J.bool},17816:{name:"enabled",value:J.uid},143:{name:"track",container:{137:{name:"trackNumber",value:J.uid},128:{name:"display",container:{133:{name:"string",value:J.string},17276:{name:"language ",value:J.string},17278:{name:"country ",value:J.string}}}}}}}}}}},307544935:{name:"tags",container:{29555:{name:"tag",multiple:!0,container:{25536:{name:"target",container:{25541:{name:"tagTrackUID",value:J.uid},25540:{name:"tagChapterUID",value:J.uint},25542:{name:"tagAttachmentUID",value:J.uid},25546:{name:"targetType",value:J.string},26826:{name:"targetTypeValue",value:J.uint},25545:{name:"tagEditionUID",value:J.uid}}},26568:{name:"simpleTags",multiple:!0,container:{17827:{name:"name",value:J.string},17543:{name:"string",value:J.string},17541:{name:"binary",value:J.binary},17530:{name:"language",value:J.string},17531:{name:"languageIETF",value:J.string},17540:{name:"default",value:J.bool}}}}}}}}}}}});function QE(a,n){return Number(QB(a,n))}function QB(a,n){let r=new Uint8Array(8),e=a.subarray(0,n);try{return r.set(e,8-n),ls.get(r,0)}catch{return BigInt(-1)}}function mC(a){return a.container&&Object.keys(a.container).map(n=>{let r=a.container[n];return r.id=Number.parseInt(n),r}).forEach(n=>{n.parent=a,mC(n)}),a}function so(a){let n="";return a.parent&&a.parent.name!=="dtd"&&(n+=`${so(a.parent)}/`),n+a.name}var AC,Ls,Wd,si,Yd,bC=$(()=>{Ve();AC=Me(Ot());Dr();JE();Ve();kt();Ls=(0,AC.default)("music-metadata:parser:ebml"),Wd=class extends Et("EBML"){},si={ReadNext:0,IgnoreElement:2,SkipSiblings:3,TerminateParsing:4,SkipElement:5},Yd=class{constructor(n){this.padding=0,this.parserMap=new Map,this.ebmlMaxIDLength=4,this.ebmlMaxSizeLength=8,this.tokenizer=n,this.parserMap.set(J.uint,r=>this.readUint(r)),this.parserMap.set(J.string,r=>this.readString(r)),this.parserMap.set(J.binary,r=>this.readBuffer(r)),this.parserMap.set(J.uid,async r=>this.readBuffer(r)),this.parserMap.set(J.bool,r=>this.readFlag(r)),this.parserMap.set(J.float,r=>this.readFloat(r))}async iterate(n,r,e){return this.parseContainer(mC(n),r,e)}async parseContainer(n,r,e){let t={};for(;this.tokenizer.position<r;){let i,o=this.tokenizer.position;try{i=await this.readElement()}catch(c){if(c instanceof ct)break;throw c}let s=n.container[i.id];if(s)switch(e.startNext(s)){case si.ReadNext:if(i.id,Ls(`Read element: name=${so(s)}{id=0x${i.id.toString(16)}, container=${!!s.container}} at position=${o}`),s.container){let l=await this.parseContainer(s,i.len>=0?this.tokenizer.position+i.len:-1,e);s.multiple?(t[s.name]||(t[s.name]=[]),t[s.name].push(l)):t[s.name]=l,await e.elementValue(s,l,o)}else{let l=this.parserMap.get(s.value);if(typeof l=="function"){let d=await l(i);t[s.name]=d,await e.elementValue(s,d,o)}}break;case si.SkipElement:Ls(`Go to next element: name=${so(s)}, element.id=0x${i.id}, container=${!!s.container} at position=${o}`);break;case si.IgnoreElement:Ls(`Ignore element: name=${so(s)}, element.id=0x${i.id}, container=${!!s.container} at position=${o}`),await this.tokenizer.ignore(i.len);break;case si.SkipSiblings:Ls(`Ignore remaining container, at: name=${so(s)}, element.id=0x${i.id}, container=${!!s.container} at position=${o}`),await this.tokenizer.ignore(r-this.tokenizer.position);break;case si.TerminateParsing:return Ls(`Terminate parsing at element: name=${so(s)}, element.id=0x${i.id}, container=${!!s.container} at position=${o}`),t}else switch(i.id){case 236:this.padding+=i.len,await this.tokenizer.ignore(i.len);break;default:Ls(`parseEbml: parent=${so(n)}, unknown child: id=${i.id.toString(16)} at position=${o}`),this.padding+=i.len,await this.tokenizer.ignore(i.len)}}return t}async readVintData(n){let r=await this.tokenizer.peekNumber(ve),e=128,t=1;for(;(r&e)===0;){if(t>n)throw new Wd("VINT value exceeding maximum size");++t,e>>=1}let i=new Uint8Array(t);return await this.tokenizer.readBuffer(i),i}async readElement(){let n=await this.readVintData(this.ebmlMaxIDLength),r=await this.readVintData(this.ebmlMaxSizeLength);return r[0]^=128>>r.length-1,{id:QE(n,n.length),len:QE(r,r.length)}}async readFloat(n){switch(n.len){case 0:return 0;case 4:return this.tokenizer.readNumber(uE);case 8:return this.tokenizer.readNumber(pd);case 10:return this.tokenizer.readNumber(pd);default:throw new Wd(`Invalid IEEE-754 float length: ${n.len}`)}}async readFlag(n){return await this.readUint(n)===1}async readUint(n){let r=await this.readBuffer(n);return QE(r,n.len)}async readString(n){return(await this.tokenizer.readToken(new le(n.len,"utf-8"))).replace(/\x00.*$/g,"")}async readBuffer(n){let r=new Uint8Array(n.len);return await this.tokenizer.readBuffer(r),r}}});var CC={};tn(CC,{MatroskaParser:()=>ZE});var RC,zd,ZE,NC=$(()=>{RC=Me(Ot());jn();SC();mE();bC();zd=(0,RC.default)("music-metadata:parser:matroska"),ZE=class extends bt{constructor(){super(...arguments),this.seekHeadOffset=0,this.flagUseIndexToSkipClusters=this.options.mkvUseIndex??!1}async parse(){let n=this.tokenizer.fileInfo.size??Number.MAX_SAFE_INTEGER,r=new Yd(this.tokenizer);zd("Initializing DTD end MatroskaIterator"),await r.iterate(OC,n,{startNext:e=>{switch(e.id){case 475249515:return zd(`Skip element: name=${e.name}, id=0x${e.id.toString(16)}`),si.IgnoreElement;case 524531317:if(this.flagUseIndexToSkipClusters&&this.seekHead){let t=this.seekHead.seek.find(i=>i.position+this.seekHeadOffset>this.tokenizer.position);if(t){let i=t.position+this.seekHeadOffset-this.tokenizer.position;return zd(`Use index to go to next position, ignoring ${i} bytes`),this.tokenizer.ignore(i),si.SkipElement}}return si.IgnoreElement;default:return si.ReadNext}},elementValue:async(e,t,i)=>{switch(zd(`Received: name=${e.name}, value=${t}`),e.id){case 17026:this.metadata.setFormat("container",`EBML/${t}`);break;case 290298740:this.seekHead=t,this.seekHeadOffset=i;break;case 357149030:{let o=t,s=o.timecodeScale?o.timecodeScale:1e6;if(typeof o.duration=="number"){let c=o.duration*s/1e9;await this.addTag("segment:title",o.title),this.metadata.setFormat("duration",Number(c))}}break;case 374648427:{let o=t;if(o?.entries){o.entries.forEach(c=>{let l={codecName:c.codecID.replace("A_","").replace("V_",""),codecSettings:c.codecSettings,flagDefault:c.flagDefault,flagLacing:c.flagLacing,flagEnabled:c.flagEnabled,language:c.language,name:c.name,type:c.trackType,audio:c.audio,video:c.video};this.metadata.addStreamInfo(l)});let s=o.entries.filter(c=>c.trackType===cn.audio).reduce((c,l)=>!c||l.flagDefault&&!c.flagDefault||l.trackNumber<c.trackNumber?l:c,null);s&&(this.metadata.setFormat("codec",s.codecID.replace("A_","")),this.metadata.setFormat("sampleRate",s.audio.samplingFrequency),this.metadata.setFormat("numberOfChannels",s.audio.channels))}}break;case 307544935:{let o=t;await Promise.all(o.tag.map(async s=>{let c=s.target,l=c?.targetTypeValue?x2[c.targetTypeValue]:c?.targetType?c.targetType:"track";await Promise.all(s.simpleTags.map(async d=>{let f=d.string?d.string:d.binary;await this.addTag(`${l}:${d.name}`,f)}))}))}break;case 423732329:{let o=t;await Promise.all(o.attachedFiles.filter(s=>s.mimeType.startsWith("image/")).map(s=>this.addTag("picture",{data:s.data,format:s.mimeType,description:s.description,name:s.name})))}break}}})}async addTag(n,r){await this.metadata.addTag("matroska",n,r)}}});var MC,PC=$(()=>{MC={parserType:"matroska",extensions:[".mka",".mkv",".mk3d",".mks","webm"],mimeTypes:["audio/matroska","video/matroska","audio/webm","video/webm"],async load(){return(await Promise.resolve().then(()=>(NC(),CC))).MatroskaParser}}});function vC(a,n,r,e,t){if(ty(`remainingLen=${e}, numberOfEntries=${t} * token-len=${n.len}`),e===0)return[];if(e!==t*n.len)throw new Bi("mismatch number-of-entries with remaining atom-length");let i=[];for(let o=0;o<t;++o)i.push(n.get(a,r)),r+=n.len;return i}var DC,ty,Bi,co,wC,ny,qd,Ds,$d,Xd,Jd,Qd,Zd,LC,ey,pl,ry,kC,fl,ZB,ep,e4,tp,hl,np,rp,ip,ap,op,sp,gl=$(()=>{Ve();DC=Me(Ot());Cn();kt();Mt();ty=(0,DC.default)("music-metadata:parser:MP4:atom"),Bi=class extends Et("MP4"){},co={len:8,get:(a,n)=>{let r=ge.get(a,n);if(r<0)throw new Bi("Invalid atom header length");return{length:BigInt(r),name:new le(4,"latin1").get(a,n+4)}},put:(a,n,r)=>(ge.put(a,n,Number(r.length)),lt.put(a,n+4,r.name))},wC=ls,ny={len:4,get:(a,n)=>({type:new le(4,"ascii").get(a,n)})},qd=class{constructor(n,r,e){if(n<r)throw new Bi(`Atom ${e} expected to be ${r}, but specifies ${n} bytes long.`);n>r&&ty(`Warning: atom ${e} expected to be ${r}, but was actually ${n} bytes long.`),this.len=n}},Ds={len:4,get:(a,n)=>{let r=ge.get(a,n)-2082844800;return new Date(r*1e3)}},$d=class extends qd{constructor(n){super(n,24,"mdhd")}get(n,r){return{version:ve.get(n,r+0),flags:qt.get(n,r+1),creationTime:Ds.get(n,r+4),modificationTime:Ds.get(n,r+8),timeScale:ge.get(n,r+12),duration:ge.get(n,r+16),language:ot.get(n,r+20),quality:ot.get(n,r+22)}}},Xd=class extends qd{constructor(n){super(n,100,"mvhd")}get(n,r){return{version:ve.get(n,r),flags:qt.get(n,r+1),creationTime:Ds.get(n,r+4),modificationTime:Ds.get(n,r+8),timeScale:ge.get(n,r+12),duration:ge.get(n,r+16),preferredRate:ge.get(n,r+20),preferredVolume:ot.get(n,r+24),previewTime:ge.get(n,r+72),previewDuration:ge.get(n,r+76),posterTime:ge.get(n,r+80),selectionTime:ge.get(n,r+84),selectionDuration:ge.get(n,r+88),currentTime:ge.get(n,r+92),nextTrackID:ge.get(n,r+96)}}},Jd=class{constructor(n){this.len=n}get(n,r){return{type:{set:ve.get(n,r+0),type:qt.get(n,r+1)},locale:qt.get(n,r+4),value:new At(this.len-8).get(n,r+8)}}},Qd=class{constructor(n){this.len=n}get(n,r){return{version:ve.get(n,r),flags:qt.get(n,r+1),name:new le(this.len-4,"utf-8").get(n,r+4)}}},Zd=class{constructor(n){this.len=n}get(n,r){return{version:ve.get(n,r),flags:qt.get(n,r+1),creationTime:Ds.get(n,r+4),modificationTime:Ds.get(n,r+8),trackId:ge.get(n,r+12),duration:ge.get(n,r+20),layer:ot.get(n,r+24),alternateGroup:ot.get(n,r+26),volume:ot.get(n,r+28)}}},LC={len:8,get:(a,n)=>({version:ve.get(a,n),flags:qt.get(a,n+1),numberOfEntries:ge.get(a,n+4)})},ey=class{constructor(n){this.len=n}get(n,r){let e=this.len-12;return{dataFormat:lt.get(n,r),dataReferenceIndex:ot.get(n,r+10),description:e>0?new At(e).get(n,r+12):void 0}}},pl=class{constructor(n){this.len=n}get(n,r){let e=LC.get(n,r);r+=LC.len;let t=[];for(let i=0;i<e.numberOfEntries;++i){let o=ge.get(n,r);r+=ge.len,t.push(new ey(o-ge.len).get(n,r)),r+=o}return{header:e,table:t}}},ry={len:8,get(a,n){return{version:wr.get(a,n),revision:wr.get(a,n+2),vendor:bn.get(a,n+4)}}},kC={len:12,get(a,n){return{numAudioChannels:wr.get(a,n+0),sampleSize:wr.get(a,n+2),compressionId:wr.get(a,n+4),packetSize:wr.get(a,n+6),sampleRate:ot.get(a,n+8)+ot.get(a,n+10)/1e4}}},fl=class{constructor(n,r){this.len=n,this.token=r}get(n,r){let e=bn.get(n,r+4);return{version:ni.get(n,r+0),flags:dd.get(n,r+1),numberOfEntries:e,entries:vC(n,this.token,r+8,this.len-8,e)}}},ZB={len:8,get(a,n){return{count:bn.get(a,n+0),duration:bn.get(a,n+4)}}},ep=class extends fl{constructor(n){super(n,ZB)}},e4={len:12,get(a,n){return{firstChunk:bn.get(a,n),samplesPerChunk:bn.get(a,n+4),sampleDescriptionId:bn.get(a,n+8)}}},tp=class extends fl{constructor(n){super(n,e4)}},hl=class{constructor(n){this.len=n}get(n,r){let e=bn.get(n,r+8);return{version:ni.get(n,r),flags:dd.get(n,r+1),sampleSize:bn.get(n,r+4),numberOfEntries:e,entries:vC(n,bn,r+12,this.len-12,e)}}},np=class extends fl{constructor(n){super(n,bn),this.len=n}},rp=class{constructor(n){this.len=n}get(n,r){let e=wr.get(n,r+0);return new le(e,"utf-8").get(n,r+2)}};ip=class{constructor(n){this.len=n}get(n,r){let e=r+1,t={version:ni.get(n,r),flags:{baseDataOffsetPresent:rt(n,e+2,0),sampleDescriptionIndexPresent:rt(n,e+2,1),defaultSampleDurationPresent:rt(n,e+2,3),defaultSampleSizePresent:rt(n,e+2,4),defaultSampleFlagsPresent:rt(n,e+2,5),defaultDurationIsEmpty:rt(n,e,0),defaultBaseIsMoof:rt(n,e,1)},trackId:ge.get(n,4)},i=8;return t.flags.baseDataOffsetPresent&&(t.baseDataOffset=ls.get(n,i),i+=8),t.flags.sampleDescriptionIndexPresent&&(t.sampleDescriptionIndex=ge.get(n,i),i+=4),t.flags.defaultSampleDurationPresent&&(t.defaultSampleDuration=ge.get(n,i),i+=4),t.flags.defaultSampleSizePresent&&(t.defaultSampleSize=ge.get(n,i),i+=4),t.flags.defaultSampleFlagsPresent&&(t.defaultSampleFlags=ge.get(n,i)),t}},ap=class{constructor(n){this.len=n}get(n,r){let e=r+1,t={version:ni.get(n,r),flags:{dataOffsetPresent:rt(n,e+2,0),firstSampleFlagsPresent:rt(n,e+2,2),sampleDurationPresent:rt(n,e+1,0),sampleSizePresent:rt(n,e+1,1),sampleFlagsPresent:rt(n,e+1,2),sampleCompositionTimeOffsetsPresent:rt(n,e+1,3)},sampleCount:ge.get(n,r+4),samples:[]},i=r+8;t.flags.dataOffsetPresent&&(t.dataOffset=ge.get(n,i),i+=4),t.flags.firstSampleFlagsPresent&&(t.firstSampleFlags=ge.get(n,i),i+=4);for(let o=0;o<t.sampleCount;++o){if(i>=this.len){ty("TrackRunBox size mismatch");break}let s={};t.flags.sampleDurationPresent&&(s.sampleDuration=ge.get(n,i),i+=4),t.flags.sampleSizePresent&&(s.sampleSize=ge.get(n,i),i+=4),t.flags.sampleFlagsPresent&&(s.sampleFlags=ge.get(n,i),i+=4),t.flags.sampleCompositionTimeOffsetsPresent&&(s.sampleCompositionTimeOffset=ge.get(n,i),i+=4),t.samples.push(s)}return t}},op=class{constructor(n){this.len=n}get(n,r){let e=r+1,t=new le(4,"utf-8");return{version:ni.get(n,r),flags:qt.get(n,r+1),componentType:t.get(n,r+4),handlerType:t.get(n,r+8),componentName:new le(this.len-28,"utf-8").get(n,r+28)}}},sp=class{constructor(n){this.len=n}get(n,r){let e=0,t=[];for(;e<this.len;)t.push(ge.get(n,r+e)),e+=4;return t}}});var xC,BC,cp,FC=$(()=>{xC=Me(Ot());gl();gl();BC=(0,xC.default)("music-metadata:parser:MP4:Atom"),cp=class a{static async readAtom(n,r,e,t){let i=n.position;BC(`Reading next token on offset=${i}...`);let o=await n.readToken(co),s=o.length===1n;s&&(o.length=await n.readToken(wC));let c=new a(o,s,e),l=c.getPayloadLength(t);return BC(`parse atom name=${c.atomPath}, extended=${c.extended}, offset=${i}, len=${c.header.length}`),await c.readData(n,r,l),c}constructor(n,r,e){this.header=n,this.extended=r,this.parent=e,this.children=[],this.atomPath=(this.parent?`${this.parent.atomPath}.`:"")+this.header.name}getHeaderLength(){return this.extended?16:8}getPayloadLength(n){return(this.header.length===0n?n:Number(this.header.length))-this.getHeaderLength()}async readAtoms(n,r,e){for(;e>0;){let t=await a.readAtom(n,r,this,e);this.children.push(t),e-=t.header.length===0n?e:Number(t.header.length)}}async readData(n,r,e){switch(this.header.name){case"moov":case"udta":case"mdia":case"minf":case"stbl":case"<id>":case"ilst":case"tref":case"moof":return this.readAtoms(n,r,this.getPayloadLength(e));case"meta":{let i=(await n.peekToken(co)).name==="hdlr"?0:4;return await n.ignore(i),this.readAtoms(n,r,this.getPayloadLength(e)-i)}default:return r(this,e)}}}});var GC={};tn(GC,{MP4Parser:()=>iy});function KC(a,n,r){return r.indexOf(a)===n}var HC,En,t4,jC,iy,VC=$(()=>{HC=Me(Ot());Ve();jn();el();FC();gl();gl();Za();ps();vi();En=(0,HC.default)("music-metadata:parser:MP4"),t4="iTunes",jC={raw:{lossy:!1,format:"raw"},MAC3:{lossy:!0,format:"MACE 3:1"},MAC6:{lossy:!0,format:"MACE 6:1"},ima4:{lossy:!0,format:"IMA 4:1"},ulaw:{lossy:!0,format:"uLaw 2:1"},alaw:{lossy:!0,format:"uLaw 2:1"},Qclp:{lossy:!0,format:"QUALCOMM PureVoice"},".mp3":{lossy:!0,format:"MPEG-1 layer 3"},alac:{lossy:!1,format:"ALAC"},"ac-3":{lossy:!0,format:"AC-3"},mp4a:{lossy:!0,format:"MPEG-4/AAC"},mp4s:{lossy:!0,format:"MP4S"},c608:{lossy:!0,format:"CEA-608"},c708:{lossy:!0,format:"CEA-708"}};iy=class a extends bt{constructor(){super(...arguments),this.tracks=new Map,this.hasVideoTrack=!1,this.hasAudioTrack=!0,this.atomParsers={mvhd:async n=>{let r=await this.tokenizer.readToken(new Xd(n));this.metadata.setFormat("creationTime",r.creationTime),this.metadata.setFormat("modificationTime",r.modificationTime)},chap:async n=>{let r=this.getTrackDescription(),e=[];for(;n>=ge.len;)e.push(await this.tokenizer.readNumber(ge)),n-=ge.len;r.chapterList=e},mdat:async n=>{if(this.audioLengthInBytes=n,this.calculateBitRate(),this.options.includeChapters){let r=[...this.tracks.values()].filter(e=>e.chapterList);if(r.length===1){let e=r[0].chapterList,t=[...this.tracks.values()].filter(i=>e.indexOf(i.header.trackId)!==-1);if(t.length===1)return this.parseChapterTrack(t[0],r[0],n)}}await this.tokenizer.ignore(n)},ftyp:async n=>{let r=[];for(;n>0;){let t=await this.tokenizer.readToken(ny);n-=ny.len;let i=t.type.replace(/\W/g,"");i.length>0&&r.push(i)}En(`ftyp: ${r.join("/")}`);let e=r.filter(KC).join("/");this.metadata.setFormat("container",e)},stsd:async n=>{let r=await this.tokenizer.readToken(new pl(n)),e=this.getTrackDescription();e.soundSampleDescription=r.table.map(t=>this.parseSoundSampleDescription(t))},stsz:async n=>{let r=await this.tokenizer.readToken(new hl(n)),e=this.getTrackDescription();e.sampleSize=r.sampleSize,e.sampleSizeTable=r.entries},date:async n=>{let r=await this.tokenizer.readToken(new le(n,"utf-8"));await this.addTag("date",r)}}}static read_BE_Integer(n,r){let e=(r?"INT":"UINT")+n.length*8+(n.length>1?"_BE":""),t=at[e];if(!t)throw new Bi(`Token for integer type not found: "${e}"`);return Number(t.get(n,0))}async parse(){this.hasVideoTrack=!1,this.hasAudioTrack=!0,this.tracks.clear();let n=this.tokenizer.fileInfo.size||0;for(;!this.tokenizer.fileInfo.size||n>0;){try{if((await this.tokenizer.peekToken(co)).name==="\0\0\0\0"){let o=`Error at offset=${this.tokenizer.position}: box.id=0`;En(o),this.addWarning(o);break}}catch(i){if(i instanceof Error){let o=`Error at offset=${this.tokenizer.position}: ${i.message}`;En(o),this.addWarning(o)}else throw i;break}let t=await cp.readAtom(this.tokenizer,(i,o)=>this.handleAtom(i,o),null,n);n-=t.header.length===BigInt(0)?n:Number(t.header.length)}let r=[];this.tracks.forEach(t=>{let i=[];t.soundSampleDescription.forEach(o=>{let s={},c=jC[o.dataFormat];if(c?(i.push(c.format),s.codecName=c.format):s.codecName=`<${o.dataFormat}>`,o.description){let{description:l}=o;l.sampleRate>0&&(s.type=cn.audio,s.audio={samplingFrequency:l.sampleRate,bitDepth:l.sampleSize,channels:l.numAudioChannels})}this.metadata.addStreamInfo(s)}),i.length>=1&&r.push(i.join("/"))}),r.length>0&&this.metadata.setFormat("codec",r.filter(KC).join("+"));let e=[...this.tracks.values()].filter(t=>t.soundSampleDescription.length>=1&&t.soundSampleDescription[0].description&&t.soundSampleDescription[0].description.numAudioChannels>0);if(e.length>=1){let t=e[0];if(t.media.header&&t.media.header.timeScale>0){if(t.media.header.duration>0){En("Using duration defined on audio track");let s=t.media.header.duration/t.media.header.timeScale;this.metadata.setFormat("duration",s)}else if(t.fragments.length>0){En("Calculate duration defined in track fragments");let s=0;for(let c of t.fragments){let l=c.header.defaultSampleDuration;for(let d of c.trackRun.samples){let f=d.sampleDuration??l;if(f==null)throw new Error("Missing sampleDuration and no default_sample_duration in tfhd");s+=f}}this.metadata.setFormat("duration",s/t.media.header.timeScale)}}let i=t.soundSampleDescription[0];if(i.description&&t.media.header&&(this.metadata.setFormat("sampleRate",i.description.sampleRate),this.metadata.setFormat("bitsPerSample",i.description.sampleSize),this.metadata.setFormat("numberOfChannels",i.description.numAudioChannels),t.media.header.timeScale===0&&t.timeToSampleTable.length>0)){let c=t.timeToSampleTable.map(l=>l.count*l.duration).reduce((l,d)=>l+d)/i.description.sampleRate;this.metadata.setFormat("duration",c)}let o=jC[i.dataFormat];o&&this.metadata.setFormat("lossless",!o.lossy),this.calculateBitRate()}this.metadata.setFormat("hasAudio",this.hasAudioTrack),this.metadata.setFormat("hasVideo",this.hasVideoTrack)}async handleAtom(n,r){if(n.parent)switch(n.parent.header.name){case"ilst":case"<id>":return this.parseMetadataItemData(n);case"moov":switch(n.header.name){case"trak":return this.parseTrackBox(n)}break;case"moof":switch(n.header.name){case"traf":return this.parseTrackFragmentBox(n)}}if(this.atomParsers[n.header.name])return this.atomParsers[n.header.name](r);En(`No parser for atom path=${n.atomPath}, payload-len=${r}, ignoring atom`),await this.tokenizer.ignore(r)}getTrackDescription(){let n=[...this.tracks.values()];return n[n.length-1]}calculateBitRate(){this.audioLengthInBytes&&this.metadata.format.duration&&this.metadata.setFormat("bitrate",8*this.audioLengthInBytes/this.metadata.format.duration)}async addTag(n,r){await this.metadata.addTag(t4,n,r)}addWarning(n){En(`Warning: ${n}`),this.metadata.addWarning(n)}parseMetadataItemData(n){let r=n.header.name;return n.readAtoms(this.tokenizer,async(e,t)=>{let i=e.getPayloadLength(t);switch(e.header.name){case"data":return this.parseValueAtom(r,e);case"name":case"mean":case"rate":{let o=await this.tokenizer.readToken(new Qd(i));r+=`:${o.name}`;break}default:{let o=await this.tokenizer.readToken(new At(i));this.addWarning(`Unsupported meta-item: ${r}[${e.header.name}] => value=${ds(o)} ascii=${Zt(o,"ascii")}`)}}},n.getPayloadLength(0))}async parseValueAtom(n,r){let e=await this.tokenizer.readToken(new Jd(Number(r.header.length)-co.len));if(e.type.set!==0)throw new Bi(`Unsupported type-set != 0: ${e.type.set}`);switch(e.type.type){case 0:switch(n){case"trkn":case"disk":{let t=ve.get(e.value,3),i=ve.get(e.value,5);await this.addTag(n,`${t}/${i}`);break}case"gnre":{let t=ve.get(e.value,1),i=Ts[t-1];await this.addTag(n,i);break}case"rate":{let t=Zt(e.value,"ascii");await this.addTag(n,t);break}default:En(`unknown proprietary value type for: ${r.atomPath}`)}break;case 1:case 18:await this.addTag(n,Zt(e.value));break;case 13:if(this.options.skipCovers)break;await this.addTag(n,{format:"image/jpeg",data:Uint8Array.from(e.value)});break;case 14:if(this.options.skipCovers)break;await this.addTag(n,{format:"image/png",data:Uint8Array.from(e.value)});break;case 21:await this.addTag(n,a.read_BE_Integer(e.value,!0));break;case 22:await this.addTag(n,a.read_BE_Integer(e.value,!1));break;case 65:await this.addTag(n,ve.get(e.value,0));break;case 66:await this.addTag(n,ot.get(e.value,0));break;case 67:await this.addTag(n,ge.get(e.value,0));break;default:this.addWarning(`atom key=${n}, has unknown well-known-type (data-type): ${e.type.type}`)}}async parseTrackBox(n){let r={media:{},fragments:[]};await n.readAtoms(this.tokenizer,async(e,t)=>{let i=e.getPayloadLength(t);switch(e.header.name){case"chap":{let o=await this.tokenizer.readToken(new sp(t));r.chapterList=o;break}case"tkhd":r.header=await this.tokenizer.readToken(new Zd(i));break;case"hdlr":switch(r.handler=await this.tokenizer.readToken(new op(i)),r.handler.handlerType){case"audi":En("Contains audio track"),this.hasAudioTrack=!0;break;case"vide":En("Contains video track"),this.hasVideoTrack=!0;break}break;case"mdhd":{let o=await this.tokenizer.readToken(new $d(i));r.media.header=o;break}case"stco":{let o=await this.tokenizer.readToken(new np(i));r.chunkOffsetTable=o.entries;break}case"stsc":{let o=await this.tokenizer.readToken(new tp(i));r.sampleToChunkTable=o.entries;break}case"stsd":{let o=await this.tokenizer.readToken(new pl(i));r.soundSampleDescription=o.table.map(s=>this.parseSoundSampleDescription(s));break}case"stts":{let o=await this.tokenizer.readToken(new ep(i));r.timeToSampleTable=o.entries;break}case"stsz":{let o=await this.tokenizer.readToken(new hl(i));r.sampleSize=o.sampleSize,r.sampleSizeTable=o.entries;break}case"dinf":case"vmhd":case"smhd":En(`Ignoring: ${e.header.name}`),await this.tokenizer.ignore(i);break;default:En(`Unexpected track box: ${e.header.name}`),await this.tokenizer.ignore(i)}},n.getPayloadLength(0)),this.tracks.set(r.header.trackId,r)}parseTrackFragmentBox(n){let r;return n.readAtoms(this.tokenizer,async(e,t)=>{let i=e.getPayloadLength(t);switch(e.header.name){case"tfhd":{let o=new ip(e.getPayloadLength(t));r=await this.tokenizer.readToken(o);break}case"tfdt":await this.tokenizer.ignore(i);break;case"trun":{let o=new ap(i),s=await this.tokenizer.readToken(o);r&&this.tracks.get(r.trackId)?.fragments.push({header:r,trackRun:s});break}default:En(`Unexpected box: ${e.header.name}`),await this.tokenizer.ignore(i)}},n.getPayloadLength(0))}parseSoundSampleDescription(n){let r={dataFormat:n.dataFormat,dataReferenceIndex:n.dataReferenceIndex},e=0;if(n.description){let t=ry.get(n.description,e);e+=ry.len,t.version===0||t.version===1?r.description=kC.get(n.description,e):En(`Warning: sound-sample-description ${t} not implemented`)}return r}async parseChapterTrack(n,r,e){if(!n.sampleSize&&n.chunkOffsetTable.length!==n.sampleSizeTable.length)throw new Error("Expected equal chunk-offset-table & sample-size-table length.");let t=[];for(let i=0;i<n.chunkOffsetTable.length&&e>0;++i){let o=n.timeToSampleTable.slice(0,i).reduce((g,_)=>g+_.duration,0),c=n.chunkOffsetTable[i]-this.tokenizer.position,l=n.sampleSize>0?n.sampleSize:n.sampleSizeTable[i];if(e-=c+l,e<0)throw new Bi("Chapter chunk exceeding token length");await this.tokenizer.ignore(c);let d=await this.tokenizer.readToken(new rp(l));En(`Chapter ${i+1}: ${d}`);let f={title:d,timeScale:n.media.header?n.media.header.timeScale:0,start:o,sampleOffset:this.findSampleOffset(r,this.tokenizer.position)};En(`Chapter title=${f.title}, offset=${f.sampleOffset}/${r.header.duration}`),t.push(f)}this.metadata.setFormat("chapters",t),await this.tokenizer.ignore(e)}findSampleOffset(n,r){let e=0;for(;e<n.chunkOffsetTable.length&&n.chunkOffsetTable[e]<r;)++e;return this.getChunkDuration(e+1,n)}getChunkDuration(n,r){let e=0,t=r.timeToSampleTable[e].count,i=r.timeToSampleTable[e].duration,o=1,s=this.getSamplesPerChunk(o,r.sampleToChunkTable),c=0;for(;o<n;){let l=Math.min(t,s);c+=l*i,t-=l,s-=l,s===0?(++o,s=this.getSamplesPerChunk(o,r.sampleToChunkTable)):(++e,t=r.timeToSampleTable[e].count,i=r.timeToSampleTable[e].duration)}return c}getSamplesPerChunk(n,r){for(let e=0;e<r.length-1;++e)if(n>=r[e].firstChunk&&n<r[e+1].firstChunk)return r[e].samplesPerChunk;return r[r.length-1].samplesPerChunk}}});var WC,YC=$(()=>{WC={parserType:"mp4",extensions:[".mp4",".m4a",".m4b",".m4pa","m4v","m4r","3gp"],mimeTypes:["audio/mp4","audio/m4a","video/m4v","video/mp4"],async load(){return(await Promise.resolve().then(()=>(VC(),GC))).MP4Parser}}});var XC,zC,n4,qC,$C,lp,JC=$(()=>{Ve();XC=Me(Ot());Mt();zC=(0,XC.default)("music-metadata:parser:musepack:sv8"),n4=new le(2,"latin1"),qC={len:5,get:(a,n)=>({crc:ae.get(a,n),streamVersion:ve.get(a,n+4)})},$C={len:2,get:(a,n)=>({sampleFrequency:[44100,48e3,37800,32e3][it(a,n,0,3)],maxUsedBands:it(a,n,3,5),channelCount:it(a,n+1,0,4)+1,msUsed:un(a,n+1,4),audioBlockFrames:it(a,n+1,5,3)})},lp=class{get tokenizer(){return this._tokenizer}set tokenizer(n){this._tokenizer=n}constructor(n){this._tokenizer=n}async readPacketHeader(){let n=await this.tokenizer.readToken(n4),r=await this.readVariableSizeField();return{key:n,payloadLength:r.value-2-r.len}}async readStreamHeader(n){let r={};zC(`Reading SH at offset=${this.tokenizer.position}`);let e=await this.tokenizer.readToken(qC);n-=qC.len,Object.assign(r,e),zC(`SH.streamVersion = ${e.streamVersion}`);let t=await this.readVariableSizeField();n-=t.len,r.sampleCount=t.value;let i=await this.readVariableSizeField();n-=i.len,r.beginningOfSilence=i.value;let o=await this.tokenizer.readToken($C);return n-=$C.len,Object.assign(r,o),await this.tokenizer.ignore(n),r}async readVariableSizeField(n=1,r=0){let e=await this.tokenizer.readNumber(ve);return(e&128)===0?{len:n,value:r+e}:(e&=127,e+=r,this.readVariableSizeField(n+1,e<<7))}}});var xi,up=$(()=>{kt();xi=class extends Et("Musepack"){}});var QC,i4,dp,ZC=$(()=>{QC=Me(Ot());jn();no();Cn();JC();up();i4=(0,QC.default)("music-metadata:parser:musepack"),dp=class extends bt{constructor(){super(...arguments),this.audioLength=0}async parse(){if(await this.tokenizer.readToken(lt)!=="MPCK")throw new xi("Invalid Magic number");return this.metadata.setFormat("container","Musepack, SV8"),this.parsePacket()}async parsePacket(){let n=new lp(this.tokenizer);do{let r=await n.readPacketHeader();switch(i4(`packet-header key=${r.key}, payloadLength=${r.payloadLength}`),r.key){case"SH":{let e=await n.readStreamHeader(r.payloadLength);this.metadata.setFormat("numberOfSamples",e.sampleCount),this.metadata.setFormat("sampleRate",e.sampleFrequency),this.metadata.setFormat("duration",e.sampleCount/e.sampleFrequency),this.metadata.setFormat("numberOfChannels",e.channelCount);break}case"AP":this.audioLength+=r.payloadLength,await this.tokenizer.ignore(r.payloadLength);break;case"RG":case"EI":case"SO":case"ST":case"CT":await this.tokenizer.ignore(r.payloadLength);break;case"SE":return this.metadata.format.duration&&this.metadata.setFormat("bitrate",this.audioLength*8/this.metadata.format.duration),to(this.metadata,this.tokenizer,this.options);default:throw new xi(`Unexpected header: ${r.key}`)}}while(!0)}}});var pp,e0=$(()=>{Ve();pp=class{constructor(n){this.pos=0,this.dword=null,this.tokenizer=n}async read(n){for(;this.dword===null;)this.dword=await this.tokenizer.readToken(ae);let r=this.dword;return this.pos+=n,this.pos<32?(r>>>=32-this.pos,r&(1<<n)-1):(this.pos-=32,this.pos===0?(this.dword=null,r&(1<<n)-1):(this.dword=await this.tokenizer.readToken(ae),this.pos&&(r<<=this.pos,r|=this.dword>>>32-this.pos),r&(1<<n)-1))}async ignore(n){if(this.pos>0){let t=32-this.pos;this.dword=null,n-=t,this.pos=0}let r=n%32,e=(n-r)/32;return await this.tokenizer.ignore(e*4),this.read(r)}}});var t0,n0=$(()=>{Ve();Mt();vi();t0={len:6*4,get:(a,n)=>{let r={signature:Zt(a.subarray(n,n+3),"latin1"),streamMinorVersion:it(a,n+3,0,4),streamMajorVersion:it(a,n+3,4,4),frameCount:ae.get(a,n+4),maxLevel:we.get(a,n+8),sampleFrequency:[44100,48e3,37800,32e3][it(a,n+10,0,2)],link:it(a,n+10,2,2),profile:it(a,n+10,4,4),maxBand:it(a,n+11,0,6),intensityStereo:un(a,n+11,6),midSideStereo:un(a,n+11,7),titlePeak:we.get(a,n+12),titleGain:we.get(a,n+14),albumPeak:we.get(a,n+16),albumGain:we.get(a,n+18),lastFrameLength:ae.get(a,n+20)>>>20&2047,trueGapless:un(a,n+23,0)};return r.lastFrameLength=r.trueGapless?ae.get(a,20)>>>20&2047:0,r}}});var i0,r0,fp,a0=$(()=>{i0=Me(Ot());jn();no();e0();n0();up();r0=(0,i0.default)("music-metadata:parser:musepack"),fp=class extends bt{constructor(){super(...arguments),this.bitreader=null,this.audioLength=0,this.duration=null}async parse(){let n=await this.tokenizer.readToken(t0);if(n.signature!=="MP+")throw new xi("Unexpected magic number");r0(`stream-version=${n.streamMajorVersion}.${n.streamMinorVersion}`),this.metadata.setFormat("container","Musepack, SV7"),this.metadata.setFormat("sampleRate",n.sampleFrequency);let r=1152*(n.frameCount-1)+n.lastFrameLength;this.metadata.setFormat("numberOfSamples",r),this.duration=r/n.sampleFrequency,this.metadata.setFormat("duration",this.duration),this.bitreader=new pp(this.tokenizer),this.metadata.setFormat("numberOfChannels",n.midSideStereo||n.intensityStereo?2:1);let e=await this.bitreader.read(8);return this.metadata.setFormat("codec",(e/100).toFixed(2)),await this.skipAudioData(n.frameCount),r0(`End of audio stream, switching to APEv2, offset=${this.tokenizer.position}`),to(this.metadata,this.tokenizer,this.options)}async skipAudioData(n){for(;n-- >0;){let e=await this.bitreader.read(20);this.audioLength+=20+e,await this.bitreader.ignore(e)}let r=await this.bitreader.read(11);this.audioLength+=r,this.duration!==null&&this.metadata.setFormat("bitrate",this.audioLength/this.duration)}}});var c0={};tn(c0,{MusepackParser:()=>ay});var s0,o0,ay,l0=$(()=>{s0=Me(Ot());Ve();tl();ZC();a0();up();o0=(0,s0.default)("music-metadata:parser:musepack"),ay=class extends ai{async postId3v2Parse(){let n=await this.tokenizer.peekToken(new le(3,"latin1")),r;switch(n){case"MP+":{o0("Stream-version 7"),r=new fp(this.metadata,this.tokenizer,this.options);break}case"MPC":{o0("Stream-version 8"),r=new dp(this.metadata,this.tokenizer,this.options);break}default:throw new xi("Invalid signature prefix")}return this.metadata.setAudioOnly(),r.parse()}}});var u0,d0=$(()=>{u0={parserType:"musepack",extensions:[".mpc"],mimeTypes:["audio/musepack"],async load(){return(await Promise.resolve().then(()=>(l0(),c0))).MusepackParser}}});var El,hp,oy=$(()=>{Ve();kt();El=class extends Et("Opus"){},hp=class{constructor(n){if(n<19)throw new El("ID-header-page 0 should be at least 19 bytes long");this.len=n}get(n,r){return{magicSignature:new le(8,"ascii").get(n,r+0),version:ve.get(n,r+8),channelCount:ve.get(n,r+9),preSkip:we.get(n,r+10),inputSampleRate:ae.get(n,r+12),outputGain:we.get(n,r+16),channelMapping:ve.get(n,r+18)}}}});var gp,p0=$(()=>{Ve();cl();oy();oy();gp=class extends oi{constructor(n,r,e){super(n,r),this.idHeader=null,this.lastPos=-1,this.tokenizer=e,this.durationOnLastPage=!0}parseFirstPage(n,r){if(this.metadata.setFormat("codec","Opus"),this.idHeader=new hp(r.length).get(r,0),this.idHeader.magicSignature!=="OpusHead")throw new El("Illegal ogg/Opus magic-signature");this.metadata.setFormat("sampleRate",this.idHeader.inputSampleRate),this.metadata.setFormat("numberOfChannels",this.idHeader.channelCount),this.metadata.setAudioOnly()}async parseFullPage(n){switch(new le(8,"ascii").get(n,0)){case"OpusTags":await this.parseUserCommentList(n,8),this.lastPos=this.tokenizer.position-n.length;break;default:break}}calculateDuration(){if(this.lastPageHeader&&this.metadata.format.sampleRate&&this.lastPageHeader.absoluteGranulePosition>=0){let n=this.lastPageHeader.absoluteGranulePosition-this.idHeader.preSkip;if(this.metadata.setFormat("numberOfSamples",n),this.metadata.setFormat("duration",n/48e3),this.lastPos!==-1&&this.tokenizer.fileInfo.size&&this.metadata.format.duration){let r=this.tokenizer.fileInfo.size-this.lastPos;this.metadata.setFormat("bitrate",8*r/this.metadata.format.duration)}}}}});var f0,h0=$(()=>{Ve();Mt();f0={len:80,get:(a,n)=>({speex:new le(8,"ascii").get(a,n+0),version:yd(new le(20,"ascii").get(a,n+8)),version_id:wt.get(a,n+28),header_size:wt.get(a,n+32),rate:wt.get(a,n+36),mode:wt.get(a,n+40),mode_bitstream_version:wt.get(a,n+44),nb_channels:wt.get(a,n+48),bitrate:wt.get(a,n+52),frame_size:wt.get(a,n+56),vbr:wt.get(a,n+60),frames_per_packet:wt.get(a,n+64),extra_headers:wt.get(a,n+68),reserved1:wt.get(a,n+72),reserved2:wt.get(a,n+76)})}});var g0,c4,Ep,E0=$(()=>{g0=Me(Ot());cl();h0();c4=(0,g0.default)("music-metadata:parser:ogg:speex"),Ep=class extends oi{constructor(n,r,e){super(n,r)}parseFirstPage(n,r){c4("First Ogg/Speex page");let e=f0.get(r,0);this.metadata.setFormat("codec",`Speex ${e.version}`),this.metadata.setFormat("numberOfChannels",e.nb_channels),this.metadata.setFormat("sampleRate",e.rate),e.bitrate!==-1&&this.metadata.setFormat("bitrate",e.bitrate),this.metadata.setAudioOnly()}}});var y0,_0=$(()=>{Ve();y0={len:42,get:(a,n)=>({id:new le(7,"ascii").get(a,n),vmaj:ve.get(a,n+7),vmin:ve.get(a,n+8),vrev:ve.get(a,n+9),vmbw:ot.get(a,n+10),vmbh:ot.get(a,n+17),nombr:qt.get(a,n+37),nqual:ve.get(a,n+40)})}});var I0,T0,yp,O0=$(()=>{I0=Me(Ot());_0();T0=(0,I0.default)("music-metadata:parser:ogg:theora"),yp=class{constructor(n,r,e){this.durationOnLastPage=!1,this.metadata=n}async parsePage(n,r){n.headerType.firstPage&&await this.parseFirstPage(n,r)}calculateDuration(){T0("duration calculation not implemented")}async parseFirstPage(n,r){T0("First Ogg/Theora page"),this.metadata.setFormat("codec","Theora");let e=y0.get(r,0);this.metadata.setFormat("bitrate",e.nombr),this.metadata.setFormat("hasVideo",!0)}flush(){return Promise.resolve()}}});var S0,_p,A0=$(()=>{Ve();Mt();Ve();S0={len:27,get:(a,n)=>({capturePattern:new le(4,"latin1").get(a,n),version:ve.get(a,n+4),headerType:{continued:rt(a,n+5,0),firstPage:rt(a,n+5,1),lastPage:rt(a,n+5,2)},absoluteGranulePosition:Number($t.get(a,n+6)),streamSerialNumber:ae.get(a,n+14),pageSequenceNo:ae.get(a,n+18),pageChecksum:ae.get(a,n+22),page_segments:ve.get(a,n+26)})},_p=class a{static sum(n,r,e){let t=new DataView(n.buffer,0),i=0;for(let o=r;o<r+e;++o)i+=t.getUint8(o);return i}constructor(n){this.len=n.page_segments}get(n,r){return{totalPageSize:a.sum(n,r,this.len)}}}});var m0,sy,Tp,b0=$(()=>{m0=Me(Ot());$E();XE();Cn();Gd();sy=(0,m0.default)("music-metadata:parser:ogg:theora"),Tp=class{constructor(n,r,e){this.durationOnLastPage=!1,this.metadata=n,this.options=r,this.tokenizer=e,this.flacParser=new dl(this.metadata,this.tokenizer,r)}async parsePage(n,r){n.headerType.firstPage&&await this.parseFirstPage(n,r)}calculateDuration(){sy("duration calculation not implemented")}async parseFirstPage(n,r){if(sy("First Ogg/FLAC page"),(await lt.get(r,9)).toString()!=="fLaC")throw new Error("Invalid FLAC preamble");let t=await ll.get(r,13);await this.parseDataBlock(t,r.subarray(13+ll.len))}async parseDataBlock(n,r){switch(sy(`blockHeader type=${n.type}, length=${n.length}`),n.type){case Mn.STREAMINFO:{let e=ul.get(r,0);return this.flacParser.processsStreamInfo(e)}case Mn.PADDING:break;case Mn.APPLICATION:break;case Mn.SEEKTABLE:break;case Mn.VORBIS_COMMENT:return this.flacParser.parseComment(r);case Mn.PICTURE:if(!this.options.skipCovers){let e=new ya(r.length).get(r,0);return this.flacParser.addPictureTag(e)}break;default:this.metadata.addWarning(`Unknown block type: ${n.type}`)}return this.tokenizer.ignore(n.length).then()}flush(){return Promise.resolve()}}});var C0={};tn(C0,{OggContentError:()=>ws,OggParser:()=>ly});var R0,ws,ci,cy,ly,N0=$(()=>{Ve();Dr();R0=Me(Ot());jn();cl();p0();E0();O0();kt();A0();b0();ws=class extends Et("Ogg"){},ci=(0,R0.default)("music-metadata:parser:ogg"),cy=class{constructor(n,r,e){this.pageNumber=0,this.closed=!1,this.metadata=n,this.streamSerial=r,this.options=e}async parsePage(n,r){this.pageNumber=r.pageSequenceNo,ci("serial=%s page#=%s, Ogg.id=%s",r.streamSerialNumber,r.pageSequenceNo,r.capturePattern);let e=await n.readToken(new _p(r));ci("totalPageSize=%s",e.totalPageSize);let t=await n.readToken(new At(e.totalPageSize));if(ci("firstPage=%s, lastPage=%s, continued=%s",r.headerType.firstPage,r.headerType.lastPage,r.headerType.continued),r.headerType.firstPage){this.metadata.setFormat("container","Ogg");let i=t.subarray(0,7),o=Array.from(i).filter(s=>s>=32&&s<=126).map(s=>String.fromCharCode(s)).join("");switch(o){case"vorbis":ci(`Set Ogg stream serial ${r.streamSerialNumber}, codec=Vorbis`),this.pageConsumer=new oi(this.metadata,this.options);break;case"OpusHea":ci("Set page consumer to Ogg/Opus"),this.pageConsumer=new gp(this.metadata,this.options,n);break;case"Speex  ":ci("Set page consumer to Ogg/Speex"),this.pageConsumer=new Ep(this.metadata,this.options,n);break;case"fishead":case"theora":ci("Set page consumer to Ogg/Theora"),this.pageConsumer=new yp(this.metadata,this.options,n);break;case"FLAC":ci("Set page consumer to Vorbis"),this.pageConsumer=new Tp(this.metadata,this.options,n);break;default:throw new ws(`Ogg codec not recognized (id=${o}`)}}if(r.headerType.lastPage&&(this.closed=!0),this.pageConsumer)await this.pageConsumer.parsePage(r,t);else throw new Error("pageConsumer should be initialized")}},ly=class extends bt{constructor(){super(...arguments),this.streams=new Map}async parse(){this.streams=new Map;let n;try{do{if(n=await this.tokenizer.readToken(S0),n.capturePattern!=="OggS")throw new ws("Invalid Ogg capture pattern");let r=this.streams.get(n.streamSerialNumber);if(r||(r=new cy(this.metadata,n.streamSerialNumber,this.options),this.streams.set(n.streamSerialNumber,r)),await r.parsePage(this.tokenizer,n),r.pageNumber>12&&!(this.options.duration&&[...this.streams.values()].find(e=>e.pageConsumer?.durationOnLastPage))){ci("Stop processing Ogg stream");break}}while(![...this.streams.values()].every(r=>r.closed))}catch(r){if(r instanceof ct)ci("Reached end-of-stream");else if(r instanceof ws)this.metadata.addWarning(`Corrupt Ogg content at ${this.tokenizer.position}`);else throw r}for(let r of this.streams.values())r.closed||(this.metadata.addWarning(`End-of-stream reached before reaching last page in Ogg stream serial=${r.streamSerial}`),await r.pageConsumer?.flush()),r.pageConsumer?.calculateDuration()}}});var M0,P0=$(()=>{M0={parserType:"ogg",extensions:[".ogg",".ogv",".oga",".ogm",".ogx",".opus",".spx"],mimeTypes:["audio/ogg","audio/opus","audio/speex","video/ogg"],async load(){return(await Promise.resolve().then(()=>(N0(),C0))).OggParser}}});function li(a,n){return Ip(a,n,1)===1}function Ip(a,n,r){return a>>>n&4294967295>>>32-r}var l4,yl,Op,L0=$(()=>{Ve();Cn();l4=[6e3,8e3,9600,11025,12e3,16e3,22050,24e3,32e3,44100,48e3,64e3,88200,96e3,192e3,-1],yl={len:32,get:(a,n)=>{let r=ae.get(a,n+24),e={BlockID:lt.get(a,n),blockSize:ae.get(a,n+4),version:we.get(a,n+8),totalSamples:ae.get(a,n+12),blockIndex:ae.get(a,n+16),blockSamples:ae.get(a,n+20),flags:{bitsPerSample:(1+Ip(r,0,2))*8,isMono:li(r,2),isHybrid:li(r,3),isJointStereo:li(r,4),crossChannel:li(r,5),hybridNoiseShaping:li(r,6),floatingPoint:li(r,7),samplingRate:l4[Ip(r,23,4)],isDSD:li(r,31)},crc:new At(4).get(a,n+28)};return e.flags.isDSD&&(e.totalSamples*=8),e}},Op={len:1,get:(a,n)=>({functionId:Ip(a[n],0,6),isOptional:li(a[n],5),isOddSize:li(a[n],6),largeBlock:li(a[n],7)})}});var w0={};tn(w0,{WavPackContentError:()=>ks,WavPackParser:()=>uy});var D0,lo,ks,uy,k0=$(()=>{Ve();no();Cn();jn();L0();D0=Me(Ot());ps();kt();lo=(0,D0.default)("music-metadata:parser:WavPack"),ks=class extends Et("WavPack"){},uy=class extends bt{constructor(){super(...arguments),this.audioDataSize=0}async parse(){return this.metadata.setAudioOnly(),this.audioDataSize=0,await this.parseWavPackBlocks(),to(this.metadata,this.tokenizer,this.options)}async parseWavPackBlocks(){do{if(await this.tokenizer.peekToken(lt)!=="wvpk")break;let r=await this.tokenizer.readToken(yl);if(r.BlockID!=="wvpk")throw new ks("Invalid WavPack Block-ID");lo(`WavPack header blockIndex=${r.blockIndex}, len=${yl.len}`),r.blockIndex===0&&!this.metadata.format.container&&(this.metadata.setFormat("container","WavPack"),this.metadata.setFormat("lossless",!r.flags.isHybrid),this.metadata.setFormat("bitsPerSample",r.flags.bitsPerSample),r.flags.isDSD||(this.metadata.setFormat("sampleRate",r.flags.samplingRate),this.metadata.setFormat("duration",r.totalSamples/r.flags.samplingRate)),this.metadata.setFormat("numberOfChannels",r.flags.isMono?1:2),this.metadata.setFormat("numberOfSamples",r.totalSamples),this.metadata.setFormat("codec",r.flags.isDSD?"DSD":"PCM"));let e=r.blockSize-(yl.len-8);await(r.blockIndex===0?this.parseMetadataSubBlock(r,e):this.tokenizer.ignore(e)),r.blockSamples>0&&(this.audioDataSize+=r.blockSize)}while(!this.tokenizer.fileInfo.size||this.tokenizer.fileInfo.size-this.tokenizer.position>=yl.len);this.metadata.format.duration&&this.metadata.setFormat("bitrate",this.audioDataSize*8/this.metadata.format.duration)}async parseMetadataSubBlock(n,r){let e=r;for(;e>Op.len;){let t=await this.tokenizer.readToken(Op),i=await this.tokenizer.readNumber(t.largeBlock?Vc:ve),o=new Uint8Array(i*2-(t.isOddSize?1:0));switch(await this.tokenizer.readBuffer(o),lo(`Metadata Sub-Blocks functionId=0x${t.functionId.toString(16)}, id.largeBlock=${t.largeBlock},data-size=${o.length}`),t.functionId){case 0:break;case 14:{lo("ID_DSD_BLOCK");let s=1<<ve.get(o,0),c=n.flags.samplingRate*s*8;if(!n.flags.isDSD)throw new ks("Only expect DSD block if DSD-flag is set");this.metadata.setFormat("sampleRate",c),this.metadata.setFormat("duration",n.totalSamples/c);break}case 36:lo("ID_ALT_TRAILER: trailer for non-wav files");break;case 38:this.metadata.setFormat("audioMD5",o);break;case 47:lo(`ID_BLOCK_CHECKSUM: checksum=${ds(o)}`);break;default:lo(`Ignore unsupported meta-sub-block-id functionId=0x${t.functionId.toString(16)}`);break}e-=Op.len+(t.largeBlock?Vc.len:ve.len)+i*2,lo(`remainingLength=${e}`),t.isOddSize&&this.tokenizer.ignore(1)}if(e!==0)throw new ks("metadata-sub-block should fit it remaining length")}}});var v0,U0=$(()=>{v0={parserType:"wavpack",extensions:[".wv",".wvp"],mimeTypes:["audio/wavpack"],async load(){return(await Promise.resolve().then(()=>(k0(),w0))).WavPackParser}}});var vs,Sp,B0=$(()=>{Ve();vs={len:8,get:(a,n)=>({chunkID:new le(4,"latin1").get(a,n),chunkSize:ae.get(a,n+4)})},Sp=class{constructor(n){this.tagHeader=n,this.len=n.chunkSize,this.len+=this.len&1}get(n,r){return new le(this.tagHeader.chunkSize,"ascii").get(n,r)}}});var uo,rr,x0,Ap,mp,dy=$(()=>{Ve();kt();uo=class extends Et("Wave"){},rr={PCM:1,ADPCM:2,IEEE_FLOAT:3,MPEG_ADTS_AAC:5632,MPEG_LOAS:5634,RAW_AAC1:255,DOLBY_AC3_SPDIF:146,DVM:8192,RAW_SPORT:576,ESST_AC3:577,DRM:9,DTS2:8193,MPEG:80},x0={[rr.PCM]:"PCM",[rr.ADPCM]:"ADPCM",[rr.IEEE_FLOAT]:"IEEE_FLOAT",[rr.MPEG_ADTS_AAC]:"MPEG_ADTS_AAC",[rr.MPEG_LOAS]:"MPEG_LOAS",[rr.RAW_AAC1]:"RAW_AAC1",[rr.DOLBY_AC3_SPDIF]:"DOLBY_AC3_SPDIF",[rr.DVM]:"DVM",[rr.RAW_SPORT]:"RAW_SPORT",[rr.ESST_AC3]:"ESST_AC3",[rr.DRM]:"DRM",[rr.DTS2]:"DTS2",[rr.MPEG]:"MPEG"},Ap=class{constructor(n){if(n.chunkSize<16)throw new uo("Invalid chunk size");this.len=n.chunkSize}get(n,r){return{wFormatTag:we.get(n,r),nChannels:we.get(n,r+2),nSamplesPerSec:ae.get(n,r+4),nAvgBytesPerSec:ae.get(n,r+8),nBlockAlign:we.get(n,r+12),wBitsPerSample:we.get(n,r+14)}}},mp=class{constructor(n){if(n.chunkSize<4)throw new uo("Invalid fact chunk size.");this.len=n.chunkSize}get(n,r){return{dwSampleLength:ae.get(n,r)}}}});var py,F0=$(()=>{Ve();Mt();py={len:420,get:(a,n)=>({description:gr(new le(256,"ascii").get(a,n)).trim(),originator:gr(new le(32,"ascii").get(a,n+256)).trim(),originatorReference:gr(new le(32,"ascii").get(a,n+288)).trim(),originationDate:gr(new le(10,"ascii").get(a,n+320)).trim(),originationTime:gr(new le(8,"ascii").get(a,n+330)).trim(),timeReferenceLow:ae.get(a,n+338),timeReferenceHigh:ae.get(a,n+342),version:we.get(a,n+346),umid:new At(64).get(a,n+348),loudnessValue:we.get(a,n+412),maxTruePeakLevel:we.get(a,n+414),maxMomentaryLoudness:we.get(a,n+416),maxShortTermLoudness:we.get(a,n+418)})}});var K0={};tn(K0,{WaveParser:()=>fy});var j0,_a,fy,H0=$(()=>{Dr();Ve();j0=Me(Ot());B0();dy();Os();Mt();Cn();jn();F0();dy();_a=(0,j0.default)("music-metadata:parser:RIFF"),fy=class extends bt{constructor(){super(...arguments),this.blockAlign=0}async parse(){let n=await this.tokenizer.readToken(vs);if(_a(`pos=${this.tokenizer.position}, parse: chunkID=${n.chunkID}`),n.chunkID==="RIFF")return this.metadata.setAudioOnly(),this.parseRiffChunk(n.chunkSize).catch(r=>{if(!(r instanceof ct))throw r})}async parseRiffChunk(n){let r=await this.tokenizer.readToken(lt);switch(this.metadata.setFormat("container",r),r){case"WAVE":return this.readWaveChunk(n-lt.len);default:throw new uo(`Unsupported RIFF format: RIFF/${r}`)}}async readWaveChunk(n){for(;n>=vs.len;){let r=await this.tokenizer.readToken(vs);switch(n-=vs.len+r.chunkSize,r.chunkSize>n&&this.metadata.addWarning("Data chunk size exceeds file size"),this.header=r,_a(`pos=${this.tokenizer.position}, readChunk: chunkID=RIFF/WAVE/${r.chunkID}`),r.chunkID){case"LIST":await this.parseListTag(r);break;case"fact":this.metadata.setFormat("lossless",!1),this.fact=await this.tokenizer.readToken(new mp(r));break;case"fmt ":{let e=await this.tokenizer.readToken(new Ap(r)),t=x0[e.wFormatTag];t||(_a(`WAVE/non-PCM format=${e.wFormatTag}`),t=`non-PCM (${e.wFormatTag})`),this.metadata.setFormat("codec",t),this.metadata.setFormat("bitsPerSample",e.wBitsPerSample),this.metadata.setFormat("sampleRate",e.nSamplesPerSec),this.metadata.setFormat("numberOfChannels",e.nChannels),this.metadata.setFormat("bitrate",e.nBlockAlign*e.nSamplesPerSec*8),this.blockAlign=e.nBlockAlign;break}case"id3 ":case"ID3 ":{let e=await this.tokenizer.readToken(new At(r.chunkSize)),t=Qn(e);await new yr().parse(this.metadata,t,this.options);break}case"data":{this.metadata.format.lossless!==!1&&this.metadata.setFormat("lossless",!0);let e=r.chunkSize;if(this.tokenizer.fileInfo.size){let i=this.tokenizer.fileInfo.size-this.tokenizer.position;i<e&&(this.metadata.addWarning("data chunk length exceeding file length"),e=i)}let t=this.fact?this.fact.dwSampleLength:e===4294967295?void 0:e/this.blockAlign;t&&(this.metadata.setFormat("numberOfSamples",t),this.metadata.format.sampleRate&&this.metadata.setFormat("duration",t/this.metadata.format.sampleRate)),this.metadata.format.codec==="ADPCM"?this.metadata.setFormat("bitrate",352e3):this.metadata.format.sampleRate&&this.metadata.setFormat("bitrate",this.blockAlign*this.metadata.format.sampleRate*8),await this.tokenizer.ignore(r.chunkSize);break}case"bext":{let e=await this.tokenizer.readToken(py);Object.keys(e).forEach(i=>{this.metadata.addTag("exif",`bext.${i}`,e[i])});let t=r.chunkSize-py.len;await this.tokenizer.ignore(t);break}case"\0\0\0\0":_a(`Ignore padding chunk: RIFF/${r.chunkID} of ${r.chunkSize} bytes`),this.metadata.addWarning(`Ignore chunk: RIFF/${r.chunkID}`),await this.tokenizer.ignore(r.chunkSize);break;default:_a(`Ignore chunk: RIFF/${r.chunkID} of ${r.chunkSize} bytes`),this.metadata.addWarning(`Ignore chunk: RIFF/${r.chunkID}`),await this.tokenizer.ignore(r.chunkSize)}this.header.chunkSize%2===1&&(_a("Read odd padding byte"),await this.tokenizer.ignore(1))}}async parseListTag(n){let r=await this.tokenizer.readToken(new le(4,"latin1"));switch(_a("pos=%s, parseListTag: chunkID=RIFF/WAVE/LIST/%s",this.tokenizer.position,r),r){case"INFO":return this.parseRiffInfoTags(n.chunkSize-4);default:return this.metadata.addWarning(`Ignore chunk: RIFF/WAVE/LIST/${r}`),_a(`Ignoring chunkID=RIFF/WAVE/LIST/${r}`),this.tokenizer.ignore(n.chunkSize-4).then()}}async parseRiffInfoTags(n){for(;n>=8;){let r=await this.tokenizer.readToken(vs),e=new Sp(r),t=await this.tokenizer.readToken(e);this.addTag(r.chunkID,gr(t)),n-=8+e.len}if(n!==0)throw new uo(`Illegal remaining size: ${n}`)}addTag(n,r){this.metadata.addTag("exif",n,r)}}});var G0,V0=$(()=>{G0={parserType:"riff",extensions:[".wav","wave",".bwf"],mimeTypes:["audio/vnd.wave","audio/wav","audio/wave"],async load(){return(await Promise.resolve().then(()=>(H0(),K0))).WaveParser}}});function p4(a){let n=W0.default.parse(a),r=(0,Y0.parse)(n.type);return{type:r.type,subtype:r.subtype,suffix:r.suffix,parameters:n.parameters}}function f4(a){let n=a.lastIndexOf(".");return n===-1?"":a.substring(n)}var W0,Y0,z0,po,_l,q0=$(()=>{OE();W0=Me(k2()),Y0=Me(B2()),z0=Me(Ot());iR();Za();DR();kt();kR();YR();QR();aC();fC();IC();PC();YC();d0();P0();U0();V0();gy();po=(0,z0.default)("music-metadata:parser:factory");_l=class{constructor(){this.parsers=[],[TC,LR,wR,WC,MC,G0,M0,WR,iC,v0,u0,pC,JR].forEach(n=>{this.registerParser(n)})}registerParser(n){this.parsers.push(n)}async parse(n,r,e){if(n.supportsRandomAccess()?(po("tokenizer supports random-access, scanning for appending headers"),await hy(n,e)):po("tokenizer does not support random-access, cannot scan for appending headers"),!r){let s=new Uint8Array(4100);if(n.fileInfo.mimeType&&(r=this.findLoaderForContentType(n.fileInfo.mimeType)),!r&&n.fileInfo.path&&(r=this.findLoaderForExtension(n.fileInfo.path)),!r){po("Guess parser on content..."),await n.peekBuffer(s,{mayBeLess:!0});let c=await gd(s,{mpegOffsetTolerance:10});if(!c||!c.mime)throw new fs("Failed to determine audio format");if(po(`Guessed file type is mime=${c.mime}, extension=${c.ext}`),r=this.findLoaderForContentType(c.mime),!r)throw new hs(`Guessed MIME-type not supported: ${c.mime}`)}}po(`Loading ${r.parserType} parser...`);let t=new Ld(e),i=await r.load(),o=new i(t,n,e??{});return po(`Parser ${r.parserType} loaded`),await o.parse(),t.format.trackInfo&&(t.format.hasAudio===void 0&&t.setFormat("hasAudio",!!t.format.trackInfo.find(s=>s.type===cn.audio)),t.format.hasVideo===void 0&&t.setFormat("hasVideo",!!t.format.trackInfo.find(s=>s.type===cn.video))),t.toCommonMetadata()}findLoaderForExtension(n){if(!n)return;let r=f4(n).toLocaleLowerCase()||n;return this.parsers.find(e=>e.extensions.indexOf(r)!==-1)}findLoaderForContentType(n){let r;if(!n)return;try{r=p4(n)}catch{po(`Invalid HTTP Content-Type header value: ${n}`);return}let e=r.subtype.indexOf("x-")===0?r.subtype.substring(2):r.subtype;return this.parsers.find(t=>t.mimeTypes.find(i=>i.indexOf(`${r.type}/${e}`)!==-1))}getSupportedMimeTypes(){let n=new Set;return this.parsers.forEach(r=>{r.mimeTypes.forEach(e=>{n.add(e),n.add(e.replace("/","/x-"))})}),Array.from(n)}}});async function $0(a){let n=a.fileInfo.size;if(n>=143){let r=new Uint8Array(15),e=a.position;await a.readBuffer(r,{position:n-143}),a.setPosition(e);let t=Zt(r,"latin1");if(t.substring(6)===h4)return Number.parseInt(t.substring(0,6),10)+15}return 0}var h4,X0=$(()=>{vi();h4="LYRICS200"});var J0={};tn(J0,{CouldNotDetermineFileTypeError:()=>fs,FieldDecodingError:()=>da,InternalParserError:()=>Ja,LyricsContentType:()=>$c,TimestampFormat:()=>Xc,UnsupportedFileTypeError:()=>hs,getSupportedMimeTypes:()=>A4,makeParseError:()=>gs,makeUnexpectedFileContentError:()=>Et,orderTags:()=>_4,parseBlob:()=>g4,parseBuffer:()=>y4,parseFile:()=>O4,parseFromTokenizer:()=>bp,parseStream:()=>S4,parseWebStream:()=>E4,ratingToStars:()=>T4,scanAppendingHeaders:()=>hy,selectCover:()=>I4});async function g4(a,n={}){let r=r2(a);try{return await bp(r,n)}finally{await r.close()}}async function E4(a,n,r={}){let e=ud(a,{fileInfo:typeof n=="string"?{mimeType:n}:n});try{return await bp(e,r)}finally{await e.close()}}async function y4(a,n,r={}){let e=Qn(a,{fileInfo:typeof n=="string"?{mimeType:n}:n});return bp(e,r)}function bp(a,n){return new _l().parse(a,void 0,n)}function _4(a){let n={};for(let{id:r,value:e}of a)(n[r]||(n[r]=[])).push(e);return n}function T4(a){return a===void 0?0:1+Math.round(a*4)}function I4(a){return a?a.reduce((n,r)=>r.name&&r.name.toLowerCase()in["front","cover","cover (front)"]?r:n):null}async function hy(a,n={}){let r=a.fileInfo.size;if(await hR(a)){r-=128;let e=await $0(a);r-=e}n.apeHeader=await fa.findApeFooterOffset(a,r)}async function O4(a,n={}){throw new Error("This function require a Node engine. To load Web API File objects use parseBlob instead.")}async function S4(a,n,r={}){throw new Error("This function require a Node engine.")}function A4(){return new _l().getSupportedMimeTypes()}var gy=$(()=>{Dr();q0();no();el();X0();Za();kt();kt()});var XN=z((eZ,$N)=>{"use strict";function Gx(a){try{return JSON.stringify(a)}catch{return'"[Circular]"'}}$N.exports=Vx;function Vx(a,n,r){var e=r&&r.stringify||Gx,t=1;if(typeof a=="object"&&a!==null){var i=n.length+t;if(i===1)return a;var o=new Array(i);o[0]=e(a);for(var s=1;s<i;s++)o[s]=e(n[s]);return o.join(" ")}if(typeof a!="string")return a;var c=n.length;if(c===0)return a;for(var l="",d=1-t,f=-1,g=a&&a.length||0,_=0;_<g;){if(a.charCodeAt(_)===37&&_+1<g){switch(f=f>-1?f:0,a.charCodeAt(_+1)){case 100:case 102:if(d>=c||n[d]==null)break;f<_&&(l+=a.slice(f,_)),l+=Number(n[d]),f=_+2,_++;break;case 105:if(d>=c||n[d]==null)break;f<_&&(l+=a.slice(f,_)),l+=Math.floor(Number(n[d])),f=_+2,_++;break;case 79:case 111:case 106:if(d>=c||n[d]===void 0)break;f<_&&(l+=a.slice(f,_));var y=typeof n[d];if(y==="string"){l+="'"+n[d]+"'",f=_+2,_++;break}if(y==="function"){l+=n[d].name||"<anonymous>",f=_+2,_++;break}l+=e(n[d]),f=_+2,_++;break;case 115:if(d>=c)break;f<_&&(l+=a.slice(f,_)),l+=String(n[d]),f=_+2,_++;break;case 37:f<_&&(l+=a.slice(f,_)),l+="%",f=_+2,_++,d--;break}++d}++_}return f===-1?a:(f<g&&(l+=a.slice(f)),l)}});var n1=z((tZ,zp)=>{"use strict";var JN=XN();zp.exports=Hi;var Ll=a6().console||{},Wx={mapHttpRequest:Yp,mapHttpResponse:Yp,wrapRequestSerializer:m_,wrapResponseSerializer:m_,wrapErrorSerializer:m_,req:Yp,res:Yp,err:ZN,errWithCause:ZN};function Ta(a,n){return a==="silent"?1/0:n.levels.values[a]}var C_=Symbol("pino.logFuncs"),b_=Symbol("pino.hierarchy"),Yx={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function QN(a,n){let r={logger:n,parent:a[b_]};n[b_]=r}function zx(a,n,r){let e={};n.forEach(t=>{e[t]=r[t]?r[t]:Ll[t]||Ll[Yx[t]||"log"]||Js}),a[C_]=e}function qx(a,n){return Array.isArray(a)?a.filter(function(e){return e!=="!stdSerializers.err"}):a===!0?Object.keys(n):!1}function Hi(a){a=a||{},a.browser=a.browser||{};let n=a.browser.transmit;if(n&&typeof n.send!="function")throw Error("pino: transmit option must have a send function");let r=a.browser.write||Ll;a.browser.write&&(a.browser.asObject=!0);let e=a.serializers||{},t=qx(a.browser.serialize,e),i=a.browser.serialize;Array.isArray(a.browser.serialize)&&a.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);let o=Object.keys(a.customLevels||{}),s=["error","fatal","warn","info","debug","trace"].concat(o);typeof r=="function"&&s.forEach(function(T){r[T]=r}),(a.enabled===!1||a.browser.disabled)&&(a.level="silent");let c=a.level||"info",l=Object.create(r);l.log||(l.log=Js),zx(l,s,r),QN({},l),Object.defineProperty(l,"levelVal",{get:f}),Object.defineProperty(l,"level",{get:g,set:_});let d={transmit:n,serialize:t,asObject:a.browser.asObject,asObjectBindingsOnly:a.browser.asObjectBindingsOnly,formatters:a.browser.formatters,levels:s,timestamp:n6(a),messageKey:a.messageKey||"msg",onChild:a.onChild||Js};l.levels=$x(a),l.level=c,l.isLevelEnabled=function(T){return this.levels.values[T]?this.levels.values[T]>=this.levels.values[this.level]:!1},l.setMaxListeners=l.getMaxListeners=l.emit=l.addListener=l.on=l.prependListener=l.once=l.prependOnceListener=l.removeListener=l.removeAllListeners=l.listeners=l.listenerCount=l.eventNames=l.write=l.flush=Js,l.serializers=e,l._serialize=t,l._stdErrSerialize=i,l.child=function(...T){return y.call(this,d,...T)},n&&(l._logEvent=R_());function f(){return Ta(this.level,this)}function g(){return this._level}function _(T){if(T!=="silent"&&!this.levels.values[T])throw Error("unknown level "+T);this._level=T,Io(this,d,l,"error"),Io(this,d,l,"fatal"),Io(this,d,l,"warn"),Io(this,d,l,"info"),Io(this,d,l,"debug"),Io(this,d,l,"trace"),o.forEach(I=>{Io(this,d,l,I)})}function y(T,I,O){if(!I)throw new Error("missing bindings for child Pino");O=O||{},t&&I.serializers&&(O.serializers=I.serializers);let R=O.serializers;if(t&&R){var M=Object.assign({},e,R),v=a.browser.serialize===!0?Object.keys(M):t;delete I.serializers,N_([I],v,M,this._stdErrSerialize)}function D(b){this._childLevel=(b._childLevel|0)+1,this.bindings=I,M&&(this.serializers=M,this._serialize=v),n&&(this._logEvent=R_([].concat(b._logEvent.bindings,I)))}D.prototype=this;let k=new D(this);return QN(this,k),k.child=function(...b){return y.call(this,T,...b)},k.level=O.level||this.level,T.onChild(k),k}return l}function $x(a){let n=a.customLevels||{},r=Object.assign({},Hi.levels.values,n),e=Object.assign({},Hi.levels.labels,Xx(n));return{values:r,labels:e}}function Xx(a){let n={};return Object.keys(a).forEach(function(r){n[a[r]]=r}),n}Hi.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Hi.stdSerializers=Wx;Hi.stdTimeFunctions=Object.assign({},{nullTime:e1,epochTime:t1,unixTime:r6,isoTime:i6});function Jx(a){let n=[];a.bindings&&n.push(a.bindings);let r=a[b_];for(;r.parent;)r=r.parent,r.logger.bindings&&n.push(r.logger.bindings);return n.reverse()}function Io(a,n,r,e){if(Object.defineProperty(a,e,{value:Ta(a.level,r)>Ta(e,r)?Js:r[C_][e],writable:!0,enumerable:!0,configurable:!0}),a[e]===Js){if(!n.transmit)return;let i=n.transmit.level||a.level,o=Ta(i,r);if(Ta(e,r)<o)return}a[e]=Zx(a,n,r,e);let t=Jx(a);t.length!==0&&(a[e]=Qx(t,a[e]))}function Qx(a,n){return function(){return n.apply(this,[...a,...arguments])}}function Zx(a,n,r,e){return function(t){return function(){let o=n.timestamp(),s=new Array(arguments.length),c=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Ll?Ll:this;for(var l=0;l<s.length;l++)s[l]=arguments[l];var d=!1;if(n.serialize&&(N_(s,this._serialize,this.serializers,this._stdErrSerialize),d=!0),n.asObject||n.formatters?t.call(c,...e6(this,e,s,o,n)):t.apply(c,s),n.transmit){let f=n.transmit.level||a._level,g=Ta(f,r),_=Ta(e,r);if(_<g)return;t6(this,{ts:o,methodLevel:e,methodValue:_,transmitLevel:f,transmitValue:r.levels.values[n.transmit.level||a._level],send:n.transmit.send,val:Ta(a._level,r)},s,d)}}}(a[C_][e])}function e6(a,n,r,e,t){let{level:i,log:o=f=>f}=t.formatters||{},s=r.slice(),c=s[0],l={},d=(a._childLevel|0)+1;if(d<1&&(d=1),e&&(l.time=e),i){let f=i(n,a.levels.values[n]);Object.assign(l,f)}else l.level=a.levels.values[n];if(t.asObjectBindingsOnly){if(c!==null&&typeof c=="object")for(;d--&&typeof s[0]=="object";)Object.assign(l,s.shift());return[o(l),...s]}else{if(c!==null&&typeof c=="object"){for(;d--&&typeof s[0]=="object";)Object.assign(l,s.shift());c=s.length?JN(s.shift(),s):void 0}else typeof c=="string"&&(c=JN(s.shift(),s));return c!==void 0&&(l[t.messageKey]=c),[o(l)]}}function N_(a,n,r,e){for(let t in a)if(e&&a[t]instanceof Error)a[t]=Hi.stdSerializers.err(a[t]);else if(typeof a[t]=="object"&&!Array.isArray(a[t])&&n)for(let i in a[t])n.indexOf(i)>-1&&i in r&&(a[t][i]=r[i](a[t][i]))}function t6(a,n,r,e=!1){let t=n.send,i=n.ts,o=n.methodLevel,s=n.methodValue,c=n.val,l=a._logEvent.bindings;e||N_(r,a._serialize||Object.keys(a.serializers),a.serializers,a._stdErrSerialize===void 0?!0:a._stdErrSerialize),a._logEvent.ts=i,a._logEvent.messages=r.filter(function(d){return l.indexOf(d)===-1}),a._logEvent.level.label=o,a._logEvent.level.value=s,t(o,a._logEvent,c),a._logEvent=R_(l)}function R_(a){return{ts:0,messages:[],bindings:a||[],level:{label:"",value:0}}}function ZN(a){let n={type:a.constructor.name,msg:a.message,stack:a.stack};for(let r in a)n[r]===void 0&&(n[r]=a[r]);return n}function n6(a){return typeof a.timestamp=="function"?a.timestamp:a.timestamp===!1?e1:t1}function Yp(){return{}}function m_(a){return a}function Js(){}function e1(){return!1}function t1(){return Date.now()}function r6(){return Math.round(Date.now()/1e3)}function i6(){return new Date(Date.now()).toISOString()}function a6(){function a(n){return typeof n<"u"&&n}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return a(self)||a(window)||a(this)||{}}}zp.exports.default=Hi;zp.exports.pino=Hi});var I1=z((ZZ,T1)=>{"use strict";T1.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var Q_={};tn(Q_,{ALL_WA_PATCH_NAMES:()=>eg,BinaryInfo:()=>X_,Browsers:()=>O_,BufferJSON:()=>bi,CALL_AUDIO_PREFIX:()=>xy,CALL_VIDEO_PREFIX:()=>By,Curve:()=>Gt,DECRYPTION_RETRY_CONFIG:()=>PA,DEFAULT_CACHE_TTLS:()=>_r,DEFAULT_CONNECTION_CONFIG:()=>D_,DEFAULT_ORIGIN:()=>Fs,DEF_CALLBACK_PREFIX:()=>Oo,DEF_TAG_PREFIX:()=>M_,DICT_VERSION:()=>i1,DisconnectReason:()=>xt,FLAG_BYTE:()=>q_,FLAG_EVENT:()=>Kl,FLAG_EXTENDED:()=>tf,FLAG_FIELD:()=>$_,FLAG_GLOBAL:()=>ef,INITIAL_PREKEY_COUNT:()=>w_,KEY_BUNDLE_TYPE:()=>Ri,LT_HASH_ANTI_TAMPERING:()=>Zy,MEDIA_HKDF_KEY_MAPPING:()=>Ly,MEDIA_KEYS:()=>jy,MEDIA_PATH_MAP:()=>Mp,META_AI_JID:()=>yL,MIN_PREKEY_COUNT:()=>wl,MIN_UPLOAD_INTERVAL:()=>v_,MISSING_KEYS_ERROR_TEXT:()=>bg,MessageRetryManager:()=>Nl,NACK_REASONS:()=>ju,NOISE_MODE:()=>$y,NOISE_WA_HEADER:()=>P_,NO_MESSAGE_FOUND_ERROR_TEXT:()=>MA,OFFICIAL_BIZ_JID:()=>fL,PHONE_CONNECTION_CB:()=>c6,PROCESSABLE_HISTORY_TYPES:()=>L_,PSA_WID:()=>gL,QueryIds:()=>gn,SERVER_JID:()=>hL,STORIES_JID:()=>EL,S_WHATSAPP_NET:()=>ze,SyncState:()=>hn,UNAUTHORIZED_CODES:()=>s6,UPLOAD_TIMEOUT:()=>k_,URL_REGEX:()=>Fy,USyncContactProtocol:()=>Ul,USyncDeviceProtocol:()=>vl,USyncDisappearingModeProtocol:()=>xl,USyncQuery:()=>gi,USyncStatusProtocol:()=>Bl,USyncUser:()=>hi,WAMessageAddressingMode:()=>Ai,WAMessageStatus:()=>va,WAMessageStubType:()=>He,WAProto:()=>x,WA_CERT_DETAILS:()=>Xy,WA_DEFAULT_EPHEMERAL:()=>Hs,WEB_EVENTS:()=>Y_,WEB_GLOBALS:()=>z_,XWAPaths:()=>In,addTransactionCapability:()=>h_,aesDecrypt:()=>ug,aesDecryptCTR:()=>lg,aesDecryptGCM:()=>Fa,aesDecryptWithIV:()=>bA,aesEncrypWithIV:()=>CL,aesEncrypt:()=>dg,aesEncryptCTR:()=>cg,aesEncryptGCM:()=>xa,aggregateMessageKeysNotFromMe:()=>vy,areJidsSameUser:()=>ln,assertMediaContent:()=>Uy,assertNodeErrorFree:()=>$n,binaryNodeToString:()=>$o,bindWaitForConnectionUpdate:()=>yg,bindWaitForEvent:()=>Fu,bytesToCrockford:()=>Ag,captureEventStream:()=>Ex,chatModificationToAppPatch:()=>o_,cleanMessage:()=>T_,configureSuccessfulPairing:()=>zy,createSignalIdentity:()=>Ky,debouncedTimeout:()=>PL,decodeAndHydrate:()=>dt,decodeBinaryNode:()=>ag,decodeDecompressedBinaryNode:()=>ig,decodeMediaRetryNode:()=>My,decodeMessageNode:()=>Ku,decodePatches:()=>Up,decodeSyncdMutations:()=>n_,decodeSyncdPatch:()=>CN,decodeSyncdSnapshot:()=>a_,decompressingIfRequired:()=>OA,decryptMediaRetryData:()=>Py,decryptMessageNode:()=>Cg,decryptPollVote:()=>Nx,default:()=>L6,delay:()=>Ci,delayCancellable:()=>Eg,derivePairingCodeKey:()=>Lc,downloadAndProcessHistorySyncNotification:()=>Jy,downloadContentFromMessage:()=>fo,downloadEncryptedContent:()=>rN,downloadExternalBlob:()=>i_,downloadExternalPatch:()=>NN,downloadHistory:()=>IN,downloadMediaMessage:()=>U4,encodeBase64EncodedStringForUpload:()=>nN,encodeBigEndian:()=>zr,encodeBinaryNode:()=>rg,encodeNewsletterMessage:()=>mg,encodeSignedDeviceIdentity:()=>Gs,encodeSyncdPatch:()=>t_,encodeWAM:()=>C6,encodeWAMessage:()=>Bu,encryptMediaRetryRequest:()=>Ny,encryptedStream:()=>Ry,extensionForMediaMessage:()=>M4,extractAddressingContext:()=>Rg,extractDeviceJids:()=>Gy,extractImageThumb:()=>Cp,extractMessageContent:()=>ky,extractSyncdPatches:()=>r_,extractUrlFromText:()=>sN,fetchLatestBaileysVersion:()=>LL,fetchLatestWaWebVersion:()=>DL,generateForwardMessageContent:()=>dN,generateLinkPreviewIfRequired:()=>cN,generateLoginNode:()=>Wy,generateMdTagPrefix:()=>_g,generateMessageID:()=>xu,generateMessageIDV2:()=>zt,generateOrGetPreKeys:()=>gN,generateParticipantHashV2:()=>hg,generateProfilePicture:()=>Sl,generateRegistrationId:()=>gg,generateRegistrationNode:()=>Yy,generateSignalPubKey:()=>Yr,generateThumbnail:()=>by,generateWAMessage:()=>wy,generateWAMessageContent:()=>pN,generateWAMessageFromContent:()=>fN,getAggregateVotesInPollMessage:()=>k4,getAllBinaryNodeChildren:()=>Ba,getAudioDuration:()=>Ay,getAudioWaveform:()=>my,getBinaryNodeChild:()=>G,getBinaryNodeChildBuffer:()=>qn,getBinaryNodeChildString:()=>Je,getBinaryNodeChildUInt:()=>Du,getBinaryNodeChildren:()=>qe,getBinaryNodeMessages:()=>AL,getCallStatusFromNode:()=>Og,getChatId:()=>UN,getCodeFromWSError:()=>Sg,getContentType:()=>Ks,getDevice:()=>D4,getErrorCodeFromStreamError:()=>Ig,getHistoryMsg:()=>ml,getHttpStream:()=>Al,getKeyAuthor:()=>ja,getMediaKeys:()=>Sy,getNextPreKeys:()=>kp,getNextPreKeysNode:()=>Vy,getPlatformId:()=>S_,getPreKeys:()=>hN,getRawMediaUploadData:()=>Ol,getStatusCodeForMediaRetry:()=>Np,getStatusFromReceiptType:()=>Tg,getStream:()=>Bs,getUrlFromDirectPath:()=>xs,getUrlInfo:()=>__,getWAUploadToServer:()=>Cy,hkdf:()=>Un,hkdfInfoKey:()=>tN,hmacSign:()=>fr,initAuthCreds:()=>g_,isJidBot:()=>TL,isJidBroadcast:()=>zo,isJidGroup:()=>on,isJidMetaAI:()=>ng,isJidNewsletter:()=>Ua,isJidStatusBroadcast:()=>mi,isLidUser:()=>an,isPnUser:()=>On,isRealMessage:()=>Fp,isWABusinessPlatform:()=>vL,jidDecode:()=>Ge,jidEncode:()=>Yt,jidNormalizedUser:()=>nt,makeCacheableSignalKeyStore:()=>sx,makeEventBuffer:()=>I_,makeNoiseHandler:()=>qy,makeWASocket:()=>W_,md5:()=>NL,mediaMessageSHA256B64:()=>C4,newLTHashState:()=>Rl,normalizeMessageContent:()=>ar,parseAndInjectE2ESessions:()=>Hy,prepareDisappearingMessageSettingContent:()=>uN,prepareWAMessageMedia:()=>js,processHistoryMessage:()=>ON,processSyncAction:()=>s_,promiseTimeout:()=>Ka,proto:()=>x,readAndEmitEventStream:()=>yx,reduceBinaryNodeToDictionary:()=>wu,sha256:()=>oa,shouldIncrementChatUnread:()=>jp,signedKeyPair:()=>sg,toBuffer:()=>Il,toNumber:()=>Bn,toReadable:()=>Iy,transferDevice:()=>qo,trimUndefined:()=>wc,unixTimestampSeconds:()=>Xn,unpadRandomMax16:()=>fg,updateMessageWithPollUpdate:()=>w4,updateMessageWithReaction:()=>Lp,updateMessageWithReceipt:()=>Pp,useMultiFileAuthState:()=>Ax,writeRandomPadMax16:()=>NA,xmppPreKey:()=>wp,xmppSignedPreKey:()=>Dp});var mo=Me(HT()),p=mo.default.Reader,E=mo.default.Writer,h=mo.default.util,u=mo.default.roots.default||(mo.default.roots.default={}),x=u.proto=(()=>{let a={};return a.ADVDeviceIdentity=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.rawId=0,n.prototype.timestamp=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.keyIndex=0,n.prototype.accountType=0,n.prototype.deviceType=0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.rawId!=null&&Object.hasOwnProperty.call(e,"rawId")&&t.uint32(8).uint32(e.rawId),e.timestamp!=null&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(16).uint64(e.timestamp),e.keyIndex!=null&&Object.hasOwnProperty.call(e,"keyIndex")&&t.uint32(24).uint32(e.keyIndex),e.accountType!=null&&Object.hasOwnProperty.call(e,"accountType")&&t.uint32(32).int32(e.accountType),e.deviceType!=null&&Object.hasOwnProperty.call(e,"deviceType")&&t.uint32(40).int32(e.deviceType),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.ADVDeviceIdentity;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.rawId=e.uint32();break}case 2:{s.timestamp=e.uint64();break}case 3:{s.keyIndex=e.uint32();break}case 4:{s.accountType=e.int32();break}case 5:{s.deviceType=e.int32();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.ADVDeviceIdentity"},n}(),a.ADVEncryptionType=function(){let n={},r=Object.create(n);return r[n[0]="E2EE"]=0,r[n[1]="HOSTED"]=1,r}(),a.ADVKeyIndexList=function(){function n(r){if(this.validIndexes=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.rawId=0,n.prototype.timestamp=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.currentIndex=0,n.prototype.validIndexes=h.emptyArray,n.prototype.accountType=0,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.rawId!=null&&Object.hasOwnProperty.call(e,"rawId")&&t.uint32(8).uint32(e.rawId),e.timestamp!=null&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(16).uint64(e.timestamp),e.currentIndex!=null&&Object.hasOwnProperty.call(e,"currentIndex")&&t.uint32(24).uint32(e.currentIndex),e.validIndexes!=null&&e.validIndexes.length){t.uint32(34).fork();for(var i=0;i<e.validIndexes.length;++i)t.uint32(e.validIndexes[i]);t.ldelim()}return e.accountType!=null&&Object.hasOwnProperty.call(e,"accountType")&&t.uint32(40).int32(e.accountType),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.ADVKeyIndexList;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.rawId=e.uint32();break}case 2:{s.timestamp=e.uint64();break}case 3:{s.currentIndex=e.uint32();break}case 4:{if(s.validIndexes&&s.validIndexes.length||(s.validIndexes=[]),(c&7)===2)for(var l=e.uint32()+e.pos;e.pos<l;)s.validIndexes.push(e.uint32());else s.validIndexes.push(e.uint32());break}case 5:{s.accountType=e.int32();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.ADVKeyIndexList"},n}(),a.ADVSignedDeviceIdentity=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.details=h.newBuffer([]),n.prototype.accountSignatureKey=h.newBuffer([]),n.prototype.accountSignature=h.newBuffer([]),n.prototype.deviceSignature=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.details!=null&&Object.hasOwnProperty.call(e,"details")&&t.uint32(10).bytes(e.details),e.accountSignatureKey!=null&&Object.hasOwnProperty.call(e,"accountSignatureKey")&&t.uint32(18).bytes(e.accountSignatureKey),e.accountSignature!=null&&Object.hasOwnProperty.call(e,"accountSignature")&&t.uint32(26).bytes(e.accountSignature),e.deviceSignature!=null&&Object.hasOwnProperty.call(e,"deviceSignature")&&t.uint32(34).bytes(e.deviceSignature),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.ADVSignedDeviceIdentity;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.details=e.bytes();break}case 2:{s.accountSignatureKey=e.bytes();break}case 3:{s.accountSignature=e.bytes();break}case 4:{s.deviceSignature=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.ADVSignedDeviceIdentity"},n}(),a.ADVSignedDeviceIdentityHMAC=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.details=h.newBuffer([]),n.prototype.hmac=h.newBuffer([]),n.prototype.accountType=0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.details!=null&&Object.hasOwnProperty.call(e,"details")&&t.uint32(10).bytes(e.details),e.hmac!=null&&Object.hasOwnProperty.call(e,"hmac")&&t.uint32(18).bytes(e.hmac),e.accountType!=null&&Object.hasOwnProperty.call(e,"accountType")&&t.uint32(24).int32(e.accountType),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.ADVSignedDeviceIdentityHMAC;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.details=e.bytes();break}case 2:{s.hmac=e.bytes();break}case 3:{s.accountType=e.int32();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.ADVSignedDeviceIdentityHMAC"},n}(),a.ADVSignedKeyIndexList=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.details=h.newBuffer([]),n.prototype.accountSignature=h.newBuffer([]),n.prototype.accountSignatureKey=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.details!=null&&Object.hasOwnProperty.call(e,"details")&&t.uint32(10).bytes(e.details),e.accountSignature!=null&&Object.hasOwnProperty.call(e,"accountSignature")&&t.uint32(18).bytes(e.accountSignature),e.accountSignatureKey!=null&&Object.hasOwnProperty.call(e,"accountSignatureKey")&&t.uint32(26).bytes(e.accountSignatureKey),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.ADVSignedKeyIndexList;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.details=e.bytes();break}case 2:{s.accountSignature=e.bytes();break}case 3:{s.accountSignatureKey=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.ADVSignedKeyIndexList"},n}(),a.AIQueryFanout=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.messageKey=null,n.prototype.message=null,n.prototype.timestamp=h.Long?h.Long.fromBits(0,0,!1):0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.messageKey!=null&&Object.hasOwnProperty.call(e,"messageKey")&&u.proto.MessageKey.encode(e.messageKey,t.uint32(10).fork()).ldelim(),e.message!=null&&Object.hasOwnProperty.call(e,"message")&&u.proto.Message.encode(e.message,t.uint32(18).fork()).ldelim(),e.timestamp!=null&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(24).int64(e.timestamp),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.AIQueryFanout;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.messageKey=u.proto.MessageKey.decode(e,e.uint32());break}case 2:{s.message=u.proto.Message.decode(e,e.uint32());break}case 3:{s.timestamp=e.int64();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.AIQueryFanout"},n}(),a.AIRichResponseMessage=function(){function n(r){if(this.submessages=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.messageType=0,n.prototype.submessages=h.emptyArray,n.prototype.unifiedResponse=null,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.messageType!=null&&Object.hasOwnProperty.call(e,"messageType")&&t.uint32(8).int32(e.messageType),e.submessages!=null&&e.submessages.length)for(var i=0;i<e.submessages.length;++i)u.proto.AIRichResponseMessage.AIRichResponseSubMessage.encode(e.submessages[i],t.uint32(18).fork()).ldelim();return e.unifiedResponse!=null&&Object.hasOwnProperty.call(e,"unifiedResponse")&&u.proto.AIRichResponseMessage.AIRichResponseUnifiedResponse.encode(e.unifiedResponse,t.uint32(26).fork()).ldelim(),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.AIRichResponseMessage;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.messageType=e.int32();break}case 2:{s.submessages&&s.submessages.length||(s.submessages=[]),s.submessages.push(u.proto.AIRichResponseMessage.AIRichResponseSubMessage.decode(e,e.uint32()));break}case 3:{s.unifiedResponse=u.proto.AIRichResponseMessage.AIRichResponseUnifiedResponse.decode(e,e.uint32());break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.AIRichResponseMessage"},n.AIRichResponseCodeMetadata=function(){function r(e){if(this.codeBlocks=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.codeLanguage="",r.prototype.codeBlocks=h.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.codeLanguage!=null&&Object.hasOwnProperty.call(t,"codeLanguage")&&i.uint32(10).string(t.codeLanguage),t.codeBlocks!=null&&t.codeBlocks.length)for(var o=0;o<t.codeBlocks.length;++o)u.proto.AIRichResponseMessage.AIRichResponseCodeMetadata.AIRichResponseCodeBlock.encode(t.codeBlocks[o],i.uint32(18).fork()).ldelim();return i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.AIRichResponseMessage.AIRichResponseCodeMetadata;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.codeLanguage=t.string();break}case 2:{c.codeBlocks&&c.codeBlocks.length||(c.codeBlocks=[]),c.codeBlocks.push(u.proto.AIRichResponseMessage.AIRichResponseCodeMetadata.AIRichResponseCodeBlock.decode(t,t.uint32()));break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.AIRichResponseMessage.AIRichResponseCodeMetadata"},r.AIRichResponseCodeBlock=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.highlightType=0,e.prototype.codeContent="",e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.highlightType!=null&&Object.hasOwnProperty.call(i,"highlightType")&&o.uint32(8).int32(i.highlightType),i.codeContent!=null&&Object.hasOwnProperty.call(i,"codeContent")&&o.uint32(18).string(i.codeContent),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.AIRichResponseMessage.AIRichResponseCodeMetadata.AIRichResponseCodeBlock;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.highlightType=i.int32();break}case 2:{l.codeContent=i.string();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.AIRichResponseMessage.AIRichResponseCodeMetadata.AIRichResponseCodeBlock"},e}(),r.AIRichResponseCodeHighlightType=function(){let e={},t=Object.create(e);return t[e[0]="AI_RICH_RESPONSE_CODE_HIGHLIGHT_DEFAULT"]=0,t[e[1]="AI_RICH_RESPONSE_CODE_HIGHLIGHT_KEYWORD"]=1,t[e[2]="AI_RICH_RESPONSE_CODE_HIGHLIGHT_METHOD"]=2,t[e[3]="AI_RICH_RESPONSE_CODE_HIGHLIGHT_STRING"]=3,t[e[4]="AI_RICH_RESPONSE_CODE_HIGHLIGHT_NUMBER"]=4,t[e[5]="AI_RICH_RESPONSE_CODE_HIGHLIGHT_COMMENT"]=5,t}(),r}(),n.AIRichResponseContentItemsMetadata=function(){function r(e){if(this.itemsMetadata=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.itemsMetadata=h.emptyArray,r.prototype.contentType=0,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.itemsMetadata!=null&&t.itemsMetadata.length)for(var o=0;o<t.itemsMetadata.length;++o)u.proto.AIRichResponseMessage.AIRichResponseContentItemsMetadata.AIRichResponseContentItemMetadata.encode(t.itemsMetadata[o],i.uint32(10).fork()).ldelim();return t.contentType!=null&&Object.hasOwnProperty.call(t,"contentType")&&i.uint32(16).int32(t.contentType),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.AIRichResponseMessage.AIRichResponseContentItemsMetadata;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.itemsMetadata&&c.itemsMetadata.length||(c.itemsMetadata=[]),c.itemsMetadata.push(u.proto.AIRichResponseMessage.AIRichResponseContentItemsMetadata.AIRichResponseContentItemMetadata.decode(t,t.uint32()));break}case 2:{c.contentType=t.int32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.AIRichResponseMessage.AIRichResponseContentItemsMetadata"},r.AIRichResponseContentItemMetadata=function(){function e(i){if(i)for(var o=Object.keys(i),s=0;s<o.length;++s)i[o[s]]!=null&&(this[o[s]]=i[o[s]])}e.prototype.reelItem=null;let t;return Object.defineProperty(e.prototype,"aIRichResponseContentItem",{get:h.oneOfGetter(t=["reelItem"]),set:h.oneOfSetter(t)}),e.create=function(o){return new e(o)},e.encode=function(o,s){return s||(s=E.create()),o.reelItem!=null&&Object.hasOwnProperty.call(o,"reelItem")&&u.proto.AIRichResponseMessage.AIRichResponseContentItemsMetadata.AIRichResponseReelItem.encode(o.reelItem,s.uint32(10).fork()).ldelim(),s},e.decode=function(o,s,c){o instanceof p||(o=p.create(o));for(var l=s===void 0?o.len:o.pos+s,d=new u.proto.AIRichResponseMessage.AIRichResponseContentItemsMetadata.AIRichResponseContentItemMetadata;o.pos<l;){var f=o.uint32();if(f===c)break;switch(f>>>3){case 1:{d.reelItem=u.proto.AIRichResponseMessage.AIRichResponseContentItemsMetadata.AIRichResponseReelItem.decode(o,o.uint32());break}default:o.skipType(f&7);break}}return d},e.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/proto.AIRichResponseMessage.AIRichResponseContentItemsMetadata.AIRichResponseContentItemMetadata"},e}(),r.AIRichResponseReelItem=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.title="",e.prototype.profileIconUrl="",e.prototype.thumbnailUrl="",e.prototype.videoUrl="",e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.title!=null&&Object.hasOwnProperty.call(i,"title")&&o.uint32(10).string(i.title),i.profileIconUrl!=null&&Object.hasOwnProperty.call(i,"profileIconUrl")&&o.uint32(18).string(i.profileIconUrl),i.thumbnailUrl!=null&&Object.hasOwnProperty.call(i,"thumbnailUrl")&&o.uint32(26).string(i.thumbnailUrl),i.videoUrl!=null&&Object.hasOwnProperty.call(i,"videoUrl")&&o.uint32(34).string(i.videoUrl),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.AIRichResponseMessage.AIRichResponseContentItemsMetadata.AIRichResponseReelItem;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.title=i.string();break}case 2:{l.profileIconUrl=i.string();break}case 3:{l.thumbnailUrl=i.string();break}case 4:{l.videoUrl=i.string();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.AIRichResponseMessage.AIRichResponseContentItemsMetadata.AIRichResponseReelItem"},e}(),r.ContentType=function(){let e={},t=Object.create(e);return t[e[0]="DEFAULT"]=0,t[e[1]="CAROUSEL"]=1,t}(),r}(),n.AIRichResponseDynamicMetadata=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.type=0,r.prototype.version=h.Long?h.Long.fromBits(0,0,!0):0,r.prototype.url="",r.prototype.loopCount=0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&i.uint32(8).int32(t.type),t.version!=null&&Object.hasOwnProperty.call(t,"version")&&i.uint32(16).uint64(t.version),t.url!=null&&Object.hasOwnProperty.call(t,"url")&&i.uint32(26).string(t.url),t.loopCount!=null&&Object.hasOwnProperty.call(t,"loopCount")&&i.uint32(32).uint32(t.loopCount),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.AIRichResponseMessage.AIRichResponseDynamicMetadata;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.type=t.int32();break}case 2:{c.version=t.uint64();break}case 3:{c.url=t.string();break}case 4:{c.loopCount=t.uint32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.AIRichResponseMessage.AIRichResponseDynamicMetadata"},r.AIRichResponseDynamicMetadataType=function(){let e={},t=Object.create(e);return t[e[0]="AI_RICH_RESPONSE_DYNAMIC_METADATA_TYPE_UNKNOWN"]=0,t[e[1]="AI_RICH_RESPONSE_DYNAMIC_METADATA_TYPE_IMAGE"]=1,t[e[2]="AI_RICH_RESPONSE_DYNAMIC_METADATA_TYPE_GIF"]=2,t}(),r}(),n.AIRichResponseGridImageMetadata=function(){function r(e){if(this.imageUrls=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.gridImageUrl=null,r.prototype.imageUrls=h.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.gridImageUrl!=null&&Object.hasOwnProperty.call(t,"gridImageUrl")&&u.proto.AIRichResponseMessage.AIRichResponseImageURL.encode(t.gridImageUrl,i.uint32(10).fork()).ldelim(),t.imageUrls!=null&&t.imageUrls.length)for(var o=0;o<t.imageUrls.length;++o)u.proto.AIRichResponseMessage.AIRichResponseImageURL.encode(t.imageUrls[o],i.uint32(18).fork()).ldelim();return i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.AIRichResponseMessage.AIRichResponseGridImageMetadata;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.gridImageUrl=u.proto.AIRichResponseMessage.AIRichResponseImageURL.decode(t,t.uint32());break}case 2:{c.imageUrls&&c.imageUrls.length||(c.imageUrls=[]),c.imageUrls.push(u.proto.AIRichResponseMessage.AIRichResponseImageURL.decode(t,t.uint32()));break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.AIRichResponseMessage.AIRichResponseGridImageMetadata"},r}(),n.AIRichResponseImageURL=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.imagePreviewUrl="",r.prototype.imageHighResUrl="",r.prototype.sourceUrl="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.imagePreviewUrl!=null&&Object.hasOwnProperty.call(t,"imagePreviewUrl")&&i.uint32(10).string(t.imagePreviewUrl),t.imageHighResUrl!=null&&Object.hasOwnProperty.call(t,"imageHighResUrl")&&i.uint32(18).string(t.imageHighResUrl),t.sourceUrl!=null&&Object.hasOwnProperty.call(t,"sourceUrl")&&i.uint32(26).string(t.sourceUrl),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.AIRichResponseMessage.AIRichResponseImageURL;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.imagePreviewUrl=t.string();break}case 2:{c.imageHighResUrl=t.string();break}case 3:{c.sourceUrl=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.AIRichResponseMessage.AIRichResponseImageURL"},r}(),n.AIRichResponseInlineImageMetadata=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.imageUrl=null,r.prototype.imageText="",r.prototype.alignment=0,r.prototype.tapLinkUrl="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.imageUrl!=null&&Object.hasOwnProperty.call(t,"imageUrl")&&u.proto.AIRichResponseMessage.AIRichResponseImageURL.encode(t.imageUrl,i.uint32(10).fork()).ldelim(),t.imageText!=null&&Object.hasOwnProperty.call(t,"imageText")&&i.uint32(18).string(t.imageText),t.alignment!=null&&Object.hasOwnProperty.call(t,"alignment")&&i.uint32(24).int32(t.alignment),t.tapLinkUrl!=null&&Object.hasOwnProperty.call(t,"tapLinkUrl")&&i.uint32(34).string(t.tapLinkUrl),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.AIRichResponseMessage.AIRichResponseInlineImageMetadata;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.imageUrl=u.proto.AIRichResponseMessage.AIRichResponseImageURL.decode(t,t.uint32());break}case 2:{c.imageText=t.string();break}case 3:{c.alignment=t.int32();break}case 4:{c.tapLinkUrl=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.AIRichResponseMessage.AIRichResponseInlineImageMetadata"},r.AIRichResponseImageAlignment=function(){let e={},t=Object.create(e);return t[e[0]="AI_RICH_RESPONSE_IMAGE_LAYOUT_LEADING_ALIGNED"]=0,t[e[1]="AI_RICH_RESPONSE_IMAGE_LAYOUT_TRAILING_ALIGNED"]=1,t[e[2]="AI_RICH_RESPONSE_IMAGE_LAYOUT_CENTER_ALIGNED"]=2,t}(),r}(),n.AIRichResponseLatexMetadata=function(){function r(e){if(this.expressions=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.text="",r.prototype.expressions=h.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.text!=null&&Object.hasOwnProperty.call(t,"text")&&i.uint32(10).string(t.text),t.expressions!=null&&t.expressions.length)for(var o=0;o<t.expressions.length;++o)u.proto.AIRichResponseMessage.AIRichResponseLatexMetadata.AIRichResponseLatexExpression.encode(t.expressions[o],i.uint32(18).fork()).ldelim();return i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.AIRichResponseMessage.AIRichResponseLatexMetadata;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.text=t.string();break}case 2:{c.expressions&&c.expressions.length||(c.expressions=[]),c.expressions.push(u.proto.AIRichResponseMessage.AIRichResponseLatexMetadata.AIRichResponseLatexExpression.decode(t,t.uint32()));break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.AIRichResponseMessage.AIRichResponseLatexMetadata"},r.AIRichResponseLatexExpression=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.latexExpression="",e.prototype.url="",e.prototype.width=0,e.prototype.height=0,e.prototype.fontHeight=0,e.prototype.imageTopPadding=0,e.prototype.imageLeadingPadding=0,e.prototype.imageBottomPadding=0,e.prototype.imageTrailingPadding=0,e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.latexExpression!=null&&Object.hasOwnProperty.call(i,"latexExpression")&&o.uint32(10).string(i.latexExpression),i.url!=null&&Object.hasOwnProperty.call(i,"url")&&o.uint32(18).string(i.url),i.width!=null&&Object.hasOwnProperty.call(i,"width")&&o.uint32(25).double(i.width),i.height!=null&&Object.hasOwnProperty.call(i,"height")&&o.uint32(33).double(i.height),i.fontHeight!=null&&Object.hasOwnProperty.call(i,"fontHeight")&&o.uint32(41).double(i.fontHeight),i.imageTopPadding!=null&&Object.hasOwnProperty.call(i,"imageTopPadding")&&o.uint32(49).double(i.imageTopPadding),i.imageLeadingPadding!=null&&Object.hasOwnProperty.call(i,"imageLeadingPadding")&&o.uint32(57).double(i.imageLeadingPadding),i.imageBottomPadding!=null&&Object.hasOwnProperty.call(i,"imageBottomPadding")&&o.uint32(65).double(i.imageBottomPadding),i.imageTrailingPadding!=null&&Object.hasOwnProperty.call(i,"imageTrailingPadding")&&o.uint32(73).double(i.imageTrailingPadding),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.AIRichResponseMessage.AIRichResponseLatexMetadata.AIRichResponseLatexExpression;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.latexExpression=i.string();break}case 2:{l.url=i.string();break}case 3:{l.width=i.double();break}case 4:{l.height=i.double();break}case 5:{l.fontHeight=i.double();break}case 6:{l.imageTopPadding=i.double();break}case 7:{l.imageLeadingPadding=i.double();break}case 8:{l.imageBottomPadding=i.double();break}case 9:{l.imageTrailingPadding=i.double();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.AIRichResponseMessage.AIRichResponseLatexMetadata.AIRichResponseLatexExpression"},e}(),r}(),n.AIRichResponseMapMetadata=function(){function r(e){if(this.annotations=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.centerLatitude=0,r.prototype.centerLongitude=0,r.prototype.latitudeDelta=0,r.prototype.longitudeDelta=0,r.prototype.annotations=h.emptyArray,r.prototype.showInfoList=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.centerLatitude!=null&&Object.hasOwnProperty.call(t,"centerLatitude")&&i.uint32(9).double(t.centerLatitude),t.centerLongitude!=null&&Object.hasOwnProperty.call(t,"centerLongitude")&&i.uint32(17).double(t.centerLongitude),t.latitudeDelta!=null&&Object.hasOwnProperty.call(t,"latitudeDelta")&&i.uint32(25).double(t.latitudeDelta),t.longitudeDelta!=null&&Object.hasOwnProperty.call(t,"longitudeDelta")&&i.uint32(33).double(t.longitudeDelta),t.annotations!=null&&t.annotations.length)for(var o=0;o<t.annotations.length;++o)u.proto.AIRichResponseMessage.AIRichResponseMapMetadata.AIRichResponseMapAnnotation.encode(t.annotations[o],i.uint32(42).fork()).ldelim();return t.showInfoList!=null&&Object.hasOwnProperty.call(t,"showInfoList")&&i.uint32(48).bool(t.showInfoList),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.AIRichResponseMessage.AIRichResponseMapMetadata;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.centerLatitude=t.double();break}case 2:{c.centerLongitude=t.double();break}case 3:{c.latitudeDelta=t.double();break}case 4:{c.longitudeDelta=t.double();break}case 5:{c.annotations&&c.annotations.length||(c.annotations=[]),c.annotations.push(u.proto.AIRichResponseMessage.AIRichResponseMapMetadata.AIRichResponseMapAnnotation.decode(t,t.uint32()));break}case 6:{c.showInfoList=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.AIRichResponseMessage.AIRichResponseMapMetadata"},r.AIRichResponseMapAnnotation=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.annotationNumber=0,e.prototype.latitude=0,e.prototype.longitude=0,e.prototype.title="",e.prototype.body="",e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.annotationNumber!=null&&Object.hasOwnProperty.call(i,"annotationNumber")&&o.uint32(8).uint32(i.annotationNumber),i.latitude!=null&&Object.hasOwnProperty.call(i,"latitude")&&o.uint32(17).double(i.latitude),i.longitude!=null&&Object.hasOwnProperty.call(i,"longitude")&&o.uint32(25).double(i.longitude),i.title!=null&&Object.hasOwnProperty.call(i,"title")&&o.uint32(34).string(i.title),i.body!=null&&Object.hasOwnProperty.call(i,"body")&&o.uint32(42).string(i.body),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.AIRichResponseMessage.AIRichResponseMapMetadata.AIRichResponseMapAnnotation;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.annotationNumber=i.uint32();break}case 2:{l.latitude=i.double();break}case 3:{l.longitude=i.double();break}case 4:{l.title=i.string();break}case 5:{l.body=i.string();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.AIRichResponseMessage.AIRichResponseMapMetadata.AIRichResponseMapAnnotation"},e}(),r}(),n.AIRichResponseMessageType=function(){let r={},e=Object.create(r);return e[r[0]="AI_RICH_RESPONSE_TYPE_UNKNOWN"]=0,e[r[1]="AI_RICH_RESPONSE_TYPE_STANDARD"]=1,e}(),n.AIRichResponseSubMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.messageType=0,r.prototype.gridImageMetadata=null,r.prototype.messageText="",r.prototype.imageMetadata=null,r.prototype.codeMetadata=null,r.prototype.tableMetadata=null,r.prototype.dynamicMetadata=null,r.prototype.latexMetadata=null,r.prototype.mapMetadata=null,r.prototype.contentItemsMetadata=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.messageType!=null&&Object.hasOwnProperty.call(t,"messageType")&&i.uint32(8).int32(t.messageType),t.gridImageMetadata!=null&&Object.hasOwnProperty.call(t,"gridImageMetadata")&&u.proto.AIRichResponseMessage.AIRichResponseGridImageMetadata.encode(t.gridImageMetadata,i.uint32(18).fork()).ldelim(),t.messageText!=null&&Object.hasOwnProperty.call(t,"messageText")&&i.uint32(26).string(t.messageText),t.imageMetadata!=null&&Object.hasOwnProperty.call(t,"imageMetadata")&&u.proto.AIRichResponseMessage.AIRichResponseInlineImageMetadata.encode(t.imageMetadata,i.uint32(34).fork()).ldelim(),t.codeMetadata!=null&&Object.hasOwnProperty.call(t,"codeMetadata")&&u.proto.AIRichResponseMessage.AIRichResponseCodeMetadata.encode(t.codeMetadata,i.uint32(42).fork()).ldelim(),t.tableMetadata!=null&&Object.hasOwnProperty.call(t,"tableMetadata")&&u.proto.AIRichResponseMessage.AIRichResponseTableMetadata.encode(t.tableMetadata,i.uint32(50).fork()).ldelim(),t.dynamicMetadata!=null&&Object.hasOwnProperty.call(t,"dynamicMetadata")&&u.proto.AIRichResponseMessage.AIRichResponseDynamicMetadata.encode(t.dynamicMetadata,i.uint32(58).fork()).ldelim(),t.latexMetadata!=null&&Object.hasOwnProperty.call(t,"latexMetadata")&&u.proto.AIRichResponseMessage.AIRichResponseLatexMetadata.encode(t.latexMetadata,i.uint32(66).fork()).ldelim(),t.mapMetadata!=null&&Object.hasOwnProperty.call(t,"mapMetadata")&&u.proto.AIRichResponseMessage.AIRichResponseMapMetadata.encode(t.mapMetadata,i.uint32(74).fork()).ldelim(),t.contentItemsMetadata!=null&&Object.hasOwnProperty.call(t,"contentItemsMetadata")&&u.proto.AIRichResponseMessage.AIRichResponseContentItemsMetadata.encode(t.contentItemsMetadata,i.uint32(82).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.AIRichResponseMessage.AIRichResponseSubMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.messageType=t.int32();break}case 2:{c.gridImageMetadata=u.proto.AIRichResponseMessage.AIRichResponseGridImageMetadata.decode(t,t.uint32());break}case 3:{c.messageText=t.string();break}case 4:{c.imageMetadata=u.proto.AIRichResponseMessage.AIRichResponseInlineImageMetadata.decode(t,t.uint32());break}case 5:{c.codeMetadata=u.proto.AIRichResponseMessage.AIRichResponseCodeMetadata.decode(t,t.uint32());break}case 6:{c.tableMetadata=u.proto.AIRichResponseMessage.AIRichResponseTableMetadata.decode(t,t.uint32());break}case 7:{c.dynamicMetadata=u.proto.AIRichResponseMessage.AIRichResponseDynamicMetadata.decode(t,t.uint32());break}case 8:{c.latexMetadata=u.proto.AIRichResponseMessage.AIRichResponseLatexMetadata.decode(t,t.uint32());break}case 9:{c.mapMetadata=u.proto.AIRichResponseMessage.AIRichResponseMapMetadata.decode(t,t.uint32());break}case 10:{c.contentItemsMetadata=u.proto.AIRichResponseMessage.AIRichResponseContentItemsMetadata.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.AIRichResponseMessage.AIRichResponseSubMessage"},r}(),n.AIRichResponseSubMessageType=function(){let r={},e=Object.create(r);return e[r[0]="AI_RICH_RESPONSE_UNKNOWN"]=0,e[r[1]="AI_RICH_RESPONSE_GRID_IMAGE"]=1,e[r[2]="AI_RICH_RESPONSE_TEXT"]=2,e[r[3]="AI_RICH_RESPONSE_INLINE_IMAGE"]=3,e[r[4]="AI_RICH_RESPONSE_TABLE"]=4,e[r[5]="AI_RICH_RESPONSE_CODE"]=5,e[r[6]="AI_RICH_RESPONSE_DYNAMIC"]=6,e[r[7]="AI_RICH_RESPONSE_MAP"]=7,e[r[8]="AI_RICH_RESPONSE_LATEX"]=8,e[r[9]="AI_RICH_RESPONSE_CONTENT_ITEMS"]=9,e}(),n.AIRichResponseTableMetadata=function(){function r(e){if(this.rows=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.rows=h.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.rows!=null&&t.rows.length)for(var o=0;o<t.rows.length;++o)u.proto.AIRichResponseMessage.AIRichResponseTableMetadata.AIRichResponseTableRow.encode(t.rows[o],i.uint32(10).fork()).ldelim();return i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.AIRichResponseMessage.AIRichResponseTableMetadata;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.rows&&c.rows.length||(c.rows=[]),c.rows.push(u.proto.AIRichResponseMessage.AIRichResponseTableMetadata.AIRichResponseTableRow.decode(t,t.uint32()));break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.AIRichResponseMessage.AIRichResponseTableMetadata"},r.AIRichResponseTableRow=function(){function e(t){if(this.items=[],t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.items=h.emptyArray,e.prototype.isHeading=!1,e.create=function(i){return new e(i)},e.encode=function(i,o){if(o||(o=E.create()),i.items!=null&&i.items.length)for(var s=0;s<i.items.length;++s)o.uint32(10).string(i.items[s]);return i.isHeading!=null&&Object.hasOwnProperty.call(i,"isHeading")&&o.uint32(16).bool(i.isHeading),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.AIRichResponseMessage.AIRichResponseTableMetadata.AIRichResponseTableRow;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.items&&l.items.length||(l.items=[]),l.items.push(i.string());break}case 2:{l.isHeading=i.bool();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.AIRichResponseMessage.AIRichResponseTableMetadata.AIRichResponseTableRow"},e}(),r}(),n.AIRichResponseUnifiedResponse=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.data=h.newBuffer([]),r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&i.uint32(10).bytes(t.data),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.AIRichResponseMessage.AIRichResponseUnifiedResponse;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.data=t.bytes();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.AIRichResponseMessage.AIRichResponseUnifiedResponse"},r}(),n}(),a.Account=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.lid="",n.prototype.username="",n.prototype.countryCode="",n.prototype.isUsernameDeleted=!1,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.lid!=null&&Object.hasOwnProperty.call(e,"lid")&&t.uint32(10).string(e.lid),e.username!=null&&Object.hasOwnProperty.call(e,"username")&&t.uint32(18).string(e.username),e.countryCode!=null&&Object.hasOwnProperty.call(e,"countryCode")&&t.uint32(26).string(e.countryCode),e.isUsernameDeleted!=null&&Object.hasOwnProperty.call(e,"isUsernameDeleted")&&t.uint32(32).bool(e.isUsernameDeleted),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.Account;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.lid=e.string();break}case 2:{s.username=e.string();break}case 3:{s.countryCode=e.string();break}case 4:{s.isUsernameDeleted=e.bool();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.Account"},n}(),a.ActionLink=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.url="",n.prototype.buttonTitle="",n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.url!=null&&Object.hasOwnProperty.call(e,"url")&&t.uint32(10).string(e.url),e.buttonTitle!=null&&Object.hasOwnProperty.call(e,"buttonTitle")&&t.uint32(18).string(e.buttonTitle),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.ActionLink;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.url=e.string();break}case 2:{s.buttonTitle=e.string();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.ActionLink"},n}(),a.AutoDownloadSettings=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.downloadImages=!1,n.prototype.downloadAudio=!1,n.prototype.downloadVideo=!1,n.prototype.downloadDocuments=!1,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.downloadImages!=null&&Object.hasOwnProperty.call(e,"downloadImages")&&t.uint32(8).bool(e.downloadImages),e.downloadAudio!=null&&Object.hasOwnProperty.call(e,"downloadAudio")&&t.uint32(16).bool(e.downloadAudio),e.downloadVideo!=null&&Object.hasOwnProperty.call(e,"downloadVideo")&&t.uint32(24).bool(e.downloadVideo),e.downloadDocuments!=null&&Object.hasOwnProperty.call(e,"downloadDocuments")&&t.uint32(32).bool(e.downloadDocuments),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.AutoDownloadSettings;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.downloadImages=e.bool();break}case 2:{s.downloadAudio=e.bool();break}case 3:{s.downloadVideo=e.bool();break}case 4:{s.downloadDocuments=e.bool();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.AutoDownloadSettings"},n}(),a.AvatarUserSettings=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.fbid="",n.prototype.password="",n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.fbid!=null&&Object.hasOwnProperty.call(e,"fbid")&&t.uint32(10).string(e.fbid),e.password!=null&&Object.hasOwnProperty.call(e,"password")&&t.uint32(18).string(e.password),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.AvatarUserSettings;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.fbid=e.string();break}case 2:{s.password=e.string();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.AvatarUserSettings"},n}(),a.BizAccountLinkInfo=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.whatsappBizAcctFbid=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.whatsappAcctNumber="",n.prototype.issueTime=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.hostStorage=0,n.prototype.accountType=0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.whatsappBizAcctFbid!=null&&Object.hasOwnProperty.call(e,"whatsappBizAcctFbid")&&t.uint32(8).uint64(e.whatsappBizAcctFbid),e.whatsappAcctNumber!=null&&Object.hasOwnProperty.call(e,"whatsappAcctNumber")&&t.uint32(18).string(e.whatsappAcctNumber),e.issueTime!=null&&Object.hasOwnProperty.call(e,"issueTime")&&t.uint32(24).uint64(e.issueTime),e.hostStorage!=null&&Object.hasOwnProperty.call(e,"hostStorage")&&t.uint32(32).int32(e.hostStorage),e.accountType!=null&&Object.hasOwnProperty.call(e,"accountType")&&t.uint32(40).int32(e.accountType),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BizAccountLinkInfo;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.whatsappBizAcctFbid=e.uint64();break}case 2:{s.whatsappAcctNumber=e.string();break}case 3:{s.issueTime=e.uint64();break}case 4:{s.hostStorage=e.int32();break}case 5:{s.accountType=e.int32();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BizAccountLinkInfo"},n.AccountType=function(){let r={},e=Object.create(r);return e[r[0]="ENTERPRISE"]=0,e}(),n.HostStorageType=function(){let r={},e=Object.create(r);return e[r[0]="ON_PREMISE"]=0,e[r[1]="FACEBOOK"]=1,e}(),n}(),a.BizAccountPayload=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.vnameCert=null,n.prototype.bizAcctLinkInfo=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.vnameCert!=null&&Object.hasOwnProperty.call(e,"vnameCert")&&u.proto.VerifiedNameCertificate.encode(e.vnameCert,t.uint32(10).fork()).ldelim(),e.bizAcctLinkInfo!=null&&Object.hasOwnProperty.call(e,"bizAcctLinkInfo")&&t.uint32(18).bytes(e.bizAcctLinkInfo),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BizAccountPayload;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.vnameCert=u.proto.VerifiedNameCertificate.decode(e,e.uint32());break}case 2:{s.bizAcctLinkInfo=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BizAccountPayload"},n}(),a.BizIdentityInfo=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.vlevel=0,n.prototype.vnameCert=null,n.prototype.signed=!1,n.prototype.revoked=!1,n.prototype.hostStorage=0,n.prototype.actualActors=0,n.prototype.privacyModeTs=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.featureControls=h.Long?h.Long.fromBits(0,0,!0):0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.vlevel!=null&&Object.hasOwnProperty.call(e,"vlevel")&&t.uint32(8).int32(e.vlevel),e.vnameCert!=null&&Object.hasOwnProperty.call(e,"vnameCert")&&u.proto.VerifiedNameCertificate.encode(e.vnameCert,t.uint32(18).fork()).ldelim(),e.signed!=null&&Object.hasOwnProperty.call(e,"signed")&&t.uint32(24).bool(e.signed),e.revoked!=null&&Object.hasOwnProperty.call(e,"revoked")&&t.uint32(32).bool(e.revoked),e.hostStorage!=null&&Object.hasOwnProperty.call(e,"hostStorage")&&t.uint32(40).int32(e.hostStorage),e.actualActors!=null&&Object.hasOwnProperty.call(e,"actualActors")&&t.uint32(48).int32(e.actualActors),e.privacyModeTs!=null&&Object.hasOwnProperty.call(e,"privacyModeTs")&&t.uint32(56).uint64(e.privacyModeTs),e.featureControls!=null&&Object.hasOwnProperty.call(e,"featureControls")&&t.uint32(64).uint64(e.featureControls),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BizIdentityInfo;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.vlevel=e.int32();break}case 2:{s.vnameCert=u.proto.VerifiedNameCertificate.decode(e,e.uint32());break}case 3:{s.signed=e.bool();break}case 4:{s.revoked=e.bool();break}case 5:{s.hostStorage=e.int32();break}case 6:{s.actualActors=e.int32();break}case 7:{s.privacyModeTs=e.uint64();break}case 8:{s.featureControls=e.uint64();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BizIdentityInfo"},n.ActualActorsType=function(){let r={},e=Object.create(r);return e[r[0]="SELF"]=0,e[r[1]="BSP"]=1,e}(),n.HostStorageType=function(){let r={},e=Object.create(r);return e[r[0]="ON_PREMISE"]=0,e[r[1]="FACEBOOK"]=1,e}(),n.VerifiedLevelValue=function(){let r={},e=Object.create(r);return e[r[0]="UNKNOWN"]=0,e[r[1]="LOW"]=1,e[r[2]="HIGH"]=2,e}(),n}(),a.BotAgeCollectionMetadata=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.ageCollectionEligible=!1,n.prototype.shouldTriggerAgeCollectionOnClient=!1,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.ageCollectionEligible!=null&&Object.hasOwnProperty.call(e,"ageCollectionEligible")&&t.uint32(8).bool(e.ageCollectionEligible),e.shouldTriggerAgeCollectionOnClient!=null&&Object.hasOwnProperty.call(e,"shouldTriggerAgeCollectionOnClient")&&t.uint32(16).bool(e.shouldTriggerAgeCollectionOnClient),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BotAgeCollectionMetadata;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.ageCollectionEligible=e.bool();break}case 2:{s.shouldTriggerAgeCollectionOnClient=e.bool();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BotAgeCollectionMetadata"},n}(),a.BotAvatarMetadata=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.sentiment=0,n.prototype.behaviorGraph="",n.prototype.action=0,n.prototype.intensity=0,n.prototype.wordCount=0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.sentiment!=null&&Object.hasOwnProperty.call(e,"sentiment")&&t.uint32(8).uint32(e.sentiment),e.behaviorGraph!=null&&Object.hasOwnProperty.call(e,"behaviorGraph")&&t.uint32(18).string(e.behaviorGraph),e.action!=null&&Object.hasOwnProperty.call(e,"action")&&t.uint32(24).uint32(e.action),e.intensity!=null&&Object.hasOwnProperty.call(e,"intensity")&&t.uint32(32).uint32(e.intensity),e.wordCount!=null&&Object.hasOwnProperty.call(e,"wordCount")&&t.uint32(40).uint32(e.wordCount),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BotAvatarMetadata;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.sentiment=e.uint32();break}case 2:{s.behaviorGraph=e.string();break}case 3:{s.action=e.uint32();break}case 4:{s.intensity=e.uint32();break}case 5:{s.wordCount=e.uint32();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BotAvatarMetadata"},n}(),a.BotCapabilityMetadata=function(){function n(r){if(this.capabilities=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.capabilities=h.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.capabilities!=null&&e.capabilities.length)for(var i=0;i<e.capabilities.length;++i)t.uint32(8).int32(e.capabilities[i]);return t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BotCapabilityMetadata;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{if(s.capabilities&&s.capabilities.length||(s.capabilities=[]),(c&7)===2)for(var l=e.uint32()+e.pos;e.pos<l;)s.capabilities.push(e.int32());else s.capabilities.push(e.int32());break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BotCapabilityMetadata"},n.BotCapabilityType=function(){let r={},e=Object.create(r);return e[r[0]="UNKNOWN"]=0,e[r[1]="PROGRESS_INDICATOR"]=1,e[r[2]="RICH_RESPONSE_HEADING"]=2,e[r[3]="RICH_RESPONSE_NESTED_LIST"]=3,e[r[4]="AI_MEMORY"]=4,e[r[5]="RICH_RESPONSE_THREAD_SURFING"]=5,e[r[6]="RICH_RESPONSE_TABLE"]=6,e[r[7]="RICH_RESPONSE_CODE"]=7,e[r[8]="RICH_RESPONSE_STRUCTURED_RESPONSE"]=8,e[r[9]="RICH_RESPONSE_INLINE_IMAGE"]=9,e[r[10]="WA_IG_1P_PLUGIN_RANKING_CONTROL"]=10,e[r[11]="WA_IG_1P_PLUGIN_RANKING_UPDATE_1"]=11,e[r[12]="WA_IG_1P_PLUGIN_RANKING_UPDATE_2"]=12,e[r[13]="WA_IG_1P_PLUGIN_RANKING_UPDATE_3"]=13,e[r[14]="WA_IG_1P_PLUGIN_RANKING_UPDATE_4"]=14,e[r[15]="WA_IG_1P_PLUGIN_RANKING_UPDATE_5"]=15,e[r[16]="WA_IG_1P_PLUGIN_RANKING_UPDATE_6"]=16,e[r[17]="WA_IG_1P_PLUGIN_RANKING_UPDATE_7"]=17,e[r[18]="WA_IG_1P_PLUGIN_RANKING_UPDATE_8"]=18,e[r[19]="WA_IG_1P_PLUGIN_RANKING_UPDATE_9"]=19,e[r[20]="WA_IG_1P_PLUGIN_RANKING_UPDATE_10"]=20,e[r[21]="RICH_RESPONSE_SUB_HEADING"]=21,e[r[22]="RICH_RESPONSE_GRID_IMAGE"]=22,e[r[23]="AI_STUDIO_UGC_MEMORY"]=23,e[r[24]="RICH_RESPONSE_LATEX"]=24,e[r[25]="RICH_RESPONSE_MAPS"]=25,e[r[26]="RICH_RESPONSE_INLINE_REELS"]=26,e[r[27]="AGENTIC_PLANNING"]=27,e[r[28]="ACCOUNT_LINKING"]=28,e[r[29]="STREAMING_DISAGGREGATION"]=29,e[r[30]="RICH_RESPONSE_GRID_IMAGE_3P"]=30,e[r[31]="RICH_RESPONSE_LATEX_INLINE"]=31,e[r[32]="QUERY_PLAN"]=32,e[r[33]="PROACTIVE_MESSAGE"]=33,e[r[34]="RICH_RESPONSE_UNIFIED_RESPONSE"]=34,e[r[35]="PROMOTION_MESSAGE"]=35,e}(),n}(),a.BotImagineMetadata=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.imagineType=0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.imagineType!=null&&Object.hasOwnProperty.call(e,"imagineType")&&t.uint32(8).int32(e.imagineType),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BotImagineMetadata;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.imagineType=e.int32();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BotImagineMetadata"},n.ImagineType=function(){let r={},e=Object.create(r);return e[r[0]="UNKNOWN"]=0,e[r[1]="IMAGINE"]=1,e[r[2]="MEMU"]=2,e[r[3]="FLASH"]=3,e[r[4]="EDIT"]=4,e}(),n}(),a.BotLinkedAccount=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.type=0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BotLinkedAccount;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.type=e.int32();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BotLinkedAccount"},n.BotLinkedAccountType=function(){let r={},e=Object.create(r);return e[r[0]="BOT_LINKED_ACCOUNT_TYPE_1P"]=0,e}(),n}(),a.BotLinkedAccountsMetadata=function(){function n(r){if(this.accounts=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.accounts=h.emptyArray,n.prototype.acAuthTokens=h.newBuffer([]),n.prototype.acErrorCode=0,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.accounts!=null&&e.accounts.length)for(var i=0;i<e.accounts.length;++i)u.proto.BotLinkedAccount.encode(e.accounts[i],t.uint32(10).fork()).ldelim();return e.acAuthTokens!=null&&Object.hasOwnProperty.call(e,"acAuthTokens")&&t.uint32(18).bytes(e.acAuthTokens),e.acErrorCode!=null&&Object.hasOwnProperty.call(e,"acErrorCode")&&t.uint32(24).int32(e.acErrorCode),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BotLinkedAccountsMetadata;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.accounts&&s.accounts.length||(s.accounts=[]),s.accounts.push(u.proto.BotLinkedAccount.decode(e,e.uint32()));break}case 2:{s.acAuthTokens=e.bytes();break}case 3:{s.acErrorCode=e.int32();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BotLinkedAccountsMetadata"},n}(),a.BotMediaMetadata=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.fileSha256="",n.prototype.mediaKey="",n.prototype.fileEncSha256="",n.prototype.directPath="",n.prototype.mediaKeyTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.mimetype="",n.prototype.orientationType=1,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.fileSha256!=null&&Object.hasOwnProperty.call(e,"fileSha256")&&t.uint32(10).string(e.fileSha256),e.mediaKey!=null&&Object.hasOwnProperty.call(e,"mediaKey")&&t.uint32(18).string(e.mediaKey),e.fileEncSha256!=null&&Object.hasOwnProperty.call(e,"fileEncSha256")&&t.uint32(26).string(e.fileEncSha256),e.directPath!=null&&Object.hasOwnProperty.call(e,"directPath")&&t.uint32(34).string(e.directPath),e.mediaKeyTimestamp!=null&&Object.hasOwnProperty.call(e,"mediaKeyTimestamp")&&t.uint32(40).int64(e.mediaKeyTimestamp),e.mimetype!=null&&Object.hasOwnProperty.call(e,"mimetype")&&t.uint32(50).string(e.mimetype),e.orientationType!=null&&Object.hasOwnProperty.call(e,"orientationType")&&t.uint32(56).int32(e.orientationType),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BotMediaMetadata;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.fileSha256=e.string();break}case 2:{s.mediaKey=e.string();break}case 3:{s.fileEncSha256=e.string();break}case 4:{s.directPath=e.string();break}case 5:{s.mediaKeyTimestamp=e.int64();break}case 6:{s.mimetype=e.string();break}case 7:{s.orientationType=e.int32();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BotMediaMetadata"},n.OrientationType=function(){let r={},e=Object.create(r);return e[r[1]="CENTER"]=1,e[r[2]="LEFT"]=2,e[r[3]="RIGHT"]=3,e}(),n}(),a.BotMemoryFact=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.fact="",n.prototype.factId="",n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.fact!=null&&Object.hasOwnProperty.call(e,"fact")&&t.uint32(10).string(e.fact),e.factId!=null&&Object.hasOwnProperty.call(e,"factId")&&t.uint32(18).string(e.factId),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BotMemoryFact;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.fact=e.string();break}case 2:{s.factId=e.string();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BotMemoryFact"},n}(),a.BotMemoryMetadata=function(){function n(r){if(this.addedFacts=[],this.removedFacts=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.addedFacts=h.emptyArray,n.prototype.removedFacts=h.emptyArray,n.prototype.disclaimer="",n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.addedFacts!=null&&e.addedFacts.length)for(var i=0;i<e.addedFacts.length;++i)u.proto.BotMemoryFact.encode(e.addedFacts[i],t.uint32(10).fork()).ldelim();if(e.removedFacts!=null&&e.removedFacts.length)for(var i=0;i<e.removedFacts.length;++i)u.proto.BotMemoryFact.encode(e.removedFacts[i],t.uint32(18).fork()).ldelim();return e.disclaimer!=null&&Object.hasOwnProperty.call(e,"disclaimer")&&t.uint32(26).string(e.disclaimer),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BotMemoryMetadata;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.addedFacts&&s.addedFacts.length||(s.addedFacts=[]),s.addedFacts.push(u.proto.BotMemoryFact.decode(e,e.uint32()));break}case 2:{s.removedFacts&&s.removedFacts.length||(s.removedFacts=[]),s.removedFacts.push(u.proto.BotMemoryFact.decode(e,e.uint32()));break}case 3:{s.disclaimer=e.string();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BotMemoryMetadata"},n}(),a.BotMemuMetadata=function(){function n(r){if(this.faceImages=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.faceImages=h.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.faceImages!=null&&e.faceImages.length)for(var i=0;i<e.faceImages.length;++i)u.proto.BotMediaMetadata.encode(e.faceImages[i],t.uint32(10).fork()).ldelim();return t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BotMemuMetadata;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.faceImages&&s.faceImages.length||(s.faceImages=[]),s.faceImages.push(u.proto.BotMediaMetadata.decode(e,e.uint32()));break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BotMemuMetadata"},n}(),a.BotMetadata=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.avatarMetadata=null,n.prototype.personaId="",n.prototype.pluginMetadata=null,n.prototype.suggestedPromptMetadata=null,n.prototype.invokerJid="",n.prototype.sessionMetadata=null,n.prototype.memuMetadata=null,n.prototype.timezone="",n.prototype.reminderMetadata=null,n.prototype.modelMetadata=null,n.prototype.messageDisclaimerText="",n.prototype.progressIndicatorMetadata=null,n.prototype.capabilityMetadata=null,n.prototype.imagineMetadata=null,n.prototype.memoryMetadata=null,n.prototype.renderingMetadata=null,n.prototype.botMetricsMetadata=null,n.prototype.botLinkedAccountsMetadata=null,n.prototype.richResponseSourcesMetadata=null,n.prototype.aiConversationContext=h.newBuffer([]),n.prototype.botPromotionMessageMetadata=null,n.prototype.botModeSelectionMetadata=null,n.prototype.botQuotaMetadata=null,n.prototype.botAgeCollectionMetadata=null,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.avatarMetadata!=null&&Object.hasOwnProperty.call(e,"avatarMetadata")&&u.proto.BotAvatarMetadata.encode(e.avatarMetadata,t.uint32(10).fork()).ldelim(),e.personaId!=null&&Object.hasOwnProperty.call(e,"personaId")&&t.uint32(18).string(e.personaId),e.pluginMetadata!=null&&Object.hasOwnProperty.call(e,"pluginMetadata")&&u.proto.BotPluginMetadata.encode(e.pluginMetadata,t.uint32(26).fork()).ldelim(),e.suggestedPromptMetadata!=null&&Object.hasOwnProperty.call(e,"suggestedPromptMetadata")&&u.proto.BotSuggestedPromptMetadata.encode(e.suggestedPromptMetadata,t.uint32(34).fork()).ldelim(),e.invokerJid!=null&&Object.hasOwnProperty.call(e,"invokerJid")&&t.uint32(42).string(e.invokerJid),e.sessionMetadata!=null&&Object.hasOwnProperty.call(e,"sessionMetadata")&&u.proto.BotSessionMetadata.encode(e.sessionMetadata,t.uint32(50).fork()).ldelim(),e.memuMetadata!=null&&Object.hasOwnProperty.call(e,"memuMetadata")&&u.proto.BotMemuMetadata.encode(e.memuMetadata,t.uint32(58).fork()).ldelim(),e.timezone!=null&&Object.hasOwnProperty.call(e,"timezone")&&t.uint32(66).string(e.timezone),e.reminderMetadata!=null&&Object.hasOwnProperty.call(e,"reminderMetadata")&&u.proto.BotReminderMetadata.encode(e.reminderMetadata,t.uint32(74).fork()).ldelim(),e.modelMetadata!=null&&Object.hasOwnProperty.call(e,"modelMetadata")&&u.proto.BotModelMetadata.encode(e.modelMetadata,t.uint32(82).fork()).ldelim(),e.messageDisclaimerText!=null&&Object.hasOwnProperty.call(e,"messageDisclaimerText")&&t.uint32(90).string(e.messageDisclaimerText),e.progressIndicatorMetadata!=null&&Object.hasOwnProperty.call(e,"progressIndicatorMetadata")&&u.proto.BotProgressIndicatorMetadata.encode(e.progressIndicatorMetadata,t.uint32(98).fork()).ldelim(),e.capabilityMetadata!=null&&Object.hasOwnProperty.call(e,"capabilityMetadata")&&u.proto.BotCapabilityMetadata.encode(e.capabilityMetadata,t.uint32(106).fork()).ldelim(),e.imagineMetadata!=null&&Object.hasOwnProperty.call(e,"imagineMetadata")&&u.proto.BotImagineMetadata.encode(e.imagineMetadata,t.uint32(114).fork()).ldelim(),e.memoryMetadata!=null&&Object.hasOwnProperty.call(e,"memoryMetadata")&&u.proto.BotMemoryMetadata.encode(e.memoryMetadata,t.uint32(122).fork()).ldelim(),e.renderingMetadata!=null&&Object.hasOwnProperty.call(e,"renderingMetadata")&&u.proto.BotRenderingMetadata.encode(e.renderingMetadata,t.uint32(130).fork()).ldelim(),e.botMetricsMetadata!=null&&Object.hasOwnProperty.call(e,"botMetricsMetadata")&&u.proto.BotMetricsMetadata.encode(e.botMetricsMetadata,t.uint32(138).fork()).ldelim(),e.botLinkedAccountsMetadata!=null&&Object.hasOwnProperty.call(e,"botLinkedAccountsMetadata")&&u.proto.BotLinkedAccountsMetadata.encode(e.botLinkedAccountsMetadata,t.uint32(146).fork()).ldelim(),e.richResponseSourcesMetadata!=null&&Object.hasOwnProperty.call(e,"richResponseSourcesMetadata")&&u.proto.BotSourcesMetadata.encode(e.richResponseSourcesMetadata,t.uint32(154).fork()).ldelim(),e.aiConversationContext!=null&&Object.hasOwnProperty.call(e,"aiConversationContext")&&t.uint32(162).bytes(e.aiConversationContext),e.botPromotionMessageMetadata!=null&&Object.hasOwnProperty.call(e,"botPromotionMessageMetadata")&&u.proto.BotPromotionMessageMetadata.encode(e.botPromotionMessageMetadata,t.uint32(170).fork()).ldelim(),e.botModeSelectionMetadata!=null&&Object.hasOwnProperty.call(e,"botModeSelectionMetadata")&&u.proto.BotModeSelectionMetadata.encode(e.botModeSelectionMetadata,t.uint32(178).fork()).ldelim(),e.botQuotaMetadata!=null&&Object.hasOwnProperty.call(e,"botQuotaMetadata")&&u.proto.BotQuotaMetadata.encode(e.botQuotaMetadata,t.uint32(186).fork()).ldelim(),e.botAgeCollectionMetadata!=null&&Object.hasOwnProperty.call(e,"botAgeCollectionMetadata")&&u.proto.BotAgeCollectionMetadata.encode(e.botAgeCollectionMetadata,t.uint32(194).fork()).ldelim(),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BotMetadata;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.avatarMetadata=u.proto.BotAvatarMetadata.decode(e,e.uint32());break}case 2:{s.personaId=e.string();break}case 3:{s.pluginMetadata=u.proto.BotPluginMetadata.decode(e,e.uint32());break}case 4:{s.suggestedPromptMetadata=u.proto.BotSuggestedPromptMetadata.decode(e,e.uint32());break}case 5:{s.invokerJid=e.string();break}case 6:{s.sessionMetadata=u.proto.BotSessionMetadata.decode(e,e.uint32());break}case 7:{s.memuMetadata=u.proto.BotMemuMetadata.decode(e,e.uint32());break}case 8:{s.timezone=e.string();break}case 9:{s.reminderMetadata=u.proto.BotReminderMetadata.decode(e,e.uint32());break}case 10:{s.modelMetadata=u.proto.BotModelMetadata.decode(e,e.uint32());break}case 11:{s.messageDisclaimerText=e.string();break}case 12:{s.progressIndicatorMetadata=u.proto.BotProgressIndicatorMetadata.decode(e,e.uint32());break}case 13:{s.capabilityMetadata=u.proto.BotCapabilityMetadata.decode(e,e.uint32());break}case 14:{s.imagineMetadata=u.proto.BotImagineMetadata.decode(e,e.uint32());break}case 15:{s.memoryMetadata=u.proto.BotMemoryMetadata.decode(e,e.uint32());break}case 16:{s.renderingMetadata=u.proto.BotRenderingMetadata.decode(e,e.uint32());break}case 17:{s.botMetricsMetadata=u.proto.BotMetricsMetadata.decode(e,e.uint32());break}case 18:{s.botLinkedAccountsMetadata=u.proto.BotLinkedAccountsMetadata.decode(e,e.uint32());break}case 19:{s.richResponseSourcesMetadata=u.proto.BotSourcesMetadata.decode(e,e.uint32());break}case 20:{s.aiConversationContext=e.bytes();break}case 21:{s.botPromotionMessageMetadata=u.proto.BotPromotionMessageMetadata.decode(e,e.uint32());break}case 22:{s.botModeSelectionMetadata=u.proto.BotModeSelectionMetadata.decode(e,e.uint32());break}case 23:{s.botQuotaMetadata=u.proto.BotQuotaMetadata.decode(e,e.uint32());break}case 24:{s.botAgeCollectionMetadata=u.proto.BotAgeCollectionMetadata.decode(e,e.uint32());break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BotMetadata"},n}(),a.BotMetricsEntryPoint=function(){let n={},r=Object.create(n);return r[n[1]="FAVICON"]=1,r[n[2]="CHATLIST"]=2,r[n[3]="AISEARCH_NULL_STATE_PAPER_PLANE"]=3,r[n[4]="AISEARCH_NULL_STATE_SUGGESTION"]=4,r[n[5]="AISEARCH_TYPE_AHEAD_SUGGESTION"]=5,r[n[6]="AISEARCH_TYPE_AHEAD_PAPER_PLANE"]=6,r[n[7]="AISEARCH_TYPE_AHEAD_RESULT_CHATLIST"]=7,r[n[8]="AISEARCH_TYPE_AHEAD_RESULT_MESSAGES"]=8,r[n[9]="AIVOICE_SEARCH_BAR"]=9,r[n[10]="AIVOICE_FAVICON"]=10,r[n[11]="AISTUDIO"]=11,r[n[12]="DEEPLINK"]=12,r[n[13]="NOTIFICATION"]=13,r[n[14]="PROFILE_MESSAGE_BUTTON"]=14,r[n[15]="FORWARD"]=15,r[n[16]="APP_SHORTCUT"]=16,r[n[17]="FF_FAMILY"]=17,r[n[18]="AI_TAB"]=18,r[n[19]="AI_HOME"]=19,r[n[20]="AI_DEEPLINK_IMMERSIVE"]=20,r[n[21]="AI_DEEPLINK"]=21,r[n[22]="META_AI_CHAT_SHORTCUT_AI_STUDIO"]=22,r[n[23]="UGC_CHAT_SHORTCUT_AI_STUDIO"]=23,r[n[24]="NEW_CHAT_AI_STUDIO"]=24,r}(),a.BotMetricsMetadata=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.destinationId="",n.prototype.destinationEntryPoint=1,n.prototype.threadOrigin=1,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.destinationId!=null&&Object.hasOwnProperty.call(e,"destinationId")&&t.uint32(10).string(e.destinationId),e.destinationEntryPoint!=null&&Object.hasOwnProperty.call(e,"destinationEntryPoint")&&t.uint32(16).int32(e.destinationEntryPoint),e.threadOrigin!=null&&Object.hasOwnProperty.call(e,"threadOrigin")&&t.uint32(24).int32(e.threadOrigin),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BotMetricsMetadata;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.destinationId=e.string();break}case 2:{s.destinationEntryPoint=e.int32();break}case 3:{s.threadOrigin=e.int32();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BotMetricsMetadata"},n}(),a.BotMetricsThreadEntryPoint=function(){let n={},r=Object.create(n);return r[n[1]="AI_TAB_THREAD"]=1,r[n[2]="AI_HOME_THREAD"]=2,r[n[3]="AI_DEEPLINK_IMMERSIVE_THREAD"]=3,r[n[4]="AI_DEEPLINK_THREAD"]=4,r}(),a.BotModeSelectionMetadata=function(){function n(r){if(this.mode=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.mode=h.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.mode!=null&&e.mode.length)for(var i=0;i<e.mode.length;++i)t.uint32(8).int32(e.mode[i]);return t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BotModeSelectionMetadata;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{if(s.mode&&s.mode.length||(s.mode=[]),(c&7)===2)for(var l=e.uint32()+e.pos;e.pos<l;)s.mode.push(e.int32());else s.mode.push(e.int32());break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BotModeSelectionMetadata"},n.BotUserSelectionMode=function(){let r={},e=Object.create(r);return e[r[0]="UNKNOWN_MODE"]=0,e[r[1]="REASONING_MODE"]=1,e}(),n}(),a.BotModelMetadata=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.modelType=0,n.prototype.premiumModelStatus=0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.modelType!=null&&Object.hasOwnProperty.call(e,"modelType")&&t.uint32(8).int32(e.modelType),e.premiumModelStatus!=null&&Object.hasOwnProperty.call(e,"premiumModelStatus")&&t.uint32(16).int32(e.premiumModelStatus),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BotModelMetadata;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.modelType=e.int32();break}case 2:{s.premiumModelStatus=e.int32();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BotModelMetadata"},n.ModelType=function(){let r={},e=Object.create(r);return e[r[0]="UNKNOWN_TYPE"]=0,e[r[1]="LLAMA_PROD"]=1,e[r[2]="LLAMA_PROD_PREMIUM"]=2,e}(),n.PremiumModelStatus=function(){let r={},e=Object.create(r);return e[r[0]="UNKNOWN_STATUS"]=0,e[r[1]="AVAILABLE"]=1,e[r[2]="QUOTA_EXCEED_LIMIT"]=2,e}(),n}(),a.BotPluginMetadata=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.provider=0,n.prototype.pluginType=0,n.prototype.thumbnailCdnUrl="",n.prototype.profilePhotoCdnUrl="",n.prototype.searchProviderUrl="",n.prototype.referenceIndex=0,n.prototype.expectedLinksCount=0,n.prototype.searchQuery="",n.prototype.parentPluginMessageKey=null,n.prototype.deprecatedField=0,n.prototype.parentPluginType=0,n.prototype.faviconCdnUrl="",n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.provider!=null&&Object.hasOwnProperty.call(e,"provider")&&t.uint32(8).int32(e.provider),e.pluginType!=null&&Object.hasOwnProperty.call(e,"pluginType")&&t.uint32(16).int32(e.pluginType),e.thumbnailCdnUrl!=null&&Object.hasOwnProperty.call(e,"thumbnailCdnUrl")&&t.uint32(26).string(e.thumbnailCdnUrl),e.profilePhotoCdnUrl!=null&&Object.hasOwnProperty.call(e,"profilePhotoCdnUrl")&&t.uint32(34).string(e.profilePhotoCdnUrl),e.searchProviderUrl!=null&&Object.hasOwnProperty.call(e,"searchProviderUrl")&&t.uint32(42).string(e.searchProviderUrl),e.referenceIndex!=null&&Object.hasOwnProperty.call(e,"referenceIndex")&&t.uint32(48).uint32(e.referenceIndex),e.expectedLinksCount!=null&&Object.hasOwnProperty.call(e,"expectedLinksCount")&&t.uint32(56).uint32(e.expectedLinksCount),e.searchQuery!=null&&Object.hasOwnProperty.call(e,"searchQuery")&&t.uint32(74).string(e.searchQuery),e.parentPluginMessageKey!=null&&Object.hasOwnProperty.call(e,"parentPluginMessageKey")&&u.proto.MessageKey.encode(e.parentPluginMessageKey,t.uint32(82).fork()).ldelim(),e.deprecatedField!=null&&Object.hasOwnProperty.call(e,"deprecatedField")&&t.uint32(88).int32(e.deprecatedField),e.parentPluginType!=null&&Object.hasOwnProperty.call(e,"parentPluginType")&&t.uint32(96).int32(e.parentPluginType),e.faviconCdnUrl!=null&&Object.hasOwnProperty.call(e,"faviconCdnUrl")&&t.uint32(106).string(e.faviconCdnUrl),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BotPluginMetadata;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.provider=e.int32();break}case 2:{s.pluginType=e.int32();break}case 3:{s.thumbnailCdnUrl=e.string();break}case 4:{s.profilePhotoCdnUrl=e.string();break}case 5:{s.searchProviderUrl=e.string();break}case 6:{s.referenceIndex=e.uint32();break}case 7:{s.expectedLinksCount=e.uint32();break}case 9:{s.searchQuery=e.string();break}case 10:{s.parentPluginMessageKey=u.proto.MessageKey.decode(e,e.uint32());break}case 11:{s.deprecatedField=e.int32();break}case 12:{s.parentPluginType=e.int32();break}case 13:{s.faviconCdnUrl=e.string();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BotPluginMetadata"},n.PluginType=function(){let r={},e=Object.create(r);return e[r[0]="UNKNOWN_PLUGIN"]=0,e[r[1]="REELS"]=1,e[r[2]="SEARCH"]=2,e}(),n.SearchProvider=function(){let r={},e=Object.create(r);return e[r[0]="UNKNOWN"]=0,e[r[1]="BING"]=1,e[r[2]="GOOGLE"]=2,e[r[3]="SUPPORT"]=3,e}(),n}(),a.BotProgressIndicatorMetadata=function(){function n(r){if(this.stepsMetadata=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.progressDescription="",n.prototype.stepsMetadata=h.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.progressDescription!=null&&Object.hasOwnProperty.call(e,"progressDescription")&&t.uint32(10).string(e.progressDescription),e.stepsMetadata!=null&&e.stepsMetadata.length)for(var i=0;i<e.stepsMetadata.length;++i)u.proto.BotProgressIndicatorMetadata.BotPlanningStepMetadata.encode(e.stepsMetadata[i],t.uint32(18).fork()).ldelim();return t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BotProgressIndicatorMetadata;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.progressDescription=e.string();break}case 2:{s.stepsMetadata&&s.stepsMetadata.length||(s.stepsMetadata=[]),s.stepsMetadata.push(u.proto.BotProgressIndicatorMetadata.BotPlanningStepMetadata.decode(e,e.uint32()));break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BotProgressIndicatorMetadata"},n.BotPlanningStepMetadata=function(){function r(e){if(this.sourcesMetadata=[],this.sections=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.statusTitle="",r.prototype.statusBody="",r.prototype.sourcesMetadata=h.emptyArray,r.prototype.status=0,r.prototype.isReasoning=!1,r.prototype.isEnhancedSearch=!1,r.prototype.sections=h.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.statusTitle!=null&&Object.hasOwnProperty.call(t,"statusTitle")&&i.uint32(10).string(t.statusTitle),t.statusBody!=null&&Object.hasOwnProperty.call(t,"statusBody")&&i.uint32(18).string(t.statusBody),t.sourcesMetadata!=null&&t.sourcesMetadata.length)for(var o=0;o<t.sourcesMetadata.length;++o)u.proto.BotProgressIndicatorMetadata.BotPlanningStepMetadata.BotPlanningSearchSourcesMetadata.encode(t.sourcesMetadata[o],i.uint32(26).fork()).ldelim();if(t.status!=null&&Object.hasOwnProperty.call(t,"status")&&i.uint32(32).int32(t.status),t.isReasoning!=null&&Object.hasOwnProperty.call(t,"isReasoning")&&i.uint32(40).bool(t.isReasoning),t.isEnhancedSearch!=null&&Object.hasOwnProperty.call(t,"isEnhancedSearch")&&i.uint32(48).bool(t.isEnhancedSearch),t.sections!=null&&t.sections.length)for(var o=0;o<t.sections.length;++o)u.proto.BotProgressIndicatorMetadata.BotPlanningStepMetadata.BotPlanningStepSectionMetadata.encode(t.sections[o],i.uint32(58).fork()).ldelim();return i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.BotProgressIndicatorMetadata.BotPlanningStepMetadata;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.statusTitle=t.string();break}case 2:{c.statusBody=t.string();break}case 3:{c.sourcesMetadata&&c.sourcesMetadata.length||(c.sourcesMetadata=[]),c.sourcesMetadata.push(u.proto.BotProgressIndicatorMetadata.BotPlanningStepMetadata.BotPlanningSearchSourcesMetadata.decode(t,t.uint32()));break}case 4:{c.status=t.int32();break}case 5:{c.isReasoning=t.bool();break}case 6:{c.isEnhancedSearch=t.bool();break}case 7:{c.sections&&c.sections.length||(c.sections=[]),c.sections.push(u.proto.BotProgressIndicatorMetadata.BotPlanningStepMetadata.BotPlanningStepSectionMetadata.decode(t,t.uint32()));break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.BotProgressIndicatorMetadata.BotPlanningStepMetadata"},r.BotPlanningSearchSourceMetadata=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.title="",e.prototype.provider=0,e.prototype.sourceUrl="",e.prototype.favIconUrl="",e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.title!=null&&Object.hasOwnProperty.call(i,"title")&&o.uint32(10).string(i.title),i.provider!=null&&Object.hasOwnProperty.call(i,"provider")&&o.uint32(16).int32(i.provider),i.sourceUrl!=null&&Object.hasOwnProperty.call(i,"sourceUrl")&&o.uint32(26).string(i.sourceUrl),i.favIconUrl!=null&&Object.hasOwnProperty.call(i,"favIconUrl")&&o.uint32(34).string(i.favIconUrl),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.BotProgressIndicatorMetadata.BotPlanningStepMetadata.BotPlanningSearchSourceMetadata;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.title=i.string();break}case 2:{l.provider=i.int32();break}case 3:{l.sourceUrl=i.string();break}case 4:{l.favIconUrl=i.string();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.BotProgressIndicatorMetadata.BotPlanningStepMetadata.BotPlanningSearchSourceMetadata"},e}(),r.BotPlanningSearchSourcesMetadata=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.sourceTitle="",e.prototype.provider=0,e.prototype.sourceUrl="",e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.sourceTitle!=null&&Object.hasOwnProperty.call(i,"sourceTitle")&&o.uint32(10).string(i.sourceTitle),i.provider!=null&&Object.hasOwnProperty.call(i,"provider")&&o.uint32(16).int32(i.provider),i.sourceUrl!=null&&Object.hasOwnProperty.call(i,"sourceUrl")&&o.uint32(26).string(i.sourceUrl),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.BotProgressIndicatorMetadata.BotPlanningStepMetadata.BotPlanningSearchSourcesMetadata;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.sourceTitle=i.string();break}case 2:{l.provider=i.int32();break}case 3:{l.sourceUrl=i.string();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.BotProgressIndicatorMetadata.BotPlanningStepMetadata.BotPlanningSearchSourcesMetadata"},e.BotPlanningSearchSourceProvider=function(){let t={},i=Object.create(t);return i[t[0]="UNKNOWN"]=0,i[t[1]="OTHER"]=1,i[t[2]="GOOGLE"]=2,i[t[3]="BING"]=3,i}(),e}(),r.BotPlanningStepSectionMetadata=function(){function e(t){if(this.sourcesMetadata=[],t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.sectionTitle="",e.prototype.sectionBody="",e.prototype.sourcesMetadata=h.emptyArray,e.create=function(i){return new e(i)},e.encode=function(i,o){if(o||(o=E.create()),i.sectionTitle!=null&&Object.hasOwnProperty.call(i,"sectionTitle")&&o.uint32(10).string(i.sectionTitle),i.sectionBody!=null&&Object.hasOwnProperty.call(i,"sectionBody")&&o.uint32(18).string(i.sectionBody),i.sourcesMetadata!=null&&i.sourcesMetadata.length)for(var s=0;s<i.sourcesMetadata.length;++s)u.proto.BotProgressIndicatorMetadata.BotPlanningStepMetadata.BotPlanningSearchSourceMetadata.encode(i.sourcesMetadata[s],o.uint32(26).fork()).ldelim();return o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.BotProgressIndicatorMetadata.BotPlanningStepMetadata.BotPlanningStepSectionMetadata;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.sectionTitle=i.string();break}case 2:{l.sectionBody=i.string();break}case 3:{l.sourcesMetadata&&l.sourcesMetadata.length||(l.sourcesMetadata=[]),l.sourcesMetadata.push(u.proto.BotProgressIndicatorMetadata.BotPlanningStepMetadata.BotPlanningSearchSourceMetadata.decode(i,i.uint32()));break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.BotProgressIndicatorMetadata.BotPlanningStepMetadata.BotPlanningStepSectionMetadata"},e}(),r.BotSearchSourceProvider=function(){let e={},t=Object.create(e);return t[e[0]="UNKNOWN_PROVIDER"]=0,t[e[1]="OTHER"]=1,t[e[2]="GOOGLE"]=2,t[e[3]="BING"]=3,t}(),r.PlanningStepStatus=function(){let e={},t=Object.create(e);return t[e[0]="UNKNOWN"]=0,t[e[1]="PLANNED"]=1,t[e[2]="EXECUTING"]=2,t[e[3]="FINISHED"]=3,t}(),r}(),n}(),a.BotPromotionMessageMetadata=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.promotionType=0,n.prototype.buttonTitle="",n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.promotionType!=null&&Object.hasOwnProperty.call(e,"promotionType")&&t.uint32(8).int32(e.promotionType),e.buttonTitle!=null&&Object.hasOwnProperty.call(e,"buttonTitle")&&t.uint32(18).string(e.buttonTitle),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BotPromotionMessageMetadata;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.promotionType=e.int32();break}case 2:{s.buttonTitle=e.string();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BotPromotionMessageMetadata"},n.BotPromotionType=function(){let r={},e=Object.create(r);return e[r[0]="UNKNOWN_TYPE"]=0,e[r[1]="C50"]=1,e}(),n}(),a.BotPromptSuggestion=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.prompt="",n.prototype.promptId="",n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.prompt!=null&&Object.hasOwnProperty.call(e,"prompt")&&t.uint32(10).string(e.prompt),e.promptId!=null&&Object.hasOwnProperty.call(e,"promptId")&&t.uint32(18).string(e.promptId),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BotPromptSuggestion;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.prompt=e.string();break}case 2:{s.promptId=e.string();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BotPromptSuggestion"},n}(),a.BotPromptSuggestions=function(){function n(r){if(this.suggestions=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.suggestions=h.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.suggestions!=null&&e.suggestions.length)for(var i=0;i<e.suggestions.length;++i)u.proto.BotPromptSuggestion.encode(e.suggestions[i],t.uint32(10).fork()).ldelim();return t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BotPromptSuggestions;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.suggestions&&s.suggestions.length||(s.suggestions=[]),s.suggestions.push(u.proto.BotPromptSuggestion.decode(e,e.uint32()));break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BotPromptSuggestions"},n}(),a.BotQuotaMetadata=function(){function n(r){if(this.botFeatureQuotaMetadata=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.botFeatureQuotaMetadata=h.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.botFeatureQuotaMetadata!=null&&e.botFeatureQuotaMetadata.length)for(var i=0;i<e.botFeatureQuotaMetadata.length;++i)u.proto.BotQuotaMetadata.BotFeatureQuotaMetadata.encode(e.botFeatureQuotaMetadata[i],t.uint32(10).fork()).ldelim();return t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BotQuotaMetadata;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.botFeatureQuotaMetadata&&s.botFeatureQuotaMetadata.length||(s.botFeatureQuotaMetadata=[]),s.botFeatureQuotaMetadata.push(u.proto.BotQuotaMetadata.BotFeatureQuotaMetadata.decode(e,e.uint32()));break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BotQuotaMetadata"},n.BotFeatureQuotaMetadata=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.featureType=0,r.prototype.remainingQuota=0,r.prototype.expirationTimestamp=h.Long?h.Long.fromBits(0,0,!0):0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.featureType!=null&&Object.hasOwnProperty.call(t,"featureType")&&i.uint32(8).int32(t.featureType),t.remainingQuota!=null&&Object.hasOwnProperty.call(t,"remainingQuota")&&i.uint32(16).uint32(t.remainingQuota),t.expirationTimestamp!=null&&Object.hasOwnProperty.call(t,"expirationTimestamp")&&i.uint32(24).uint64(t.expirationTimestamp),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.BotQuotaMetadata.BotFeatureQuotaMetadata;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.featureType=t.int32();break}case 2:{c.remainingQuota=t.uint32();break}case 3:{c.expirationTimestamp=t.uint64();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.BotQuotaMetadata.BotFeatureQuotaMetadata"},r.BotFeatureType=function(){let e={},t=Object.create(e);return t[e[0]="UNKNOWN_FEATURE"]=0,t[e[1]="REASONING_FEATURE"]=1,t}(),r}(),n}(),a.BotReminderMetadata=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.requestMessageKey=null,n.prototype.action=1,n.prototype.name="",n.prototype.nextTriggerTimestamp=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.frequency=1,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.requestMessageKey!=null&&Object.hasOwnProperty.call(e,"requestMessageKey")&&u.proto.MessageKey.encode(e.requestMessageKey,t.uint32(10).fork()).ldelim(),e.action!=null&&Object.hasOwnProperty.call(e,"action")&&t.uint32(16).int32(e.action),e.name!=null&&Object.hasOwnProperty.call(e,"name")&&t.uint32(26).string(e.name),e.nextTriggerTimestamp!=null&&Object.hasOwnProperty.call(e,"nextTriggerTimestamp")&&t.uint32(32).uint64(e.nextTriggerTimestamp),e.frequency!=null&&Object.hasOwnProperty.call(e,"frequency")&&t.uint32(40).int32(e.frequency),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BotReminderMetadata;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.requestMessageKey=u.proto.MessageKey.decode(e,e.uint32());break}case 2:{s.action=e.int32();break}case 3:{s.name=e.string();break}case 4:{s.nextTriggerTimestamp=e.uint64();break}case 5:{s.frequency=e.int32();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BotReminderMetadata"},n.ReminderAction=function(){let r={},e=Object.create(r);return e[r[1]="NOTIFY"]=1,e[r[2]="CREATE"]=2,e[r[3]="DELETE"]=3,e[r[4]="UPDATE"]=4,e}(),n.ReminderFrequency=function(){let r={},e=Object.create(r);return e[r[1]="ONCE"]=1,e[r[2]="DAILY"]=2,e[r[3]="WEEKLY"]=3,e[r[4]="BIWEEKLY"]=4,e[r[5]="MONTHLY"]=5,e}(),n}(),a.BotRenderingMetadata=function(){function n(r){if(this.keywords=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.keywords=h.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.keywords!=null&&e.keywords.length)for(var i=0;i<e.keywords.length;++i)u.proto.BotRenderingMetadata.Keyword.encode(e.keywords[i],t.uint32(10).fork()).ldelim();return t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BotRenderingMetadata;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.keywords&&s.keywords.length||(s.keywords=[]),s.keywords.push(u.proto.BotRenderingMetadata.Keyword.decode(e,e.uint32()));break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BotRenderingMetadata"},n.Keyword=function(){function r(e){if(this.associatedPrompts=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.value="",r.prototype.associatedPrompts=h.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.value!=null&&Object.hasOwnProperty.call(t,"value")&&i.uint32(10).string(t.value),t.associatedPrompts!=null&&t.associatedPrompts.length)for(var o=0;o<t.associatedPrompts.length;++o)i.uint32(18).string(t.associatedPrompts[o]);return i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.BotRenderingMetadata.Keyword;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.value=t.string();break}case 2:{c.associatedPrompts&&c.associatedPrompts.length||(c.associatedPrompts=[]),c.associatedPrompts.push(t.string());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.BotRenderingMetadata.Keyword"},r}(),n}(),a.BotSessionMetadata=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.sessionId="",n.prototype.sessionSource=0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.sessionId!=null&&Object.hasOwnProperty.call(e,"sessionId")&&t.uint32(10).string(e.sessionId),e.sessionSource!=null&&Object.hasOwnProperty.call(e,"sessionSource")&&t.uint32(16).int32(e.sessionSource),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BotSessionMetadata;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.sessionId=e.string();break}case 2:{s.sessionSource=e.int32();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BotSessionMetadata"},n}(),a.BotSessionSource=function(){let n={},r=Object.create(n);return r[n[0]="NONE"]=0,r[n[1]="NULL_STATE"]=1,r[n[2]="TYPEAHEAD"]=2,r[n[3]="USER_INPUT"]=3,r[n[4]="EMU_FLASH"]=4,r[n[5]="EMU_FLASH_FOLLOWUP"]=5,r[n[6]="VOICE"]=6,r}(),a.BotSourcesMetadata=function(){function n(r){if(this.sources=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.sources=h.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.sources!=null&&e.sources.length)for(var i=0;i<e.sources.length;++i)u.proto.BotSourcesMetadata.BotSourceItem.encode(e.sources[i],t.uint32(10).fork()).ldelim();return t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BotSourcesMetadata;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.sources&&s.sources.length||(s.sources=[]),s.sources.push(u.proto.BotSourcesMetadata.BotSourceItem.decode(e,e.uint32()));break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BotSourcesMetadata"},n.BotSourceItem=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.provider=0,r.prototype.thumbnailCdnUrl="",r.prototype.sourceProviderUrl="",r.prototype.sourceQuery="",r.prototype.faviconCdnUrl="",r.prototype.citationNumber=0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.provider!=null&&Object.hasOwnProperty.call(t,"provider")&&i.uint32(8).int32(t.provider),t.thumbnailCdnUrl!=null&&Object.hasOwnProperty.call(t,"thumbnailCdnUrl")&&i.uint32(18).string(t.thumbnailCdnUrl),t.sourceProviderUrl!=null&&Object.hasOwnProperty.call(t,"sourceProviderUrl")&&i.uint32(26).string(t.sourceProviderUrl),t.sourceQuery!=null&&Object.hasOwnProperty.call(t,"sourceQuery")&&i.uint32(34).string(t.sourceQuery),t.faviconCdnUrl!=null&&Object.hasOwnProperty.call(t,"faviconCdnUrl")&&i.uint32(42).string(t.faviconCdnUrl),t.citationNumber!=null&&Object.hasOwnProperty.call(t,"citationNumber")&&i.uint32(48).uint32(t.citationNumber),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.BotSourcesMetadata.BotSourceItem;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.provider=t.int32();break}case 2:{c.thumbnailCdnUrl=t.string();break}case 3:{c.sourceProviderUrl=t.string();break}case 4:{c.sourceQuery=t.string();break}case 5:{c.faviconCdnUrl=t.string();break}case 6:{c.citationNumber=t.uint32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.BotSourcesMetadata.BotSourceItem"},r.SourceProvider=function(){let e={},t=Object.create(e);return t[e[0]="UNKNOWN"]=0,t[e[1]="BING"]=1,t[e[2]="GOOGLE"]=2,t[e[3]="SUPPORT"]=3,t}(),r}(),n}(),a.BotSuggestedPromptMetadata=function(){function n(r){if(this.suggestedPrompts=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.suggestedPrompts=h.emptyArray,n.prototype.selectedPromptIndex=0,n.prototype.promptSuggestions=null,n.prototype.selectedPromptId="",n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.suggestedPrompts!=null&&e.suggestedPrompts.length)for(var i=0;i<e.suggestedPrompts.length;++i)t.uint32(10).string(e.suggestedPrompts[i]);return e.selectedPromptIndex!=null&&Object.hasOwnProperty.call(e,"selectedPromptIndex")&&t.uint32(16).uint32(e.selectedPromptIndex),e.promptSuggestions!=null&&Object.hasOwnProperty.call(e,"promptSuggestions")&&u.proto.BotPromptSuggestions.encode(e.promptSuggestions,t.uint32(26).fork()).ldelim(),e.selectedPromptId!=null&&Object.hasOwnProperty.call(e,"selectedPromptId")&&t.uint32(34).string(e.selectedPromptId),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.BotSuggestedPromptMetadata;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.suggestedPrompts&&s.suggestedPrompts.length||(s.suggestedPrompts=[]),s.suggestedPrompts.push(e.string());break}case 2:{s.selectedPromptIndex=e.uint32();break}case 3:{s.promptSuggestions=u.proto.BotPromptSuggestions.decode(e,e.uint32());break}case 4:{s.selectedPromptId=e.string();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.BotSuggestedPromptMetadata"},n}(),a.CallLogRecord=function(){function n(r){if(this.participants=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.callResult=0,n.prototype.isDndMode=!1,n.prototype.silenceReason=0,n.prototype.duration=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.startTime=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.isIncoming=!1,n.prototype.isVideo=!1,n.prototype.isCallLink=!1,n.prototype.callLinkToken="",n.prototype.scheduledCallId="",n.prototype.callId="",n.prototype.callCreatorJid="",n.prototype.groupJid="",n.prototype.participants=h.emptyArray,n.prototype.callType=0,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.callResult!=null&&Object.hasOwnProperty.call(e,"callResult")&&t.uint32(8).int32(e.callResult),e.isDndMode!=null&&Object.hasOwnProperty.call(e,"isDndMode")&&t.uint32(16).bool(e.isDndMode),e.silenceReason!=null&&Object.hasOwnProperty.call(e,"silenceReason")&&t.uint32(24).int32(e.silenceReason),e.duration!=null&&Object.hasOwnProperty.call(e,"duration")&&t.uint32(32).int64(e.duration),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(40).int64(e.startTime),e.isIncoming!=null&&Object.hasOwnProperty.call(e,"isIncoming")&&t.uint32(48).bool(e.isIncoming),e.isVideo!=null&&Object.hasOwnProperty.call(e,"isVideo")&&t.uint32(56).bool(e.isVideo),e.isCallLink!=null&&Object.hasOwnProperty.call(e,"isCallLink")&&t.uint32(64).bool(e.isCallLink),e.callLinkToken!=null&&Object.hasOwnProperty.call(e,"callLinkToken")&&t.uint32(74).string(e.callLinkToken),e.scheduledCallId!=null&&Object.hasOwnProperty.call(e,"scheduledCallId")&&t.uint32(82).string(e.scheduledCallId),e.callId!=null&&Object.hasOwnProperty.call(e,"callId")&&t.uint32(90).string(e.callId),e.callCreatorJid!=null&&Object.hasOwnProperty.call(e,"callCreatorJid")&&t.uint32(98).string(e.callCreatorJid),e.groupJid!=null&&Object.hasOwnProperty.call(e,"groupJid")&&t.uint32(106).string(e.groupJid),e.participants!=null&&e.participants.length)for(var i=0;i<e.participants.length;++i)u.proto.CallLogRecord.ParticipantInfo.encode(e.participants[i],t.uint32(114).fork()).ldelim();return e.callType!=null&&Object.hasOwnProperty.call(e,"callType")&&t.uint32(120).int32(e.callType),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.CallLogRecord;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.callResult=e.int32();break}case 2:{s.isDndMode=e.bool();break}case 3:{s.silenceReason=e.int32();break}case 4:{s.duration=e.int64();break}case 5:{s.startTime=e.int64();break}case 6:{s.isIncoming=e.bool();break}case 7:{s.isVideo=e.bool();break}case 8:{s.isCallLink=e.bool();break}case 9:{s.callLinkToken=e.string();break}case 10:{s.scheduledCallId=e.string();break}case 11:{s.callId=e.string();break}case 12:{s.callCreatorJid=e.string();break}case 13:{s.groupJid=e.string();break}case 14:{s.participants&&s.participants.length||(s.participants=[]),s.participants.push(u.proto.CallLogRecord.ParticipantInfo.decode(e,e.uint32()));break}case 15:{s.callType=e.int32();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.CallLogRecord"},n.CallResult=function(){let r={},e=Object.create(r);return e[r[0]="CONNECTED"]=0,e[r[1]="REJECTED"]=1,e[r[2]="CANCELLED"]=2,e[r[3]="ACCEPTEDELSEWHERE"]=3,e[r[4]="MISSED"]=4,e[r[5]="INVALID"]=5,e[r[6]="UNAVAILABLE"]=6,e[r[7]="UPCOMING"]=7,e[r[8]="FAILED"]=8,e[r[9]="ABANDONED"]=9,e[r[10]="ONGOING"]=10,e}(),n.CallType=function(){let r={},e=Object.create(r);return e[r[0]="REGULAR"]=0,e[r[1]="SCHEDULED_CALL"]=1,e[r[2]="VOICE_CHAT"]=2,e}(),n.ParticipantInfo=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.userJid="",r.prototype.callResult=0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.userJid!=null&&Object.hasOwnProperty.call(t,"userJid")&&i.uint32(10).string(t.userJid),t.callResult!=null&&Object.hasOwnProperty.call(t,"callResult")&&i.uint32(16).int32(t.callResult),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.CallLogRecord.ParticipantInfo;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.userJid=t.string();break}case 2:{c.callResult=t.int32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.CallLogRecord.ParticipantInfo"},r}(),n.SilenceReason=function(){let r={},e=Object.create(r);return e[r[0]="NONE"]=0,e[r[1]="SCHEDULED"]=1,e[r[2]="PRIVACY"]=2,e[r[3]="LIGHTWEIGHT"]=3,e}(),n}(),a.CertChain=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.leaf=null,n.prototype.intermediate=null,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.leaf!=null&&Object.hasOwnProperty.call(e,"leaf")&&u.proto.CertChain.NoiseCertificate.encode(e.leaf,t.uint32(10).fork()).ldelim(),e.intermediate!=null&&Object.hasOwnProperty.call(e,"intermediate")&&u.proto.CertChain.NoiseCertificate.encode(e.intermediate,t.uint32(18).fork()).ldelim(),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.CertChain;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.leaf=u.proto.CertChain.NoiseCertificate.decode(e,e.uint32());break}case 2:{s.intermediate=u.proto.CertChain.NoiseCertificate.decode(e,e.uint32());break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.CertChain"},n.NoiseCertificate=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.details=h.newBuffer([]),r.prototype.signature=h.newBuffer([]),r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.details!=null&&Object.hasOwnProperty.call(t,"details")&&i.uint32(10).bytes(t.details),t.signature!=null&&Object.hasOwnProperty.call(t,"signature")&&i.uint32(18).bytes(t.signature),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.CertChain.NoiseCertificate;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.details=t.bytes();break}case 2:{c.signature=t.bytes();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.CertChain.NoiseCertificate"},r.Details=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.serial=0,e.prototype.issuerSerial=0,e.prototype.key=h.newBuffer([]),e.prototype.notBefore=h.Long?h.Long.fromBits(0,0,!0):0,e.prototype.notAfter=h.Long?h.Long.fromBits(0,0,!0):0,e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.serial!=null&&Object.hasOwnProperty.call(i,"serial")&&o.uint32(8).uint32(i.serial),i.issuerSerial!=null&&Object.hasOwnProperty.call(i,"issuerSerial")&&o.uint32(16).uint32(i.issuerSerial),i.key!=null&&Object.hasOwnProperty.call(i,"key")&&o.uint32(26).bytes(i.key),i.notBefore!=null&&Object.hasOwnProperty.call(i,"notBefore")&&o.uint32(32).uint64(i.notBefore),i.notAfter!=null&&Object.hasOwnProperty.call(i,"notAfter")&&o.uint32(40).uint64(i.notAfter),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.CertChain.NoiseCertificate.Details;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.serial=i.uint32();break}case 2:{l.issuerSerial=i.uint32();break}case 3:{l.key=i.bytes();break}case 4:{l.notBefore=i.uint64();break}case 5:{l.notAfter=i.uint64();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.CertChain.NoiseCertificate.Details"},e}(),r}(),n}(),a.ChatLockSettings=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.hideLockedChats=!1,n.prototype.secretCode=null,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.hideLockedChats!=null&&Object.hasOwnProperty.call(e,"hideLockedChats")&&t.uint32(8).bool(e.hideLockedChats),e.secretCode!=null&&Object.hasOwnProperty.call(e,"secretCode")&&u.proto.UserPassword.encode(e.secretCode,t.uint32(18).fork()).ldelim(),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.ChatLockSettings;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.hideLockedChats=e.bool();break}case 2:{s.secretCode=u.proto.UserPassword.decode(e,e.uint32());break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.ChatLockSettings"},n}(),a.ChatRowOpaqueData=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.draftMessage=null,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.draftMessage!=null&&Object.hasOwnProperty.call(e,"draftMessage")&&u.proto.ChatRowOpaqueData.DraftMessage.encode(e.draftMessage,t.uint32(10).fork()).ldelim(),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.ChatRowOpaqueData;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.draftMessage=u.proto.ChatRowOpaqueData.DraftMessage.decode(e,e.uint32());break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.ChatRowOpaqueData"},n.DraftMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.text="",r.prototype.omittedUrl="",r.prototype.ctwaContextLinkData=null,r.prototype.ctwaContext=null,r.prototype.timestamp=h.Long?h.Long.fromBits(0,0,!1):0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.text!=null&&Object.hasOwnProperty.call(t,"text")&&i.uint32(10).string(t.text),t.omittedUrl!=null&&Object.hasOwnProperty.call(t,"omittedUrl")&&i.uint32(18).string(t.omittedUrl),t.ctwaContextLinkData!=null&&Object.hasOwnProperty.call(t,"ctwaContextLinkData")&&u.proto.ChatRowOpaqueData.DraftMessage.CtwaContextLinkData.encode(t.ctwaContextLinkData,i.uint32(26).fork()).ldelim(),t.ctwaContext!=null&&Object.hasOwnProperty.call(t,"ctwaContext")&&u.proto.ChatRowOpaqueData.DraftMessage.CtwaContextData.encode(t.ctwaContext,i.uint32(34).fork()).ldelim(),t.timestamp!=null&&Object.hasOwnProperty.call(t,"timestamp")&&i.uint32(40).int64(t.timestamp),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.ChatRowOpaqueData.DraftMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.text=t.string();break}case 2:{c.omittedUrl=t.string();break}case 3:{c.ctwaContextLinkData=u.proto.ChatRowOpaqueData.DraftMessage.CtwaContextLinkData.decode(t,t.uint32());break}case 4:{c.ctwaContext=u.proto.ChatRowOpaqueData.DraftMessage.CtwaContextData.decode(t,t.uint32());break}case 5:{c.timestamp=t.int64();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.ChatRowOpaqueData.DraftMessage"},r.CtwaContextData=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.conversionSource="",e.prototype.conversionData=h.newBuffer([]),e.prototype.sourceUrl="",e.prototype.sourceId="",e.prototype.sourceType="",e.prototype.title="",e.prototype.description="",e.prototype.thumbnail="",e.prototype.thumbnailUrl="",e.prototype.mediaType=0,e.prototype.mediaUrl="",e.prototype.isSuspiciousLink=!1,e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.conversionSource!=null&&Object.hasOwnProperty.call(i,"conversionSource")&&o.uint32(10).string(i.conversionSource),i.conversionData!=null&&Object.hasOwnProperty.call(i,"conversionData")&&o.uint32(18).bytes(i.conversionData),i.sourceUrl!=null&&Object.hasOwnProperty.call(i,"sourceUrl")&&o.uint32(26).string(i.sourceUrl),i.sourceId!=null&&Object.hasOwnProperty.call(i,"sourceId")&&o.uint32(34).string(i.sourceId),i.sourceType!=null&&Object.hasOwnProperty.call(i,"sourceType")&&o.uint32(42).string(i.sourceType),i.title!=null&&Object.hasOwnProperty.call(i,"title")&&o.uint32(50).string(i.title),i.description!=null&&Object.hasOwnProperty.call(i,"description")&&o.uint32(58).string(i.description),i.thumbnail!=null&&Object.hasOwnProperty.call(i,"thumbnail")&&o.uint32(66).string(i.thumbnail),i.thumbnailUrl!=null&&Object.hasOwnProperty.call(i,"thumbnailUrl")&&o.uint32(74).string(i.thumbnailUrl),i.mediaType!=null&&Object.hasOwnProperty.call(i,"mediaType")&&o.uint32(80).int32(i.mediaType),i.mediaUrl!=null&&Object.hasOwnProperty.call(i,"mediaUrl")&&o.uint32(90).string(i.mediaUrl),i.isSuspiciousLink!=null&&Object.hasOwnProperty.call(i,"isSuspiciousLink")&&o.uint32(96).bool(i.isSuspiciousLink),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.ChatRowOpaqueData.DraftMessage.CtwaContextData;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.conversionSource=i.string();break}case 2:{l.conversionData=i.bytes();break}case 3:{l.sourceUrl=i.string();break}case 4:{l.sourceId=i.string();break}case 5:{l.sourceType=i.string();break}case 6:{l.title=i.string();break}case 7:{l.description=i.string();break}case 8:{l.thumbnail=i.string();break}case 9:{l.thumbnailUrl=i.string();break}case 10:{l.mediaType=i.int32();break}case 11:{l.mediaUrl=i.string();break}case 12:{l.isSuspiciousLink=i.bool();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.ChatRowOpaqueData.DraftMessage.CtwaContextData"},e.ContextInfoExternalAdReplyInfoMediaType=function(){let t={},i=Object.create(t);return i[t[0]="NONE"]=0,i[t[1]="IMAGE"]=1,i[t[2]="VIDEO"]=2,i}(),e}(),r.CtwaContextLinkData=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.context="",e.prototype.sourceUrl="",e.prototype.icebreaker="",e.prototype.phone="",e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.context!=null&&Object.hasOwnProperty.call(i,"context")&&o.uint32(10).string(i.context),i.sourceUrl!=null&&Object.hasOwnProperty.call(i,"sourceUrl")&&o.uint32(18).string(i.sourceUrl),i.icebreaker!=null&&Object.hasOwnProperty.call(i,"icebreaker")&&o.uint32(26).string(i.icebreaker),i.phone!=null&&Object.hasOwnProperty.call(i,"phone")&&o.uint32(34).string(i.phone),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.ChatRowOpaqueData.DraftMessage.CtwaContextLinkData;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.context=i.string();break}case 2:{l.sourceUrl=i.string();break}case 3:{l.icebreaker=i.string();break}case 4:{l.phone=i.string();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.ChatRowOpaqueData.DraftMessage.CtwaContextLinkData"},e}(),r}(),n}(),a.Citation=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.title="",n.prototype.subtitle="",n.prototype.cmsId="",n.prototype.imageUrl="",n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),t.uint32(10).string(e.title),t.uint32(18).string(e.subtitle),t.uint32(26).string(e.cmsId),t.uint32(34).string(e.imageUrl),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.Citation;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.title=e.string();break}case 2:{s.subtitle=e.string();break}case 3:{s.cmsId=e.string();break}case 4:{s.imageUrl=e.string();break}default:e.skipType(c&7);break}}if(!s.hasOwnProperty("title"))throw h.ProtocolError("missing required 'title'",{instance:s});if(!s.hasOwnProperty("subtitle"))throw h.ProtocolError("missing required 'subtitle'",{instance:s});if(!s.hasOwnProperty("cmsId"))throw h.ProtocolError("missing required 'cmsId'",{instance:s});if(!s.hasOwnProperty("imageUrl"))throw h.ProtocolError("missing required 'imageUrl'",{instance:s});return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.Citation"},n}(),a.ClientPairingProps=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.isChatDbLidMigrated=!1,n.prototype.isSyncdPureLidSession=!1,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.isChatDbLidMigrated!=null&&Object.hasOwnProperty.call(e,"isChatDbLidMigrated")&&t.uint32(8).bool(e.isChatDbLidMigrated),e.isSyncdPureLidSession!=null&&Object.hasOwnProperty.call(e,"isSyncdPureLidSession")&&t.uint32(16).bool(e.isSyncdPureLidSession),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.ClientPairingProps;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.isChatDbLidMigrated=e.bool();break}case 2:{s.isSyncdPureLidSession=e.bool();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.ClientPairingProps"},n}(),a.ClientPayload=function(){function n(r){if(this.shards=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.username=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.passive=!1,n.prototype.userAgent=null,n.prototype.webInfo=null,n.prototype.pushName="",n.prototype.sessionId=0,n.prototype.shortConnect=!1,n.prototype.connectType=0,n.prototype.connectReason=0,n.prototype.shards=h.emptyArray,n.prototype.dnsSource=null,n.prototype.connectAttemptCount=0,n.prototype.device=0,n.prototype.devicePairingData=null,n.prototype.product=0,n.prototype.fbCat=h.newBuffer([]),n.prototype.fbUserAgent=h.newBuffer([]),n.prototype.oc=!1,n.prototype.lc=0,n.prototype.iosAppExtension=0,n.prototype.fbAppId=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.fbDeviceId=h.newBuffer([]),n.prototype.pull=!1,n.prototype.paddingBytes=h.newBuffer([]),n.prototype.yearClass=0,n.prototype.memClass=0,n.prototype.interopData=null,n.prototype.trafficAnonymization=0,n.prototype.lidDbMigrated=!1,n.prototype.accountType=0,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.username!=null&&Object.hasOwnProperty.call(e,"username")&&t.uint32(8).uint64(e.username),e.passive!=null&&Object.hasOwnProperty.call(e,"passive")&&t.uint32(24).bool(e.passive),e.userAgent!=null&&Object.hasOwnProperty.call(e,"userAgent")&&u.proto.ClientPayload.UserAgent.encode(e.userAgent,t.uint32(42).fork()).ldelim(),e.webInfo!=null&&Object.hasOwnProperty.call(e,"webInfo")&&u.proto.ClientPayload.WebInfo.encode(e.webInfo,t.uint32(50).fork()).ldelim(),e.pushName!=null&&Object.hasOwnProperty.call(e,"pushName")&&t.uint32(58).string(e.pushName),e.sessionId!=null&&Object.hasOwnProperty.call(e,"sessionId")&&t.uint32(77).sfixed32(e.sessionId),e.shortConnect!=null&&Object.hasOwnProperty.call(e,"shortConnect")&&t.uint32(80).bool(e.shortConnect),e.connectType!=null&&Object.hasOwnProperty.call(e,"connectType")&&t.uint32(96).int32(e.connectType),e.connectReason!=null&&Object.hasOwnProperty.call(e,"connectReason")&&t.uint32(104).int32(e.connectReason),e.shards!=null&&e.shards.length)for(var i=0;i<e.shards.length;++i)t.uint32(112).int32(e.shards[i]);return e.dnsSource!=null&&Object.hasOwnProperty.call(e,"dnsSource")&&u.proto.ClientPayload.DNSSource.encode(e.dnsSource,t.uint32(122).fork()).ldelim(),e.connectAttemptCount!=null&&Object.hasOwnProperty.call(e,"connectAttemptCount")&&t.uint32(128).uint32(e.connectAttemptCount),e.device!=null&&Object.hasOwnProperty.call(e,"device")&&t.uint32(144).uint32(e.device),e.devicePairingData!=null&&Object.hasOwnProperty.call(e,"devicePairingData")&&u.proto.ClientPayload.DevicePairingRegistrationData.encode(e.devicePairingData,t.uint32(154).fork()).ldelim(),e.product!=null&&Object.hasOwnProperty.call(e,"product")&&t.uint32(160).int32(e.product),e.fbCat!=null&&Object.hasOwnProperty.call(e,"fbCat")&&t.uint32(170).bytes(e.fbCat),e.fbUserAgent!=null&&Object.hasOwnProperty.call(e,"fbUserAgent")&&t.uint32(178).bytes(e.fbUserAgent),e.oc!=null&&Object.hasOwnProperty.call(e,"oc")&&t.uint32(184).bool(e.oc),e.lc!=null&&Object.hasOwnProperty.call(e,"lc")&&t.uint32(192).int32(e.lc),e.iosAppExtension!=null&&Object.hasOwnProperty.call(e,"iosAppExtension")&&t.uint32(240).int32(e.iosAppExtension),e.fbAppId!=null&&Object.hasOwnProperty.call(e,"fbAppId")&&t.uint32(248).uint64(e.fbAppId),e.fbDeviceId!=null&&Object.hasOwnProperty.call(e,"fbDeviceId")&&t.uint32(258).bytes(e.fbDeviceId),e.pull!=null&&Object.hasOwnProperty.call(e,"pull")&&t.uint32(264).bool(e.pull),e.paddingBytes!=null&&Object.hasOwnProperty.call(e,"paddingBytes")&&t.uint32(274).bytes(e.paddingBytes),e.yearClass!=null&&Object.hasOwnProperty.call(e,"yearClass")&&t.uint32(288).int32(e.yearClass),e.memClass!=null&&Object.hasOwnProperty.call(e,"memClass")&&t.uint32(296).int32(e.memClass),e.interopData!=null&&Object.hasOwnProperty.call(e,"interopData")&&u.proto.ClientPayload.InteropData.encode(e.interopData,t.uint32(306).fork()).ldelim(),e.trafficAnonymization!=null&&Object.hasOwnProperty.call(e,"trafficAnonymization")&&t.uint32(320).int32(e.trafficAnonymization),e.lidDbMigrated!=null&&Object.hasOwnProperty.call(e,"lidDbMigrated")&&t.uint32(328).bool(e.lidDbMigrated),e.accountType!=null&&Object.hasOwnProperty.call(e,"accountType")&&t.uint32(336).int32(e.accountType),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.ClientPayload;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.username=e.uint64();break}case 3:{s.passive=e.bool();break}case 5:{s.userAgent=u.proto.ClientPayload.UserAgent.decode(e,e.uint32());break}case 6:{s.webInfo=u.proto.ClientPayload.WebInfo.decode(e,e.uint32());break}case 7:{s.pushName=e.string();break}case 9:{s.sessionId=e.sfixed32();break}case 10:{s.shortConnect=e.bool();break}case 12:{s.connectType=e.int32();break}case 13:{s.connectReason=e.int32();break}case 14:{if(s.shards&&s.shards.length||(s.shards=[]),(c&7)===2)for(var l=e.uint32()+e.pos;e.pos<l;)s.shards.push(e.int32());else s.shards.push(e.int32());break}case 15:{s.dnsSource=u.proto.ClientPayload.DNSSource.decode(e,e.uint32());break}case 16:{s.connectAttemptCount=e.uint32();break}case 18:{s.device=e.uint32();break}case 19:{s.devicePairingData=u.proto.ClientPayload.DevicePairingRegistrationData.decode(e,e.uint32());break}case 20:{s.product=e.int32();break}case 21:{s.fbCat=e.bytes();break}case 22:{s.fbUserAgent=e.bytes();break}case 23:{s.oc=e.bool();break}case 24:{s.lc=e.int32();break}case 30:{s.iosAppExtension=e.int32();break}case 31:{s.fbAppId=e.uint64();break}case 32:{s.fbDeviceId=e.bytes();break}case 33:{s.pull=e.bool();break}case 34:{s.paddingBytes=e.bytes();break}case 36:{s.yearClass=e.int32();break}case 37:{s.memClass=e.int32();break}case 38:{s.interopData=u.proto.ClientPayload.InteropData.decode(e,e.uint32());break}case 40:{s.trafficAnonymization=e.int32();break}case 41:{s.lidDbMigrated=e.bool();break}case 42:{s.accountType=e.int32();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.ClientPayload"},n.AccountType=function(){let r={},e=Object.create(r);return e[r[0]="DEFAULT"]=0,e[r[1]="GUEST"]=1,e}(),n.ConnectReason=function(){let r={},e=Object.create(r);return e[r[0]="PUSH"]=0,e[r[1]="USER_ACTIVATED"]=1,e[r[2]="SCHEDULED"]=2,e[r[3]="ERROR_RECONNECT"]=3,e[r[4]="NETWORK_SWITCH"]=4,e[r[5]="PING_RECONNECT"]=5,e[r[6]="UNKNOWN"]=6,e}(),n.ConnectType=function(){let r={},e=Object.create(r);return e[r[0]="CELLULAR_UNKNOWN"]=0,e[r[1]="WIFI_UNKNOWN"]=1,e[r[100]="CELLULAR_EDGE"]=100,e[r[101]="CELLULAR_IDEN"]=101,e[r[102]="CELLULAR_UMTS"]=102,e[r[103]="CELLULAR_EVDO"]=103,e[r[104]="CELLULAR_GPRS"]=104,e[r[105]="CELLULAR_HSDPA"]=105,e[r[106]="CELLULAR_HSUPA"]=106,e[r[107]="CELLULAR_HSPA"]=107,e[r[108]="CELLULAR_CDMA"]=108,e[r[109]="CELLULAR_1XRTT"]=109,e[r[110]="CELLULAR_EHRPD"]=110,e[r[111]="CELLULAR_LTE"]=111,e[r[112]="CELLULAR_HSPAP"]=112,e}(),n.DNSSource=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.dnsMethod=0,r.prototype.appCached=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.dnsMethod!=null&&Object.hasOwnProperty.call(t,"dnsMethod")&&i.uint32(120).int32(t.dnsMethod),t.appCached!=null&&Object.hasOwnProperty.call(t,"appCached")&&i.uint32(128).bool(t.appCached),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.ClientPayload.DNSSource;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 15:{c.dnsMethod=t.int32();break}case 16:{c.appCached=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.ClientPayload.DNSSource"},r.DNSResolutionMethod=function(){let e={},t=Object.create(e);return t[e[0]="SYSTEM"]=0,t[e[1]="GOOGLE"]=1,t[e[2]="HARDCODED"]=2,t[e[3]="OVERRIDE"]=3,t[e[4]="FALLBACK"]=4,t[e[5]="MNS"]=5,t}(),r}(),n.DevicePairingRegistrationData=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.eRegid=h.newBuffer([]),r.prototype.eKeytype=h.newBuffer([]),r.prototype.eIdent=h.newBuffer([]),r.prototype.eSkeyId=h.newBuffer([]),r.prototype.eSkeyVal=h.newBuffer([]),r.prototype.eSkeySig=h.newBuffer([]),r.prototype.buildHash=h.newBuffer([]),r.prototype.deviceProps=h.newBuffer([]),r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.eRegid!=null&&Object.hasOwnProperty.call(t,"eRegid")&&i.uint32(10).bytes(t.eRegid),t.eKeytype!=null&&Object.hasOwnProperty.call(t,"eKeytype")&&i.uint32(18).bytes(t.eKeytype),t.eIdent!=null&&Object.hasOwnProperty.call(t,"eIdent")&&i.uint32(26).bytes(t.eIdent),t.eSkeyId!=null&&Object.hasOwnProperty.call(t,"eSkeyId")&&i.uint32(34).bytes(t.eSkeyId),t.eSkeyVal!=null&&Object.hasOwnProperty.call(t,"eSkeyVal")&&i.uint32(42).bytes(t.eSkeyVal),t.eSkeySig!=null&&Object.hasOwnProperty.call(t,"eSkeySig")&&i.uint32(50).bytes(t.eSkeySig),t.buildHash!=null&&Object.hasOwnProperty.call(t,"buildHash")&&i.uint32(58).bytes(t.buildHash),t.deviceProps!=null&&Object.hasOwnProperty.call(t,"deviceProps")&&i.uint32(66).bytes(t.deviceProps),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.ClientPayload.DevicePairingRegistrationData;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.eRegid=t.bytes();break}case 2:{c.eKeytype=t.bytes();break}case 3:{c.eIdent=t.bytes();break}case 4:{c.eSkeyId=t.bytes();break}case 5:{c.eSkeyVal=t.bytes();break}case 6:{c.eSkeySig=t.bytes();break}case 7:{c.buildHash=t.bytes();break}case 8:{c.deviceProps=t.bytes();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.ClientPayload.DevicePairingRegistrationData"},r}(),n.IOSAppExtension=function(){let r={},e=Object.create(r);return e[r[0]="SHARE_EXTENSION"]=0,e[r[1]="SERVICE_EXTENSION"]=1,e[r[2]="INTENTS_EXTENSION"]=2,e}(),n.InteropData=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.accountId=h.Long?h.Long.fromBits(0,0,!0):0,r.prototype.token=h.newBuffer([]),r.prototype.enableReadReceipts=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.accountId!=null&&Object.hasOwnProperty.call(t,"accountId")&&i.uint32(8).uint64(t.accountId),t.token!=null&&Object.hasOwnProperty.call(t,"token")&&i.uint32(18).bytes(t.token),t.enableReadReceipts!=null&&Object.hasOwnProperty.call(t,"enableReadReceipts")&&i.uint32(24).bool(t.enableReadReceipts),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.ClientPayload.InteropData;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.accountId=t.uint64();break}case 2:{c.token=t.bytes();break}case 3:{c.enableReadReceipts=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.ClientPayload.InteropData"},r}(),n.Product=function(){let r={},e=Object.create(r);return e[r[0]="WHATSAPP"]=0,e[r[1]="MESSENGER"]=1,e[r[2]="INTEROP"]=2,e[r[3]="INTEROP_MSGR"]=3,e[r[4]="WHATSAPP_LID"]=4,e}(),n.TrafficAnonymization=function(){let r={},e=Object.create(r);return e[r[0]="OFF"]=0,e[r[1]="STANDARD"]=1,e}(),n.UserAgent=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.platform=0,r.prototype.appVersion=null,r.prototype.mcc="",r.prototype.mnc="",r.prototype.osVersion="",r.prototype.manufacturer="",r.prototype.device="",r.prototype.osBuildNumber="",r.prototype.phoneId="",r.prototype.releaseChannel=0,r.prototype.localeLanguageIso6391="",r.prototype.localeCountryIso31661Alpha2="",r.prototype.deviceBoard="",r.prototype.deviceExpId="",r.prototype.deviceType=0,r.prototype.deviceModelType="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.platform!=null&&Object.hasOwnProperty.call(t,"platform")&&i.uint32(8).int32(t.platform),t.appVersion!=null&&Object.hasOwnProperty.call(t,"appVersion")&&u.proto.ClientPayload.UserAgent.AppVersion.encode(t.appVersion,i.uint32(18).fork()).ldelim(),t.mcc!=null&&Object.hasOwnProperty.call(t,"mcc")&&i.uint32(26).string(t.mcc),t.mnc!=null&&Object.hasOwnProperty.call(t,"mnc")&&i.uint32(34).string(t.mnc),t.osVersion!=null&&Object.hasOwnProperty.call(t,"osVersion")&&i.uint32(42).string(t.osVersion),t.manufacturer!=null&&Object.hasOwnProperty.call(t,"manufacturer")&&i.uint32(50).string(t.manufacturer),t.device!=null&&Object.hasOwnProperty.call(t,"device")&&i.uint32(58).string(t.device),t.osBuildNumber!=null&&Object.hasOwnProperty.call(t,"osBuildNumber")&&i.uint32(66).string(t.osBuildNumber),t.phoneId!=null&&Object.hasOwnProperty.call(t,"phoneId")&&i.uint32(74).string(t.phoneId),t.releaseChannel!=null&&Object.hasOwnProperty.call(t,"releaseChannel")&&i.uint32(80).int32(t.releaseChannel),t.localeLanguageIso6391!=null&&Object.hasOwnProperty.call(t,"localeLanguageIso6391")&&i.uint32(90).string(t.localeLanguageIso6391),t.localeCountryIso31661Alpha2!=null&&Object.hasOwnProperty.call(t,"localeCountryIso31661Alpha2")&&i.uint32(98).string(t.localeCountryIso31661Alpha2),t.deviceBoard!=null&&Object.hasOwnProperty.call(t,"deviceBoard")&&i.uint32(106).string(t.deviceBoard),t.deviceExpId!=null&&Object.hasOwnProperty.call(t,"deviceExpId")&&i.uint32(114).string(t.deviceExpId),t.deviceType!=null&&Object.hasOwnProperty.call(t,"deviceType")&&i.uint32(120).int32(t.deviceType),t.deviceModelType!=null&&Object.hasOwnProperty.call(t,"deviceModelType")&&i.uint32(130).string(t.deviceModelType),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.ClientPayload.UserAgent;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.platform=t.int32();break}case 2:{c.appVersion=u.proto.ClientPayload.UserAgent.AppVersion.decode(t,t.uint32());break}case 3:{c.mcc=t.string();break}case 4:{c.mnc=t.string();break}case 5:{c.osVersion=t.string();break}case 6:{c.manufacturer=t.string();break}case 7:{c.device=t.string();break}case 8:{c.osBuildNumber=t.string();break}case 9:{c.phoneId=t.string();break}case 10:{c.releaseChannel=t.int32();break}case 11:{c.localeLanguageIso6391=t.string();break}case 12:{c.localeCountryIso31661Alpha2=t.string();break}case 13:{c.deviceBoard=t.string();break}case 14:{c.deviceExpId=t.string();break}case 15:{c.deviceType=t.int32();break}case 16:{c.deviceModelType=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.ClientPayload.UserAgent"},r.AppVersion=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.primary=0,e.prototype.secondary=0,e.prototype.tertiary=0,e.prototype.quaternary=0,e.prototype.quinary=0,e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.primary!=null&&Object.hasOwnProperty.call(i,"primary")&&o.uint32(8).uint32(i.primary),i.secondary!=null&&Object.hasOwnProperty.call(i,"secondary")&&o.uint32(16).uint32(i.secondary),i.tertiary!=null&&Object.hasOwnProperty.call(i,"tertiary")&&o.uint32(24).uint32(i.tertiary),i.quaternary!=null&&Object.hasOwnProperty.call(i,"quaternary")&&o.uint32(32).uint32(i.quaternary),i.quinary!=null&&Object.hasOwnProperty.call(i,"quinary")&&o.uint32(40).uint32(i.quinary),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.ClientPayload.UserAgent.AppVersion;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.primary=i.uint32();break}case 2:{l.secondary=i.uint32();break}case 3:{l.tertiary=i.uint32();break}case 4:{l.quaternary=i.uint32();break}case 5:{l.quinary=i.uint32();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.ClientPayload.UserAgent.AppVersion"},e}(),r.DeviceType=function(){let e={},t=Object.create(e);return t[e[0]="PHONE"]=0,t[e[1]="TABLET"]=1,t[e[2]="DESKTOP"]=2,t[e[3]="WEARABLE"]=3,t[e[4]="VR"]=4,t}(),r.Platform=function(){let e={},t=Object.create(e);return t[e[0]="ANDROID"]=0,t[e[1]="IOS"]=1,t[e[2]="WINDOWS_PHONE"]=2,t[e[3]="BLACKBERRY"]=3,t[e[4]="BLACKBERRYX"]=4,t[e[5]="S40"]=5,t[e[6]="S60"]=6,t[e[7]="PYTHON_CLIENT"]=7,t[e[8]="TIZEN"]=8,t[e[9]="ENTERPRISE"]=9,t[e[10]="SMB_ANDROID"]=10,t[e[11]="KAIOS"]=11,t[e[12]="SMB_IOS"]=12,t[e[13]="WINDOWS"]=13,t[e[14]="WEB"]=14,t[e[15]="PORTAL"]=15,t[e[16]="GREEN_ANDROID"]=16,t[e[17]="GREEN_IPHONE"]=17,t[e[18]="BLUE_ANDROID"]=18,t[e[19]="BLUE_IPHONE"]=19,t[e[20]="FBLITE_ANDROID"]=20,t[e[21]="MLITE_ANDROID"]=21,t[e[22]="IGLITE_ANDROID"]=22,t[e[23]="PAGE"]=23,t[e[24]="MACOS"]=24,t[e[25]="OCULUS_MSG"]=25,t[e[26]="OCULUS_CALL"]=26,t[e[27]="MILAN"]=27,t[e[28]="CAPI"]=28,t[e[29]="WEAROS"]=29,t[e[30]="ARDEVICE"]=30,t[e[31]="VRDEVICE"]=31,t[e[32]="BLUE_WEB"]=32,t[e[33]="IPAD"]=33,t[e[34]="TEST"]=34,t[e[35]="SMART_GLASSES"]=35,t}(),r.ReleaseChannel=function(){let e={},t=Object.create(e);return t[e[0]="RELEASE"]=0,t[e[1]="BETA"]=1,t[e[2]="ALPHA"]=2,t[e[3]="DEBUG"]=3,t}(),r}(),n.WebInfo=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.refToken="",r.prototype.version="",r.prototype.webdPayload=null,r.prototype.webSubPlatform=0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.refToken!=null&&Object.hasOwnProperty.call(t,"refToken")&&i.uint32(10).string(t.refToken),t.version!=null&&Object.hasOwnProperty.call(t,"version")&&i.uint32(18).string(t.version),t.webdPayload!=null&&Object.hasOwnProperty.call(t,"webdPayload")&&u.proto.ClientPayload.WebInfo.WebdPayload.encode(t.webdPayload,i.uint32(26).fork()).ldelim(),t.webSubPlatform!=null&&Object.hasOwnProperty.call(t,"webSubPlatform")&&i.uint32(32).int32(t.webSubPlatform),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.ClientPayload.WebInfo;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.refToken=t.string();break}case 2:{c.version=t.string();break}case 3:{c.webdPayload=u.proto.ClientPayload.WebInfo.WebdPayload.decode(t,t.uint32());break}case 4:{c.webSubPlatform=t.int32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.ClientPayload.WebInfo"},r.WebSubPlatform=function(){let e={},t=Object.create(e);return t[e[0]="WEB_BROWSER"]=0,t[e[1]="APP_STORE"]=1,t[e[2]="WIN_STORE"]=2,t[e[3]="DARWIN"]=3,t[e[4]="WIN32"]=4,t[e[5]="WIN_HYBRID"]=5,t}(),r.WebdPayload=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.usesParticipantInKey=!1,e.prototype.supportsStarredMessages=!1,e.prototype.supportsDocumentMessages=!1,e.prototype.supportsUrlMessages=!1,e.prototype.supportsMediaRetry=!1,e.prototype.supportsE2EImage=!1,e.prototype.supportsE2EVideo=!1,e.prototype.supportsE2EAudio=!1,e.prototype.supportsE2EDocument=!1,e.prototype.documentTypes="",e.prototype.features=h.newBuffer([]),e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.usesParticipantInKey!=null&&Object.hasOwnProperty.call(i,"usesParticipantInKey")&&o.uint32(8).bool(i.usesParticipantInKey),i.supportsStarredMessages!=null&&Object.hasOwnProperty.call(i,"supportsStarredMessages")&&o.uint32(16).bool(i.supportsStarredMessages),i.supportsDocumentMessages!=null&&Object.hasOwnProperty.call(i,"supportsDocumentMessages")&&o.uint32(24).bool(i.supportsDocumentMessages),i.supportsUrlMessages!=null&&Object.hasOwnProperty.call(i,"supportsUrlMessages")&&o.uint32(32).bool(i.supportsUrlMessages),i.supportsMediaRetry!=null&&Object.hasOwnProperty.call(i,"supportsMediaRetry")&&o.uint32(40).bool(i.supportsMediaRetry),i.supportsE2EImage!=null&&Object.hasOwnProperty.call(i,"supportsE2EImage")&&o.uint32(48).bool(i.supportsE2EImage),i.supportsE2EVideo!=null&&Object.hasOwnProperty.call(i,"supportsE2EVideo")&&o.uint32(56).bool(i.supportsE2EVideo),i.supportsE2EAudio!=null&&Object.hasOwnProperty.call(i,"supportsE2EAudio")&&o.uint32(64).bool(i.supportsE2EAudio),i.supportsE2EDocument!=null&&Object.hasOwnProperty.call(i,"supportsE2EDocument")&&o.uint32(72).bool(i.supportsE2EDocument),i.documentTypes!=null&&Object.hasOwnProperty.call(i,"documentTypes")&&o.uint32(82).string(i.documentTypes),i.features!=null&&Object.hasOwnProperty.call(i,"features")&&o.uint32(90).bytes(i.features),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.ClientPayload.WebInfo.WebdPayload;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.usesParticipantInKey=i.bool();break}case 2:{l.supportsStarredMessages=i.bool();break}case 3:{l.supportsDocumentMessages=i.bool();break}case 4:{l.supportsUrlMessages=i.bool();break}case 5:{l.supportsMediaRetry=i.bool();break}case 6:{l.supportsE2EImage=i.bool();break}case 7:{l.supportsE2EVideo=i.bool();break}case 8:{l.supportsE2EAudio=i.bool();break}case 9:{l.supportsE2EDocument=i.bool();break}case 10:{l.documentTypes=i.string();break}case 11:{l.features=i.bytes();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.ClientPayload.WebInfo.WebdPayload"},e}(),r}(),n}(),a.CommentMetadata=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.commentParentKey=null,n.prototype.replyCount=0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.commentParentKey!=null&&Object.hasOwnProperty.call(e,"commentParentKey")&&u.proto.MessageKey.encode(e.commentParentKey,t.uint32(10).fork()).ldelim(),e.replyCount!=null&&Object.hasOwnProperty.call(e,"replyCount")&&t.uint32(16).uint32(e.replyCount),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.CommentMetadata;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.commentParentKey=u.proto.MessageKey.decode(e,e.uint32());break}case 2:{s.replyCount=e.uint32();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.CommentMetadata"},n}(),a.CompanionCommitment=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.hash=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.hash!=null&&Object.hasOwnProperty.call(e,"hash")&&t.uint32(10).bytes(e.hash),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.CompanionCommitment;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.hash=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.CompanionCommitment"},n}(),a.CompanionEphemeralIdentity=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.publicKey=h.newBuffer([]),n.prototype.deviceType=0,n.prototype.ref="",n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.publicKey!=null&&Object.hasOwnProperty.call(e,"publicKey")&&t.uint32(10).bytes(e.publicKey),e.deviceType!=null&&Object.hasOwnProperty.call(e,"deviceType")&&t.uint32(16).int32(e.deviceType),e.ref!=null&&Object.hasOwnProperty.call(e,"ref")&&t.uint32(26).string(e.ref),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.CompanionEphemeralIdentity;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.publicKey=e.bytes();break}case 2:{s.deviceType=e.int32();break}case 3:{s.ref=e.string();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.CompanionEphemeralIdentity"},n}(),a.Config=function(){function n(r){if(this.field={},r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.field=h.emptyObject,n.prototype.version=0,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.field!=null&&Object.hasOwnProperty.call(e,"field"))for(var i=Object.keys(e.field),o=0;o<i.length;++o)t.uint32(10).fork().uint32(8).uint32(i[o]),u.proto.Field.encode(e.field[i[o]],t.uint32(18).fork()).ldelim().ldelim();return e.version!=null&&Object.hasOwnProperty.call(e,"version")&&t.uint32(16).uint32(e.version),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.Config,c,l;e.pos<o;){var d=e.uint32();if(d===i)break;switch(d>>>3){case 1:{s.field===h.emptyObject&&(s.field={});var f=e.uint32()+e.pos;for(c=0,l=null;e.pos<f;){var g=e.uint32();switch(g>>>3){case 1:c=e.uint32();break;case 2:l=u.proto.Field.decode(e,e.uint32());break;default:e.skipType(g&7);break}}s.field[c]=l;break}case 2:{s.version=e.uint32();break}default:e.skipType(d&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.Config"},n}(),a.ContextInfo=function(){function n(r){if(this.mentionedJid=[],this.groupMentions=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.stanzaId="",n.prototype.participant="",n.prototype.quotedMessage=null,n.prototype.remoteJid="",n.prototype.mentionedJid=h.emptyArray,n.prototype.conversionSource="",n.prototype.conversionData=h.newBuffer([]),n.prototype.conversionDelaySeconds=0,n.prototype.forwardingScore=0,n.prototype.isForwarded=!1,n.prototype.quotedAd=null,n.prototype.placeholderKey=null,n.prototype.expiration=0,n.prototype.ephemeralSettingTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.ephemeralSharedSecret=h.newBuffer([]),n.prototype.externalAdReply=null,n.prototype.entryPointConversionSource="",n.prototype.entryPointConversionApp="",n.prototype.entryPointConversionDelaySeconds=0,n.prototype.disappearingMode=null,n.prototype.actionLink=null,n.prototype.groupSubject="",n.prototype.parentGroupJid="",n.prototype.trustBannerType="",n.prototype.trustBannerAction=0,n.prototype.isSampled=!1,n.prototype.groupMentions=h.emptyArray,n.prototype.utm=null,n.prototype.forwardedNewsletterMessageInfo=null,n.prototype.businessMessageForwardInfo=null,n.prototype.smbClientCampaignId="",n.prototype.smbServerCampaignId="",n.prototype.dataSharingContext=null,n.prototype.alwaysShowAdAttribution=!1,n.prototype.featureEligibilities=null,n.prototype.entryPointConversionExternalSource="",n.prototype.entryPointConversionExternalMedium="",n.prototype.ctwaSignals="",n.prototype.ctwaPayload=h.newBuffer([]),n.prototype.forwardedAiBotMessageInfo=null,n.prototype.statusAttributionType=0,n.prototype.urlTrackingMap=null,n.prototype.pairedMediaType=0,n.prototype.rankingVersion=0,n.prototype.memberLabel=null,n.prototype.isQuestion=!1,n.prototype.statusSourceType=0,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.stanzaId!=null&&Object.hasOwnProperty.call(e,"stanzaId")&&t.uint32(10).string(e.stanzaId),e.participant!=null&&Object.hasOwnProperty.call(e,"participant")&&t.uint32(18).string(e.participant),e.quotedMessage!=null&&Object.hasOwnProperty.call(e,"quotedMessage")&&u.proto.Message.encode(e.quotedMessage,t.uint32(26).fork()).ldelim(),e.remoteJid!=null&&Object.hasOwnProperty.call(e,"remoteJid")&&t.uint32(34).string(e.remoteJid),e.mentionedJid!=null&&e.mentionedJid.length)for(var i=0;i<e.mentionedJid.length;++i)t.uint32(122).string(e.mentionedJid[i]);if(e.conversionSource!=null&&Object.hasOwnProperty.call(e,"conversionSource")&&t.uint32(146).string(e.conversionSource),e.conversionData!=null&&Object.hasOwnProperty.call(e,"conversionData")&&t.uint32(154).bytes(e.conversionData),e.conversionDelaySeconds!=null&&Object.hasOwnProperty.call(e,"conversionDelaySeconds")&&t.uint32(160).uint32(e.conversionDelaySeconds),e.forwardingScore!=null&&Object.hasOwnProperty.call(e,"forwardingScore")&&t.uint32(168).uint32(e.forwardingScore),e.isForwarded!=null&&Object.hasOwnProperty.call(e,"isForwarded")&&t.uint32(176).bool(e.isForwarded),e.quotedAd!=null&&Object.hasOwnProperty.call(e,"quotedAd")&&u.proto.ContextInfo.AdReplyInfo.encode(e.quotedAd,t.uint32(186).fork()).ldelim(),e.placeholderKey!=null&&Object.hasOwnProperty.call(e,"placeholderKey")&&u.proto.MessageKey.encode(e.placeholderKey,t.uint32(194).fork()).ldelim(),e.expiration!=null&&Object.hasOwnProperty.call(e,"expiration")&&t.uint32(200).uint32(e.expiration),e.ephemeralSettingTimestamp!=null&&Object.hasOwnProperty.call(e,"ephemeralSettingTimestamp")&&t.uint32(208).int64(e.ephemeralSettingTimestamp),e.ephemeralSharedSecret!=null&&Object.hasOwnProperty.call(e,"ephemeralSharedSecret")&&t.uint32(218).bytes(e.ephemeralSharedSecret),e.externalAdReply!=null&&Object.hasOwnProperty.call(e,"externalAdReply")&&u.proto.ContextInfo.ExternalAdReplyInfo.encode(e.externalAdReply,t.uint32(226).fork()).ldelim(),e.entryPointConversionSource!=null&&Object.hasOwnProperty.call(e,"entryPointConversionSource")&&t.uint32(234).string(e.entryPointConversionSource),e.entryPointConversionApp!=null&&Object.hasOwnProperty.call(e,"entryPointConversionApp")&&t.uint32(242).string(e.entryPointConversionApp),e.entryPointConversionDelaySeconds!=null&&Object.hasOwnProperty.call(e,"entryPointConversionDelaySeconds")&&t.uint32(248).uint32(e.entryPointConversionDelaySeconds),e.disappearingMode!=null&&Object.hasOwnProperty.call(e,"disappearingMode")&&u.proto.DisappearingMode.encode(e.disappearingMode,t.uint32(258).fork()).ldelim(),e.actionLink!=null&&Object.hasOwnProperty.call(e,"actionLink")&&u.proto.ActionLink.encode(e.actionLink,t.uint32(266).fork()).ldelim(),e.groupSubject!=null&&Object.hasOwnProperty.call(e,"groupSubject")&&t.uint32(274).string(e.groupSubject),e.parentGroupJid!=null&&Object.hasOwnProperty.call(e,"parentGroupJid")&&t.uint32(282).string(e.parentGroupJid),e.trustBannerType!=null&&Object.hasOwnProperty.call(e,"trustBannerType")&&t.uint32(298).string(e.trustBannerType),e.trustBannerAction!=null&&Object.hasOwnProperty.call(e,"trustBannerAction")&&t.uint32(304).uint32(e.trustBannerAction),e.isSampled!=null&&Object.hasOwnProperty.call(e,"isSampled")&&t.uint32(312).bool(e.isSampled),e.groupMentions!=null&&e.groupMentions.length)for(var i=0;i<e.groupMentions.length;++i)u.proto.GroupMention.encode(e.groupMentions[i],t.uint32(322).fork()).ldelim();return e.utm!=null&&Object.hasOwnProperty.call(e,"utm")&&u.proto.ContextInfo.UTMInfo.encode(e.utm,t.uint32(330).fork()).ldelim(),e.forwardedNewsletterMessageInfo!=null&&Object.hasOwnProperty.call(e,"forwardedNewsletterMessageInfo")&&u.proto.ContextInfo.ForwardedNewsletterMessageInfo.encode(e.forwardedNewsletterMessageInfo,t.uint32(346).fork()).ldelim(),e.businessMessageForwardInfo!=null&&Object.hasOwnProperty.call(e,"businessMessageForwardInfo")&&u.proto.ContextInfo.BusinessMessageForwardInfo.encode(e.businessMessageForwardInfo,t.uint32(354).fork()).ldelim(),e.smbClientCampaignId!=null&&Object.hasOwnProperty.call(e,"smbClientCampaignId")&&t.uint32(362).string(e.smbClientCampaignId),e.smbServerCampaignId!=null&&Object.hasOwnProperty.call(e,"smbServerCampaignId")&&t.uint32(370).string(e.smbServerCampaignId),e.dataSharingContext!=null&&Object.hasOwnProperty.call(e,"dataSharingContext")&&u.proto.ContextInfo.DataSharingContext.encode(e.dataSharingContext,t.uint32(378).fork()).ldelim(),e.alwaysShowAdAttribution!=null&&Object.hasOwnProperty.call(e,"alwaysShowAdAttribution")&&t.uint32(384).bool(e.alwaysShowAdAttribution),e.featureEligibilities!=null&&Object.hasOwnProperty.call(e,"featureEligibilities")&&u.proto.ContextInfo.FeatureEligibilities.encode(e.featureEligibilities,t.uint32(394).fork()).ldelim(),e.entryPointConversionExternalSource!=null&&Object.hasOwnProperty.call(e,"entryPointConversionExternalSource")&&t.uint32(402).string(e.entryPointConversionExternalSource),e.entryPointConversionExternalMedium!=null&&Object.hasOwnProperty.call(e,"entryPointConversionExternalMedium")&&t.uint32(410).string(e.entryPointConversionExternalMedium),e.ctwaSignals!=null&&Object.hasOwnProperty.call(e,"ctwaSignals")&&t.uint32(434).string(e.ctwaSignals),e.ctwaPayload!=null&&Object.hasOwnProperty.call(e,"ctwaPayload")&&t.uint32(442).bytes(e.ctwaPayload),e.forwardedAiBotMessageInfo!=null&&Object.hasOwnProperty.call(e,"forwardedAiBotMessageInfo")&&u.proto.ContextInfo.ForwardedAIBotMessageInfo.encode(e.forwardedAiBotMessageInfo,t.uint32(450).fork()).ldelim(),e.statusAttributionType!=null&&Object.hasOwnProperty.call(e,"statusAttributionType")&&t.uint32(456).int32(e.statusAttributionType),e.urlTrackingMap!=null&&Object.hasOwnProperty.call(e,"urlTrackingMap")&&u.proto.UrlTrackingMap.encode(e.urlTrackingMap,t.uint32(466).fork()).ldelim(),e.pairedMediaType!=null&&Object.hasOwnProperty.call(e,"pairedMediaType")&&t.uint32(472).int32(e.pairedMediaType),e.rankingVersion!=null&&Object.hasOwnProperty.call(e,"rankingVersion")&&t.uint32(480).uint32(e.rankingVersion),e.memberLabel!=null&&Object.hasOwnProperty.call(e,"memberLabel")&&u.proto.MemberLabel.encode(e.memberLabel,t.uint32(498).fork()).ldelim(),e.isQuestion!=null&&Object.hasOwnProperty.call(e,"isQuestion")&&t.uint32(504).bool(e.isQuestion),e.statusSourceType!=null&&Object.hasOwnProperty.call(e,"statusSourceType")&&t.uint32(512).int32(e.statusSourceType),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.ContextInfo;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.stanzaId=e.string();break}case 2:{s.participant=e.string();break}case 3:{s.quotedMessage=u.proto.Message.decode(e,e.uint32());break}case 4:{s.remoteJid=e.string();break}case 15:{s.mentionedJid&&s.mentionedJid.length||(s.mentionedJid=[]),s.mentionedJid.push(e.string());break}case 18:{s.conversionSource=e.string();break}case 19:{s.conversionData=e.bytes();break}case 20:{s.conversionDelaySeconds=e.uint32();break}case 21:{s.forwardingScore=e.uint32();break}case 22:{s.isForwarded=e.bool();break}case 23:{s.quotedAd=u.proto.ContextInfo.AdReplyInfo.decode(e,e.uint32());break}case 24:{s.placeholderKey=u.proto.MessageKey.decode(e,e.uint32());break}case 25:{s.expiration=e.uint32();break}case 26:{s.ephemeralSettingTimestamp=e.int64();break}case 27:{s.ephemeralSharedSecret=e.bytes();break}case 28:{s.externalAdReply=u.proto.ContextInfo.ExternalAdReplyInfo.decode(e,e.uint32());break}case 29:{s.entryPointConversionSource=e.string();break}case 30:{s.entryPointConversionApp=e.string();break}case 31:{s.entryPointConversionDelaySeconds=e.uint32();break}case 32:{s.disappearingMode=u.proto.DisappearingMode.decode(e,e.uint32());break}case 33:{s.actionLink=u.proto.ActionLink.decode(e,e.uint32());break}case 34:{s.groupSubject=e.string();break}case 35:{s.parentGroupJid=e.string();break}case 37:{s.trustBannerType=e.string();break}case 38:{s.trustBannerAction=e.uint32();break}case 39:{s.isSampled=e.bool();break}case 40:{s.groupMentions&&s.groupMentions.length||(s.groupMentions=[]),s.groupMentions.push(u.proto.GroupMention.decode(e,e.uint32()));break}case 41:{s.utm=u.proto.ContextInfo.UTMInfo.decode(e,e.uint32());break}case 43:{s.forwardedNewsletterMessageInfo=u.proto.ContextInfo.ForwardedNewsletterMessageInfo.decode(e,e.uint32());break}case 44:{s.businessMessageForwardInfo=u.proto.ContextInfo.BusinessMessageForwardInfo.decode(e,e.uint32());break}case 45:{s.smbClientCampaignId=e.string();break}case 46:{s.smbServerCampaignId=e.string();break}case 47:{s.dataSharingContext=u.proto.ContextInfo.DataSharingContext.decode(e,e.uint32());break}case 48:{s.alwaysShowAdAttribution=e.bool();break}case 49:{s.featureEligibilities=u.proto.ContextInfo.FeatureEligibilities.decode(e,e.uint32());break}case 50:{s.entryPointConversionExternalSource=e.string();break}case 51:{s.entryPointConversionExternalMedium=e.string();break}case 54:{s.ctwaSignals=e.string();break}case 55:{s.ctwaPayload=e.bytes();break}case 56:{s.forwardedAiBotMessageInfo=u.proto.ContextInfo.ForwardedAIBotMessageInfo.decode(e,e.uint32());break}case 57:{s.statusAttributionType=e.int32();break}case 58:{s.urlTrackingMap=u.proto.UrlTrackingMap.decode(e,e.uint32());break}case 59:{s.pairedMediaType=e.int32();break}case 60:{s.rankingVersion=e.uint32();break}case 62:{s.memberLabel=u.proto.MemberLabel.decode(e,e.uint32());break}case 63:{s.isQuestion=e.bool();break}case 64:{s.statusSourceType=e.int32();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.ContextInfo"},n.AdReplyInfo=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.advertiserName="",r.prototype.mediaType=0,r.prototype.jpegThumbnail=h.newBuffer([]),r.prototype.caption="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.advertiserName!=null&&Object.hasOwnProperty.call(t,"advertiserName")&&i.uint32(10).string(t.advertiserName),t.mediaType!=null&&Object.hasOwnProperty.call(t,"mediaType")&&i.uint32(16).int32(t.mediaType),t.jpegThumbnail!=null&&Object.hasOwnProperty.call(t,"jpegThumbnail")&&i.uint32(130).bytes(t.jpegThumbnail),t.caption!=null&&Object.hasOwnProperty.call(t,"caption")&&i.uint32(138).string(t.caption),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.ContextInfo.AdReplyInfo;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.advertiserName=t.string();break}case 2:{c.mediaType=t.int32();break}case 16:{c.jpegThumbnail=t.bytes();break}case 17:{c.caption=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.ContextInfo.AdReplyInfo"},r.MediaType=function(){let e={},t=Object.create(e);return t[e[0]="NONE"]=0,t[e[1]="IMAGE"]=1,t[e[2]="VIDEO"]=2,t}(),r}(),n.BusinessMessageForwardInfo=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.businessOwnerJid="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.businessOwnerJid!=null&&Object.hasOwnProperty.call(t,"businessOwnerJid")&&i.uint32(10).string(t.businessOwnerJid),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.ContextInfo.BusinessMessageForwardInfo;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.businessOwnerJid=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.ContextInfo.BusinessMessageForwardInfo"},r}(),n.DataSharingContext=function(){function r(e){if(this.parameters=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.showMmDisclosure=!1,r.prototype.encryptedSignalTokenConsented="",r.prototype.parameters=h.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.showMmDisclosure!=null&&Object.hasOwnProperty.call(t,"showMmDisclosure")&&i.uint32(8).bool(t.showMmDisclosure),t.encryptedSignalTokenConsented!=null&&Object.hasOwnProperty.call(t,"encryptedSignalTokenConsented")&&i.uint32(18).string(t.encryptedSignalTokenConsented),t.parameters!=null&&t.parameters.length)for(var o=0;o<t.parameters.length;++o)u.proto.ContextInfo.DataSharingContext.Parameters.encode(t.parameters[o],i.uint32(26).fork()).ldelim();return i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.ContextInfo.DataSharingContext;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.showMmDisclosure=t.bool();break}case 2:{c.encryptedSignalTokenConsented=t.string();break}case 3:{c.parameters&&c.parameters.length||(c.parameters=[]),c.parameters.push(u.proto.ContextInfo.DataSharingContext.Parameters.decode(t,t.uint32()));break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.ContextInfo.DataSharingContext"},r.Parameters=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.key="",e.prototype.stringData="",e.prototype.intData=h.Long?h.Long.fromBits(0,0,!1):0,e.prototype.floatData=0,e.prototype.contents=null,e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.key!=null&&Object.hasOwnProperty.call(i,"key")&&o.uint32(10).string(i.key),i.stringData!=null&&Object.hasOwnProperty.call(i,"stringData")&&o.uint32(18).string(i.stringData),i.intData!=null&&Object.hasOwnProperty.call(i,"intData")&&o.uint32(24).int64(i.intData),i.floatData!=null&&Object.hasOwnProperty.call(i,"floatData")&&o.uint32(37).float(i.floatData),i.contents!=null&&Object.hasOwnProperty.call(i,"contents")&&u.proto.ContextInfo.DataSharingContext.Parameters.encode(i.contents,o.uint32(42).fork()).ldelim(),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.ContextInfo.DataSharingContext.Parameters;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.key=i.string();break}case 2:{l.stringData=i.string();break}case 3:{l.intData=i.int64();break}case 4:{l.floatData=i.float();break}case 5:{l.contents=u.proto.ContextInfo.DataSharingContext.Parameters.decode(i,i.uint32());break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.ContextInfo.DataSharingContext.Parameters"},e}(),r}(),n.ExternalAdReplyInfo=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.title="",r.prototype.body="",r.prototype.mediaType=0,r.prototype.thumbnailUrl="",r.prototype.mediaUrl="",r.prototype.thumbnail=h.newBuffer([]),r.prototype.sourceType="",r.prototype.sourceId="",r.prototype.sourceUrl="",r.prototype.containsAutoReply=!1,r.prototype.renderLargerThumbnail=!1,r.prototype.showAdAttribution=!1,r.prototype.ctwaClid="",r.prototype.ref="",r.prototype.clickToWhatsappCall=!1,r.prototype.adContextPreviewDismissed=!1,r.prototype.sourceApp="",r.prototype.automatedGreetingMessageShown=!1,r.prototype.greetingMessageBody="",r.prototype.ctaPayload="",r.prototype.disableNudge=!1,r.prototype.originalImageUrl="",r.prototype.automatedGreetingMessageCtaType="",r.prototype.wtwaAdFormat=!1,r.prototype.adType=0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.title!=null&&Object.hasOwnProperty.call(t,"title")&&i.uint32(10).string(t.title),t.body!=null&&Object.hasOwnProperty.call(t,"body")&&i.uint32(18).string(t.body),t.mediaType!=null&&Object.hasOwnProperty.call(t,"mediaType")&&i.uint32(24).int32(t.mediaType),t.thumbnailUrl!=null&&Object.hasOwnProperty.call(t,"thumbnailUrl")&&i.uint32(34).string(t.thumbnailUrl),t.mediaUrl!=null&&Object.hasOwnProperty.call(t,"mediaUrl")&&i.uint32(42).string(t.mediaUrl),t.thumbnail!=null&&Object.hasOwnProperty.call(t,"thumbnail")&&i.uint32(50).bytes(t.thumbnail),t.sourceType!=null&&Object.hasOwnProperty.call(t,"sourceType")&&i.uint32(58).string(t.sourceType),t.sourceId!=null&&Object.hasOwnProperty.call(t,"sourceId")&&i.uint32(66).string(t.sourceId),t.sourceUrl!=null&&Object.hasOwnProperty.call(t,"sourceUrl")&&i.uint32(74).string(t.sourceUrl),t.containsAutoReply!=null&&Object.hasOwnProperty.call(t,"containsAutoReply")&&i.uint32(80).bool(t.containsAutoReply),t.renderLargerThumbnail!=null&&Object.hasOwnProperty.call(t,"renderLargerThumbnail")&&i.uint32(88).bool(t.renderLargerThumbnail),t.showAdAttribution!=null&&Object.hasOwnProperty.call(t,"showAdAttribution")&&i.uint32(96).bool(t.showAdAttribution),t.ctwaClid!=null&&Object.hasOwnProperty.call(t,"ctwaClid")&&i.uint32(106).string(t.ctwaClid),t.ref!=null&&Object.hasOwnProperty.call(t,"ref")&&i.uint32(114).string(t.ref),t.clickToWhatsappCall!=null&&Object.hasOwnProperty.call(t,"clickToWhatsappCall")&&i.uint32(120).bool(t.clickToWhatsappCall),t.adContextPreviewDismissed!=null&&Object.hasOwnProperty.call(t,"adContextPreviewDismissed")&&i.uint32(128).bool(t.adContextPreviewDismissed),t.sourceApp!=null&&Object.hasOwnProperty.call(t,"sourceApp")&&i.uint32(138).string(t.sourceApp),t.automatedGreetingMessageShown!=null&&Object.hasOwnProperty.call(t,"automatedGreetingMessageShown")&&i.uint32(144).bool(t.automatedGreetingMessageShown),t.greetingMessageBody!=null&&Object.hasOwnProperty.call(t,"greetingMessageBody")&&i.uint32(154).string(t.greetingMessageBody),t.ctaPayload!=null&&Object.hasOwnProperty.call(t,"ctaPayload")&&i.uint32(162).string(t.ctaPayload),t.disableNudge!=null&&Object.hasOwnProperty.call(t,"disableNudge")&&i.uint32(168).bool(t.disableNudge),t.originalImageUrl!=null&&Object.hasOwnProperty.call(t,"originalImageUrl")&&i.uint32(178).string(t.originalImageUrl),t.automatedGreetingMessageCtaType!=null&&Object.hasOwnProperty.call(t,"automatedGreetingMessageCtaType")&&i.uint32(186).string(t.automatedGreetingMessageCtaType),t.wtwaAdFormat!=null&&Object.hasOwnProperty.call(t,"wtwaAdFormat")&&i.uint32(192).bool(t.wtwaAdFormat),t.adType!=null&&Object.hasOwnProperty.call(t,"adType")&&i.uint32(200).int32(t.adType),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.ContextInfo.ExternalAdReplyInfo;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.title=t.string();break}case 2:{c.body=t.string();break}case 3:{c.mediaType=t.int32();break}case 4:{c.thumbnailUrl=t.string();break}case 5:{c.mediaUrl=t.string();break}case 6:{c.thumbnail=t.bytes();break}case 7:{c.sourceType=t.string();break}case 8:{c.sourceId=t.string();break}case 9:{c.sourceUrl=t.string();break}case 10:{c.containsAutoReply=t.bool();break}case 11:{c.renderLargerThumbnail=t.bool();break}case 12:{c.showAdAttribution=t.bool();break}case 13:{c.ctwaClid=t.string();break}case 14:{c.ref=t.string();break}case 15:{c.clickToWhatsappCall=t.bool();break}case 16:{c.adContextPreviewDismissed=t.bool();break}case 17:{c.sourceApp=t.string();break}case 18:{c.automatedGreetingMessageShown=t.bool();break}case 19:{c.greetingMessageBody=t.string();break}case 20:{c.ctaPayload=t.string();break}case 21:{c.disableNudge=t.bool();break}case 22:{c.originalImageUrl=t.string();break}case 23:{c.automatedGreetingMessageCtaType=t.string();break}case 24:{c.wtwaAdFormat=t.bool();break}case 25:{c.adType=t.int32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.ContextInfo.ExternalAdReplyInfo"},r.AdType=function(){let e={},t=Object.create(e);return t[e[0]="CTWA"]=0,t[e[1]="CAWC"]=1,t}(),r.MediaType=function(){let e={},t=Object.create(e);return t[e[0]="NONE"]=0,t[e[1]="IMAGE"]=1,t[e[2]="VIDEO"]=2,t}(),r}(),n.FeatureEligibilities=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.cannotBeReactedTo=!1,r.prototype.cannotBeRanked=!1,r.prototype.canRequestFeedback=!1,r.prototype.canBeReshared=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.cannotBeReactedTo!=null&&Object.hasOwnProperty.call(t,"cannotBeReactedTo")&&i.uint32(8).bool(t.cannotBeReactedTo),t.cannotBeRanked!=null&&Object.hasOwnProperty.call(t,"cannotBeRanked")&&i.uint32(16).bool(t.cannotBeRanked),t.canRequestFeedback!=null&&Object.hasOwnProperty.call(t,"canRequestFeedback")&&i.uint32(24).bool(t.canRequestFeedback),t.canBeReshared!=null&&Object.hasOwnProperty.call(t,"canBeReshared")&&i.uint32(32).bool(t.canBeReshared),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.ContextInfo.FeatureEligibilities;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.cannotBeReactedTo=t.bool();break}case 2:{c.cannotBeRanked=t.bool();break}case 3:{c.canRequestFeedback=t.bool();break}case 4:{c.canBeReshared=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.ContextInfo.FeatureEligibilities"},r}(),n.ForwardedAIBotMessageInfo=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.botName="",r.prototype.botJid="",r.prototype.creatorName="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.botName!=null&&Object.hasOwnProperty.call(t,"botName")&&i.uint32(10).string(t.botName),t.botJid!=null&&Object.hasOwnProperty.call(t,"botJid")&&i.uint32(18).string(t.botJid),t.creatorName!=null&&Object.hasOwnProperty.call(t,"creatorName")&&i.uint32(26).string(t.creatorName),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.ContextInfo.ForwardedAIBotMessageInfo;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.botName=t.string();break}case 2:{c.botJid=t.string();break}case 3:{c.creatorName=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.ContextInfo.ForwardedAIBotMessageInfo"},r}(),n.ForwardedNewsletterMessageInfo=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.newsletterJid="",r.prototype.serverMessageId=0,r.prototype.newsletterName="",r.prototype.contentType=1,r.prototype.accessibilityText="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.newsletterJid!=null&&Object.hasOwnProperty.call(t,"newsletterJid")&&i.uint32(10).string(t.newsletterJid),t.serverMessageId!=null&&Object.hasOwnProperty.call(t,"serverMessageId")&&i.uint32(16).int32(t.serverMessageId),t.newsletterName!=null&&Object.hasOwnProperty.call(t,"newsletterName")&&i.uint32(26).string(t.newsletterName),t.contentType!=null&&Object.hasOwnProperty.call(t,"contentType")&&i.uint32(32).int32(t.contentType),t.accessibilityText!=null&&Object.hasOwnProperty.call(t,"accessibilityText")&&i.uint32(42).string(t.accessibilityText),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.ContextInfo.ForwardedNewsletterMessageInfo;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.newsletterJid=t.string();break}case 2:{c.serverMessageId=t.int32();break}case 3:{c.newsletterName=t.string();break}case 4:{c.contentType=t.int32();break}case 5:{c.accessibilityText=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.ContextInfo.ForwardedNewsletterMessageInfo"},r.ContentType=function(){let e={},t=Object.create(e);return t[e[1]="UPDATE"]=1,t[e[2]="UPDATE_CARD"]=2,t[e[3]="LINK_CARD"]=3,t}(),r}(),n.PairedMediaType=function(){let r={},e=Object.create(r);return e[r[0]="NOT_PAIRED_MEDIA"]=0,e[r[1]="SD_VIDEO_PARENT"]=1,e[r[2]="HD_VIDEO_CHILD"]=2,e[r[3]="SD_IMAGE_PARENT"]=3,e[r[4]="HD_IMAGE_CHILD"]=4,e[r[5]="MOTION_PHOTO_PARENT"]=5,e[r[6]="MOTION_PHOTO_CHILD"]=6,e}(),n.StatusAttributionType=function(){let r={},e=Object.create(r);return e[r[0]="NONE"]=0,e[r[1]="RESHARED_FROM_MENTION"]=1,e[r[2]="RESHARED_FROM_POST"]=2,e}(),n.StatusSourceType=function(){let r={},e=Object.create(r);return e[r[0]="IMAGE"]=0,e[r[1]="VIDEO"]=1,e[r[2]="GIF"]=2,e[r[3]="AUDIO"]=3,e[r[4]="TEXT"]=4,e[r[5]="MUSIC_STANDALONE"]=5,e}(),n.UTMInfo=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.utmSource="",r.prototype.utmCampaign="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.utmSource!=null&&Object.hasOwnProperty.call(t,"utmSource")&&i.uint32(10).string(t.utmSource),t.utmCampaign!=null&&Object.hasOwnProperty.call(t,"utmCampaign")&&i.uint32(18).string(t.utmCampaign),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.ContextInfo.UTMInfo;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.utmSource=t.string();break}case 2:{c.utmCampaign=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.ContextInfo.UTMInfo"},r}(),n}(),a.Conversation=function(){function n(r){if(this.messages=[],this.participant=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.id="",n.prototype.messages=h.emptyArray,n.prototype.newJid="",n.prototype.oldJid="",n.prototype.lastMsgTimestamp=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.unreadCount=0,n.prototype.readOnly=!1,n.prototype.endOfHistoryTransfer=!1,n.prototype.ephemeralExpiration=0,n.prototype.ephemeralSettingTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.endOfHistoryTransferType=0,n.prototype.conversationTimestamp=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.name="",n.prototype.pHash="",n.prototype.notSpam=!1,n.prototype.archived=!1,n.prototype.disappearingMode=null,n.prototype.unreadMentionCount=0,n.prototype.markedAsUnread=!1,n.prototype.participant=h.emptyArray,n.prototype.tcToken=h.newBuffer([]),n.prototype.tcTokenTimestamp=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.contactPrimaryIdentityKey=h.newBuffer([]),n.prototype.pinned=0,n.prototype.muteEndTime=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.wallpaper=null,n.prototype.mediaVisibility=0,n.prototype.tcTokenSenderTimestamp=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.suspended=!1,n.prototype.terminated=!1,n.prototype.createdAt=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.createdBy="",n.prototype.description="",n.prototype.support=!1,n.prototype.isParentGroup=!1,n.prototype.parentGroupId="",n.prototype.isDefaultSubgroup=!1,n.prototype.displayName="",n.prototype.pnJid="",n.prototype.shareOwnPn=!1,n.prototype.pnhDuplicateLidThread=!1,n.prototype.lidJid="",n.prototype.username="",n.prototype.lidOriginType="",n.prototype.commentsCount=0,n.prototype.locked=!1,n.prototype.systemMessageToInsert=1,n.prototype.capiCreatedGroup=!1,n.prototype.accountLid="",n.prototype.limitSharing=!1,n.prototype.limitSharingSettingTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.limitSharingTrigger=0,n.prototype.limitSharingInitiatedByMe=!1,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),t.uint32(10).string(e.id),e.messages!=null&&e.messages.length)for(var i=0;i<e.messages.length;++i)u.proto.HistorySyncMsg.encode(e.messages[i],t.uint32(18).fork()).ldelim();if(e.newJid!=null&&Object.hasOwnProperty.call(e,"newJid")&&t.uint32(26).string(e.newJid),e.oldJid!=null&&Object.hasOwnProperty.call(e,"oldJid")&&t.uint32(34).string(e.oldJid),e.lastMsgTimestamp!=null&&Object.hasOwnProperty.call(e,"lastMsgTimestamp")&&t.uint32(40).uint64(e.lastMsgTimestamp),e.unreadCount!=null&&Object.hasOwnProperty.call(e,"unreadCount")&&t.uint32(48).uint32(e.unreadCount),e.readOnly!=null&&Object.hasOwnProperty.call(e,"readOnly")&&t.uint32(56).bool(e.readOnly),e.endOfHistoryTransfer!=null&&Object.hasOwnProperty.call(e,"endOfHistoryTransfer")&&t.uint32(64).bool(e.endOfHistoryTransfer),e.ephemeralExpiration!=null&&Object.hasOwnProperty.call(e,"ephemeralExpiration")&&t.uint32(72).uint32(e.ephemeralExpiration),e.ephemeralSettingTimestamp!=null&&Object.hasOwnProperty.call(e,"ephemeralSettingTimestamp")&&t.uint32(80).int64(e.ephemeralSettingTimestamp),e.endOfHistoryTransferType!=null&&Object.hasOwnProperty.call(e,"endOfHistoryTransferType")&&t.uint32(88).int32(e.endOfHistoryTransferType),e.conversationTimestamp!=null&&Object.hasOwnProperty.call(e,"conversationTimestamp")&&t.uint32(96).uint64(e.conversationTimestamp),e.name!=null&&Object.hasOwnProperty.call(e,"name")&&t.uint32(106).string(e.name),e.pHash!=null&&Object.hasOwnProperty.call(e,"pHash")&&t.uint32(114).string(e.pHash),e.notSpam!=null&&Object.hasOwnProperty.call(e,"notSpam")&&t.uint32(120).bool(e.notSpam),e.archived!=null&&Object.hasOwnProperty.call(e,"archived")&&t.uint32(128).bool(e.archived),e.disappearingMode!=null&&Object.hasOwnProperty.call(e,"disappearingMode")&&u.proto.DisappearingMode.encode(e.disappearingMode,t.uint32(138).fork()).ldelim(),e.unreadMentionCount!=null&&Object.hasOwnProperty.call(e,"unreadMentionCount")&&t.uint32(144).uint32(e.unreadMentionCount),e.markedAsUnread!=null&&Object.hasOwnProperty.call(e,"markedAsUnread")&&t.uint32(152).bool(e.markedAsUnread),e.participant!=null&&e.participant.length)for(var i=0;i<e.participant.length;++i)u.proto.GroupParticipant.encode(e.participant[i],t.uint32(162).fork()).ldelim();return e.tcToken!=null&&Object.hasOwnProperty.call(e,"tcToken")&&t.uint32(170).bytes(e.tcToken),e.tcTokenTimestamp!=null&&Object.hasOwnProperty.call(e,"tcTokenTimestamp")&&t.uint32(176).uint64(e.tcTokenTimestamp),e.contactPrimaryIdentityKey!=null&&Object.hasOwnProperty.call(e,"contactPrimaryIdentityKey")&&t.uint32(186).bytes(e.contactPrimaryIdentityKey),e.pinned!=null&&Object.hasOwnProperty.call(e,"pinned")&&t.uint32(192).uint32(e.pinned),e.muteEndTime!=null&&Object.hasOwnProperty.call(e,"muteEndTime")&&t.uint32(200).uint64(e.muteEndTime),e.wallpaper!=null&&Object.hasOwnProperty.call(e,"wallpaper")&&u.proto.WallpaperSettings.encode(e.wallpaper,t.uint32(210).fork()).ldelim(),e.mediaVisibility!=null&&Object.hasOwnProperty.call(e,"mediaVisibility")&&t.uint32(216).int32(e.mediaVisibility),e.tcTokenSenderTimestamp!=null&&Object.hasOwnProperty.call(e,"tcTokenSenderTimestamp")&&t.uint32(224).uint64(e.tcTokenSenderTimestamp),e.suspended!=null&&Object.hasOwnProperty.call(e,"suspended")&&t.uint32(232).bool(e.suspended),e.terminated!=null&&Object.hasOwnProperty.call(e,"terminated")&&t.uint32(240).bool(e.terminated),e.createdAt!=null&&Object.hasOwnProperty.call(e,"createdAt")&&t.uint32(248).uint64(e.createdAt),e.createdBy!=null&&Object.hasOwnProperty.call(e,"createdBy")&&t.uint32(258).string(e.createdBy),e.description!=null&&Object.hasOwnProperty.call(e,"description")&&t.uint32(266).string(e.description),e.support!=null&&Object.hasOwnProperty.call(e,"support")&&t.uint32(272).bool(e.support),e.isParentGroup!=null&&Object.hasOwnProperty.call(e,"isParentGroup")&&t.uint32(280).bool(e.isParentGroup),e.isDefaultSubgroup!=null&&Object.hasOwnProperty.call(e,"isDefaultSubgroup")&&t.uint32(288).bool(e.isDefaultSubgroup),e.parentGroupId!=null&&Object.hasOwnProperty.call(e,"parentGroupId")&&t.uint32(298).string(e.parentGroupId),e.displayName!=null&&Object.hasOwnProperty.call(e,"displayName")&&t.uint32(306).string(e.displayName),e.pnJid!=null&&Object.hasOwnProperty.call(e,"pnJid")&&t.uint32(314).string(e.pnJid),e.shareOwnPn!=null&&Object.hasOwnProperty.call(e,"shareOwnPn")&&t.uint32(320).bool(e.shareOwnPn),e.pnhDuplicateLidThread!=null&&Object.hasOwnProperty.call(e,"pnhDuplicateLidThread")&&t.uint32(328).bool(e.pnhDuplicateLidThread),e.lidJid!=null&&Object.hasOwnProperty.call(e,"lidJid")&&t.uint32(338).string(e.lidJid),e.username!=null&&Object.hasOwnProperty.call(e,"username")&&t.uint32(346).string(e.username),e.lidOriginType!=null&&Object.hasOwnProperty.call(e,"lidOriginType")&&t.uint32(354).string(e.lidOriginType),e.commentsCount!=null&&Object.hasOwnProperty.call(e,"commentsCount")&&t.uint32(360).uint32(e.commentsCount),e.locked!=null&&Object.hasOwnProperty.call(e,"locked")&&t.uint32(368).bool(e.locked),e.systemMessageToInsert!=null&&Object.hasOwnProperty.call(e,"systemMessageToInsert")&&t.uint32(376).int32(e.systemMessageToInsert),e.capiCreatedGroup!=null&&Object.hasOwnProperty.call(e,"capiCreatedGroup")&&t.uint32(384).bool(e.capiCreatedGroup),e.accountLid!=null&&Object.hasOwnProperty.call(e,"accountLid")&&t.uint32(394).string(e.accountLid),e.limitSharing!=null&&Object.hasOwnProperty.call(e,"limitSharing")&&t.uint32(400).bool(e.limitSharing),e.limitSharingSettingTimestamp!=null&&Object.hasOwnProperty.call(e,"limitSharingSettingTimestamp")&&t.uint32(408).int64(e.limitSharingSettingTimestamp),e.limitSharingTrigger!=null&&Object.hasOwnProperty.call(e,"limitSharingTrigger")&&t.uint32(416).int32(e.limitSharingTrigger),e.limitSharingInitiatedByMe!=null&&Object.hasOwnProperty.call(e,"limitSharingInitiatedByMe")&&t.uint32(424).bool(e.limitSharingInitiatedByMe),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.Conversation;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.id=e.string();break}case 2:{s.messages&&s.messages.length||(s.messages=[]),s.messages.push(u.proto.HistorySyncMsg.decode(e,e.uint32()));break}case 3:{s.newJid=e.string();break}case 4:{s.oldJid=e.string();break}case 5:{s.lastMsgTimestamp=e.uint64();break}case 6:{s.unreadCount=e.uint32();break}case 7:{s.readOnly=e.bool();break}case 8:{s.endOfHistoryTransfer=e.bool();break}case 9:{s.ephemeralExpiration=e.uint32();break}case 10:{s.ephemeralSettingTimestamp=e.int64();break}case 11:{s.endOfHistoryTransferType=e.int32();break}case 12:{s.conversationTimestamp=e.uint64();break}case 13:{s.name=e.string();break}case 14:{s.pHash=e.string();break}case 15:{s.notSpam=e.bool();break}case 16:{s.archived=e.bool();break}case 17:{s.disappearingMode=u.proto.DisappearingMode.decode(e,e.uint32());break}case 18:{s.unreadMentionCount=e.uint32();break}case 19:{s.markedAsUnread=e.bool();break}case 20:{s.participant&&s.participant.length||(s.participant=[]),s.participant.push(u.proto.GroupParticipant.decode(e,e.uint32()));break}case 21:{s.tcToken=e.bytes();break}case 22:{s.tcTokenTimestamp=e.uint64();break}case 23:{s.contactPrimaryIdentityKey=e.bytes();break}case 24:{s.pinned=e.uint32();break}case 25:{s.muteEndTime=e.uint64();break}case 26:{s.wallpaper=u.proto.WallpaperSettings.decode(e,e.uint32());break}case 27:{s.mediaVisibility=e.int32();break}case 28:{s.tcTokenSenderTimestamp=e.uint64();break}case 29:{s.suspended=e.bool();break}case 30:{s.terminated=e.bool();break}case 31:{s.createdAt=e.uint64();break}case 32:{s.createdBy=e.string();break}case 33:{s.description=e.string();break}case 34:{s.support=e.bool();break}case 35:{s.isParentGroup=e.bool();break}case 37:{s.parentGroupId=e.string();break}case 36:{s.isDefaultSubgroup=e.bool();break}case 38:{s.displayName=e.string();break}case 39:{s.pnJid=e.string();break}case 40:{s.shareOwnPn=e.bool();break}case 41:{s.pnhDuplicateLidThread=e.bool();break}case 42:{s.lidJid=e.string();break}case 43:{s.username=e.string();break}case 44:{s.lidOriginType=e.string();break}case 45:{s.commentsCount=e.uint32();break}case 46:{s.locked=e.bool();break}case 47:{s.systemMessageToInsert=e.int32();break}case 48:{s.capiCreatedGroup=e.bool();break}case 49:{s.accountLid=e.string();break}case 50:{s.limitSharing=e.bool();break}case 51:{s.limitSharingSettingTimestamp=e.int64();break}case 52:{s.limitSharingTrigger=e.int32();break}case 53:{s.limitSharingInitiatedByMe=e.bool();break}default:e.skipType(c&7);break}}if(!s.hasOwnProperty("id"))throw h.ProtocolError("missing required 'id'",{instance:s});return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.Conversation"},n.EndOfHistoryTransferType=function(){let r={},e=Object.create(r);return e[r[0]="COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY"]=0,e[r[1]="COMPLETE_AND_NO_MORE_MESSAGE_REMAIN_ON_PRIMARY"]=1,e[r[2]="COMPLETE_ON_DEMAND_SYNC_BUT_MORE_MSG_REMAIN_ON_PRIMARY"]=2,e}(),n}(),a.DeviceCapabilities=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.chatLockSupportLevel=0,n.prototype.lidMigration=null,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.chatLockSupportLevel!=null&&Object.hasOwnProperty.call(e,"chatLockSupportLevel")&&t.uint32(8).int32(e.chatLockSupportLevel),e.lidMigration!=null&&Object.hasOwnProperty.call(e,"lidMigration")&&u.proto.DeviceCapabilities.LIDMigration.encode(e.lidMigration,t.uint32(18).fork()).ldelim(),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.DeviceCapabilities;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.chatLockSupportLevel=e.int32();break}case 2:{s.lidMigration=u.proto.DeviceCapabilities.LIDMigration.decode(e,e.uint32());break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.DeviceCapabilities"},n.ChatLockSupportLevel=function(){let r={},e=Object.create(r);return e[r[0]="NONE"]=0,e[r[1]="MINIMAL"]=1,e[r[2]="FULL"]=2,e}(),n.LIDMigration=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.chatDbMigrationTimestamp=h.Long?h.Long.fromBits(0,0,!0):0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.chatDbMigrationTimestamp!=null&&Object.hasOwnProperty.call(t,"chatDbMigrationTimestamp")&&i.uint32(8).uint64(t.chatDbMigrationTimestamp),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.DeviceCapabilities.LIDMigration;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.chatDbMigrationTimestamp=t.uint64();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.DeviceCapabilities.LIDMigration"},r}(),n}(),a.DeviceConsistencyCodeMessage=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.generation=0,n.prototype.signature=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.generation!=null&&Object.hasOwnProperty.call(e,"generation")&&t.uint32(8).uint32(e.generation),e.signature!=null&&Object.hasOwnProperty.call(e,"signature")&&t.uint32(18).bytes(e.signature),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.DeviceConsistencyCodeMessage;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.generation=e.uint32();break}case 2:{s.signature=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.DeviceConsistencyCodeMessage"},n}(),a.DeviceListMetadata=function(){function n(r){if(this.senderKeyIndexes=[],this.recipientKeyIndexes=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.senderKeyHash=h.newBuffer([]),n.prototype.senderTimestamp=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.senderKeyIndexes=h.emptyArray,n.prototype.senderAccountType=0,n.prototype.receiverAccountType=0,n.prototype.recipientKeyHash=h.newBuffer([]),n.prototype.recipientTimestamp=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.recipientKeyIndexes=h.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.senderKeyHash!=null&&Object.hasOwnProperty.call(e,"senderKeyHash")&&t.uint32(10).bytes(e.senderKeyHash),e.senderTimestamp!=null&&Object.hasOwnProperty.call(e,"senderTimestamp")&&t.uint32(16).uint64(e.senderTimestamp),e.senderKeyIndexes!=null&&e.senderKeyIndexes.length){t.uint32(26).fork();for(var i=0;i<e.senderKeyIndexes.length;++i)t.uint32(e.senderKeyIndexes[i]);t.ldelim()}if(e.senderAccountType!=null&&Object.hasOwnProperty.call(e,"senderAccountType")&&t.uint32(32).int32(e.senderAccountType),e.receiverAccountType!=null&&Object.hasOwnProperty.call(e,"receiverAccountType")&&t.uint32(40).int32(e.receiverAccountType),e.recipientKeyHash!=null&&Object.hasOwnProperty.call(e,"recipientKeyHash")&&t.uint32(66).bytes(e.recipientKeyHash),e.recipientTimestamp!=null&&Object.hasOwnProperty.call(e,"recipientTimestamp")&&t.uint32(72).uint64(e.recipientTimestamp),e.recipientKeyIndexes!=null&&e.recipientKeyIndexes.length){t.uint32(82).fork();for(var i=0;i<e.recipientKeyIndexes.length;++i)t.uint32(e.recipientKeyIndexes[i]);t.ldelim()}return t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.DeviceListMetadata;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.senderKeyHash=e.bytes();break}case 2:{s.senderTimestamp=e.uint64();break}case 3:{if(s.senderKeyIndexes&&s.senderKeyIndexes.length||(s.senderKeyIndexes=[]),(c&7)===2)for(var l=e.uint32()+e.pos;e.pos<l;)s.senderKeyIndexes.push(e.uint32());else s.senderKeyIndexes.push(e.uint32());break}case 4:{s.senderAccountType=e.int32();break}case 5:{s.receiverAccountType=e.int32();break}case 8:{s.recipientKeyHash=e.bytes();break}case 9:{s.recipientTimestamp=e.uint64();break}case 10:{if(s.recipientKeyIndexes&&s.recipientKeyIndexes.length||(s.recipientKeyIndexes=[]),(c&7)===2)for(var l=e.uint32()+e.pos;e.pos<l;)s.recipientKeyIndexes.push(e.uint32());else s.recipientKeyIndexes.push(e.uint32());break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.DeviceListMetadata"},n}(),a.DeviceProps=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.os="",n.prototype.version=null,n.prototype.platformType=0,n.prototype.requireFullSync=!1,n.prototype.historySyncConfig=null,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.os!=null&&Object.hasOwnProperty.call(e,"os")&&t.uint32(10).string(e.os),e.version!=null&&Object.hasOwnProperty.call(e,"version")&&u.proto.DeviceProps.AppVersion.encode(e.version,t.uint32(18).fork()).ldelim(),e.platformType!=null&&Object.hasOwnProperty.call(e,"platformType")&&t.uint32(24).int32(e.platformType),e.requireFullSync!=null&&Object.hasOwnProperty.call(e,"requireFullSync")&&t.uint32(32).bool(e.requireFullSync),e.historySyncConfig!=null&&Object.hasOwnProperty.call(e,"historySyncConfig")&&u.proto.DeviceProps.HistorySyncConfig.encode(e.historySyncConfig,t.uint32(42).fork()).ldelim(),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.DeviceProps;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.os=e.string();break}case 2:{s.version=u.proto.DeviceProps.AppVersion.decode(e,e.uint32());break}case 3:{s.platformType=e.int32();break}case 4:{s.requireFullSync=e.bool();break}case 5:{s.historySyncConfig=u.proto.DeviceProps.HistorySyncConfig.decode(e,e.uint32());break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.DeviceProps"},n.AppVersion=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.primary=0,r.prototype.secondary=0,r.prototype.tertiary=0,r.prototype.quaternary=0,r.prototype.quinary=0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.primary!=null&&Object.hasOwnProperty.call(t,"primary")&&i.uint32(8).uint32(t.primary),t.secondary!=null&&Object.hasOwnProperty.call(t,"secondary")&&i.uint32(16).uint32(t.secondary),t.tertiary!=null&&Object.hasOwnProperty.call(t,"tertiary")&&i.uint32(24).uint32(t.tertiary),t.quaternary!=null&&Object.hasOwnProperty.call(t,"quaternary")&&i.uint32(32).uint32(t.quaternary),t.quinary!=null&&Object.hasOwnProperty.call(t,"quinary")&&i.uint32(40).uint32(t.quinary),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.DeviceProps.AppVersion;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.primary=t.uint32();break}case 2:{c.secondary=t.uint32();break}case 3:{c.tertiary=t.uint32();break}case 4:{c.quaternary=t.uint32();break}case 5:{c.quinary=t.uint32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.DeviceProps.AppVersion"},r}(),n.HistorySyncConfig=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.fullSyncDaysLimit=0,r.prototype.fullSyncSizeMbLimit=0,r.prototype.storageQuotaMb=0,r.prototype.inlineInitialPayloadInE2EeMsg=!1,r.prototype.recentSyncDaysLimit=0,r.prototype.supportCallLogHistory=!1,r.prototype.supportBotUserAgentChatHistory=!1,r.prototype.supportCagReactionsAndPolls=!1,r.prototype.supportBizHostedMsg=!1,r.prototype.supportRecentSyncChunkMessageCountTuning=!1,r.prototype.supportHostedGroupMsg=!1,r.prototype.supportFbidBotChatHistory=!1,r.prototype.supportAddOnHistorySyncMigration=!1,r.prototype.supportMessageAssociation=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.fullSyncDaysLimit!=null&&Object.hasOwnProperty.call(t,"fullSyncDaysLimit")&&i.uint32(8).uint32(t.fullSyncDaysLimit),t.fullSyncSizeMbLimit!=null&&Object.hasOwnProperty.call(t,"fullSyncSizeMbLimit")&&i.uint32(16).uint32(t.fullSyncSizeMbLimit),t.storageQuotaMb!=null&&Object.hasOwnProperty.call(t,"storageQuotaMb")&&i.uint32(24).uint32(t.storageQuotaMb),t.inlineInitialPayloadInE2EeMsg!=null&&Object.hasOwnProperty.call(t,"inlineInitialPayloadInE2EeMsg")&&i.uint32(32).bool(t.inlineInitialPayloadInE2EeMsg),t.recentSyncDaysLimit!=null&&Object.hasOwnProperty.call(t,"recentSyncDaysLimit")&&i.uint32(40).uint32(t.recentSyncDaysLimit),t.supportCallLogHistory!=null&&Object.hasOwnProperty.call(t,"supportCallLogHistory")&&i.uint32(48).bool(t.supportCallLogHistory),t.supportBotUserAgentChatHistory!=null&&Object.hasOwnProperty.call(t,"supportBotUserAgentChatHistory")&&i.uint32(56).bool(t.supportBotUserAgentChatHistory),t.supportCagReactionsAndPolls!=null&&Object.hasOwnProperty.call(t,"supportCagReactionsAndPolls")&&i.uint32(64).bool(t.supportCagReactionsAndPolls),t.supportBizHostedMsg!=null&&Object.hasOwnProperty.call(t,"supportBizHostedMsg")&&i.uint32(72).bool(t.supportBizHostedMsg),t.supportRecentSyncChunkMessageCountTuning!=null&&Object.hasOwnProperty.call(t,"supportRecentSyncChunkMessageCountTuning")&&i.uint32(80).bool(t.supportRecentSyncChunkMessageCountTuning),t.supportHostedGroupMsg!=null&&Object.hasOwnProperty.call(t,"supportHostedGroupMsg")&&i.uint32(88).bool(t.supportHostedGroupMsg),t.supportFbidBotChatHistory!=null&&Object.hasOwnProperty.call(t,"supportFbidBotChatHistory")&&i.uint32(96).bool(t.supportFbidBotChatHistory),t.supportAddOnHistorySyncMigration!=null&&Object.hasOwnProperty.call(t,"supportAddOnHistorySyncMigration")&&i.uint32(104).bool(t.supportAddOnHistorySyncMigration),t.supportMessageAssociation!=null&&Object.hasOwnProperty.call(t,"supportMessageAssociation")&&i.uint32(112).bool(t.supportMessageAssociation),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.DeviceProps.HistorySyncConfig;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.fullSyncDaysLimit=t.uint32();break}case 2:{c.fullSyncSizeMbLimit=t.uint32();break}case 3:{c.storageQuotaMb=t.uint32();break}case 4:{c.inlineInitialPayloadInE2EeMsg=t.bool();break}case 5:{c.recentSyncDaysLimit=t.uint32();break}case 6:{c.supportCallLogHistory=t.bool();break}case 7:{c.supportBotUserAgentChatHistory=t.bool();break}case 8:{c.supportCagReactionsAndPolls=t.bool();break}case 9:{c.supportBizHostedMsg=t.bool();break}case 10:{c.supportRecentSyncChunkMessageCountTuning=t.bool();break}case 11:{c.supportHostedGroupMsg=t.bool();break}case 12:{c.supportFbidBotChatHistory=t.bool();break}case 13:{c.supportAddOnHistorySyncMigration=t.bool();break}case 14:{c.supportMessageAssociation=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.DeviceProps.HistorySyncConfig"},r}(),n.PlatformType=function(){let r={},e=Object.create(r);return e[r[0]="UNKNOWN"]=0,e[r[1]="CHROME"]=1,e[r[2]="FIREFOX"]=2,e[r[3]="IE"]=3,e[r[4]="OPERA"]=4,e[r[5]="SAFARI"]=5,e[r[6]="EDGE"]=6,e[r[7]="DESKTOP"]=7,e[r[8]="IPAD"]=8,e[r[9]="ANDROID_TABLET"]=9,e[r[10]="OHANA"]=10,e[r[11]="ALOHA"]=11,e[r[12]="CATALINA"]=12,e[r[13]="TCL_TV"]=13,e[r[14]="IOS_PHONE"]=14,e[r[15]="IOS_CATALYST"]=15,e[r[16]="ANDROID_PHONE"]=16,e[r[17]="ANDROID_AMBIGUOUS"]=17,e[r[18]="WEAR_OS"]=18,e[r[19]="AR_WRIST"]=19,e[r[20]="AR_DEVICE"]=20,e[r[21]="UWP"]=21,e[r[22]="VR"]=22,e[r[23]="CLOUD_API"]=23,e[r[24]="SMARTGLASSES"]=24,e}(),n}(),a.DisappearingMode=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.initiator=0,n.prototype.trigger=0,n.prototype.initiatorDeviceJid="",n.prototype.initiatedByMe=!1,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.initiator!=null&&Object.hasOwnProperty.call(e,"initiator")&&t.uint32(8).int32(e.initiator),e.trigger!=null&&Object.hasOwnProperty.call(e,"trigger")&&t.uint32(16).int32(e.trigger),e.initiatorDeviceJid!=null&&Object.hasOwnProperty.call(e,"initiatorDeviceJid")&&t.uint32(26).string(e.initiatorDeviceJid),e.initiatedByMe!=null&&Object.hasOwnProperty.call(e,"initiatedByMe")&&t.uint32(32).bool(e.initiatedByMe),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.DisappearingMode;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.initiator=e.int32();break}case 2:{s.trigger=e.int32();break}case 3:{s.initiatorDeviceJid=e.string();break}case 4:{s.initiatedByMe=e.bool();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.DisappearingMode"},n.Initiator=function(){let r={},e=Object.create(r);return e[r[0]="CHANGED_IN_CHAT"]=0,e[r[1]="INITIATED_BY_ME"]=1,e[r[2]="INITIATED_BY_OTHER"]=2,e[r[3]="BIZ_UPGRADE_FB_HOSTING"]=3,e}(),n.Trigger=function(){let r={},e=Object.create(r);return e[r[0]="UNKNOWN"]=0,e[r[1]="CHAT_SETTING"]=1,e[r[2]="ACCOUNT_SETTING"]=2,e[r[3]="BULK_CHANGE"]=3,e[r[4]="BIZ_SUPPORTS_FB_HOSTING"]=4,e[r[5]="UNKNOWN_GROUPS"]=5,e}(),n}(),a.EmbeddedContent=function(){function n(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}n.prototype.embeddedMessage=null,n.prototype.embeddedMusic=null;let r;return Object.defineProperty(n.prototype,"content",{get:h.oneOfGetter(r=["embeddedMessage","embeddedMusic"]),set:h.oneOfSetter(r)}),n.create=function(t){return new n(t)},n.encode=function(t,i){return i||(i=E.create()),t.embeddedMessage!=null&&Object.hasOwnProperty.call(t,"embeddedMessage")&&u.proto.EmbeddedMessage.encode(t.embeddedMessage,i.uint32(10).fork()).ldelim(),t.embeddedMusic!=null&&Object.hasOwnProperty.call(t,"embeddedMusic")&&u.proto.EmbeddedMusic.encode(t.embeddedMusic,i.uint32(18).fork()).ldelim(),i},n.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.EmbeddedContent;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.embeddedMessage=u.proto.EmbeddedMessage.decode(t,t.uint32());break}case 2:{c.embeddedMusic=u.proto.EmbeddedMusic.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.EmbeddedContent"},n}(),a.EmbeddedMessage=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.stanzaId="",n.prototype.message=null,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.stanzaId!=null&&Object.hasOwnProperty.call(e,"stanzaId")&&t.uint32(10).string(e.stanzaId),e.message!=null&&Object.hasOwnProperty.call(e,"message")&&u.proto.Message.encode(e.message,t.uint32(18).fork()).ldelim(),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.EmbeddedMessage;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.stanzaId=e.string();break}case 2:{s.message=u.proto.Message.decode(e,e.uint32());break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.EmbeddedMessage"},n}(),a.EmbeddedMusic=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.musicContentMediaId="",n.prototype.songId="",n.prototype.author="",n.prototype.title="",n.prototype.artworkDirectPath="",n.prototype.artworkSha256=h.newBuffer([]),n.prototype.artworkEncSha256=h.newBuffer([]),n.prototype.artworkMediaKey=h.newBuffer([]),n.prototype.artistAttribution="",n.prototype.countryBlocklist=h.newBuffer([]),n.prototype.isExplicit=!1,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.musicContentMediaId!=null&&Object.hasOwnProperty.call(e,"musicContentMediaId")&&t.uint32(10).string(e.musicContentMediaId),e.songId!=null&&Object.hasOwnProperty.call(e,"songId")&&t.uint32(18).string(e.songId),e.author!=null&&Object.hasOwnProperty.call(e,"author")&&t.uint32(26).string(e.author),e.title!=null&&Object.hasOwnProperty.call(e,"title")&&t.uint32(34).string(e.title),e.artworkDirectPath!=null&&Object.hasOwnProperty.call(e,"artworkDirectPath")&&t.uint32(42).string(e.artworkDirectPath),e.artworkSha256!=null&&Object.hasOwnProperty.call(e,"artworkSha256")&&t.uint32(50).bytes(e.artworkSha256),e.artworkEncSha256!=null&&Object.hasOwnProperty.call(e,"artworkEncSha256")&&t.uint32(58).bytes(e.artworkEncSha256),e.artistAttribution!=null&&Object.hasOwnProperty.call(e,"artistAttribution")&&t.uint32(66).string(e.artistAttribution),e.countryBlocklist!=null&&Object.hasOwnProperty.call(e,"countryBlocklist")&&t.uint32(74).bytes(e.countryBlocklist),e.isExplicit!=null&&Object.hasOwnProperty.call(e,"isExplicit")&&t.uint32(80).bool(e.isExplicit),e.artworkMediaKey!=null&&Object.hasOwnProperty.call(e,"artworkMediaKey")&&t.uint32(90).bytes(e.artworkMediaKey),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.EmbeddedMusic;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.musicContentMediaId=e.string();break}case 2:{s.songId=e.string();break}case 3:{s.author=e.string();break}case 4:{s.title=e.string();break}case 5:{s.artworkDirectPath=e.string();break}case 6:{s.artworkSha256=e.bytes();break}case 7:{s.artworkEncSha256=e.bytes();break}case 11:{s.artworkMediaKey=e.bytes();break}case 8:{s.artistAttribution=e.string();break}case 9:{s.countryBlocklist=e.bytes();break}case 10:{s.isExplicit=e.bool();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.EmbeddedMusic"},n}(),a.EncryptedPairingRequest=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.encryptedPayload=h.newBuffer([]),n.prototype.iv=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.encryptedPayload!=null&&Object.hasOwnProperty.call(e,"encryptedPayload")&&t.uint32(10).bytes(e.encryptedPayload),e.iv!=null&&Object.hasOwnProperty.call(e,"iv")&&t.uint32(18).bytes(e.iv),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.EncryptedPairingRequest;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.encryptedPayload=e.bytes();break}case 2:{s.iv=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.EncryptedPairingRequest"},n}(),a.EphemeralSetting=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.duration=0,n.prototype.timestamp=h.Long?h.Long.fromBits(0,0,!1):0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.duration!=null&&Object.hasOwnProperty.call(e,"duration")&&t.uint32(13).sfixed32(e.duration),e.timestamp!=null&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(17).sfixed64(e.timestamp),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.EphemeralSetting;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.duration=e.sfixed32();break}case 2:{s.timestamp=e.sfixed64();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.EphemeralSetting"},n}(),a.EventAdditionalMetadata=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.isStale=!1,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.isStale!=null&&Object.hasOwnProperty.call(e,"isStale")&&t.uint32(8).bool(e.isStale),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.EventAdditionalMetadata;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.isStale=e.bool();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.EventAdditionalMetadata"},n}(),a.EventResponse=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.eventResponseMessageKey=null,n.prototype.timestampMs=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.eventResponseMessage=null,n.prototype.unread=!1,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.eventResponseMessageKey!=null&&Object.hasOwnProperty.call(e,"eventResponseMessageKey")&&u.proto.MessageKey.encode(e.eventResponseMessageKey,t.uint32(10).fork()).ldelim(),e.timestampMs!=null&&Object.hasOwnProperty.call(e,"timestampMs")&&t.uint32(16).int64(e.timestampMs),e.eventResponseMessage!=null&&Object.hasOwnProperty.call(e,"eventResponseMessage")&&u.proto.Message.EventResponseMessage.encode(e.eventResponseMessage,t.uint32(26).fork()).ldelim(),e.unread!=null&&Object.hasOwnProperty.call(e,"unread")&&t.uint32(32).bool(e.unread),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.EventResponse;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.eventResponseMessageKey=u.proto.MessageKey.decode(e,e.uint32());break}case 2:{s.timestampMs=e.int64();break}case 3:{s.eventResponseMessage=u.proto.Message.EventResponseMessage.decode(e,e.uint32());break}case 4:{s.unread=e.bool();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.EventResponse"},n}(),a.ExitCode=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.code=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.text="",n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).uint64(e.code),e.text!=null&&Object.hasOwnProperty.call(e,"text")&&t.uint32(18).string(e.text),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.ExitCode;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.code=e.uint64();break}case 2:{s.text=e.string();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.ExitCode"},n}(),a.ExternalBlobReference=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.mediaKey=h.newBuffer([]),n.prototype.directPath="",n.prototype.handle="",n.prototype.fileSizeBytes=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.fileSha256=h.newBuffer([]),n.prototype.fileEncSha256=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.mediaKey!=null&&Object.hasOwnProperty.call(e,"mediaKey")&&t.uint32(10).bytes(e.mediaKey),e.directPath!=null&&Object.hasOwnProperty.call(e,"directPath")&&t.uint32(18).string(e.directPath),e.handle!=null&&Object.hasOwnProperty.call(e,"handle")&&t.uint32(26).string(e.handle),e.fileSizeBytes!=null&&Object.hasOwnProperty.call(e,"fileSizeBytes")&&t.uint32(32).uint64(e.fileSizeBytes),e.fileSha256!=null&&Object.hasOwnProperty.call(e,"fileSha256")&&t.uint32(42).bytes(e.fileSha256),e.fileEncSha256!=null&&Object.hasOwnProperty.call(e,"fileEncSha256")&&t.uint32(50).bytes(e.fileEncSha256),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.ExternalBlobReference;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.mediaKey=e.bytes();break}case 2:{s.directPath=e.string();break}case 3:{s.handle=e.string();break}case 4:{s.fileSizeBytes=e.uint64();break}case 5:{s.fileSha256=e.bytes();break}case 6:{s.fileEncSha256=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.ExternalBlobReference"},n}(),a.Field=function(){function n(r){if(this.subfield={},r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.minVersion=0,n.prototype.maxVersion=0,n.prototype.notReportableMinVersion=0,n.prototype.isMessage=!1,n.prototype.subfield=h.emptyObject,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.minVersion!=null&&Object.hasOwnProperty.call(e,"minVersion")&&t.uint32(8).uint32(e.minVersion),e.maxVersion!=null&&Object.hasOwnProperty.call(e,"maxVersion")&&t.uint32(16).uint32(e.maxVersion),e.notReportableMinVersion!=null&&Object.hasOwnProperty.call(e,"notReportableMinVersion")&&t.uint32(24).uint32(e.notReportableMinVersion),e.isMessage!=null&&Object.hasOwnProperty.call(e,"isMessage")&&t.uint32(32).bool(e.isMessage),e.subfield!=null&&Object.hasOwnProperty.call(e,"subfield"))for(var i=Object.keys(e.subfield),o=0;o<i.length;++o)t.uint32(42).fork().uint32(8).uint32(i[o]),u.proto.Field.encode(e.subfield[i[o]],t.uint32(18).fork()).ldelim().ldelim();return t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.Field,c,l;e.pos<o;){var d=e.uint32();if(d===i)break;switch(d>>>3){case 1:{s.minVersion=e.uint32();break}case 2:{s.maxVersion=e.uint32();break}case 3:{s.notReportableMinVersion=e.uint32();break}case 4:{s.isMessage=e.bool();break}case 5:{s.subfield===h.emptyObject&&(s.subfield={});var f=e.uint32()+e.pos;for(c=0,l=null;e.pos<f;){var g=e.uint32();switch(g>>>3){case 1:c=e.uint32();break;case 2:l=u.proto.Field.decode(e,e.uint32());break;default:e.skipType(g&7);break}}s.subfield[c]=l;break}default:e.skipType(d&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.Field"},n}(),a.GlobalSettings=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.lightThemeWallpaper=null,n.prototype.mediaVisibility=0,n.prototype.darkThemeWallpaper=null,n.prototype.autoDownloadWiFi=null,n.prototype.autoDownloadCellular=null,n.prototype.autoDownloadRoaming=null,n.prototype.showIndividualNotificationsPreview=!1,n.prototype.showGroupNotificationsPreview=!1,n.prototype.disappearingModeDuration=0,n.prototype.disappearingModeTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.avatarUserSettings=null,n.prototype.fontSize=0,n.prototype.securityNotifications=!1,n.prototype.autoUnarchiveChats=!1,n.prototype.videoQualityMode=0,n.prototype.photoQualityMode=0,n.prototype.individualNotificationSettings=null,n.prototype.groupNotificationSettings=null,n.prototype.chatLockSettings=null,n.prototype.chatDbLidMigrationTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.lightThemeWallpaper!=null&&Object.hasOwnProperty.call(e,"lightThemeWallpaper")&&u.proto.WallpaperSettings.encode(e.lightThemeWallpaper,t.uint32(10).fork()).ldelim(),e.mediaVisibility!=null&&Object.hasOwnProperty.call(e,"mediaVisibility")&&t.uint32(16).int32(e.mediaVisibility),e.darkThemeWallpaper!=null&&Object.hasOwnProperty.call(e,"darkThemeWallpaper")&&u.proto.WallpaperSettings.encode(e.darkThemeWallpaper,t.uint32(26).fork()).ldelim(),e.autoDownloadWiFi!=null&&Object.hasOwnProperty.call(e,"autoDownloadWiFi")&&u.proto.AutoDownloadSettings.encode(e.autoDownloadWiFi,t.uint32(34).fork()).ldelim(),e.autoDownloadCellular!=null&&Object.hasOwnProperty.call(e,"autoDownloadCellular")&&u.proto.AutoDownloadSettings.encode(e.autoDownloadCellular,t.uint32(42).fork()).ldelim(),e.autoDownloadRoaming!=null&&Object.hasOwnProperty.call(e,"autoDownloadRoaming")&&u.proto.AutoDownloadSettings.encode(e.autoDownloadRoaming,t.uint32(50).fork()).ldelim(),e.showIndividualNotificationsPreview!=null&&Object.hasOwnProperty.call(e,"showIndividualNotificationsPreview")&&t.uint32(56).bool(e.showIndividualNotificationsPreview),e.showGroupNotificationsPreview!=null&&Object.hasOwnProperty.call(e,"showGroupNotificationsPreview")&&t.uint32(64).bool(e.showGroupNotificationsPreview),e.disappearingModeDuration!=null&&Object.hasOwnProperty.call(e,"disappearingModeDuration")&&t.uint32(72).int32(e.disappearingModeDuration),e.disappearingModeTimestamp!=null&&Object.hasOwnProperty.call(e,"disappearingModeTimestamp")&&t.uint32(80).int64(e.disappearingModeTimestamp),e.avatarUserSettings!=null&&Object.hasOwnProperty.call(e,"avatarUserSettings")&&u.proto.AvatarUserSettings.encode(e.avatarUserSettings,t.uint32(90).fork()).ldelim(),e.fontSize!=null&&Object.hasOwnProperty.call(e,"fontSize")&&t.uint32(96).int32(e.fontSize),e.securityNotifications!=null&&Object.hasOwnProperty.call(e,"securityNotifications")&&t.uint32(104).bool(e.securityNotifications),e.autoUnarchiveChats!=null&&Object.hasOwnProperty.call(e,"autoUnarchiveChats")&&t.uint32(112).bool(e.autoUnarchiveChats),e.videoQualityMode!=null&&Object.hasOwnProperty.call(e,"videoQualityMode")&&t.uint32(120).int32(e.videoQualityMode),e.photoQualityMode!=null&&Object.hasOwnProperty.call(e,"photoQualityMode")&&t.uint32(128).int32(e.photoQualityMode),e.individualNotificationSettings!=null&&Object.hasOwnProperty.call(e,"individualNotificationSettings")&&u.proto.NotificationSettings.encode(e.individualNotificationSettings,t.uint32(138).fork()).ldelim(),e.groupNotificationSettings!=null&&Object.hasOwnProperty.call(e,"groupNotificationSettings")&&u.proto.NotificationSettings.encode(e.groupNotificationSettings,t.uint32(146).fork()).ldelim(),e.chatLockSettings!=null&&Object.hasOwnProperty.call(e,"chatLockSettings")&&u.proto.ChatLockSettings.encode(e.chatLockSettings,t.uint32(154).fork()).ldelim(),e.chatDbLidMigrationTimestamp!=null&&Object.hasOwnProperty.call(e,"chatDbLidMigrationTimestamp")&&t.uint32(160).int64(e.chatDbLidMigrationTimestamp),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.GlobalSettings;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.lightThemeWallpaper=u.proto.WallpaperSettings.decode(e,e.uint32());break}case 2:{s.mediaVisibility=e.int32();break}case 3:{s.darkThemeWallpaper=u.proto.WallpaperSettings.decode(e,e.uint32());break}case 4:{s.autoDownloadWiFi=u.proto.AutoDownloadSettings.decode(e,e.uint32());break}case 5:{s.autoDownloadCellular=u.proto.AutoDownloadSettings.decode(e,e.uint32());break}case 6:{s.autoDownloadRoaming=u.proto.AutoDownloadSettings.decode(e,e.uint32());break}case 7:{s.showIndividualNotificationsPreview=e.bool();break}case 8:{s.showGroupNotificationsPreview=e.bool();break}case 9:{s.disappearingModeDuration=e.int32();break}case 10:{s.disappearingModeTimestamp=e.int64();break}case 11:{s.avatarUserSettings=u.proto.AvatarUserSettings.decode(e,e.uint32());break}case 12:{s.fontSize=e.int32();break}case 13:{s.securityNotifications=e.bool();break}case 14:{s.autoUnarchiveChats=e.bool();break}case 15:{s.videoQualityMode=e.int32();break}case 16:{s.photoQualityMode=e.int32();break}case 17:{s.individualNotificationSettings=u.proto.NotificationSettings.decode(e,e.uint32());break}case 18:{s.groupNotificationSettings=u.proto.NotificationSettings.decode(e,e.uint32());break}case 19:{s.chatLockSettings=u.proto.ChatLockSettings.decode(e,e.uint32());break}case 20:{s.chatDbLidMigrationTimestamp=e.int64();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.GlobalSettings"},n}(),a.GroupMention=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.groupJid="",n.prototype.groupSubject="",n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.groupJid!=null&&Object.hasOwnProperty.call(e,"groupJid")&&t.uint32(10).string(e.groupJid),e.groupSubject!=null&&Object.hasOwnProperty.call(e,"groupSubject")&&t.uint32(18).string(e.groupSubject),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.GroupMention;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.groupJid=e.string();break}case 2:{s.groupSubject=e.string();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.GroupMention"},n}(),a.GroupParticipant=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.userJid="",n.prototype.rank=0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),t.uint32(10).string(e.userJid),e.rank!=null&&Object.hasOwnProperty.call(e,"rank")&&t.uint32(16).int32(e.rank),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.GroupParticipant;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.userJid=e.string();break}case 2:{s.rank=e.int32();break}default:e.skipType(c&7);break}}if(!s.hasOwnProperty("userJid"))throw h.ProtocolError("missing required 'userJid'",{instance:s});return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.GroupParticipant"},n.Rank=function(){let r={},e=Object.create(r);return e[r[0]="REGULAR"]=0,e[r[1]="ADMIN"]=1,e[r[2]="SUPERADMIN"]=2,e}(),n}(),a.HandshakeMessage=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.clientHello=null,n.prototype.serverHello=null,n.prototype.clientFinish=null,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.clientHello!=null&&Object.hasOwnProperty.call(e,"clientHello")&&u.proto.HandshakeMessage.ClientHello.encode(e.clientHello,t.uint32(18).fork()).ldelim(),e.serverHello!=null&&Object.hasOwnProperty.call(e,"serverHello")&&u.proto.HandshakeMessage.ServerHello.encode(e.serverHello,t.uint32(26).fork()).ldelim(),e.clientFinish!=null&&Object.hasOwnProperty.call(e,"clientFinish")&&u.proto.HandshakeMessage.ClientFinish.encode(e.clientFinish,t.uint32(34).fork()).ldelim(),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.HandshakeMessage;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 2:{s.clientHello=u.proto.HandshakeMessage.ClientHello.decode(e,e.uint32());break}case 3:{s.serverHello=u.proto.HandshakeMessage.ServerHello.decode(e,e.uint32());break}case 4:{s.clientFinish=u.proto.HandshakeMessage.ClientFinish.decode(e,e.uint32());break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.HandshakeMessage"},n.ClientFinish=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.static=h.newBuffer([]),r.prototype.payload=h.newBuffer([]),r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.static!=null&&Object.hasOwnProperty.call(t,"static")&&i.uint32(10).bytes(t.static),t.payload!=null&&Object.hasOwnProperty.call(t,"payload")&&i.uint32(18).bytes(t.payload),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.HandshakeMessage.ClientFinish;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.static=t.bytes();break}case 2:{c.payload=t.bytes();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.HandshakeMessage.ClientFinish"},r}(),n.ClientHello=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.ephemeral=h.newBuffer([]),r.prototype.static=h.newBuffer([]),r.prototype.payload=h.newBuffer([]),r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.ephemeral!=null&&Object.hasOwnProperty.call(t,"ephemeral")&&i.uint32(10).bytes(t.ephemeral),t.static!=null&&Object.hasOwnProperty.call(t,"static")&&i.uint32(18).bytes(t.static),t.payload!=null&&Object.hasOwnProperty.call(t,"payload")&&i.uint32(26).bytes(t.payload),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.HandshakeMessage.ClientHello;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.ephemeral=t.bytes();break}case 2:{c.static=t.bytes();break}case 3:{c.payload=t.bytes();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.HandshakeMessage.ClientHello"},r}(),n.ServerHello=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.ephemeral=h.newBuffer([]),r.prototype.static=h.newBuffer([]),r.prototype.payload=h.newBuffer([]),r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.ephemeral!=null&&Object.hasOwnProperty.call(t,"ephemeral")&&i.uint32(10).bytes(t.ephemeral),t.static!=null&&Object.hasOwnProperty.call(t,"static")&&i.uint32(18).bytes(t.static),t.payload!=null&&Object.hasOwnProperty.call(t,"payload")&&i.uint32(26).bytes(t.payload),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.HandshakeMessage.ServerHello;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.ephemeral=t.bytes();break}case 2:{c.static=t.bytes();break}case 3:{c.payload=t.bytes();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.HandshakeMessage.ServerHello"},r}(),n}(),a.HistorySync=function(){function n(r){if(this.conversations=[],this.statusV3Messages=[],this.pushnames=[],this.recentStickers=[],this.pastParticipants=[],this.callLogRecords=[],this.phoneNumberToLidMappings=[],this.accounts=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.syncType=0,n.prototype.conversations=h.emptyArray,n.prototype.statusV3Messages=h.emptyArray,n.prototype.chunkOrder=0,n.prototype.progress=0,n.prototype.pushnames=h.emptyArray,n.prototype.globalSettings=null,n.prototype.threadIdUserSecret=h.newBuffer([]),n.prototype.threadDsTimeframeOffset=0,n.prototype.recentStickers=h.emptyArray,n.prototype.pastParticipants=h.emptyArray,n.prototype.callLogRecords=h.emptyArray,n.prototype.aiWaitListState=0,n.prototype.phoneNumberToLidMappings=h.emptyArray,n.prototype.companionMetaNonce="",n.prototype.shareableChatIdentifierEncryptionKey=h.newBuffer([]),n.prototype.accounts=h.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),t.uint32(8).int32(e.syncType),e.conversations!=null&&e.conversations.length)for(var i=0;i<e.conversations.length;++i)u.proto.Conversation.encode(e.conversations[i],t.uint32(18).fork()).ldelim();if(e.statusV3Messages!=null&&e.statusV3Messages.length)for(var i=0;i<e.statusV3Messages.length;++i)u.proto.WebMessageInfo.encode(e.statusV3Messages[i],t.uint32(26).fork()).ldelim();if(e.chunkOrder!=null&&Object.hasOwnProperty.call(e,"chunkOrder")&&t.uint32(40).uint32(e.chunkOrder),e.progress!=null&&Object.hasOwnProperty.call(e,"progress")&&t.uint32(48).uint32(e.progress),e.pushnames!=null&&e.pushnames.length)for(var i=0;i<e.pushnames.length;++i)u.proto.Pushname.encode(e.pushnames[i],t.uint32(58).fork()).ldelim();if(e.globalSettings!=null&&Object.hasOwnProperty.call(e,"globalSettings")&&u.proto.GlobalSettings.encode(e.globalSettings,t.uint32(66).fork()).ldelim(),e.threadIdUserSecret!=null&&Object.hasOwnProperty.call(e,"threadIdUserSecret")&&t.uint32(74).bytes(e.threadIdUserSecret),e.threadDsTimeframeOffset!=null&&Object.hasOwnProperty.call(e,"threadDsTimeframeOffset")&&t.uint32(80).uint32(e.threadDsTimeframeOffset),e.recentStickers!=null&&e.recentStickers.length)for(var i=0;i<e.recentStickers.length;++i)u.proto.StickerMetadata.encode(e.recentStickers[i],t.uint32(90).fork()).ldelim();if(e.pastParticipants!=null&&e.pastParticipants.length)for(var i=0;i<e.pastParticipants.length;++i)u.proto.PastParticipants.encode(e.pastParticipants[i],t.uint32(98).fork()).ldelim();if(e.callLogRecords!=null&&e.callLogRecords.length)for(var i=0;i<e.callLogRecords.length;++i)u.proto.CallLogRecord.encode(e.callLogRecords[i],t.uint32(106).fork()).ldelim();if(e.aiWaitListState!=null&&Object.hasOwnProperty.call(e,"aiWaitListState")&&t.uint32(112).int32(e.aiWaitListState),e.phoneNumberToLidMappings!=null&&e.phoneNumberToLidMappings.length)for(var i=0;i<e.phoneNumberToLidMappings.length;++i)u.proto.PhoneNumberToLIDMapping.encode(e.phoneNumberToLidMappings[i],t.uint32(122).fork()).ldelim();if(e.companionMetaNonce!=null&&Object.hasOwnProperty.call(e,"companionMetaNonce")&&t.uint32(130).string(e.companionMetaNonce),e.shareableChatIdentifierEncryptionKey!=null&&Object.hasOwnProperty.call(e,"shareableChatIdentifierEncryptionKey")&&t.uint32(138).bytes(e.shareableChatIdentifierEncryptionKey),e.accounts!=null&&e.accounts.length)for(var i=0;i<e.accounts.length;++i)u.proto.Account.encode(e.accounts[i],t.uint32(146).fork()).ldelim();return t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.HistorySync;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.syncType=e.int32();break}case 2:{s.conversations&&s.conversations.length||(s.conversations=[]),s.conversations.push(u.proto.Conversation.decode(e,e.uint32()));break}case 3:{s.statusV3Messages&&s.statusV3Messages.length||(s.statusV3Messages=[]),s.statusV3Messages.push(u.proto.WebMessageInfo.decode(e,e.uint32()));break}case 5:{s.chunkOrder=e.uint32();break}case 6:{s.progress=e.uint32();break}case 7:{s.pushnames&&s.pushnames.length||(s.pushnames=[]),s.pushnames.push(u.proto.Pushname.decode(e,e.uint32()));break}case 8:{s.globalSettings=u.proto.GlobalSettings.decode(e,e.uint32());break}case 9:{s.threadIdUserSecret=e.bytes();break}case 10:{s.threadDsTimeframeOffset=e.uint32();break}case 11:{s.recentStickers&&s.recentStickers.length||(s.recentStickers=[]),s.recentStickers.push(u.proto.StickerMetadata.decode(e,e.uint32()));break}case 12:{s.pastParticipants&&s.pastParticipants.length||(s.pastParticipants=[]),s.pastParticipants.push(u.proto.PastParticipants.decode(e,e.uint32()));break}case 13:{s.callLogRecords&&s.callLogRecords.length||(s.callLogRecords=[]),s.callLogRecords.push(u.proto.CallLogRecord.decode(e,e.uint32()));break}case 14:{s.aiWaitListState=e.int32();break}case 15:{s.phoneNumberToLidMappings&&s.phoneNumberToLidMappings.length||(s.phoneNumberToLidMappings=[]),s.phoneNumberToLidMappings.push(u.proto.PhoneNumberToLIDMapping.decode(e,e.uint32()));break}case 16:{s.companionMetaNonce=e.string();break}case 17:{s.shareableChatIdentifierEncryptionKey=e.bytes();break}case 18:{s.accounts&&s.accounts.length||(s.accounts=[]),s.accounts.push(u.proto.Account.decode(e,e.uint32()));break}default:e.skipType(c&7);break}}if(!s.hasOwnProperty("syncType"))throw h.ProtocolError("missing required 'syncType'",{instance:s});return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.HistorySync"},n.BotAIWaitListState=function(){let r={},e=Object.create(r);return e[r[0]="IN_WAITLIST"]=0,e[r[1]="AI_AVAILABLE"]=1,e}(),n.HistorySyncType=function(){let r={},e=Object.create(r);return e[r[0]="INITIAL_BOOTSTRAP"]=0,e[r[1]="INITIAL_STATUS_V3"]=1,e[r[2]="FULL"]=2,e[r[3]="RECENT"]=3,e[r[4]="PUSH_NAME"]=4,e[r[5]="NON_BLOCKING_DATA"]=5,e[r[6]="ON_DEMAND"]=6,e}(),n}(),a.HistorySyncMsg=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.message=null,n.prototype.msgOrderId=h.Long?h.Long.fromBits(0,0,!0):0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.message!=null&&Object.hasOwnProperty.call(e,"message")&&u.proto.WebMessageInfo.encode(e.message,t.uint32(10).fork()).ldelim(),e.msgOrderId!=null&&Object.hasOwnProperty.call(e,"msgOrderId")&&t.uint32(16).uint64(e.msgOrderId),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.HistorySyncMsg;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.message=u.proto.WebMessageInfo.decode(e,e.uint32());break}case 2:{s.msgOrderId=e.uint64();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.HistorySyncMsg"},n}(),a.HydratedTemplateButton=function(){function n(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}n.prototype.index=0,n.prototype.quickReplyButton=null,n.prototype.urlButton=null,n.prototype.callButton=null;let r;return Object.defineProperty(n.prototype,"hydratedButton",{get:h.oneOfGetter(r=["quickReplyButton","urlButton","callButton"]),set:h.oneOfSetter(r)}),n.create=function(t){return new n(t)},n.encode=function(t,i){return i||(i=E.create()),t.quickReplyButton!=null&&Object.hasOwnProperty.call(t,"quickReplyButton")&&u.proto.HydratedTemplateButton.HydratedQuickReplyButton.encode(t.quickReplyButton,i.uint32(10).fork()).ldelim(),t.urlButton!=null&&Object.hasOwnProperty.call(t,"urlButton")&&u.proto.HydratedTemplateButton.HydratedURLButton.encode(t.urlButton,i.uint32(18).fork()).ldelim(),t.callButton!=null&&Object.hasOwnProperty.call(t,"callButton")&&u.proto.HydratedTemplateButton.HydratedCallButton.encode(t.callButton,i.uint32(26).fork()).ldelim(),t.index!=null&&Object.hasOwnProperty.call(t,"index")&&i.uint32(32).uint32(t.index),i},n.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.HydratedTemplateButton;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 4:{c.index=t.uint32();break}case 1:{c.quickReplyButton=u.proto.HydratedTemplateButton.HydratedQuickReplyButton.decode(t,t.uint32());break}case 2:{c.urlButton=u.proto.HydratedTemplateButton.HydratedURLButton.decode(t,t.uint32());break}case 3:{c.callButton=u.proto.HydratedTemplateButton.HydratedCallButton.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.HydratedTemplateButton"},n.HydratedCallButton=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.displayText="",e.prototype.phoneNumber="",e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.displayText!=null&&Object.hasOwnProperty.call(i,"displayText")&&o.uint32(10).string(i.displayText),i.phoneNumber!=null&&Object.hasOwnProperty.call(i,"phoneNumber")&&o.uint32(18).string(i.phoneNumber),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.HydratedTemplateButton.HydratedCallButton;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.displayText=i.string();break}case 2:{l.phoneNumber=i.string();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.HydratedTemplateButton.HydratedCallButton"},e}(),n.HydratedQuickReplyButton=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.displayText="",e.prototype.id="",e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.displayText!=null&&Object.hasOwnProperty.call(i,"displayText")&&o.uint32(10).string(i.displayText),i.id!=null&&Object.hasOwnProperty.call(i,"id")&&o.uint32(18).string(i.id),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.HydratedTemplateButton.HydratedQuickReplyButton;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.displayText=i.string();break}case 2:{l.id=i.string();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.HydratedTemplateButton.HydratedQuickReplyButton"},e}(),n.HydratedURLButton=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.displayText="",e.prototype.url="",e.prototype.consentedUsersUrl="",e.prototype.webviewPresentation=1,e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.displayText!=null&&Object.hasOwnProperty.call(i,"displayText")&&o.uint32(10).string(i.displayText),i.url!=null&&Object.hasOwnProperty.call(i,"url")&&o.uint32(18).string(i.url),i.consentedUsersUrl!=null&&Object.hasOwnProperty.call(i,"consentedUsersUrl")&&o.uint32(26).string(i.consentedUsersUrl),i.webviewPresentation!=null&&Object.hasOwnProperty.call(i,"webviewPresentation")&&o.uint32(32).int32(i.webviewPresentation),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.HydratedTemplateButton.HydratedURLButton;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.displayText=i.string();break}case 2:{l.url=i.string();break}case 3:{l.consentedUsersUrl=i.string();break}case 4:{l.webviewPresentation=i.int32();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.HydratedTemplateButton.HydratedURLButton"},e.WebviewPresentationType=function(){let t={},i=Object.create(t);return i[t[1]="FULL"]=1,i[t[2]="TALL"]=2,i[t[3]="COMPACT"]=3,i}(),e}(),n}(),a.IdentityKeyPairStructure=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.publicKey=h.newBuffer([]),n.prototype.privateKey=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.publicKey!=null&&Object.hasOwnProperty.call(e,"publicKey")&&t.uint32(10).bytes(e.publicKey),e.privateKey!=null&&Object.hasOwnProperty.call(e,"privateKey")&&t.uint32(18).bytes(e.privateKey),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.IdentityKeyPairStructure;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.publicKey=e.bytes();break}case 2:{s.privateKey=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.IdentityKeyPairStructure"},n}(),a.InteractiveAnnotation=function(){function n(e){if(this.polygonVertices=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}n.prototype.polygonVertices=h.emptyArray,n.prototype.shouldSkipConfirmation=!1,n.prototype.embeddedContent=null,n.prototype.statusLinkType=1,n.prototype.location=null,n.prototype.newsletter=null,n.prototype.embeddedAction=null,n.prototype.tapAction=null;let r;return Object.defineProperty(n.prototype,"action",{get:h.oneOfGetter(r=["location","newsletter","embeddedAction","tapAction"]),set:h.oneOfSetter(r)}),n.create=function(t){return new n(t)},n.encode=function(t,i){if(i||(i=E.create()),t.polygonVertices!=null&&t.polygonVertices.length)for(var o=0;o<t.polygonVertices.length;++o)u.proto.Point.encode(t.polygonVertices[o],i.uint32(10).fork()).ldelim();return t.location!=null&&Object.hasOwnProperty.call(t,"location")&&u.proto.Location.encode(t.location,i.uint32(18).fork()).ldelim(),t.newsletter!=null&&Object.hasOwnProperty.call(t,"newsletter")&&u.proto.ContextInfo.ForwardedNewsletterMessageInfo.encode(t.newsletter,i.uint32(26).fork()).ldelim(),t.shouldSkipConfirmation!=null&&Object.hasOwnProperty.call(t,"shouldSkipConfirmation")&&i.uint32(32).bool(t.shouldSkipConfirmation),t.embeddedContent!=null&&Object.hasOwnProperty.call(t,"embeddedContent")&&u.proto.EmbeddedContent.encode(t.embeddedContent,i.uint32(42).fork()).ldelim(),t.embeddedAction!=null&&Object.hasOwnProperty.call(t,"embeddedAction")&&i.uint32(48).bool(t.embeddedAction),t.tapAction!=null&&Object.hasOwnProperty.call(t,"tapAction")&&u.proto.TapLinkAction.encode(t.tapAction,i.uint32(58).fork()).ldelim(),t.statusLinkType!=null&&Object.hasOwnProperty.call(t,"statusLinkType")&&i.uint32(64).int32(t.statusLinkType),i},n.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.InteractiveAnnotation;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.polygonVertices&&c.polygonVertices.length||(c.polygonVertices=[]),c.polygonVertices.push(u.proto.Point.decode(t,t.uint32()));break}case 4:{c.shouldSkipConfirmation=t.bool();break}case 5:{c.embeddedContent=u.proto.EmbeddedContent.decode(t,t.uint32());break}case 8:{c.statusLinkType=t.int32();break}case 2:{c.location=u.proto.Location.decode(t,t.uint32());break}case 3:{c.newsletter=u.proto.ContextInfo.ForwardedNewsletterMessageInfo.decode(t,t.uint32());break}case 6:{c.embeddedAction=t.bool();break}case 7:{c.tapAction=u.proto.TapLinkAction.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.InteractiveAnnotation"},n.StatusLinkType=function(){let e={},t=Object.create(e);return t[e[1]="RASTERIZED_LINK_PREVIEW"]=1,t[e[2]="RASTERIZED_LINK_TRUNCATED"]=2,t[e[3]="RASTERIZED_LINK_FULL_URL"]=3,t}(),n}(),a.KeepInChat=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.keepType=0,n.prototype.serverTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.key=null,n.prototype.deviceJid="",n.prototype.clientTimestampMs=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.serverTimestampMs=h.Long?h.Long.fromBits(0,0,!1):0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.keepType!=null&&Object.hasOwnProperty.call(e,"keepType")&&t.uint32(8).int32(e.keepType),e.serverTimestamp!=null&&Object.hasOwnProperty.call(e,"serverTimestamp")&&t.uint32(16).int64(e.serverTimestamp),e.key!=null&&Object.hasOwnProperty.call(e,"key")&&u.proto.MessageKey.encode(e.key,t.uint32(26).fork()).ldelim(),e.deviceJid!=null&&Object.hasOwnProperty.call(e,"deviceJid")&&t.uint32(34).string(e.deviceJid),e.clientTimestampMs!=null&&Object.hasOwnProperty.call(e,"clientTimestampMs")&&t.uint32(40).int64(e.clientTimestampMs),e.serverTimestampMs!=null&&Object.hasOwnProperty.call(e,"serverTimestampMs")&&t.uint32(48).int64(e.serverTimestampMs),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.KeepInChat;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.keepType=e.int32();break}case 2:{s.serverTimestamp=e.int64();break}case 3:{s.key=u.proto.MessageKey.decode(e,e.uint32());break}case 4:{s.deviceJid=e.string();break}case 5:{s.clientTimestampMs=e.int64();break}case 6:{s.serverTimestampMs=e.int64();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.KeepInChat"},n}(),a.KeepType=function(){let n={},r=Object.create(n);return r[n[0]="UNKNOWN"]=0,r[n[1]="KEEP_FOR_ALL"]=1,r[n[2]="UNDO_KEEP_FOR_ALL"]=2,r}(),a.KeyExchangeMessage=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.id=0,n.prototype.baseKey=h.newBuffer([]),n.prototype.ratchetKey=h.newBuffer([]),n.prototype.identityKey=h.newBuffer([]),n.prototype.baseKeySignature=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.id!=null&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).uint32(e.id),e.baseKey!=null&&Object.hasOwnProperty.call(e,"baseKey")&&t.uint32(18).bytes(e.baseKey),e.ratchetKey!=null&&Object.hasOwnProperty.call(e,"ratchetKey")&&t.uint32(26).bytes(e.ratchetKey),e.identityKey!=null&&Object.hasOwnProperty.call(e,"identityKey")&&t.uint32(34).bytes(e.identityKey),e.baseKeySignature!=null&&Object.hasOwnProperty.call(e,"baseKeySignature")&&t.uint32(42).bytes(e.baseKeySignature),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.KeyExchangeMessage;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.id=e.uint32();break}case 2:{s.baseKey=e.bytes();break}case 3:{s.ratchetKey=e.bytes();break}case 4:{s.identityKey=e.bytes();break}case 5:{s.baseKeySignature=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.KeyExchangeMessage"},n}(),a.KeyId=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.id=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.id!=null&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).bytes(e.id),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.KeyId;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.id=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.KeyId"},n}(),a.LIDMigrationMapping=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.pn=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.assignedLid=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.latestLid=h.Long?h.Long.fromBits(0,0,!0):0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),t.uint32(8).uint64(e.pn),t.uint32(16).uint64(e.assignedLid),e.latestLid!=null&&Object.hasOwnProperty.call(e,"latestLid")&&t.uint32(24).uint64(e.latestLid),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.LIDMigrationMapping;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.pn=e.uint64();break}case 2:{s.assignedLid=e.uint64();break}case 3:{s.latestLid=e.uint64();break}default:e.skipType(c&7);break}}if(!s.hasOwnProperty("pn"))throw h.ProtocolError("missing required 'pn'",{instance:s});if(!s.hasOwnProperty("assignedLid"))throw h.ProtocolError("missing required 'assignedLid'",{instance:s});return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.LIDMigrationMapping"},n}(),a.LIDMigrationMappingSyncMessage=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.encodedMappingPayload=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.encodedMappingPayload!=null&&Object.hasOwnProperty.call(e,"encodedMappingPayload")&&t.uint32(10).bytes(e.encodedMappingPayload),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.LIDMigrationMappingSyncMessage;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.encodedMappingPayload=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.LIDMigrationMappingSyncMessage"},n}(),a.LIDMigrationMappingSyncPayload=function(){function n(r){if(this.pnToLidMappings=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.pnToLidMappings=h.emptyArray,n.prototype.chatDbMigrationTimestamp=h.Long?h.Long.fromBits(0,0,!0):0,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.pnToLidMappings!=null&&e.pnToLidMappings.length)for(var i=0;i<e.pnToLidMappings.length;++i)u.proto.LIDMigrationMapping.encode(e.pnToLidMappings[i],t.uint32(10).fork()).ldelim();return e.chatDbMigrationTimestamp!=null&&Object.hasOwnProperty.call(e,"chatDbMigrationTimestamp")&&t.uint32(16).uint64(e.chatDbMigrationTimestamp),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.LIDMigrationMappingSyncPayload;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.pnToLidMappings&&s.pnToLidMappings.length||(s.pnToLidMappings=[]),s.pnToLidMappings.push(u.proto.LIDMigrationMapping.decode(e,e.uint32()));break}case 2:{s.chatDbMigrationTimestamp=e.uint64();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.LIDMigrationMappingSyncPayload"},n}(),a.LegacyMessage=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.eventResponseMessage=null,n.prototype.pollVote=null,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.eventResponseMessage!=null&&Object.hasOwnProperty.call(e,"eventResponseMessage")&&u.proto.Message.EventResponseMessage.encode(e.eventResponseMessage,t.uint32(10).fork()).ldelim(),e.pollVote!=null&&Object.hasOwnProperty.call(e,"pollVote")&&u.proto.Message.PollVoteMessage.encode(e.pollVote,t.uint32(18).fork()).ldelim(),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.LegacyMessage;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.eventResponseMessage=u.proto.Message.EventResponseMessage.decode(e,e.uint32());break}case 2:{s.pollVote=u.proto.Message.PollVoteMessage.decode(e,e.uint32());break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.LegacyMessage"},n}(),a.LimitSharing=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.sharingLimited=!1,n.prototype.trigger=0,n.prototype.limitSharingSettingTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.initiatedByMe=!1,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.sharingLimited!=null&&Object.hasOwnProperty.call(e,"sharingLimited")&&t.uint32(8).bool(e.sharingLimited),e.trigger!=null&&Object.hasOwnProperty.call(e,"trigger")&&t.uint32(16).int32(e.trigger),e.limitSharingSettingTimestamp!=null&&Object.hasOwnProperty.call(e,"limitSharingSettingTimestamp")&&t.uint32(24).int64(e.limitSharingSettingTimestamp),e.initiatedByMe!=null&&Object.hasOwnProperty.call(e,"initiatedByMe")&&t.uint32(32).bool(e.initiatedByMe),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.LimitSharing;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.sharingLimited=e.bool();break}case 2:{s.trigger=e.int32();break}case 3:{s.limitSharingSettingTimestamp=e.int64();break}case 4:{s.initiatedByMe=e.bool();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.LimitSharing"},n.TriggerType=function(){let r={},e=Object.create(r);return e[r[0]="UNKNOWN"]=0,e[r[1]="CHAT_SETTING"]=1,e[r[2]="BIZ_SUPPORTS_FB_HOSTING"]=2,e[r[3]="UNKNOWN_GROUP"]=3,e}(),n}(),a.LocalizedName=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.lg="",n.prototype.lc="",n.prototype.verifiedName="",n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.lg!=null&&Object.hasOwnProperty.call(e,"lg")&&t.uint32(10).string(e.lg),e.lc!=null&&Object.hasOwnProperty.call(e,"lc")&&t.uint32(18).string(e.lc),e.verifiedName!=null&&Object.hasOwnProperty.call(e,"verifiedName")&&t.uint32(26).string(e.verifiedName),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.LocalizedName;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.lg=e.string();break}case 2:{s.lc=e.string();break}case 3:{s.verifiedName=e.string();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.LocalizedName"},n}(),a.Location=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.degreesLatitude=0,n.prototype.degreesLongitude=0,n.prototype.name="",n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.degreesLatitude!=null&&Object.hasOwnProperty.call(e,"degreesLatitude")&&t.uint32(9).double(e.degreesLatitude),e.degreesLongitude!=null&&Object.hasOwnProperty.call(e,"degreesLongitude")&&t.uint32(17).double(e.degreesLongitude),e.name!=null&&Object.hasOwnProperty.call(e,"name")&&t.uint32(26).string(e.name),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.Location;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.degreesLatitude=e.double();break}case 2:{s.degreesLongitude=e.double();break}case 3:{s.name=e.string();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.Location"},n}(),a.MediaData=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.localPath="",n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.localPath!=null&&Object.hasOwnProperty.call(e,"localPath")&&t.uint32(10).string(e.localPath),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.MediaData;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.localPath=e.string();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.MediaData"},n}(),a.MediaNotifyMessage=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.expressPathUrl="",n.prototype.fileEncSha256=h.newBuffer([]),n.prototype.fileLength=h.Long?h.Long.fromBits(0,0,!0):0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.expressPathUrl!=null&&Object.hasOwnProperty.call(e,"expressPathUrl")&&t.uint32(10).string(e.expressPathUrl),e.fileEncSha256!=null&&Object.hasOwnProperty.call(e,"fileEncSha256")&&t.uint32(18).bytes(e.fileEncSha256),e.fileLength!=null&&Object.hasOwnProperty.call(e,"fileLength")&&t.uint32(24).uint64(e.fileLength),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.MediaNotifyMessage;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.expressPathUrl=e.string();break}case 2:{s.fileEncSha256=e.bytes();break}case 3:{s.fileLength=e.uint64();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.MediaNotifyMessage"},n}(),a.MediaRetryNotification=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.stanzaId="",n.prototype.directPath="",n.prototype.result=0,n.prototype.messageSecret=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.stanzaId!=null&&Object.hasOwnProperty.call(e,"stanzaId")&&t.uint32(10).string(e.stanzaId),e.directPath!=null&&Object.hasOwnProperty.call(e,"directPath")&&t.uint32(18).string(e.directPath),e.result!=null&&Object.hasOwnProperty.call(e,"result")&&t.uint32(24).int32(e.result),e.messageSecret!=null&&Object.hasOwnProperty.call(e,"messageSecret")&&t.uint32(34).bytes(e.messageSecret),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.MediaRetryNotification;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.stanzaId=e.string();break}case 2:{s.directPath=e.string();break}case 3:{s.result=e.int32();break}case 4:{s.messageSecret=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.MediaRetryNotification"},n.ResultType=function(){let r={},e=Object.create(r);return e[r[0]="GENERAL_ERROR"]=0,e[r[1]="SUCCESS"]=1,e[r[2]="NOT_FOUND"]=2,e[r[3]="DECRYPTION_ERROR"]=3,e}(),n}(),a.MediaVisibility=function(){let n={},r=Object.create(n);return r[n[0]="DEFAULT"]=0,r[n[1]="OFF"]=1,r[n[2]="ON"]=2,r}(),a.MemberLabel=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.label="",n.prototype.labelTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.label!=null&&Object.hasOwnProperty.call(e,"label")&&t.uint32(10).string(e.label),e.labelTimestamp!=null&&Object.hasOwnProperty.call(e,"labelTimestamp")&&t.uint32(16).int64(e.labelTimestamp),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.MemberLabel;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.label=e.string();break}case 2:{s.labelTimestamp=e.int64();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.MemberLabel"},n}(),a.Message=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.conversation="",n.prototype.senderKeyDistributionMessage=null,n.prototype.imageMessage=null,n.prototype.contactMessage=null,n.prototype.locationMessage=null,n.prototype.extendedTextMessage=null,n.prototype.documentMessage=null,n.prototype.audioMessage=null,n.prototype.videoMessage=null,n.prototype.call=null,n.prototype.chat=null,n.prototype.protocolMessage=null,n.prototype.contactsArrayMessage=null,n.prototype.highlyStructuredMessage=null,n.prototype.fastRatchetKeySenderKeyDistributionMessage=null,n.prototype.sendPaymentMessage=null,n.prototype.liveLocationMessage=null,n.prototype.requestPaymentMessage=null,n.prototype.declinePaymentRequestMessage=null,n.prototype.cancelPaymentRequestMessage=null,n.prototype.templateMessage=null,n.prototype.stickerMessage=null,n.prototype.groupInviteMessage=null,n.prototype.templateButtonReplyMessage=null,n.prototype.productMessage=null,n.prototype.deviceSentMessage=null,n.prototype.messageContextInfo=null,n.prototype.listMessage=null,n.prototype.viewOnceMessage=null,n.prototype.orderMessage=null,n.prototype.listResponseMessage=null,n.prototype.ephemeralMessage=null,n.prototype.invoiceMessage=null,n.prototype.buttonsMessage=null,n.prototype.buttonsResponseMessage=null,n.prototype.paymentInviteMessage=null,n.prototype.interactiveMessage=null,n.prototype.reactionMessage=null,n.prototype.stickerSyncRmrMessage=null,n.prototype.interactiveResponseMessage=null,n.prototype.pollCreationMessage=null,n.prototype.pollUpdateMessage=null,n.prototype.keepInChatMessage=null,n.prototype.documentWithCaptionMessage=null,n.prototype.requestPhoneNumberMessage=null,n.prototype.viewOnceMessageV2=null,n.prototype.encReactionMessage=null,n.prototype.editedMessage=null,n.prototype.viewOnceMessageV2Extension=null,n.prototype.pollCreationMessageV2=null,n.prototype.scheduledCallCreationMessage=null,n.prototype.groupMentionedMessage=null,n.prototype.pinInChatMessage=null,n.prototype.pollCreationMessageV3=null,n.prototype.scheduledCallEditMessage=null,n.prototype.ptvMessage=null,n.prototype.botInvokeMessage=null,n.prototype.callLogMesssage=null,n.prototype.messageHistoryBundle=null,n.prototype.encCommentMessage=null,n.prototype.bcallMessage=null,n.prototype.lottieStickerMessage=null,n.prototype.eventMessage=null,n.prototype.encEventResponseMessage=null,n.prototype.commentMessage=null,n.prototype.newsletterAdminInviteMessage=null,n.prototype.placeholderMessage=null,n.prototype.secretEncryptedMessage=null,n.prototype.albumMessage=null,n.prototype.eventCoverImage=null,n.prototype.stickerPackMessage=null,n.prototype.statusMentionMessage=null,n.prototype.pollResultSnapshotMessage=null,n.prototype.pollCreationOptionImageMessage=null,n.prototype.associatedChildMessage=null,n.prototype.groupStatusMentionMessage=null,n.prototype.pollCreationMessageV4=null,n.prototype.pollCreationMessageV5=null,n.prototype.statusAddYours=null,n.prototype.groupStatusMessage=null,n.prototype.richResponseMessage=null,n.prototype.statusNotificationMessage=null,n.prototype.limitSharingMessage=null,n.prototype.botTaskMessage=null,n.prototype.questionMessage=null,n.prototype.messageHistoryNotice=null,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.conversation!=null&&Object.hasOwnProperty.call(e,"conversation")&&t.uint32(10).string(e.conversation),e.senderKeyDistributionMessage!=null&&Object.hasOwnProperty.call(e,"senderKeyDistributionMessage")&&u.proto.Message.SenderKeyDistributionMessage.encode(e.senderKeyDistributionMessage,t.uint32(18).fork()).ldelim(),e.imageMessage!=null&&Object.hasOwnProperty.call(e,"imageMessage")&&u.proto.Message.ImageMessage.encode(e.imageMessage,t.uint32(26).fork()).ldelim(),e.contactMessage!=null&&Object.hasOwnProperty.call(e,"contactMessage")&&u.proto.Message.ContactMessage.encode(e.contactMessage,t.uint32(34).fork()).ldelim(),e.locationMessage!=null&&Object.hasOwnProperty.call(e,"locationMessage")&&u.proto.Message.LocationMessage.encode(e.locationMessage,t.uint32(42).fork()).ldelim(),e.extendedTextMessage!=null&&Object.hasOwnProperty.call(e,"extendedTextMessage")&&u.proto.Message.ExtendedTextMessage.encode(e.extendedTextMessage,t.uint32(50).fork()).ldelim(),e.documentMessage!=null&&Object.hasOwnProperty.call(e,"documentMessage")&&u.proto.Message.DocumentMessage.encode(e.documentMessage,t.uint32(58).fork()).ldelim(),e.audioMessage!=null&&Object.hasOwnProperty.call(e,"audioMessage")&&u.proto.Message.AudioMessage.encode(e.audioMessage,t.uint32(66).fork()).ldelim(),e.videoMessage!=null&&Object.hasOwnProperty.call(e,"videoMessage")&&u.proto.Message.VideoMessage.encode(e.videoMessage,t.uint32(74).fork()).ldelim(),e.call!=null&&Object.hasOwnProperty.call(e,"call")&&u.proto.Message.Call.encode(e.call,t.uint32(82).fork()).ldelim(),e.chat!=null&&Object.hasOwnProperty.call(e,"chat")&&u.proto.Message.Chat.encode(e.chat,t.uint32(90).fork()).ldelim(),e.protocolMessage!=null&&Object.hasOwnProperty.call(e,"protocolMessage")&&u.proto.Message.ProtocolMessage.encode(e.protocolMessage,t.uint32(98).fork()).ldelim(),e.contactsArrayMessage!=null&&Object.hasOwnProperty.call(e,"contactsArrayMessage")&&u.proto.Message.ContactsArrayMessage.encode(e.contactsArrayMessage,t.uint32(106).fork()).ldelim(),e.highlyStructuredMessage!=null&&Object.hasOwnProperty.call(e,"highlyStructuredMessage")&&u.proto.Message.HighlyStructuredMessage.encode(e.highlyStructuredMessage,t.uint32(114).fork()).ldelim(),e.fastRatchetKeySenderKeyDistributionMessage!=null&&Object.hasOwnProperty.call(e,"fastRatchetKeySenderKeyDistributionMessage")&&u.proto.Message.SenderKeyDistributionMessage.encode(e.fastRatchetKeySenderKeyDistributionMessage,t.uint32(122).fork()).ldelim(),e.sendPaymentMessage!=null&&Object.hasOwnProperty.call(e,"sendPaymentMessage")&&u.proto.Message.SendPaymentMessage.encode(e.sendPaymentMessage,t.uint32(130).fork()).ldelim(),e.liveLocationMessage!=null&&Object.hasOwnProperty.call(e,"liveLocationMessage")&&u.proto.Message.LiveLocationMessage.encode(e.liveLocationMessage,t.uint32(146).fork()).ldelim(),e.requestPaymentMessage!=null&&Object.hasOwnProperty.call(e,"requestPaymentMessage")&&u.proto.Message.RequestPaymentMessage.encode(e.requestPaymentMessage,t.uint32(178).fork()).ldelim(),e.declinePaymentRequestMessage!=null&&Object.hasOwnProperty.call(e,"declinePaymentRequestMessage")&&u.proto.Message.DeclinePaymentRequestMessage.encode(e.declinePaymentRequestMessage,t.uint32(186).fork()).ldelim(),e.cancelPaymentRequestMessage!=null&&Object.hasOwnProperty.call(e,"cancelPaymentRequestMessage")&&u.proto.Message.CancelPaymentRequestMessage.encode(e.cancelPaymentRequestMessage,t.uint32(194).fork()).ldelim(),e.templateMessage!=null&&Object.hasOwnProperty.call(e,"templateMessage")&&u.proto.Message.TemplateMessage.encode(e.templateMessage,t.uint32(202).fork()).ldelim(),e.stickerMessage!=null&&Object.hasOwnProperty.call(e,"stickerMessage")&&u.proto.Message.StickerMessage.encode(e.stickerMessage,t.uint32(210).fork()).ldelim(),e.groupInviteMessage!=null&&Object.hasOwnProperty.call(e,"groupInviteMessage")&&u.proto.Message.GroupInviteMessage.encode(e.groupInviteMessage,t.uint32(226).fork()).ldelim(),e.templateButtonReplyMessage!=null&&Object.hasOwnProperty.call(e,"templateButtonReplyMessage")&&u.proto.Message.TemplateButtonReplyMessage.encode(e.templateButtonReplyMessage,t.uint32(234).fork()).ldelim(),e.productMessage!=null&&Object.hasOwnProperty.call(e,"productMessage")&&u.proto.Message.ProductMessage.encode(e.productMessage,t.uint32(242).fork()).ldelim(),e.deviceSentMessage!=null&&Object.hasOwnProperty.call(e,"deviceSentMessage")&&u.proto.Message.DeviceSentMessage.encode(e.deviceSentMessage,t.uint32(250).fork()).ldelim(),e.messageContextInfo!=null&&Object.hasOwnProperty.call(e,"messageContextInfo")&&u.proto.MessageContextInfo.encode(e.messageContextInfo,t.uint32(282).fork()).ldelim(),e.listMessage!=null&&Object.hasOwnProperty.call(e,"listMessage")&&u.proto.Message.ListMessage.encode(e.listMessage,t.uint32(290).fork()).ldelim(),e.viewOnceMessage!=null&&Object.hasOwnProperty.call(e,"viewOnceMessage")&&u.proto.Message.FutureProofMessage.encode(e.viewOnceMessage,t.uint32(298).fork()).ldelim(),e.orderMessage!=null&&Object.hasOwnProperty.call(e,"orderMessage")&&u.proto.Message.OrderMessage.encode(e.orderMessage,t.uint32(306).fork()).ldelim(),e.listResponseMessage!=null&&Object.hasOwnProperty.call(e,"listResponseMessage")&&u.proto.Message.ListResponseMessage.encode(e.listResponseMessage,t.uint32(314).fork()).ldelim(),e.ephemeralMessage!=null&&Object.hasOwnProperty.call(e,"ephemeralMessage")&&u.proto.Message.FutureProofMessage.encode(e.ephemeralMessage,t.uint32(322).fork()).ldelim(),e.invoiceMessage!=null&&Object.hasOwnProperty.call(e,"invoiceMessage")&&u.proto.Message.InvoiceMessage.encode(e.invoiceMessage,t.uint32(330).fork()).ldelim(),e.buttonsMessage!=null&&Object.hasOwnProperty.call(e,"buttonsMessage")&&u.proto.Message.ButtonsMessage.encode(e.buttonsMessage,t.uint32(338).fork()).ldelim(),e.buttonsResponseMessage!=null&&Object.hasOwnProperty.call(e,"buttonsResponseMessage")&&u.proto.Message.ButtonsResponseMessage.encode(e.buttonsResponseMessage,t.uint32(346).fork()).ldelim(),e.paymentInviteMessage!=null&&Object.hasOwnProperty.call(e,"paymentInviteMessage")&&u.proto.Message.PaymentInviteMessage.encode(e.paymentInviteMessage,t.uint32(354).fork()).ldelim(),e.interactiveMessage!=null&&Object.hasOwnProperty.call(e,"interactiveMessage")&&u.proto.Message.InteractiveMessage.encode(e.interactiveMessage,t.uint32(362).fork()).ldelim(),e.reactionMessage!=null&&Object.hasOwnProperty.call(e,"reactionMessage")&&u.proto.Message.ReactionMessage.encode(e.reactionMessage,t.uint32(370).fork()).ldelim(),e.stickerSyncRmrMessage!=null&&Object.hasOwnProperty.call(e,"stickerSyncRmrMessage")&&u.proto.Message.StickerSyncRMRMessage.encode(e.stickerSyncRmrMessage,t.uint32(378).fork()).ldelim(),e.interactiveResponseMessage!=null&&Object.hasOwnProperty.call(e,"interactiveResponseMessage")&&u.proto.Message.InteractiveResponseMessage.encode(e.interactiveResponseMessage,t.uint32(386).fork()).ldelim(),e.pollCreationMessage!=null&&Object.hasOwnProperty.call(e,"pollCreationMessage")&&u.proto.Message.PollCreationMessage.encode(e.pollCreationMessage,t.uint32(394).fork()).ldelim(),e.pollUpdateMessage!=null&&Object.hasOwnProperty.call(e,"pollUpdateMessage")&&u.proto.Message.PollUpdateMessage.encode(e.pollUpdateMessage,t.uint32(402).fork()).ldelim(),e.keepInChatMessage!=null&&Object.hasOwnProperty.call(e,"keepInChatMessage")&&u.proto.Message.KeepInChatMessage.encode(e.keepInChatMessage,t.uint32(410).fork()).ldelim(),e.documentWithCaptionMessage!=null&&Object.hasOwnProperty.call(e,"documentWithCaptionMessage")&&u.proto.Message.FutureProofMessage.encode(e.documentWithCaptionMessage,t.uint32(426).fork()).ldelim(),e.requestPhoneNumberMessage!=null&&Object.hasOwnProperty.call(e,"requestPhoneNumberMessage")&&u.proto.Message.RequestPhoneNumberMessage.encode(e.requestPhoneNumberMessage,t.uint32(434).fork()).ldelim(),e.viewOnceMessageV2!=null&&Object.hasOwnProperty.call(e,"viewOnceMessageV2")&&u.proto.Message.FutureProofMessage.encode(e.viewOnceMessageV2,t.uint32(442).fork()).ldelim(),e.encReactionMessage!=null&&Object.hasOwnProperty.call(e,"encReactionMessage")&&u.proto.Message.EncReactionMessage.encode(e.encReactionMessage,t.uint32(450).fork()).ldelim(),e.editedMessage!=null&&Object.hasOwnProperty.call(e,"editedMessage")&&u.proto.Message.FutureProofMessage.encode(e.editedMessage,t.uint32(466).fork()).ldelim(),e.viewOnceMessageV2Extension!=null&&Object.hasOwnProperty.call(e,"viewOnceMessageV2Extension")&&u.proto.Message.FutureProofMessage.encode(e.viewOnceMessageV2Extension,t.uint32(474).fork()).ldelim(),e.pollCreationMessageV2!=null&&Object.hasOwnProperty.call(e,"pollCreationMessageV2")&&u.proto.Message.PollCreationMessage.encode(e.pollCreationMessageV2,t.uint32(482).fork()).ldelim(),e.scheduledCallCreationMessage!=null&&Object.hasOwnProperty.call(e,"scheduledCallCreationMessage")&&u.proto.Message.ScheduledCallCreationMessage.encode(e.scheduledCallCreationMessage,t.uint32(490).fork()).ldelim(),e.groupMentionedMessage!=null&&Object.hasOwnProperty.call(e,"groupMentionedMessage")&&u.proto.Message.FutureProofMessage.encode(e.groupMentionedMessage,t.uint32(498).fork()).ldelim(),e.pinInChatMessage!=null&&Object.hasOwnProperty.call(e,"pinInChatMessage")&&u.proto.Message.PinInChatMessage.encode(e.pinInChatMessage,t.uint32(506).fork()).ldelim(),e.pollCreationMessageV3!=null&&Object.hasOwnProperty.call(e,"pollCreationMessageV3")&&u.proto.Message.PollCreationMessage.encode(e.pollCreationMessageV3,t.uint32(514).fork()).ldelim(),e.scheduledCallEditMessage!=null&&Object.hasOwnProperty.call(e,"scheduledCallEditMessage")&&u.proto.Message.ScheduledCallEditMessage.encode(e.scheduledCallEditMessage,t.uint32(522).fork()).ldelim(),e.ptvMessage!=null&&Object.hasOwnProperty.call(e,"ptvMessage")&&u.proto.Message.VideoMessage.encode(e.ptvMessage,t.uint32(530).fork()).ldelim(),e.botInvokeMessage!=null&&Object.hasOwnProperty.call(e,"botInvokeMessage")&&u.proto.Message.FutureProofMessage.encode(e.botInvokeMessage,t.uint32(538).fork()).ldelim(),e.callLogMesssage!=null&&Object.hasOwnProperty.call(e,"callLogMesssage")&&u.proto.Message.CallLogMessage.encode(e.callLogMesssage,t.uint32(554).fork()).ldelim(),e.messageHistoryBundle!=null&&Object.hasOwnProperty.call(e,"messageHistoryBundle")&&u.proto.Message.MessageHistoryBundle.encode(e.messageHistoryBundle,t.uint32(562).fork()).ldelim(),e.encCommentMessage!=null&&Object.hasOwnProperty.call(e,"encCommentMessage")&&u.proto.Message.EncCommentMessage.encode(e.encCommentMessage,t.uint32(570).fork()).ldelim(),e.bcallMessage!=null&&Object.hasOwnProperty.call(e,"bcallMessage")&&u.proto.Message.BCallMessage.encode(e.bcallMessage,t.uint32(578).fork()).ldelim(),e.lottieStickerMessage!=null&&Object.hasOwnProperty.call(e,"lottieStickerMessage")&&u.proto.Message.FutureProofMessage.encode(e.lottieStickerMessage,t.uint32(594).fork()).ldelim(),e.eventMessage!=null&&Object.hasOwnProperty.call(e,"eventMessage")&&u.proto.Message.EventMessage.encode(e.eventMessage,t.uint32(602).fork()).ldelim(),e.encEventResponseMessage!=null&&Object.hasOwnProperty.call(e,"encEventResponseMessage")&&u.proto.Message.EncEventResponseMessage.encode(e.encEventResponseMessage,t.uint32(610).fork()).ldelim(),e.commentMessage!=null&&Object.hasOwnProperty.call(e,"commentMessage")&&u.proto.Message.CommentMessage.encode(e.commentMessage,t.uint32(618).fork()).ldelim(),e.newsletterAdminInviteMessage!=null&&Object.hasOwnProperty.call(e,"newsletterAdminInviteMessage")&&u.proto.Message.NewsletterAdminInviteMessage.encode(e.newsletterAdminInviteMessage,t.uint32(626).fork()).ldelim(),e.placeholderMessage!=null&&Object.hasOwnProperty.call(e,"placeholderMessage")&&u.proto.Message.PlaceholderMessage.encode(e.placeholderMessage,t.uint32(642).fork()).ldelim(),e.secretEncryptedMessage!=null&&Object.hasOwnProperty.call(e,"secretEncryptedMessage")&&u.proto.Message.SecretEncryptedMessage.encode(e.secretEncryptedMessage,t.uint32(658).fork()).ldelim(),e.albumMessage!=null&&Object.hasOwnProperty.call(e,"albumMessage")&&u.proto.Message.AlbumMessage.encode(e.albumMessage,t.uint32(666).fork()).ldelim(),e.eventCoverImage!=null&&Object.hasOwnProperty.call(e,"eventCoverImage")&&u.proto.Message.FutureProofMessage.encode(e.eventCoverImage,t.uint32(682).fork()).ldelim(),e.stickerPackMessage!=null&&Object.hasOwnProperty.call(e,"stickerPackMessage")&&u.proto.Message.StickerPackMessage.encode(e.stickerPackMessage,t.uint32(690).fork()).ldelim(),e.statusMentionMessage!=null&&Object.hasOwnProperty.call(e,"statusMentionMessage")&&u.proto.Message.FutureProofMessage.encode(e.statusMentionMessage,t.uint32(698).fork()).ldelim(),e.pollResultSnapshotMessage!=null&&Object.hasOwnProperty.call(e,"pollResultSnapshotMessage")&&u.proto.Message.PollResultSnapshotMessage.encode(e.pollResultSnapshotMessage,t.uint32(706).fork()).ldelim(),e.pollCreationOptionImageMessage!=null&&Object.hasOwnProperty.call(e,"pollCreationOptionImageMessage")&&u.proto.Message.FutureProofMessage.encode(e.pollCreationOptionImageMessage,t.uint32(722).fork()).ldelim(),e.associatedChildMessage!=null&&Object.hasOwnProperty.call(e,"associatedChildMessage")&&u.proto.Message.FutureProofMessage.encode(e.associatedChildMessage,t.uint32(730).fork()).ldelim(),e.groupStatusMentionMessage!=null&&Object.hasOwnProperty.call(e,"groupStatusMentionMessage")&&u.proto.Message.FutureProofMessage.encode(e.groupStatusMentionMessage,t.uint32(738).fork()).ldelim(),e.pollCreationMessageV4!=null&&Object.hasOwnProperty.call(e,"pollCreationMessageV4")&&u.proto.Message.FutureProofMessage.encode(e.pollCreationMessageV4,t.uint32(746).fork()).ldelim(),e.pollCreationMessageV5!=null&&Object.hasOwnProperty.call(e,"pollCreationMessageV5")&&u.proto.Message.FutureProofMessage.encode(e.pollCreationMessageV5,t.uint32(754).fork()).ldelim(),e.statusAddYours!=null&&Object.hasOwnProperty.call(e,"statusAddYours")&&u.proto.Message.FutureProofMessage.encode(e.statusAddYours,t.uint32(762).fork()).ldelim(),e.groupStatusMessage!=null&&Object.hasOwnProperty.call(e,"groupStatusMessage")&&u.proto.Message.FutureProofMessage.encode(e.groupStatusMessage,t.uint32(770).fork()).ldelim(),e.richResponseMessage!=null&&Object.hasOwnProperty.call(e,"richResponseMessage")&&u.proto.AIRichResponseMessage.encode(e.richResponseMessage,t.uint32(778).fork()).ldelim(),e.statusNotificationMessage!=null&&Object.hasOwnProperty.call(e,"statusNotificationMessage")&&u.proto.Message.StatusNotificationMessage.encode(e.statusNotificationMessage,t.uint32(786).fork()).ldelim(),e.limitSharingMessage!=null&&Object.hasOwnProperty.call(e,"limitSharingMessage")&&u.proto.Message.FutureProofMessage.encode(e.limitSharingMessage,t.uint32(794).fork()).ldelim(),e.botTaskMessage!=null&&Object.hasOwnProperty.call(e,"botTaskMessage")&&u.proto.Message.FutureProofMessage.encode(e.botTaskMessage,t.uint32(802).fork()).ldelim(),e.questionMessage!=null&&Object.hasOwnProperty.call(e,"questionMessage")&&u.proto.Message.FutureProofMessage.encode(e.questionMessage,t.uint32(810).fork()).ldelim(),e.messageHistoryNotice!=null&&Object.hasOwnProperty.call(e,"messageHistoryNotice")&&u.proto.Message.MessageHistoryNotice.encode(e.messageHistoryNotice,t.uint32(818).fork()).ldelim(),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.Message;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.conversation=e.string();break}case 2:{s.senderKeyDistributionMessage=u.proto.Message.SenderKeyDistributionMessage.decode(e,e.uint32());break}case 3:{s.imageMessage=u.proto.Message.ImageMessage.decode(e,e.uint32());break}case 4:{s.contactMessage=u.proto.Message.ContactMessage.decode(e,e.uint32());break}case 5:{s.locationMessage=u.proto.Message.LocationMessage.decode(e,e.uint32());break}case 6:{s.extendedTextMessage=u.proto.Message.ExtendedTextMessage.decode(e,e.uint32());break}case 7:{s.documentMessage=u.proto.Message.DocumentMessage.decode(e,e.uint32());break}case 8:{s.audioMessage=u.proto.Message.AudioMessage.decode(e,e.uint32());break}case 9:{s.videoMessage=u.proto.Message.VideoMessage.decode(e,e.uint32());break}case 10:{s.call=u.proto.Message.Call.decode(e,e.uint32());break}case 11:{s.chat=u.proto.Message.Chat.decode(e,e.uint32());break}case 12:{s.protocolMessage=u.proto.Message.ProtocolMessage.decode(e,e.uint32());break}case 13:{s.contactsArrayMessage=u.proto.Message.ContactsArrayMessage.decode(e,e.uint32());break}case 14:{s.highlyStructuredMessage=u.proto.Message.HighlyStructuredMessage.decode(e,e.uint32());break}case 15:{s.fastRatchetKeySenderKeyDistributionMessage=u.proto.Message.SenderKeyDistributionMessage.decode(e,e.uint32());break}case 16:{s.sendPaymentMessage=u.proto.Message.SendPaymentMessage.decode(e,e.uint32());break}case 18:{s.liveLocationMessage=u.proto.Message.LiveLocationMessage.decode(e,e.uint32());break}case 22:{s.requestPaymentMessage=u.proto.Message.RequestPaymentMessage.decode(e,e.uint32());break}case 23:{s.declinePaymentRequestMessage=u.proto.Message.DeclinePaymentRequestMessage.decode(e,e.uint32());break}case 24:{s.cancelPaymentRequestMessage=u.proto.Message.CancelPaymentRequestMessage.decode(e,e.uint32());break}case 25:{s.templateMessage=u.proto.Message.TemplateMessage.decode(e,e.uint32());break}case 26:{s.stickerMessage=u.proto.Message.StickerMessage.decode(e,e.uint32());break}case 28:{s.groupInviteMessage=u.proto.Message.GroupInviteMessage.decode(e,e.uint32());break}case 29:{s.templateButtonReplyMessage=u.proto.Message.TemplateButtonReplyMessage.decode(e,e.uint32());break}case 30:{s.productMessage=u.proto.Message.ProductMessage.decode(e,e.uint32());break}case 31:{s.deviceSentMessage=u.proto.Message.DeviceSentMessage.decode(e,e.uint32());break}case 35:{s.messageContextInfo=u.proto.MessageContextInfo.decode(e,e.uint32());break}case 36:{s.listMessage=u.proto.Message.ListMessage.decode(e,e.uint32());break}case 37:{s.viewOnceMessage=u.proto.Message.FutureProofMessage.decode(e,e.uint32());break}case 38:{s.orderMessage=u.proto.Message.OrderMessage.decode(e,e.uint32());break}case 39:{s.listResponseMessage=u.proto.Message.ListResponseMessage.decode(e,e.uint32());break}case 40:{s.ephemeralMessage=u.proto.Message.FutureProofMessage.decode(e,e.uint32());break}case 41:{s.invoiceMessage=u.proto.Message.InvoiceMessage.decode(e,e.uint32());break}case 42:{s.buttonsMessage=u.proto.Message.ButtonsMessage.decode(e,e.uint32());break}case 43:{s.buttonsResponseMessage=u.proto.Message.ButtonsResponseMessage.decode(e,e.uint32());break}case 44:{s.paymentInviteMessage=u.proto.Message.PaymentInviteMessage.decode(e,e.uint32());break}case 45:{s.interactiveMessage=u.proto.Message.InteractiveMessage.decode(e,e.uint32());break}case 46:{s.reactionMessage=u.proto.Message.ReactionMessage.decode(e,e.uint32());break}case 47:{s.stickerSyncRmrMessage=u.proto.Message.StickerSyncRMRMessage.decode(e,e.uint32());break}case 48:{s.interactiveResponseMessage=u.proto.Message.InteractiveResponseMessage.decode(e,e.uint32());break}case 49:{s.pollCreationMessage=u.proto.Message.PollCreationMessage.decode(e,e.uint32());break}case 50:{s.pollUpdateMessage=u.proto.Message.PollUpdateMessage.decode(e,e.uint32());break}case 51:{s.keepInChatMessage=u.proto.Message.KeepInChatMessage.decode(e,e.uint32());break}case 53:{s.documentWithCaptionMessage=u.proto.Message.FutureProofMessage.decode(e,e.uint32());break}case 54:{s.requestPhoneNumberMessage=u.proto.Message.RequestPhoneNumberMessage.decode(e,e.uint32());break}case 55:{s.viewOnceMessageV2=u.proto.Message.FutureProofMessage.decode(e,e.uint32());break}case 56:{s.encReactionMessage=u.proto.Message.EncReactionMessage.decode(e,e.uint32());break}case 58:{s.editedMessage=u.proto.Message.FutureProofMessage.decode(e,e.uint32());break}case 59:{s.viewOnceMessageV2Extension=u.proto.Message.FutureProofMessage.decode(e,e.uint32());break}case 60:{s.pollCreationMessageV2=u.proto.Message.PollCreationMessage.decode(e,e.uint32());break}case 61:{s.scheduledCallCreationMessage=u.proto.Message.ScheduledCallCreationMessage.decode(e,e.uint32());break}case 62:{s.groupMentionedMessage=u.proto.Message.FutureProofMessage.decode(e,e.uint32());break}case 63:{s.pinInChatMessage=u.proto.Message.PinInChatMessage.decode(e,e.uint32());break}case 64:{s.pollCreationMessageV3=u.proto.Message.PollCreationMessage.decode(e,e.uint32());break}case 65:{s.scheduledCallEditMessage=u.proto.Message.ScheduledCallEditMessage.decode(e,e.uint32());break}case 66:{s.ptvMessage=u.proto.Message.VideoMessage.decode(e,e.uint32());break}case 67:{s.botInvokeMessage=u.proto.Message.FutureProofMessage.decode(e,e.uint32());break}case 69:{s.callLogMesssage=u.proto.Message.CallLogMessage.decode(e,e.uint32());break}case 70:{s.messageHistoryBundle=u.proto.Message.MessageHistoryBundle.decode(e,e.uint32());break}case 71:{s.encCommentMessage=u.proto.Message.EncCommentMessage.decode(e,e.uint32());break}case 72:{s.bcallMessage=u.proto.Message.BCallMessage.decode(e,e.uint32());break}case 74:{s.lottieStickerMessage=u.proto.Message.FutureProofMessage.decode(e,e.uint32());break}case 75:{s.eventMessage=u.proto.Message.EventMessage.decode(e,e.uint32());break}case 76:{s.encEventResponseMessage=u.proto.Message.EncEventResponseMessage.decode(e,e.uint32());break}case 77:{s.commentMessage=u.proto.Message.CommentMessage.decode(e,e.uint32());break}case 78:{s.newsletterAdminInviteMessage=u.proto.Message.NewsletterAdminInviteMessage.decode(e,e.uint32());break}case 80:{s.placeholderMessage=u.proto.Message.PlaceholderMessage.decode(e,e.uint32());break}case 82:{s.secretEncryptedMessage=u.proto.Message.SecretEncryptedMessage.decode(e,e.uint32());break}case 83:{s.albumMessage=u.proto.Message.AlbumMessage.decode(e,e.uint32());break}case 85:{s.eventCoverImage=u.proto.Message.FutureProofMessage.decode(e,e.uint32());break}case 86:{s.stickerPackMessage=u.proto.Message.StickerPackMessage.decode(e,e.uint32());break}case 87:{s.statusMentionMessage=u.proto.Message.FutureProofMessage.decode(e,e.uint32());break}case 88:{s.pollResultSnapshotMessage=u.proto.Message.PollResultSnapshotMessage.decode(e,e.uint32());break}case 90:{s.pollCreationOptionImageMessage=u.proto.Message.FutureProofMessage.decode(e,e.uint32());break}case 91:{s.associatedChildMessage=u.proto.Message.FutureProofMessage.decode(e,e.uint32());break}case 92:{s.groupStatusMentionMessage=u.proto.Message.FutureProofMessage.decode(e,e.uint32());break}case 93:{s.pollCreationMessageV4=u.proto.Message.FutureProofMessage.decode(e,e.uint32());break}case 94:{s.pollCreationMessageV5=u.proto.Message.FutureProofMessage.decode(e,e.uint32());break}case 95:{s.statusAddYours=u.proto.Message.FutureProofMessage.decode(e,e.uint32());break}case 96:{s.groupStatusMessage=u.proto.Message.FutureProofMessage.decode(e,e.uint32());break}case 97:{s.richResponseMessage=u.proto.AIRichResponseMessage.decode(e,e.uint32());break}case 98:{s.statusNotificationMessage=u.proto.Message.StatusNotificationMessage.decode(e,e.uint32());break}case 99:{s.limitSharingMessage=u.proto.Message.FutureProofMessage.decode(e,e.uint32());break}case 100:{s.botTaskMessage=u.proto.Message.FutureProofMessage.decode(e,e.uint32());break}case 101:{s.questionMessage=u.proto.Message.FutureProofMessage.decode(e,e.uint32());break}case 102:{s.messageHistoryNotice=u.proto.Message.MessageHistoryNotice.decode(e,e.uint32());break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.Message"},n.AlbumMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.expectedImageCount=0,r.prototype.expectedVideoCount=0,r.prototype.contextInfo=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.expectedImageCount!=null&&Object.hasOwnProperty.call(t,"expectedImageCount")&&i.uint32(16).uint32(t.expectedImageCount),t.expectedVideoCount!=null&&Object.hasOwnProperty.call(t,"expectedVideoCount")&&i.uint32(24).uint32(t.expectedVideoCount),t.contextInfo!=null&&Object.hasOwnProperty.call(t,"contextInfo")&&u.proto.ContextInfo.encode(t.contextInfo,i.uint32(138).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.AlbumMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 2:{c.expectedImageCount=t.uint32();break}case 3:{c.expectedVideoCount=t.uint32();break}case 17:{c.contextInfo=u.proto.ContextInfo.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.AlbumMessage"},r}(),n.AppStateFatalExceptionNotification=function(){function r(e){if(this.collectionNames=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.collectionNames=h.emptyArray,r.prototype.timestamp=h.Long?h.Long.fromBits(0,0,!1):0,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.collectionNames!=null&&t.collectionNames.length)for(var o=0;o<t.collectionNames.length;++o)i.uint32(10).string(t.collectionNames[o]);return t.timestamp!=null&&Object.hasOwnProperty.call(t,"timestamp")&&i.uint32(16).int64(t.timestamp),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.AppStateFatalExceptionNotification;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.collectionNames&&c.collectionNames.length||(c.collectionNames=[]),c.collectionNames.push(t.string());break}case 2:{c.timestamp=t.int64();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.AppStateFatalExceptionNotification"},r}(),n.AppStateSyncKey=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.keyId=null,r.prototype.keyData=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.keyId!=null&&Object.hasOwnProperty.call(t,"keyId")&&u.proto.Message.AppStateSyncKeyId.encode(t.keyId,i.uint32(10).fork()).ldelim(),t.keyData!=null&&Object.hasOwnProperty.call(t,"keyData")&&u.proto.Message.AppStateSyncKeyData.encode(t.keyData,i.uint32(18).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.AppStateSyncKey;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.keyId=u.proto.Message.AppStateSyncKeyId.decode(t,t.uint32());break}case 2:{c.keyData=u.proto.Message.AppStateSyncKeyData.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.AppStateSyncKey"},r}(),n.AppStateSyncKeyData=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.keyData=h.newBuffer([]),r.prototype.fingerprint=null,r.prototype.timestamp=h.Long?h.Long.fromBits(0,0,!1):0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.keyData!=null&&Object.hasOwnProperty.call(t,"keyData")&&i.uint32(10).bytes(t.keyData),t.fingerprint!=null&&Object.hasOwnProperty.call(t,"fingerprint")&&u.proto.Message.AppStateSyncKeyFingerprint.encode(t.fingerprint,i.uint32(18).fork()).ldelim(),t.timestamp!=null&&Object.hasOwnProperty.call(t,"timestamp")&&i.uint32(24).int64(t.timestamp),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.AppStateSyncKeyData;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.keyData=t.bytes();break}case 2:{c.fingerprint=u.proto.Message.AppStateSyncKeyFingerprint.decode(t,t.uint32());break}case 3:{c.timestamp=t.int64();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.AppStateSyncKeyData"},r}(),n.AppStateSyncKeyFingerprint=function(){function r(e){if(this.deviceIndexes=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.rawId=0,r.prototype.currentIndex=0,r.prototype.deviceIndexes=h.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.rawId!=null&&Object.hasOwnProperty.call(t,"rawId")&&i.uint32(8).uint32(t.rawId),t.currentIndex!=null&&Object.hasOwnProperty.call(t,"currentIndex")&&i.uint32(16).uint32(t.currentIndex),t.deviceIndexes!=null&&t.deviceIndexes.length){i.uint32(26).fork();for(var o=0;o<t.deviceIndexes.length;++o)i.uint32(t.deviceIndexes[o]);i.ldelim()}return i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.AppStateSyncKeyFingerprint;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.rawId=t.uint32();break}case 2:{c.currentIndex=t.uint32();break}case 3:{if(c.deviceIndexes&&c.deviceIndexes.length||(c.deviceIndexes=[]),(l&7)===2)for(var d=t.uint32()+t.pos;t.pos<d;)c.deviceIndexes.push(t.uint32());else c.deviceIndexes.push(t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.AppStateSyncKeyFingerprint"},r}(),n.AppStateSyncKeyId=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.keyId=h.newBuffer([]),r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.keyId!=null&&Object.hasOwnProperty.call(t,"keyId")&&i.uint32(10).bytes(t.keyId),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.AppStateSyncKeyId;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.keyId=t.bytes();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.AppStateSyncKeyId"},r}(),n.AppStateSyncKeyRequest=function(){function r(e){if(this.keyIds=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.keyIds=h.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.keyIds!=null&&t.keyIds.length)for(var o=0;o<t.keyIds.length;++o)u.proto.Message.AppStateSyncKeyId.encode(t.keyIds[o],i.uint32(10).fork()).ldelim();return i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.AppStateSyncKeyRequest;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.keyIds&&c.keyIds.length||(c.keyIds=[]),c.keyIds.push(u.proto.Message.AppStateSyncKeyId.decode(t,t.uint32()));break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.AppStateSyncKeyRequest"},r}(),n.AppStateSyncKeyShare=function(){function r(e){if(this.keys=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.keys=h.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.keys!=null&&t.keys.length)for(var o=0;o<t.keys.length;++o)u.proto.Message.AppStateSyncKey.encode(t.keys[o],i.uint32(10).fork()).ldelim();return i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.AppStateSyncKeyShare;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.keys&&c.keys.length||(c.keys=[]),c.keys.push(u.proto.Message.AppStateSyncKey.decode(t,t.uint32()));break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.AppStateSyncKeyShare"},r}(),n.AudioMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.url="",r.prototype.mimetype="",r.prototype.fileSha256=h.newBuffer([]),r.prototype.fileLength=h.Long?h.Long.fromBits(0,0,!0):0,r.prototype.seconds=0,r.prototype.ptt=!1,r.prototype.mediaKey=h.newBuffer([]),r.prototype.fileEncSha256=h.newBuffer([]),r.prototype.directPath="",r.prototype.mediaKeyTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.contextInfo=null,r.prototype.streamingSidecar=h.newBuffer([]),r.prototype.waveform=h.newBuffer([]),r.prototype.backgroundArgb=0,r.prototype.viewOnce=!1,r.prototype.accessibilityLabel="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.url!=null&&Object.hasOwnProperty.call(t,"url")&&i.uint32(10).string(t.url),t.mimetype!=null&&Object.hasOwnProperty.call(t,"mimetype")&&i.uint32(18).string(t.mimetype),t.fileSha256!=null&&Object.hasOwnProperty.call(t,"fileSha256")&&i.uint32(26).bytes(t.fileSha256),t.fileLength!=null&&Object.hasOwnProperty.call(t,"fileLength")&&i.uint32(32).uint64(t.fileLength),t.seconds!=null&&Object.hasOwnProperty.call(t,"seconds")&&i.uint32(40).uint32(t.seconds),t.ptt!=null&&Object.hasOwnProperty.call(t,"ptt")&&i.uint32(48).bool(t.ptt),t.mediaKey!=null&&Object.hasOwnProperty.call(t,"mediaKey")&&i.uint32(58).bytes(t.mediaKey),t.fileEncSha256!=null&&Object.hasOwnProperty.call(t,"fileEncSha256")&&i.uint32(66).bytes(t.fileEncSha256),t.directPath!=null&&Object.hasOwnProperty.call(t,"directPath")&&i.uint32(74).string(t.directPath),t.mediaKeyTimestamp!=null&&Object.hasOwnProperty.call(t,"mediaKeyTimestamp")&&i.uint32(80).int64(t.mediaKeyTimestamp),t.contextInfo!=null&&Object.hasOwnProperty.call(t,"contextInfo")&&u.proto.ContextInfo.encode(t.contextInfo,i.uint32(138).fork()).ldelim(),t.streamingSidecar!=null&&Object.hasOwnProperty.call(t,"streamingSidecar")&&i.uint32(146).bytes(t.streamingSidecar),t.waveform!=null&&Object.hasOwnProperty.call(t,"waveform")&&i.uint32(154).bytes(t.waveform),t.backgroundArgb!=null&&Object.hasOwnProperty.call(t,"backgroundArgb")&&i.uint32(165).fixed32(t.backgroundArgb),t.viewOnce!=null&&Object.hasOwnProperty.call(t,"viewOnce")&&i.uint32(168).bool(t.viewOnce),t.accessibilityLabel!=null&&Object.hasOwnProperty.call(t,"accessibilityLabel")&&i.uint32(178).string(t.accessibilityLabel),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.AudioMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.url=t.string();break}case 2:{c.mimetype=t.string();break}case 3:{c.fileSha256=t.bytes();break}case 4:{c.fileLength=t.uint64();break}case 5:{c.seconds=t.uint32();break}case 6:{c.ptt=t.bool();break}case 7:{c.mediaKey=t.bytes();break}case 8:{c.fileEncSha256=t.bytes();break}case 9:{c.directPath=t.string();break}case 10:{c.mediaKeyTimestamp=t.int64();break}case 17:{c.contextInfo=u.proto.ContextInfo.decode(t,t.uint32());break}case 18:{c.streamingSidecar=t.bytes();break}case 19:{c.waveform=t.bytes();break}case 20:{c.backgroundArgb=t.fixed32();break}case 21:{c.viewOnce=t.bool();break}case 22:{c.accessibilityLabel=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.AudioMessage"},r}(),n.BCallMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.sessionId="",r.prototype.mediaType=0,r.prototype.masterKey=h.newBuffer([]),r.prototype.caption="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.sessionId!=null&&Object.hasOwnProperty.call(t,"sessionId")&&i.uint32(10).string(t.sessionId),t.mediaType!=null&&Object.hasOwnProperty.call(t,"mediaType")&&i.uint32(16).int32(t.mediaType),t.masterKey!=null&&Object.hasOwnProperty.call(t,"masterKey")&&i.uint32(26).bytes(t.masterKey),t.caption!=null&&Object.hasOwnProperty.call(t,"caption")&&i.uint32(34).string(t.caption),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.BCallMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.sessionId=t.string();break}case 2:{c.mediaType=t.int32();break}case 3:{c.masterKey=t.bytes();break}case 4:{c.caption=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.BCallMessage"},r.MediaType=function(){let e={},t=Object.create(e);return t[e[0]="UNKNOWN"]=0,t[e[1]="AUDIO"]=1,t[e[2]="VIDEO"]=2,t}(),r}(),n.BotFeedbackMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.messageKey=null,r.prototype.kind=0,r.prototype.text="",r.prototype.kindNegative=h.Long?h.Long.fromBits(0,0,!0):0,r.prototype.kindPositive=h.Long?h.Long.fromBits(0,0,!0):0,r.prototype.kindReport=0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.messageKey!=null&&Object.hasOwnProperty.call(t,"messageKey")&&u.proto.MessageKey.encode(t.messageKey,i.uint32(10).fork()).ldelim(),t.kind!=null&&Object.hasOwnProperty.call(t,"kind")&&i.uint32(16).int32(t.kind),t.text!=null&&Object.hasOwnProperty.call(t,"text")&&i.uint32(26).string(t.text),t.kindNegative!=null&&Object.hasOwnProperty.call(t,"kindNegative")&&i.uint32(32).uint64(t.kindNegative),t.kindPositive!=null&&Object.hasOwnProperty.call(t,"kindPositive")&&i.uint32(40).uint64(t.kindPositive),t.kindReport!=null&&Object.hasOwnProperty.call(t,"kindReport")&&i.uint32(48).int32(t.kindReport),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.BotFeedbackMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.messageKey=u.proto.MessageKey.decode(t,t.uint32());break}case 2:{c.kind=t.int32();break}case 3:{c.text=t.string();break}case 4:{c.kindNegative=t.uint64();break}case 5:{c.kindPositive=t.uint64();break}case 6:{c.kindReport=t.int32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.BotFeedbackMessage"},r.BotFeedbackKind=function(){let e={},t=Object.create(e);return t[e[0]="BOT_FEEDBACK_POSITIVE"]=0,t[e[1]="BOT_FEEDBACK_NEGATIVE_GENERIC"]=1,t[e[2]="BOT_FEEDBACK_NEGATIVE_HELPFUL"]=2,t[e[3]="BOT_FEEDBACK_NEGATIVE_INTERESTING"]=3,t[e[4]="BOT_FEEDBACK_NEGATIVE_ACCURATE"]=4,t[e[5]="BOT_FEEDBACK_NEGATIVE_SAFE"]=5,t[e[6]="BOT_FEEDBACK_NEGATIVE_OTHER"]=6,t[e[7]="BOT_FEEDBACK_NEGATIVE_REFUSED"]=7,t[e[8]="BOT_FEEDBACK_NEGATIVE_NOT_VISUALLY_APPEALING"]=8,t[e[9]="BOT_FEEDBACK_NEGATIVE_NOT_RELEVANT_TO_TEXT"]=9,t[e[10]="BOT_FEEDBACK_NEGATIVE_PERSONALIZED"]=10,t[e[11]="BOT_FEEDBACK_NEGATIVE_CLARITY"]=11,t[e[12]="BOT_FEEDBACK_NEGATIVE_DOESNT_LOOK_LIKE_THE_PERSON"]=12,t}(),r.BotFeedbackKindMultipleNegative=function(){let e={},t=Object.create(e);return t[e[1]="BOT_FEEDBACK_MULTIPLE_NEGATIVE_GENERIC"]=1,t[e[2]="BOT_FEEDBACK_MULTIPLE_NEGATIVE_HELPFUL"]=2,t[e[4]="BOT_FEEDBACK_MULTIPLE_NEGATIVE_INTERESTING"]=4,t[e[8]="BOT_FEEDBACK_MULTIPLE_NEGATIVE_ACCURATE"]=8,t[e[16]="BOT_FEEDBACK_MULTIPLE_NEGATIVE_SAFE"]=16,t[e[32]="BOT_FEEDBACK_MULTIPLE_NEGATIVE_OTHER"]=32,t[e[64]="BOT_FEEDBACK_MULTIPLE_NEGATIVE_REFUSED"]=64,t[e[128]="BOT_FEEDBACK_MULTIPLE_NEGATIVE_NOT_VISUALLY_APPEALING"]=128,t[e[256]="BOT_FEEDBACK_MULTIPLE_NEGATIVE_NOT_RELEVANT_TO_TEXT"]=256,t}(),r.BotFeedbackKindMultiplePositive=function(){let e={},t=Object.create(e);return t[e[1]="BOT_FEEDBACK_MULTIPLE_POSITIVE_GENERIC"]=1,t}(),r.ReportKind=function(){let e={},t=Object.create(e);return t[e[0]="GENERIC"]=0,t}(),r}(),n.ButtonsMessage=function(){function r(t){if(this.buttons=[],t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}r.prototype.contentText="",r.prototype.footerText="",r.prototype.contextInfo=null,r.prototype.buttons=h.emptyArray,r.prototype.headerType=0,r.prototype.text=null,r.prototype.documentMessage=null,r.prototype.imageMessage=null,r.prototype.videoMessage=null,r.prototype.locationMessage=null;let e;return Object.defineProperty(r.prototype,"header",{get:h.oneOfGetter(e=["text","documentMessage","imageMessage","videoMessage","locationMessage"]),set:h.oneOfSetter(e)}),r.create=function(i){return new r(i)},r.encode=function(i,o){if(o||(o=E.create()),i.text!=null&&Object.hasOwnProperty.call(i,"text")&&o.uint32(10).string(i.text),i.documentMessage!=null&&Object.hasOwnProperty.call(i,"documentMessage")&&u.proto.Message.DocumentMessage.encode(i.documentMessage,o.uint32(18).fork()).ldelim(),i.imageMessage!=null&&Object.hasOwnProperty.call(i,"imageMessage")&&u.proto.Message.ImageMessage.encode(i.imageMessage,o.uint32(26).fork()).ldelim(),i.videoMessage!=null&&Object.hasOwnProperty.call(i,"videoMessage")&&u.proto.Message.VideoMessage.encode(i.videoMessage,o.uint32(34).fork()).ldelim(),i.locationMessage!=null&&Object.hasOwnProperty.call(i,"locationMessage")&&u.proto.Message.LocationMessage.encode(i.locationMessage,o.uint32(42).fork()).ldelim(),i.contentText!=null&&Object.hasOwnProperty.call(i,"contentText")&&o.uint32(50).string(i.contentText),i.footerText!=null&&Object.hasOwnProperty.call(i,"footerText")&&o.uint32(58).string(i.footerText),i.contextInfo!=null&&Object.hasOwnProperty.call(i,"contextInfo")&&u.proto.ContextInfo.encode(i.contextInfo,o.uint32(66).fork()).ldelim(),i.buttons!=null&&i.buttons.length)for(var s=0;s<i.buttons.length;++s)u.proto.Message.ButtonsMessage.Button.encode(i.buttons[s],o.uint32(74).fork()).ldelim();return i.headerType!=null&&Object.hasOwnProperty.call(i,"headerType")&&o.uint32(80).int32(i.headerType),o},r.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.ButtonsMessage;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 6:{l.contentText=i.string();break}case 7:{l.footerText=i.string();break}case 8:{l.contextInfo=u.proto.ContextInfo.decode(i,i.uint32());break}case 9:{l.buttons&&l.buttons.length||(l.buttons=[]),l.buttons.push(u.proto.Message.ButtonsMessage.Button.decode(i,i.uint32()));break}case 10:{l.headerType=i.int32();break}case 1:{l.text=i.string();break}case 2:{l.documentMessage=u.proto.Message.DocumentMessage.decode(i,i.uint32());break}case 3:{l.imageMessage=u.proto.Message.ImageMessage.decode(i,i.uint32());break}case 4:{l.videoMessage=u.proto.Message.VideoMessage.decode(i,i.uint32());break}case 5:{l.locationMessage=u.proto.Message.LocationMessage.decode(i,i.uint32());break}default:i.skipType(d&7);break}}return l},r.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.ButtonsMessage"},r.Button=function(){function t(i){if(i)for(var o=Object.keys(i),s=0;s<o.length;++s)i[o[s]]!=null&&(this[o[s]]=i[o[s]])}return t.prototype.buttonId="",t.prototype.buttonText=null,t.prototype.type=0,t.prototype.nativeFlowInfo=null,t.create=function(o){return new t(o)},t.encode=function(o,s){return s||(s=E.create()),o.buttonId!=null&&Object.hasOwnProperty.call(o,"buttonId")&&s.uint32(10).string(o.buttonId),o.buttonText!=null&&Object.hasOwnProperty.call(o,"buttonText")&&u.proto.Message.ButtonsMessage.Button.ButtonText.encode(o.buttonText,s.uint32(18).fork()).ldelim(),o.type!=null&&Object.hasOwnProperty.call(o,"type")&&s.uint32(24).int32(o.type),o.nativeFlowInfo!=null&&Object.hasOwnProperty.call(o,"nativeFlowInfo")&&u.proto.Message.ButtonsMessage.Button.NativeFlowInfo.encode(o.nativeFlowInfo,s.uint32(34).fork()).ldelim(),s},t.decode=function(o,s,c){o instanceof p||(o=p.create(o));for(var l=s===void 0?o.len:o.pos+s,d=new u.proto.Message.ButtonsMessage.Button;o.pos<l;){var f=o.uint32();if(f===c)break;switch(f>>>3){case 1:{d.buttonId=o.string();break}case 2:{d.buttonText=u.proto.Message.ButtonsMessage.Button.ButtonText.decode(o,o.uint32());break}case 3:{d.type=o.int32();break}case 4:{d.nativeFlowInfo=u.proto.Message.ButtonsMessage.Button.NativeFlowInfo.decode(o,o.uint32());break}default:o.skipType(f&7);break}}return d},t.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/proto.Message.ButtonsMessage.Button"},t.ButtonText=function(){function i(o){if(o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]])}return i.prototype.displayText="",i.create=function(s){return new i(s)},i.encode=function(s,c){return c||(c=E.create()),s.displayText!=null&&Object.hasOwnProperty.call(s,"displayText")&&c.uint32(10).string(s.displayText),c},i.decode=function(s,c,l){s instanceof p||(s=p.create(s));for(var d=c===void 0?s.len:s.pos+c,f=new u.proto.Message.ButtonsMessage.Button.ButtonText;s.pos<d;){var g=s.uint32();if(g===l)break;switch(g>>>3){case 1:{f.displayText=s.string();break}default:s.skipType(g&7);break}}return f},i.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/proto.Message.ButtonsMessage.Button.ButtonText"},i}(),t.NativeFlowInfo=function(){function i(o){if(o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]])}return i.prototype.name="",i.prototype.paramsJson="",i.create=function(s){return new i(s)},i.encode=function(s,c){return c||(c=E.create()),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&c.uint32(10).string(s.name),s.paramsJson!=null&&Object.hasOwnProperty.call(s,"paramsJson")&&c.uint32(18).string(s.paramsJson),c},i.decode=function(s,c,l){s instanceof p||(s=p.create(s));for(var d=c===void 0?s.len:s.pos+c,f=new u.proto.Message.ButtonsMessage.Button.NativeFlowInfo;s.pos<d;){var g=s.uint32();if(g===l)break;switch(g>>>3){case 1:{f.name=s.string();break}case 2:{f.paramsJson=s.string();break}default:s.skipType(g&7);break}}return f},i.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/proto.Message.ButtonsMessage.Button.NativeFlowInfo"},i}(),t.Type=function(){let i={},o=Object.create(i);return o[i[0]="UNKNOWN"]=0,o[i[1]="RESPONSE"]=1,o[i[2]="NATIVE_FLOW"]=2,o}(),t}(),r.HeaderType=function(){let t={},i=Object.create(t);return i[t[0]="UNKNOWN"]=0,i[t[1]="EMPTY"]=1,i[t[2]="TEXT"]=2,i[t[3]="DOCUMENT"]=3,i[t[4]="IMAGE"]=4,i[t[5]="VIDEO"]=5,i[t[6]="LOCATION"]=6,i}(),r}(),n.ButtonsResponseMessage=function(){function r(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}r.prototype.selectedButtonId="",r.prototype.contextInfo=null,r.prototype.type=0,r.prototype.selectedDisplayText=null;let e;return Object.defineProperty(r.prototype,"response",{get:h.oneOfGetter(e=["selectedDisplayText"]),set:h.oneOfSetter(e)}),r.create=function(i){return new r(i)},r.encode=function(i,o){return o||(o=E.create()),i.selectedButtonId!=null&&Object.hasOwnProperty.call(i,"selectedButtonId")&&o.uint32(10).string(i.selectedButtonId),i.selectedDisplayText!=null&&Object.hasOwnProperty.call(i,"selectedDisplayText")&&o.uint32(18).string(i.selectedDisplayText),i.contextInfo!=null&&Object.hasOwnProperty.call(i,"contextInfo")&&u.proto.ContextInfo.encode(i.contextInfo,o.uint32(26).fork()).ldelim(),i.type!=null&&Object.hasOwnProperty.call(i,"type")&&o.uint32(32).int32(i.type),o},r.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.ButtonsResponseMessage;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.selectedButtonId=i.string();break}case 3:{l.contextInfo=u.proto.ContextInfo.decode(i,i.uint32());break}case 4:{l.type=i.int32();break}case 2:{l.selectedDisplayText=i.string();break}default:i.skipType(d&7);break}}return l},r.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.ButtonsResponseMessage"},r.Type=function(){let t={},i=Object.create(t);return i[t[0]="UNKNOWN"]=0,i[t[1]="DISPLAY_TEXT"]=1,i}(),r}(),n.Call=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.callKey=h.newBuffer([]),r.prototype.conversionSource="",r.prototype.conversionData=h.newBuffer([]),r.prototype.conversionDelaySeconds=0,r.prototype.ctwaSignals="",r.prototype.ctwaPayload=h.newBuffer([]),r.prototype.contextInfo=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.callKey!=null&&Object.hasOwnProperty.call(t,"callKey")&&i.uint32(10).bytes(t.callKey),t.conversionSource!=null&&Object.hasOwnProperty.call(t,"conversionSource")&&i.uint32(18).string(t.conversionSource),t.conversionData!=null&&Object.hasOwnProperty.call(t,"conversionData")&&i.uint32(26).bytes(t.conversionData),t.conversionDelaySeconds!=null&&Object.hasOwnProperty.call(t,"conversionDelaySeconds")&&i.uint32(32).uint32(t.conversionDelaySeconds),t.ctwaSignals!=null&&Object.hasOwnProperty.call(t,"ctwaSignals")&&i.uint32(42).string(t.ctwaSignals),t.ctwaPayload!=null&&Object.hasOwnProperty.call(t,"ctwaPayload")&&i.uint32(50).bytes(t.ctwaPayload),t.contextInfo!=null&&Object.hasOwnProperty.call(t,"contextInfo")&&u.proto.ContextInfo.encode(t.contextInfo,i.uint32(58).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.Call;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.callKey=t.bytes();break}case 2:{c.conversionSource=t.string();break}case 3:{c.conversionData=t.bytes();break}case 4:{c.conversionDelaySeconds=t.uint32();break}case 5:{c.ctwaSignals=t.string();break}case 6:{c.ctwaPayload=t.bytes();break}case 7:{c.contextInfo=u.proto.ContextInfo.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.Call"},r}(),n.CallLogMessage=function(){function r(e){if(this.participants=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.isVideo=!1,r.prototype.callOutcome=0,r.prototype.durationSecs=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.callType=0,r.prototype.participants=h.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.isVideo!=null&&Object.hasOwnProperty.call(t,"isVideo")&&i.uint32(8).bool(t.isVideo),t.callOutcome!=null&&Object.hasOwnProperty.call(t,"callOutcome")&&i.uint32(16).int32(t.callOutcome),t.durationSecs!=null&&Object.hasOwnProperty.call(t,"durationSecs")&&i.uint32(24).int64(t.durationSecs),t.callType!=null&&Object.hasOwnProperty.call(t,"callType")&&i.uint32(32).int32(t.callType),t.participants!=null&&t.participants.length)for(var o=0;o<t.participants.length;++o)u.proto.Message.CallLogMessage.CallParticipant.encode(t.participants[o],i.uint32(42).fork()).ldelim();return i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.CallLogMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.isVideo=t.bool();break}case 2:{c.callOutcome=t.int32();break}case 3:{c.durationSecs=t.int64();break}case 4:{c.callType=t.int32();break}case 5:{c.participants&&c.participants.length||(c.participants=[]),c.participants.push(u.proto.Message.CallLogMessage.CallParticipant.decode(t,t.uint32()));break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.CallLogMessage"},r.CallOutcome=function(){let e={},t=Object.create(e);return t[e[0]="CONNECTED"]=0,t[e[1]="MISSED"]=1,t[e[2]="FAILED"]=2,t[e[3]="REJECTED"]=3,t[e[4]="ACCEPTED_ELSEWHERE"]=4,t[e[5]="ONGOING"]=5,t[e[6]="SILENCED_BY_DND"]=6,t[e[7]="SILENCED_UNKNOWN_CALLER"]=7,t}(),r.CallParticipant=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.jid="",e.prototype.callOutcome=0,e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.jid!=null&&Object.hasOwnProperty.call(i,"jid")&&o.uint32(10).string(i.jid),i.callOutcome!=null&&Object.hasOwnProperty.call(i,"callOutcome")&&o.uint32(16).int32(i.callOutcome),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.CallLogMessage.CallParticipant;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.jid=i.string();break}case 2:{l.callOutcome=i.int32();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.CallLogMessage.CallParticipant"},e}(),r.CallType=function(){let e={},t=Object.create(e);return t[e[0]="REGULAR"]=0,t[e[1]="SCHEDULED_CALL"]=1,t[e[2]="VOICE_CHAT"]=2,t}(),r}(),n.CancelPaymentRequestMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.key=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.key!=null&&Object.hasOwnProperty.call(t,"key")&&u.proto.MessageKey.encode(t.key,i.uint32(10).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.CancelPaymentRequestMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.key=u.proto.MessageKey.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.CancelPaymentRequestMessage"},r}(),n.Chat=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.displayName="",r.prototype.id="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.displayName!=null&&Object.hasOwnProperty.call(t,"displayName")&&i.uint32(10).string(t.displayName),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&i.uint32(18).string(t.id),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.Chat;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.displayName=t.string();break}case 2:{c.id=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.Chat"},r}(),n.CloudAPIThreadControlNotification=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.status=0,r.prototype.senderNotificationTimestampMs=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.consumerLid="",r.prototype.consumerPhoneNumber="",r.prototype.notificationContent=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.status!=null&&Object.hasOwnProperty.call(t,"status")&&i.uint32(8).int32(t.status),t.senderNotificationTimestampMs!=null&&Object.hasOwnProperty.call(t,"senderNotificationTimestampMs")&&i.uint32(16).int64(t.senderNotificationTimestampMs),t.consumerLid!=null&&Object.hasOwnProperty.call(t,"consumerLid")&&i.uint32(26).string(t.consumerLid),t.consumerPhoneNumber!=null&&Object.hasOwnProperty.call(t,"consumerPhoneNumber")&&i.uint32(34).string(t.consumerPhoneNumber),t.notificationContent!=null&&Object.hasOwnProperty.call(t,"notificationContent")&&u.proto.Message.CloudAPIThreadControlNotification.CloudAPIThreadControlNotificationContent.encode(t.notificationContent,i.uint32(42).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.CloudAPIThreadControlNotification;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.status=t.int32();break}case 2:{c.senderNotificationTimestampMs=t.int64();break}case 3:{c.consumerLid=t.string();break}case 4:{c.consumerPhoneNumber=t.string();break}case 5:{c.notificationContent=u.proto.Message.CloudAPIThreadControlNotification.CloudAPIThreadControlNotificationContent.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.CloudAPIThreadControlNotification"},r.CloudAPIThreadControl=function(){let e={},t=Object.create(e);return t[e[0]="UNKNOWN"]=0,t[e[1]="CONTROL_PASSED"]=1,t[e[2]="CONTROL_TAKEN"]=2,t}(),r.CloudAPIThreadControlNotificationContent=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.handoffNotificationText="",e.prototype.extraJson="",e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.handoffNotificationText!=null&&Object.hasOwnProperty.call(i,"handoffNotificationText")&&o.uint32(10).string(i.handoffNotificationText),i.extraJson!=null&&Object.hasOwnProperty.call(i,"extraJson")&&o.uint32(18).string(i.extraJson),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.CloudAPIThreadControlNotification.CloudAPIThreadControlNotificationContent;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.handoffNotificationText=i.string();break}case 2:{l.extraJson=i.string();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.CloudAPIThreadControlNotification.CloudAPIThreadControlNotificationContent"},e}(),r}(),n.CommentMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.message=null,r.prototype.targetMessageKey=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.message!=null&&Object.hasOwnProperty.call(t,"message")&&u.proto.Message.encode(t.message,i.uint32(10).fork()).ldelim(),t.targetMessageKey!=null&&Object.hasOwnProperty.call(t,"targetMessageKey")&&u.proto.MessageKey.encode(t.targetMessageKey,i.uint32(18).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.CommentMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.message=u.proto.Message.decode(t,t.uint32());break}case 2:{c.targetMessageKey=u.proto.MessageKey.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.CommentMessage"},r}(),n.ContactMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.displayName="",r.prototype.vcard="",r.prototype.contextInfo=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.displayName!=null&&Object.hasOwnProperty.call(t,"displayName")&&i.uint32(10).string(t.displayName),t.vcard!=null&&Object.hasOwnProperty.call(t,"vcard")&&i.uint32(130).string(t.vcard),t.contextInfo!=null&&Object.hasOwnProperty.call(t,"contextInfo")&&u.proto.ContextInfo.encode(t.contextInfo,i.uint32(138).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.ContactMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.displayName=t.string();break}case 16:{c.vcard=t.string();break}case 17:{c.contextInfo=u.proto.ContextInfo.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.ContactMessage"},r}(),n.ContactsArrayMessage=function(){function r(e){if(this.contacts=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.displayName="",r.prototype.contacts=h.emptyArray,r.prototype.contextInfo=null,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.displayName!=null&&Object.hasOwnProperty.call(t,"displayName")&&i.uint32(10).string(t.displayName),t.contacts!=null&&t.contacts.length)for(var o=0;o<t.contacts.length;++o)u.proto.Message.ContactMessage.encode(t.contacts[o],i.uint32(18).fork()).ldelim();return t.contextInfo!=null&&Object.hasOwnProperty.call(t,"contextInfo")&&u.proto.ContextInfo.encode(t.contextInfo,i.uint32(138).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.ContactsArrayMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.displayName=t.string();break}case 2:{c.contacts&&c.contacts.length||(c.contacts=[]),c.contacts.push(u.proto.Message.ContactMessage.decode(t,t.uint32()));break}case 17:{c.contextInfo=u.proto.ContextInfo.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.ContactsArrayMessage"},r}(),n.DeclinePaymentRequestMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.key=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.key!=null&&Object.hasOwnProperty.call(t,"key")&&u.proto.MessageKey.encode(t.key,i.uint32(10).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.DeclinePaymentRequestMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.key=u.proto.MessageKey.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.DeclinePaymentRequestMessage"},r}(),n.DeviceSentMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.destinationJid="",r.prototype.message=null,r.prototype.phash="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.destinationJid!=null&&Object.hasOwnProperty.call(t,"destinationJid")&&i.uint32(10).string(t.destinationJid),t.message!=null&&Object.hasOwnProperty.call(t,"message")&&u.proto.Message.encode(t.message,i.uint32(18).fork()).ldelim(),t.phash!=null&&Object.hasOwnProperty.call(t,"phash")&&i.uint32(26).string(t.phash),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.DeviceSentMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.destinationJid=t.string();break}case 2:{c.message=u.proto.Message.decode(t,t.uint32());break}case 3:{c.phash=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.DeviceSentMessage"},r}(),n.DocumentMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.url="",r.prototype.mimetype="",r.prototype.title="",r.prototype.fileSha256=h.newBuffer([]),r.prototype.fileLength=h.Long?h.Long.fromBits(0,0,!0):0,r.prototype.pageCount=0,r.prototype.mediaKey=h.newBuffer([]),r.prototype.fileName="",r.prototype.fileEncSha256=h.newBuffer([]),r.prototype.directPath="",r.prototype.mediaKeyTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.contactVcard=!1,r.prototype.thumbnailDirectPath="",r.prototype.thumbnailSha256=h.newBuffer([]),r.prototype.thumbnailEncSha256=h.newBuffer([]),r.prototype.jpegThumbnail=h.newBuffer([]),r.prototype.contextInfo=null,r.prototype.thumbnailHeight=0,r.prototype.thumbnailWidth=0,r.prototype.caption="",r.prototype.accessibilityLabel="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.url!=null&&Object.hasOwnProperty.call(t,"url")&&i.uint32(10).string(t.url),t.mimetype!=null&&Object.hasOwnProperty.call(t,"mimetype")&&i.uint32(18).string(t.mimetype),t.title!=null&&Object.hasOwnProperty.call(t,"title")&&i.uint32(26).string(t.title),t.fileSha256!=null&&Object.hasOwnProperty.call(t,"fileSha256")&&i.uint32(34).bytes(t.fileSha256),t.fileLength!=null&&Object.hasOwnProperty.call(t,"fileLength")&&i.uint32(40).uint64(t.fileLength),t.pageCount!=null&&Object.hasOwnProperty.call(t,"pageCount")&&i.uint32(48).uint32(t.pageCount),t.mediaKey!=null&&Object.hasOwnProperty.call(t,"mediaKey")&&i.uint32(58).bytes(t.mediaKey),t.fileName!=null&&Object.hasOwnProperty.call(t,"fileName")&&i.uint32(66).string(t.fileName),t.fileEncSha256!=null&&Object.hasOwnProperty.call(t,"fileEncSha256")&&i.uint32(74).bytes(t.fileEncSha256),t.directPath!=null&&Object.hasOwnProperty.call(t,"directPath")&&i.uint32(82).string(t.directPath),t.mediaKeyTimestamp!=null&&Object.hasOwnProperty.call(t,"mediaKeyTimestamp")&&i.uint32(88).int64(t.mediaKeyTimestamp),t.contactVcard!=null&&Object.hasOwnProperty.call(t,"contactVcard")&&i.uint32(96).bool(t.contactVcard),t.thumbnailDirectPath!=null&&Object.hasOwnProperty.call(t,"thumbnailDirectPath")&&i.uint32(106).string(t.thumbnailDirectPath),t.thumbnailSha256!=null&&Object.hasOwnProperty.call(t,"thumbnailSha256")&&i.uint32(114).bytes(t.thumbnailSha256),t.thumbnailEncSha256!=null&&Object.hasOwnProperty.call(t,"thumbnailEncSha256")&&i.uint32(122).bytes(t.thumbnailEncSha256),t.jpegThumbnail!=null&&Object.hasOwnProperty.call(t,"jpegThumbnail")&&i.uint32(130).bytes(t.jpegThumbnail),t.contextInfo!=null&&Object.hasOwnProperty.call(t,"contextInfo")&&u.proto.ContextInfo.encode(t.contextInfo,i.uint32(138).fork()).ldelim(),t.thumbnailHeight!=null&&Object.hasOwnProperty.call(t,"thumbnailHeight")&&i.uint32(144).uint32(t.thumbnailHeight),t.thumbnailWidth!=null&&Object.hasOwnProperty.call(t,"thumbnailWidth")&&i.uint32(152).uint32(t.thumbnailWidth),t.caption!=null&&Object.hasOwnProperty.call(t,"caption")&&i.uint32(162).string(t.caption),t.accessibilityLabel!=null&&Object.hasOwnProperty.call(t,"accessibilityLabel")&&i.uint32(170).string(t.accessibilityLabel),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.DocumentMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.url=t.string();break}case 2:{c.mimetype=t.string();break}case 3:{c.title=t.string();break}case 4:{c.fileSha256=t.bytes();break}case 5:{c.fileLength=t.uint64();break}case 6:{c.pageCount=t.uint32();break}case 7:{c.mediaKey=t.bytes();break}case 8:{c.fileName=t.string();break}case 9:{c.fileEncSha256=t.bytes();break}case 10:{c.directPath=t.string();break}case 11:{c.mediaKeyTimestamp=t.int64();break}case 12:{c.contactVcard=t.bool();break}case 13:{c.thumbnailDirectPath=t.string();break}case 14:{c.thumbnailSha256=t.bytes();break}case 15:{c.thumbnailEncSha256=t.bytes();break}case 16:{c.jpegThumbnail=t.bytes();break}case 17:{c.contextInfo=u.proto.ContextInfo.decode(t,t.uint32());break}case 18:{c.thumbnailHeight=t.uint32();break}case 19:{c.thumbnailWidth=t.uint32();break}case 20:{c.caption=t.string();break}case 21:{c.accessibilityLabel=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.DocumentMessage"},r}(),n.EncCommentMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.targetMessageKey=null,r.prototype.encPayload=h.newBuffer([]),r.prototype.encIv=h.newBuffer([]),r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.targetMessageKey!=null&&Object.hasOwnProperty.call(t,"targetMessageKey")&&u.proto.MessageKey.encode(t.targetMessageKey,i.uint32(10).fork()).ldelim(),t.encPayload!=null&&Object.hasOwnProperty.call(t,"encPayload")&&i.uint32(18).bytes(t.encPayload),t.encIv!=null&&Object.hasOwnProperty.call(t,"encIv")&&i.uint32(26).bytes(t.encIv),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.EncCommentMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.targetMessageKey=u.proto.MessageKey.decode(t,t.uint32());break}case 2:{c.encPayload=t.bytes();break}case 3:{c.encIv=t.bytes();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.EncCommentMessage"},r}(),n.EncEventResponseMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.eventCreationMessageKey=null,r.prototype.encPayload=h.newBuffer([]),r.prototype.encIv=h.newBuffer([]),r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.eventCreationMessageKey!=null&&Object.hasOwnProperty.call(t,"eventCreationMessageKey")&&u.proto.MessageKey.encode(t.eventCreationMessageKey,i.uint32(10).fork()).ldelim(),t.encPayload!=null&&Object.hasOwnProperty.call(t,"encPayload")&&i.uint32(18).bytes(t.encPayload),t.encIv!=null&&Object.hasOwnProperty.call(t,"encIv")&&i.uint32(26).bytes(t.encIv),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.EncEventResponseMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.eventCreationMessageKey=u.proto.MessageKey.decode(t,t.uint32());break}case 2:{c.encPayload=t.bytes();break}case 3:{c.encIv=t.bytes();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.EncEventResponseMessage"},r}(),n.EncReactionMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.targetMessageKey=null,r.prototype.encPayload=h.newBuffer([]),r.prototype.encIv=h.newBuffer([]),r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.targetMessageKey!=null&&Object.hasOwnProperty.call(t,"targetMessageKey")&&u.proto.MessageKey.encode(t.targetMessageKey,i.uint32(10).fork()).ldelim(),t.encPayload!=null&&Object.hasOwnProperty.call(t,"encPayload")&&i.uint32(18).bytes(t.encPayload),t.encIv!=null&&Object.hasOwnProperty.call(t,"encIv")&&i.uint32(26).bytes(t.encIv),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.EncReactionMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.targetMessageKey=u.proto.MessageKey.decode(t,t.uint32());break}case 2:{c.encPayload=t.bytes();break}case 3:{c.encIv=t.bytes();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.EncReactionMessage"},r}(),n.EventMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.contextInfo=null,r.prototype.isCanceled=!1,r.prototype.name="",r.prototype.description="",r.prototype.location=null,r.prototype.joinLink="",r.prototype.startTime=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.endTime=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.extraGuestsAllowed=!1,r.prototype.isScheduleCall=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.contextInfo!=null&&Object.hasOwnProperty.call(t,"contextInfo")&&u.proto.ContextInfo.encode(t.contextInfo,i.uint32(10).fork()).ldelim(),t.isCanceled!=null&&Object.hasOwnProperty.call(t,"isCanceled")&&i.uint32(16).bool(t.isCanceled),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&i.uint32(26).string(t.name),t.description!=null&&Object.hasOwnProperty.call(t,"description")&&i.uint32(34).string(t.description),t.location!=null&&Object.hasOwnProperty.call(t,"location")&&u.proto.Message.LocationMessage.encode(t.location,i.uint32(42).fork()).ldelim(),t.joinLink!=null&&Object.hasOwnProperty.call(t,"joinLink")&&i.uint32(50).string(t.joinLink),t.startTime!=null&&Object.hasOwnProperty.call(t,"startTime")&&i.uint32(56).int64(t.startTime),t.endTime!=null&&Object.hasOwnProperty.call(t,"endTime")&&i.uint32(64).int64(t.endTime),t.extraGuestsAllowed!=null&&Object.hasOwnProperty.call(t,"extraGuestsAllowed")&&i.uint32(72).bool(t.extraGuestsAllowed),t.isScheduleCall!=null&&Object.hasOwnProperty.call(t,"isScheduleCall")&&i.uint32(80).bool(t.isScheduleCall),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.EventMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.contextInfo=u.proto.ContextInfo.decode(t,t.uint32());break}case 2:{c.isCanceled=t.bool();break}case 3:{c.name=t.string();break}case 4:{c.description=t.string();break}case 5:{c.location=u.proto.Message.LocationMessage.decode(t,t.uint32());break}case 6:{c.joinLink=t.string();break}case 7:{c.startTime=t.int64();break}case 8:{c.endTime=t.int64();break}case 9:{c.extraGuestsAllowed=t.bool();break}case 10:{c.isScheduleCall=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.EventMessage"},r}(),n.EventResponseMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.response=0,r.prototype.timestampMs=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.extraGuestCount=0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.response!=null&&Object.hasOwnProperty.call(t,"response")&&i.uint32(8).int32(t.response),t.timestampMs!=null&&Object.hasOwnProperty.call(t,"timestampMs")&&i.uint32(16).int64(t.timestampMs),t.extraGuestCount!=null&&Object.hasOwnProperty.call(t,"extraGuestCount")&&i.uint32(24).int32(t.extraGuestCount),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.EventResponseMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.response=t.int32();break}case 2:{c.timestampMs=t.int64();break}case 3:{c.extraGuestCount=t.int32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.EventResponseMessage"},r.EventResponseType=function(){let e={},t=Object.create(e);return t[e[0]="UNKNOWN"]=0,t[e[1]="GOING"]=1,t[e[2]="NOT_GOING"]=2,t[e[3]="MAYBE"]=3,t}(),r}(),n.ExtendedTextMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.text="",r.prototype.matchedText="",r.prototype.description="",r.prototype.title="",r.prototype.textArgb=0,r.prototype.backgroundArgb=0,r.prototype.font=0,r.prototype.previewType=0,r.prototype.jpegThumbnail=h.newBuffer([]),r.prototype.contextInfo=null,r.prototype.doNotPlayInline=!1,r.prototype.thumbnailDirectPath="",r.prototype.thumbnailSha256=h.newBuffer([]),r.prototype.thumbnailEncSha256=h.newBuffer([]),r.prototype.mediaKey=h.newBuffer([]),r.prototype.mediaKeyTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.thumbnailHeight=0,r.prototype.thumbnailWidth=0,r.prototype.inviteLinkGroupType=0,r.prototype.inviteLinkParentGroupSubjectV2="",r.prototype.inviteLinkParentGroupThumbnailV2=h.newBuffer([]),r.prototype.inviteLinkGroupTypeV2=0,r.prototype.viewOnce=!1,r.prototype.videoHeight=0,r.prototype.videoWidth=0,r.prototype.faviconMMSMetadata=null,r.prototype.linkPreviewMetadata=null,r.prototype.paymentLinkMetadata=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.text!=null&&Object.hasOwnProperty.call(t,"text")&&i.uint32(10).string(t.text),t.matchedText!=null&&Object.hasOwnProperty.call(t,"matchedText")&&i.uint32(18).string(t.matchedText),t.description!=null&&Object.hasOwnProperty.call(t,"description")&&i.uint32(42).string(t.description),t.title!=null&&Object.hasOwnProperty.call(t,"title")&&i.uint32(50).string(t.title),t.textArgb!=null&&Object.hasOwnProperty.call(t,"textArgb")&&i.uint32(61).fixed32(t.textArgb),t.backgroundArgb!=null&&Object.hasOwnProperty.call(t,"backgroundArgb")&&i.uint32(69).fixed32(t.backgroundArgb),t.font!=null&&Object.hasOwnProperty.call(t,"font")&&i.uint32(72).int32(t.font),t.previewType!=null&&Object.hasOwnProperty.call(t,"previewType")&&i.uint32(80).int32(t.previewType),t.jpegThumbnail!=null&&Object.hasOwnProperty.call(t,"jpegThumbnail")&&i.uint32(130).bytes(t.jpegThumbnail),t.contextInfo!=null&&Object.hasOwnProperty.call(t,"contextInfo")&&u.proto.ContextInfo.encode(t.contextInfo,i.uint32(138).fork()).ldelim(),t.doNotPlayInline!=null&&Object.hasOwnProperty.call(t,"doNotPlayInline")&&i.uint32(144).bool(t.doNotPlayInline),t.thumbnailDirectPath!=null&&Object.hasOwnProperty.call(t,"thumbnailDirectPath")&&i.uint32(154).string(t.thumbnailDirectPath),t.thumbnailSha256!=null&&Object.hasOwnProperty.call(t,"thumbnailSha256")&&i.uint32(162).bytes(t.thumbnailSha256),t.thumbnailEncSha256!=null&&Object.hasOwnProperty.call(t,"thumbnailEncSha256")&&i.uint32(170).bytes(t.thumbnailEncSha256),t.mediaKey!=null&&Object.hasOwnProperty.call(t,"mediaKey")&&i.uint32(178).bytes(t.mediaKey),t.mediaKeyTimestamp!=null&&Object.hasOwnProperty.call(t,"mediaKeyTimestamp")&&i.uint32(184).int64(t.mediaKeyTimestamp),t.thumbnailHeight!=null&&Object.hasOwnProperty.call(t,"thumbnailHeight")&&i.uint32(192).uint32(t.thumbnailHeight),t.thumbnailWidth!=null&&Object.hasOwnProperty.call(t,"thumbnailWidth")&&i.uint32(200).uint32(t.thumbnailWidth),t.inviteLinkGroupType!=null&&Object.hasOwnProperty.call(t,"inviteLinkGroupType")&&i.uint32(208).int32(t.inviteLinkGroupType),t.inviteLinkParentGroupSubjectV2!=null&&Object.hasOwnProperty.call(t,"inviteLinkParentGroupSubjectV2")&&i.uint32(218).string(t.inviteLinkParentGroupSubjectV2),t.inviteLinkParentGroupThumbnailV2!=null&&Object.hasOwnProperty.call(t,"inviteLinkParentGroupThumbnailV2")&&i.uint32(226).bytes(t.inviteLinkParentGroupThumbnailV2),t.inviteLinkGroupTypeV2!=null&&Object.hasOwnProperty.call(t,"inviteLinkGroupTypeV2")&&i.uint32(232).int32(t.inviteLinkGroupTypeV2),t.viewOnce!=null&&Object.hasOwnProperty.call(t,"viewOnce")&&i.uint32(240).bool(t.viewOnce),t.videoHeight!=null&&Object.hasOwnProperty.call(t,"videoHeight")&&i.uint32(248).uint32(t.videoHeight),t.videoWidth!=null&&Object.hasOwnProperty.call(t,"videoWidth")&&i.uint32(256).uint32(t.videoWidth),t.faviconMMSMetadata!=null&&Object.hasOwnProperty.call(t,"faviconMMSMetadata")&&u.proto.Message.MMSThumbnailMetadata.encode(t.faviconMMSMetadata,i.uint32(266).fork()).ldelim(),t.linkPreviewMetadata!=null&&Object.hasOwnProperty.call(t,"linkPreviewMetadata")&&u.proto.Message.LinkPreviewMetadata.encode(t.linkPreviewMetadata,i.uint32(274).fork()).ldelim(),t.paymentLinkMetadata!=null&&Object.hasOwnProperty.call(t,"paymentLinkMetadata")&&u.proto.Message.PaymentLinkMetadata.encode(t.paymentLinkMetadata,i.uint32(282).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.ExtendedTextMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.text=t.string();break}case 2:{c.matchedText=t.string();break}case 5:{c.description=t.string();break}case 6:{c.title=t.string();break}case 7:{c.textArgb=t.fixed32();break}case 8:{c.backgroundArgb=t.fixed32();break}case 9:{c.font=t.int32();break}case 10:{c.previewType=t.int32();break}case 16:{c.jpegThumbnail=t.bytes();break}case 17:{c.contextInfo=u.proto.ContextInfo.decode(t,t.uint32());break}case 18:{c.doNotPlayInline=t.bool();break}case 19:{c.thumbnailDirectPath=t.string();break}case 20:{c.thumbnailSha256=t.bytes();break}case 21:{c.thumbnailEncSha256=t.bytes();break}case 22:{c.mediaKey=t.bytes();break}case 23:{c.mediaKeyTimestamp=t.int64();break}case 24:{c.thumbnailHeight=t.uint32();break}case 25:{c.thumbnailWidth=t.uint32();break}case 26:{c.inviteLinkGroupType=t.int32();break}case 27:{c.inviteLinkParentGroupSubjectV2=t.string();break}case 28:{c.inviteLinkParentGroupThumbnailV2=t.bytes();break}case 29:{c.inviteLinkGroupTypeV2=t.int32();break}case 30:{c.viewOnce=t.bool();break}case 31:{c.videoHeight=t.uint32();break}case 32:{c.videoWidth=t.uint32();break}case 33:{c.faviconMMSMetadata=u.proto.Message.MMSThumbnailMetadata.decode(t,t.uint32());break}case 34:{c.linkPreviewMetadata=u.proto.Message.LinkPreviewMetadata.decode(t,t.uint32());break}case 35:{c.paymentLinkMetadata=u.proto.Message.PaymentLinkMetadata.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.ExtendedTextMessage"},r.FontType=function(){let e={},t=Object.create(e);return t[e[0]="SYSTEM"]=0,t[e[1]="SYSTEM_TEXT"]=1,t[e[2]="FB_SCRIPT"]=2,t[e[6]="SYSTEM_BOLD"]=6,t[e[7]="MORNINGBREEZE_REGULAR"]=7,t[e[8]="CALISTOGA_REGULAR"]=8,t[e[9]="EXO2_EXTRABOLD"]=9,t[e[10]="COURIERPRIME_BOLD"]=10,t}(),r.InviteLinkGroupType=function(){let e={},t=Object.create(e);return t[e[0]="DEFAULT"]=0,t[e[1]="PARENT"]=1,t[e[2]="SUB"]=2,t[e[3]="DEFAULT_SUB"]=3,t}(),r.PreviewType=function(){let e={},t=Object.create(e);return t[e[0]="NONE"]=0,t[e[1]="VIDEO"]=1,t[e[4]="PLACEHOLDER"]=4,t[e[5]="IMAGE"]=5,t[e[6]="PAYMENT_LINKS"]=6,t[e[7]="PROFILE"]=7,t}(),r}(),n.FullHistorySyncOnDemandRequestMetadata=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.requestId="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.requestId!=null&&Object.hasOwnProperty.call(t,"requestId")&&i.uint32(10).string(t.requestId),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.FullHistorySyncOnDemandRequestMetadata;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.requestId=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.FullHistorySyncOnDemandRequestMetadata"},r}(),n.FutureProofMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.message=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.message!=null&&Object.hasOwnProperty.call(t,"message")&&u.proto.Message.encode(t.message,i.uint32(10).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.FutureProofMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.message=u.proto.Message.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.FutureProofMessage"},r}(),n.GroupInviteMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.groupJid="",r.prototype.inviteCode="",r.prototype.inviteExpiration=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.groupName="",r.prototype.jpegThumbnail=h.newBuffer([]),r.prototype.caption="",r.prototype.contextInfo=null,r.prototype.groupType=0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.groupJid!=null&&Object.hasOwnProperty.call(t,"groupJid")&&i.uint32(10).string(t.groupJid),t.inviteCode!=null&&Object.hasOwnProperty.call(t,"inviteCode")&&i.uint32(18).string(t.inviteCode),t.inviteExpiration!=null&&Object.hasOwnProperty.call(t,"inviteExpiration")&&i.uint32(24).int64(t.inviteExpiration),t.groupName!=null&&Object.hasOwnProperty.call(t,"groupName")&&i.uint32(34).string(t.groupName),t.jpegThumbnail!=null&&Object.hasOwnProperty.call(t,"jpegThumbnail")&&i.uint32(42).bytes(t.jpegThumbnail),t.caption!=null&&Object.hasOwnProperty.call(t,"caption")&&i.uint32(50).string(t.caption),t.contextInfo!=null&&Object.hasOwnProperty.call(t,"contextInfo")&&u.proto.ContextInfo.encode(t.contextInfo,i.uint32(58).fork()).ldelim(),t.groupType!=null&&Object.hasOwnProperty.call(t,"groupType")&&i.uint32(64).int32(t.groupType),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.GroupInviteMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.groupJid=t.string();break}case 2:{c.inviteCode=t.string();break}case 3:{c.inviteExpiration=t.int64();break}case 4:{c.groupName=t.string();break}case 5:{c.jpegThumbnail=t.bytes();break}case 6:{c.caption=t.string();break}case 7:{c.contextInfo=u.proto.ContextInfo.decode(t,t.uint32());break}case 8:{c.groupType=t.int32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.GroupInviteMessage"},r.GroupType=function(){let e={},t=Object.create(e);return t[e[0]="DEFAULT"]=0,t[e[1]="PARENT"]=1,t}(),r}(),n.HighlyStructuredMessage=function(){function r(e){if(this.params=[],this.localizableParams=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.namespace="",r.prototype.elementName="",r.prototype.params=h.emptyArray,r.prototype.fallbackLg="",r.prototype.fallbackLc="",r.prototype.localizableParams=h.emptyArray,r.prototype.deterministicLg="",r.prototype.deterministicLc="",r.prototype.hydratedHsm=null,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.namespace!=null&&Object.hasOwnProperty.call(t,"namespace")&&i.uint32(10).string(t.namespace),t.elementName!=null&&Object.hasOwnProperty.call(t,"elementName")&&i.uint32(18).string(t.elementName),t.params!=null&&t.params.length)for(var o=0;o<t.params.length;++o)i.uint32(26).string(t.params[o]);if(t.fallbackLg!=null&&Object.hasOwnProperty.call(t,"fallbackLg")&&i.uint32(34).string(t.fallbackLg),t.fallbackLc!=null&&Object.hasOwnProperty.call(t,"fallbackLc")&&i.uint32(42).string(t.fallbackLc),t.localizableParams!=null&&t.localizableParams.length)for(var o=0;o<t.localizableParams.length;++o)u.proto.Message.HighlyStructuredMessage.HSMLocalizableParameter.encode(t.localizableParams[o],i.uint32(50).fork()).ldelim();return t.deterministicLg!=null&&Object.hasOwnProperty.call(t,"deterministicLg")&&i.uint32(58).string(t.deterministicLg),t.deterministicLc!=null&&Object.hasOwnProperty.call(t,"deterministicLc")&&i.uint32(66).string(t.deterministicLc),t.hydratedHsm!=null&&Object.hasOwnProperty.call(t,"hydratedHsm")&&u.proto.Message.TemplateMessage.encode(t.hydratedHsm,i.uint32(74).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.HighlyStructuredMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.namespace=t.string();break}case 2:{c.elementName=t.string();break}case 3:{c.params&&c.params.length||(c.params=[]),c.params.push(t.string());break}case 4:{c.fallbackLg=t.string();break}case 5:{c.fallbackLc=t.string();break}case 6:{c.localizableParams&&c.localizableParams.length||(c.localizableParams=[]),c.localizableParams.push(u.proto.Message.HighlyStructuredMessage.HSMLocalizableParameter.decode(t,t.uint32()));break}case 7:{c.deterministicLg=t.string();break}case 8:{c.deterministicLc=t.string();break}case 9:{c.hydratedHsm=u.proto.Message.TemplateMessage.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.HighlyStructuredMessage"},r.HSMLocalizableParameter=function(){function e(i){if(i)for(var o=Object.keys(i),s=0;s<o.length;++s)i[o[s]]!=null&&(this[o[s]]=i[o[s]])}e.prototype.default="",e.prototype.currency=null,e.prototype.dateTime=null;let t;return Object.defineProperty(e.prototype,"paramOneof",{get:h.oneOfGetter(t=["currency","dateTime"]),set:h.oneOfSetter(t)}),e.create=function(o){return new e(o)},e.encode=function(o,s){return s||(s=E.create()),o.default!=null&&Object.hasOwnProperty.call(o,"default")&&s.uint32(10).string(o.default),o.currency!=null&&Object.hasOwnProperty.call(o,"currency")&&u.proto.Message.HighlyStructuredMessage.HSMLocalizableParameter.HSMCurrency.encode(o.currency,s.uint32(18).fork()).ldelim(),o.dateTime!=null&&Object.hasOwnProperty.call(o,"dateTime")&&u.proto.Message.HighlyStructuredMessage.HSMLocalizableParameter.HSMDateTime.encode(o.dateTime,s.uint32(26).fork()).ldelim(),s},e.decode=function(o,s,c){o instanceof p||(o=p.create(o));for(var l=s===void 0?o.len:o.pos+s,d=new u.proto.Message.HighlyStructuredMessage.HSMLocalizableParameter;o.pos<l;){var f=o.uint32();if(f===c)break;switch(f>>>3){case 1:{d.default=o.string();break}case 2:{d.currency=u.proto.Message.HighlyStructuredMessage.HSMLocalizableParameter.HSMCurrency.decode(o,o.uint32());break}case 3:{d.dateTime=u.proto.Message.HighlyStructuredMessage.HSMLocalizableParameter.HSMDateTime.decode(o,o.uint32());break}default:o.skipType(f&7);break}}return d},e.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/proto.Message.HighlyStructuredMessage.HSMLocalizableParameter"},e.HSMCurrency=function(){function i(o){if(o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]])}return i.prototype.currencyCode="",i.prototype.amount1000=h.Long?h.Long.fromBits(0,0,!1):0,i.create=function(s){return new i(s)},i.encode=function(s,c){return c||(c=E.create()),s.currencyCode!=null&&Object.hasOwnProperty.call(s,"currencyCode")&&c.uint32(10).string(s.currencyCode),s.amount1000!=null&&Object.hasOwnProperty.call(s,"amount1000")&&c.uint32(16).int64(s.amount1000),c},i.decode=function(s,c,l){s instanceof p||(s=p.create(s));for(var d=c===void 0?s.len:s.pos+c,f=new u.proto.Message.HighlyStructuredMessage.HSMLocalizableParameter.HSMCurrency;s.pos<d;){var g=s.uint32();if(g===l)break;switch(g>>>3){case 1:{f.currencyCode=s.string();break}case 2:{f.amount1000=s.int64();break}default:s.skipType(g&7);break}}return f},i.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/proto.Message.HighlyStructuredMessage.HSMLocalizableParameter.HSMCurrency"},i}(),e.HSMDateTime=function(){function i(s){if(s)for(var c=Object.keys(s),l=0;l<c.length;++l)s[c[l]]!=null&&(this[c[l]]=s[c[l]])}i.prototype.component=null,i.prototype.unixEpoch=null;let o;return Object.defineProperty(i.prototype,"datetimeOneof",{get:h.oneOfGetter(o=["component","unixEpoch"]),set:h.oneOfSetter(o)}),i.create=function(c){return new i(c)},i.encode=function(c,l){return l||(l=E.create()),c.component!=null&&Object.hasOwnProperty.call(c,"component")&&u.proto.Message.HighlyStructuredMessage.HSMLocalizableParameter.HSMDateTime.HSMDateTimeComponent.encode(c.component,l.uint32(10).fork()).ldelim(),c.unixEpoch!=null&&Object.hasOwnProperty.call(c,"unixEpoch")&&u.proto.Message.HighlyStructuredMessage.HSMLocalizableParameter.HSMDateTime.HSMDateTimeUnixEpoch.encode(c.unixEpoch,l.uint32(18).fork()).ldelim(),l},i.decode=function(c,l,d){c instanceof p||(c=p.create(c));for(var f=l===void 0?c.len:c.pos+l,g=new u.proto.Message.HighlyStructuredMessage.HSMLocalizableParameter.HSMDateTime;c.pos<f;){var _=c.uint32();if(_===d)break;switch(_>>>3){case 1:{g.component=u.proto.Message.HighlyStructuredMessage.HSMLocalizableParameter.HSMDateTime.HSMDateTimeComponent.decode(c,c.uint32());break}case 2:{g.unixEpoch=u.proto.Message.HighlyStructuredMessage.HSMLocalizableParameter.HSMDateTime.HSMDateTimeUnixEpoch.decode(c,c.uint32());break}default:c.skipType(_&7);break}}return g},i.getTypeUrl=function(c){return c===void 0&&(c="type.googleapis.com"),c+"/proto.Message.HighlyStructuredMessage.HSMLocalizableParameter.HSMDateTime"},i.HSMDateTimeComponent=function(){function s(c){if(c)for(var l=Object.keys(c),d=0;d<l.length;++d)c[l[d]]!=null&&(this[l[d]]=c[l[d]])}return s.prototype.dayOfWeek=1,s.prototype.year=0,s.prototype.month=0,s.prototype.dayOfMonth=0,s.prototype.hour=0,s.prototype.minute=0,s.prototype.calendar=1,s.create=function(l){return new s(l)},s.encode=function(l,d){return d||(d=E.create()),l.dayOfWeek!=null&&Object.hasOwnProperty.call(l,"dayOfWeek")&&d.uint32(8).int32(l.dayOfWeek),l.year!=null&&Object.hasOwnProperty.call(l,"year")&&d.uint32(16).uint32(l.year),l.month!=null&&Object.hasOwnProperty.call(l,"month")&&d.uint32(24).uint32(l.month),l.dayOfMonth!=null&&Object.hasOwnProperty.call(l,"dayOfMonth")&&d.uint32(32).uint32(l.dayOfMonth),l.hour!=null&&Object.hasOwnProperty.call(l,"hour")&&d.uint32(40).uint32(l.hour),l.minute!=null&&Object.hasOwnProperty.call(l,"minute")&&d.uint32(48).uint32(l.minute),l.calendar!=null&&Object.hasOwnProperty.call(l,"calendar")&&d.uint32(56).int32(l.calendar),d},s.decode=function(l,d,f){l instanceof p||(l=p.create(l));for(var g=d===void 0?l.len:l.pos+d,_=new u.proto.Message.HighlyStructuredMessage.HSMLocalizableParameter.HSMDateTime.HSMDateTimeComponent;l.pos<g;){var y=l.uint32();if(y===f)break;switch(y>>>3){case 1:{_.dayOfWeek=l.int32();break}case 2:{_.year=l.uint32();break}case 3:{_.month=l.uint32();break}case 4:{_.dayOfMonth=l.uint32();break}case 5:{_.hour=l.uint32();break}case 6:{_.minute=l.uint32();break}case 7:{_.calendar=l.int32();break}default:l.skipType(y&7);break}}return _},s.getTypeUrl=function(l){return l===void 0&&(l="type.googleapis.com"),l+"/proto.Message.HighlyStructuredMessage.HSMLocalizableParameter.HSMDateTime.HSMDateTimeComponent"},s.CalendarType=function(){let c={},l=Object.create(c);return l[c[1]="GREGORIAN"]=1,l[c[2]="SOLAR_HIJRI"]=2,l}(),s.DayOfWeekType=function(){let c={},l=Object.create(c);return l[c[1]="MONDAY"]=1,l[c[2]="TUESDAY"]=2,l[c[3]="WEDNESDAY"]=3,l[c[4]="THURSDAY"]=4,l[c[5]="FRIDAY"]=5,l[c[6]="SATURDAY"]=6,l[c[7]="SUNDAY"]=7,l}(),s}(),i.HSMDateTimeUnixEpoch=function(){function s(c){if(c)for(var l=Object.keys(c),d=0;d<l.length;++d)c[l[d]]!=null&&(this[l[d]]=c[l[d]])}return s.prototype.timestamp=h.Long?h.Long.fromBits(0,0,!1):0,s.create=function(l){return new s(l)},s.encode=function(l,d){return d||(d=E.create()),l.timestamp!=null&&Object.hasOwnProperty.call(l,"timestamp")&&d.uint32(8).int64(l.timestamp),d},s.decode=function(l,d,f){l instanceof p||(l=p.create(l));for(var g=d===void 0?l.len:l.pos+d,_=new u.proto.Message.HighlyStructuredMessage.HSMLocalizableParameter.HSMDateTime.HSMDateTimeUnixEpoch;l.pos<g;){var y=l.uint32();if(y===f)break;switch(y>>>3){case 1:{_.timestamp=l.int64();break}default:l.skipType(y&7);break}}return _},s.getTypeUrl=function(l){return l===void 0&&(l="type.googleapis.com"),l+"/proto.Message.HighlyStructuredMessage.HSMLocalizableParameter.HSMDateTime.HSMDateTimeUnixEpoch"},s}(),i}(),e}(),r}(),n.HistorySyncNotification=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.fileSha256=h.newBuffer([]),r.prototype.fileLength=h.Long?h.Long.fromBits(0,0,!0):0,r.prototype.mediaKey=h.newBuffer([]),r.prototype.fileEncSha256=h.newBuffer([]),r.prototype.directPath="",r.prototype.syncType=0,r.prototype.chunkOrder=0,r.prototype.originalMessageId="",r.prototype.progress=0,r.prototype.oldestMsgInChunkTimestampSec=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.initialHistBootstrapInlinePayload=h.newBuffer([]),r.prototype.peerDataRequestSessionId="",r.prototype.fullHistorySyncOnDemandRequestMetadata=null,r.prototype.encHandle="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.fileSha256!=null&&Object.hasOwnProperty.call(t,"fileSha256")&&i.uint32(10).bytes(t.fileSha256),t.fileLength!=null&&Object.hasOwnProperty.call(t,"fileLength")&&i.uint32(16).uint64(t.fileLength),t.mediaKey!=null&&Object.hasOwnProperty.call(t,"mediaKey")&&i.uint32(26).bytes(t.mediaKey),t.fileEncSha256!=null&&Object.hasOwnProperty.call(t,"fileEncSha256")&&i.uint32(34).bytes(t.fileEncSha256),t.directPath!=null&&Object.hasOwnProperty.call(t,"directPath")&&i.uint32(42).string(t.directPath),t.syncType!=null&&Object.hasOwnProperty.call(t,"syncType")&&i.uint32(48).int32(t.syncType),t.chunkOrder!=null&&Object.hasOwnProperty.call(t,"chunkOrder")&&i.uint32(56).uint32(t.chunkOrder),t.originalMessageId!=null&&Object.hasOwnProperty.call(t,"originalMessageId")&&i.uint32(66).string(t.originalMessageId),t.progress!=null&&Object.hasOwnProperty.call(t,"progress")&&i.uint32(72).uint32(t.progress),t.oldestMsgInChunkTimestampSec!=null&&Object.hasOwnProperty.call(t,"oldestMsgInChunkTimestampSec")&&i.uint32(80).int64(t.oldestMsgInChunkTimestampSec),t.initialHistBootstrapInlinePayload!=null&&Object.hasOwnProperty.call(t,"initialHistBootstrapInlinePayload")&&i.uint32(90).bytes(t.initialHistBootstrapInlinePayload),t.peerDataRequestSessionId!=null&&Object.hasOwnProperty.call(t,"peerDataRequestSessionId")&&i.uint32(98).string(t.peerDataRequestSessionId),t.fullHistorySyncOnDemandRequestMetadata!=null&&Object.hasOwnProperty.call(t,"fullHistorySyncOnDemandRequestMetadata")&&u.proto.Message.FullHistorySyncOnDemandRequestMetadata.encode(t.fullHistorySyncOnDemandRequestMetadata,i.uint32(106).fork()).ldelim(),t.encHandle!=null&&Object.hasOwnProperty.call(t,"encHandle")&&i.uint32(114).string(t.encHandle),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.HistorySyncNotification;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.fileSha256=t.bytes();break}case 2:{c.fileLength=t.uint64();break}case 3:{c.mediaKey=t.bytes();break}case 4:{c.fileEncSha256=t.bytes();break}case 5:{c.directPath=t.string();break}case 6:{c.syncType=t.int32();break}case 7:{c.chunkOrder=t.uint32();break}case 8:{c.originalMessageId=t.string();break}case 9:{c.progress=t.uint32();break}case 10:{c.oldestMsgInChunkTimestampSec=t.int64();break}case 11:{c.initialHistBootstrapInlinePayload=t.bytes();break}case 12:{c.peerDataRequestSessionId=t.string();break}case 13:{c.fullHistorySyncOnDemandRequestMetadata=u.proto.Message.FullHistorySyncOnDemandRequestMetadata.decode(t,t.uint32());break}case 14:{c.encHandle=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.HistorySyncNotification"},r.HistorySyncType=function(){let e={},t=Object.create(e);return t[e[0]="INITIAL_BOOTSTRAP"]=0,t[e[1]="INITIAL_STATUS_V3"]=1,t[e[2]="FULL"]=2,t[e[3]="RECENT"]=3,t[e[4]="PUSH_NAME"]=4,t[e[5]="NON_BLOCKING_DATA"]=5,t[e[6]="ON_DEMAND"]=6,t[e[7]="NO_HISTORY"]=7,t}(),r}(),n.ImageMessage=function(){function r(e){if(this.interactiveAnnotations=[],this.scanLengths=[],this.annotations=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.url="",r.prototype.mimetype="",r.prototype.caption="",r.prototype.fileSha256=h.newBuffer([]),r.prototype.fileLength=h.Long?h.Long.fromBits(0,0,!0):0,r.prototype.height=0,r.prototype.width=0,r.prototype.mediaKey=h.newBuffer([]),r.prototype.fileEncSha256=h.newBuffer([]),r.prototype.interactiveAnnotations=h.emptyArray,r.prototype.directPath="",r.prototype.mediaKeyTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.jpegThumbnail=h.newBuffer([]),r.prototype.contextInfo=null,r.prototype.firstScanSidecar=h.newBuffer([]),r.prototype.firstScanLength=0,r.prototype.experimentGroupId=0,r.prototype.scansSidecar=h.newBuffer([]),r.prototype.scanLengths=h.emptyArray,r.prototype.midQualityFileSha256=h.newBuffer([]),r.prototype.midQualityFileEncSha256=h.newBuffer([]),r.prototype.viewOnce=!1,r.prototype.thumbnailDirectPath="",r.prototype.thumbnailSha256=h.newBuffer([]),r.prototype.thumbnailEncSha256=h.newBuffer([]),r.prototype.staticUrl="",r.prototype.annotations=h.emptyArray,r.prototype.imageSourceType=0,r.prototype.accessibilityLabel="",r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.url!=null&&Object.hasOwnProperty.call(t,"url")&&i.uint32(10).string(t.url),t.mimetype!=null&&Object.hasOwnProperty.call(t,"mimetype")&&i.uint32(18).string(t.mimetype),t.caption!=null&&Object.hasOwnProperty.call(t,"caption")&&i.uint32(26).string(t.caption),t.fileSha256!=null&&Object.hasOwnProperty.call(t,"fileSha256")&&i.uint32(34).bytes(t.fileSha256),t.fileLength!=null&&Object.hasOwnProperty.call(t,"fileLength")&&i.uint32(40).uint64(t.fileLength),t.height!=null&&Object.hasOwnProperty.call(t,"height")&&i.uint32(48).uint32(t.height),t.width!=null&&Object.hasOwnProperty.call(t,"width")&&i.uint32(56).uint32(t.width),t.mediaKey!=null&&Object.hasOwnProperty.call(t,"mediaKey")&&i.uint32(66).bytes(t.mediaKey),t.fileEncSha256!=null&&Object.hasOwnProperty.call(t,"fileEncSha256")&&i.uint32(74).bytes(t.fileEncSha256),t.interactiveAnnotations!=null&&t.interactiveAnnotations.length)for(var o=0;o<t.interactiveAnnotations.length;++o)u.proto.InteractiveAnnotation.encode(t.interactiveAnnotations[o],i.uint32(82).fork()).ldelim();if(t.directPath!=null&&Object.hasOwnProperty.call(t,"directPath")&&i.uint32(90).string(t.directPath),t.mediaKeyTimestamp!=null&&Object.hasOwnProperty.call(t,"mediaKeyTimestamp")&&i.uint32(96).int64(t.mediaKeyTimestamp),t.jpegThumbnail!=null&&Object.hasOwnProperty.call(t,"jpegThumbnail")&&i.uint32(130).bytes(t.jpegThumbnail),t.contextInfo!=null&&Object.hasOwnProperty.call(t,"contextInfo")&&u.proto.ContextInfo.encode(t.contextInfo,i.uint32(138).fork()).ldelim(),t.firstScanSidecar!=null&&Object.hasOwnProperty.call(t,"firstScanSidecar")&&i.uint32(146).bytes(t.firstScanSidecar),t.firstScanLength!=null&&Object.hasOwnProperty.call(t,"firstScanLength")&&i.uint32(152).uint32(t.firstScanLength),t.experimentGroupId!=null&&Object.hasOwnProperty.call(t,"experimentGroupId")&&i.uint32(160).uint32(t.experimentGroupId),t.scansSidecar!=null&&Object.hasOwnProperty.call(t,"scansSidecar")&&i.uint32(170).bytes(t.scansSidecar),t.scanLengths!=null&&t.scanLengths.length)for(var o=0;o<t.scanLengths.length;++o)i.uint32(176).uint32(t.scanLengths[o]);if(t.midQualityFileSha256!=null&&Object.hasOwnProperty.call(t,"midQualityFileSha256")&&i.uint32(186).bytes(t.midQualityFileSha256),t.midQualityFileEncSha256!=null&&Object.hasOwnProperty.call(t,"midQualityFileEncSha256")&&i.uint32(194).bytes(t.midQualityFileEncSha256),t.viewOnce!=null&&Object.hasOwnProperty.call(t,"viewOnce")&&i.uint32(200).bool(t.viewOnce),t.thumbnailDirectPath!=null&&Object.hasOwnProperty.call(t,"thumbnailDirectPath")&&i.uint32(210).string(t.thumbnailDirectPath),t.thumbnailSha256!=null&&Object.hasOwnProperty.call(t,"thumbnailSha256")&&i.uint32(218).bytes(t.thumbnailSha256),t.thumbnailEncSha256!=null&&Object.hasOwnProperty.call(t,"thumbnailEncSha256")&&i.uint32(226).bytes(t.thumbnailEncSha256),t.staticUrl!=null&&Object.hasOwnProperty.call(t,"staticUrl")&&i.uint32(234).string(t.staticUrl),t.annotations!=null&&t.annotations.length)for(var o=0;o<t.annotations.length;++o)u.proto.InteractiveAnnotation.encode(t.annotations[o],i.uint32(242).fork()).ldelim();return t.imageSourceType!=null&&Object.hasOwnProperty.call(t,"imageSourceType")&&i.uint32(248).int32(t.imageSourceType),t.accessibilityLabel!=null&&Object.hasOwnProperty.call(t,"accessibilityLabel")&&i.uint32(258).string(t.accessibilityLabel),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.ImageMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.url=t.string();break}case 2:{c.mimetype=t.string();break}case 3:{c.caption=t.string();break}case 4:{c.fileSha256=t.bytes();break}case 5:{c.fileLength=t.uint64();break}case 6:{c.height=t.uint32();break}case 7:{c.width=t.uint32();break}case 8:{c.mediaKey=t.bytes();break}case 9:{c.fileEncSha256=t.bytes();break}case 10:{c.interactiveAnnotations&&c.interactiveAnnotations.length||(c.interactiveAnnotations=[]),c.interactiveAnnotations.push(u.proto.InteractiveAnnotation.decode(t,t.uint32()));break}case 11:{c.directPath=t.string();break}case 12:{c.mediaKeyTimestamp=t.int64();break}case 16:{c.jpegThumbnail=t.bytes();break}case 17:{c.contextInfo=u.proto.ContextInfo.decode(t,t.uint32());break}case 18:{c.firstScanSidecar=t.bytes();break}case 19:{c.firstScanLength=t.uint32();break}case 20:{c.experimentGroupId=t.uint32();break}case 21:{c.scansSidecar=t.bytes();break}case 22:{if(c.scanLengths&&c.scanLengths.length||(c.scanLengths=[]),(l&7)===2)for(var d=t.uint32()+t.pos;t.pos<d;)c.scanLengths.push(t.uint32());else c.scanLengths.push(t.uint32());break}case 23:{c.midQualityFileSha256=t.bytes();break}case 24:{c.midQualityFileEncSha256=t.bytes();break}case 25:{c.viewOnce=t.bool();break}case 26:{c.thumbnailDirectPath=t.string();break}case 27:{c.thumbnailSha256=t.bytes();break}case 28:{c.thumbnailEncSha256=t.bytes();break}case 29:{c.staticUrl=t.string();break}case 30:{c.annotations&&c.annotations.length||(c.annotations=[]),c.annotations.push(u.proto.InteractiveAnnotation.decode(t,t.uint32()));break}case 31:{c.imageSourceType=t.int32();break}case 32:{c.accessibilityLabel=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.ImageMessage"},r.ImageSourceType=function(){let e={},t=Object.create(e);return t[e[0]="USER_IMAGE"]=0,t[e[1]="AI_GENERATED"]=1,t[e[2]="AI_MODIFIED"]=2,t[e[3]="RASTERIZED_TEXT_STATUS"]=3,t}(),r}(),n.InitialSecurityNotificationSettingSync=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.securityNotificationEnabled=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.securityNotificationEnabled!=null&&Object.hasOwnProperty.call(t,"securityNotificationEnabled")&&i.uint32(8).bool(t.securityNotificationEnabled),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.InitialSecurityNotificationSettingSync;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.securityNotificationEnabled=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.InitialSecurityNotificationSettingSync"},r}(),n.InteractiveMessage=function(){function r(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}r.prototype.header=null,r.prototype.body=null,r.prototype.footer=null,r.prototype.contextInfo=null,r.prototype.urlTrackingMap=null,r.prototype.shopStorefrontMessage=null,r.prototype.collectionMessage=null,r.prototype.nativeFlowMessage=null,r.prototype.carouselMessage=null;let e;return Object.defineProperty(r.prototype,"interactiveMessage",{get:h.oneOfGetter(e=["shopStorefrontMessage","collectionMessage","nativeFlowMessage","carouselMessage"]),set:h.oneOfSetter(e)}),r.create=function(i){return new r(i)},r.encode=function(i,o){return o||(o=E.create()),i.header!=null&&Object.hasOwnProperty.call(i,"header")&&u.proto.Message.InteractiveMessage.Header.encode(i.header,o.uint32(10).fork()).ldelim(),i.body!=null&&Object.hasOwnProperty.call(i,"body")&&u.proto.Message.InteractiveMessage.Body.encode(i.body,o.uint32(18).fork()).ldelim(),i.footer!=null&&Object.hasOwnProperty.call(i,"footer")&&u.proto.Message.InteractiveMessage.Footer.encode(i.footer,o.uint32(26).fork()).ldelim(),i.shopStorefrontMessage!=null&&Object.hasOwnProperty.call(i,"shopStorefrontMessage")&&u.proto.Message.InteractiveMessage.ShopMessage.encode(i.shopStorefrontMessage,o.uint32(34).fork()).ldelim(),i.collectionMessage!=null&&Object.hasOwnProperty.call(i,"collectionMessage")&&u.proto.Message.InteractiveMessage.CollectionMessage.encode(i.collectionMessage,o.uint32(42).fork()).ldelim(),i.nativeFlowMessage!=null&&Object.hasOwnProperty.call(i,"nativeFlowMessage")&&u.proto.Message.InteractiveMessage.NativeFlowMessage.encode(i.nativeFlowMessage,o.uint32(50).fork()).ldelim(),i.carouselMessage!=null&&Object.hasOwnProperty.call(i,"carouselMessage")&&u.proto.Message.InteractiveMessage.CarouselMessage.encode(i.carouselMessage,o.uint32(58).fork()).ldelim(),i.contextInfo!=null&&Object.hasOwnProperty.call(i,"contextInfo")&&u.proto.ContextInfo.encode(i.contextInfo,o.uint32(122).fork()).ldelim(),i.urlTrackingMap!=null&&Object.hasOwnProperty.call(i,"urlTrackingMap")&&u.proto.UrlTrackingMap.encode(i.urlTrackingMap,o.uint32(130).fork()).ldelim(),o},r.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.InteractiveMessage;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.header=u.proto.Message.InteractiveMessage.Header.decode(i,i.uint32());break}case 2:{l.body=u.proto.Message.InteractiveMessage.Body.decode(i,i.uint32());break}case 3:{l.footer=u.proto.Message.InteractiveMessage.Footer.decode(i,i.uint32());break}case 15:{l.contextInfo=u.proto.ContextInfo.decode(i,i.uint32());break}case 16:{l.urlTrackingMap=u.proto.UrlTrackingMap.decode(i,i.uint32());break}case 4:{l.shopStorefrontMessage=u.proto.Message.InteractiveMessage.ShopMessage.decode(i,i.uint32());break}case 5:{l.collectionMessage=u.proto.Message.InteractiveMessage.CollectionMessage.decode(i,i.uint32());break}case 6:{l.nativeFlowMessage=u.proto.Message.InteractiveMessage.NativeFlowMessage.decode(i,i.uint32());break}case 7:{l.carouselMessage=u.proto.Message.InteractiveMessage.CarouselMessage.decode(i,i.uint32());break}default:i.skipType(d&7);break}}return l},r.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.InteractiveMessage"},r.Body=function(){function t(i){if(i)for(var o=Object.keys(i),s=0;s<o.length;++s)i[o[s]]!=null&&(this[o[s]]=i[o[s]])}return t.prototype.text="",t.create=function(o){return new t(o)},t.encode=function(o,s){return s||(s=E.create()),o.text!=null&&Object.hasOwnProperty.call(o,"text")&&s.uint32(10).string(o.text),s},t.decode=function(o,s,c){o instanceof p||(o=p.create(o));for(var l=s===void 0?o.len:o.pos+s,d=new u.proto.Message.InteractiveMessage.Body;o.pos<l;){var f=o.uint32();if(f===c)break;switch(f>>>3){case 1:{d.text=o.string();break}default:o.skipType(f&7);break}}return d},t.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/proto.Message.InteractiveMessage.Body"},t}(),r.CarouselMessage=function(){function t(i){if(this.cards=[],i)for(var o=Object.keys(i),s=0;s<o.length;++s)i[o[s]]!=null&&(this[o[s]]=i[o[s]])}return t.prototype.cards=h.emptyArray,t.prototype.messageVersion=0,t.create=function(o){return new t(o)},t.encode=function(o,s){if(s||(s=E.create()),o.cards!=null&&o.cards.length)for(var c=0;c<o.cards.length;++c)u.proto.Message.InteractiveMessage.encode(o.cards[c],s.uint32(10).fork()).ldelim();return o.messageVersion!=null&&Object.hasOwnProperty.call(o,"messageVersion")&&s.uint32(16).int32(o.messageVersion),s},t.decode=function(o,s,c){o instanceof p||(o=p.create(o));for(var l=s===void 0?o.len:o.pos+s,d=new u.proto.Message.InteractiveMessage.CarouselMessage;o.pos<l;){var f=o.uint32();if(f===c)break;switch(f>>>3){case 1:{d.cards&&d.cards.length||(d.cards=[]),d.cards.push(u.proto.Message.InteractiveMessage.decode(o,o.uint32()));break}case 2:{d.messageVersion=o.int32();break}default:o.skipType(f&7);break}}return d},t.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/proto.Message.InteractiveMessage.CarouselMessage"},t}(),r.CollectionMessage=function(){function t(i){if(i)for(var o=Object.keys(i),s=0;s<o.length;++s)i[o[s]]!=null&&(this[o[s]]=i[o[s]])}return t.prototype.bizJid="",t.prototype.id="",t.prototype.messageVersion=0,t.create=function(o){return new t(o)},t.encode=function(o,s){return s||(s=E.create()),o.bizJid!=null&&Object.hasOwnProperty.call(o,"bizJid")&&s.uint32(10).string(o.bizJid),o.id!=null&&Object.hasOwnProperty.call(o,"id")&&s.uint32(18).string(o.id),o.messageVersion!=null&&Object.hasOwnProperty.call(o,"messageVersion")&&s.uint32(24).int32(o.messageVersion),s},t.decode=function(o,s,c){o instanceof p||(o=p.create(o));for(var l=s===void 0?o.len:o.pos+s,d=new u.proto.Message.InteractiveMessage.CollectionMessage;o.pos<l;){var f=o.uint32();if(f===c)break;switch(f>>>3){case 1:{d.bizJid=o.string();break}case 2:{d.id=o.string();break}case 3:{d.messageVersion=o.int32();break}default:o.skipType(f&7);break}}return d},t.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/proto.Message.InteractiveMessage.CollectionMessage"},t}(),r.Footer=function(){function t(i){if(i)for(var o=Object.keys(i),s=0;s<o.length;++s)i[o[s]]!=null&&(this[o[s]]=i[o[s]])}return t.prototype.text="",t.create=function(o){return new t(o)},t.encode=function(o,s){return s||(s=E.create()),o.text!=null&&Object.hasOwnProperty.call(o,"text")&&s.uint32(10).string(o.text),s},t.decode=function(o,s,c){o instanceof p||(o=p.create(o));for(var l=s===void 0?o.len:o.pos+s,d=new u.proto.Message.InteractiveMessage.Footer;o.pos<l;){var f=o.uint32();if(f===c)break;switch(f>>>3){case 1:{d.text=o.string();break}default:o.skipType(f&7);break}}return d},t.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/proto.Message.InteractiveMessage.Footer"},t}(),r.Header=function(){function t(o){if(o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]])}t.prototype.title="",t.prototype.subtitle="",t.prototype.hasMediaAttachment=!1,t.prototype.documentMessage=null,t.prototype.imageMessage=null,t.prototype.jpegThumbnail=null,t.prototype.videoMessage=null,t.prototype.locationMessage=null,t.prototype.productMessage=null;let i;return Object.defineProperty(t.prototype,"media",{get:h.oneOfGetter(i=["documentMessage","imageMessage","jpegThumbnail","videoMessage","locationMessage","productMessage"]),set:h.oneOfSetter(i)}),t.create=function(s){return new t(s)},t.encode=function(s,c){return c||(c=E.create()),s.title!=null&&Object.hasOwnProperty.call(s,"title")&&c.uint32(10).string(s.title),s.subtitle!=null&&Object.hasOwnProperty.call(s,"subtitle")&&c.uint32(18).string(s.subtitle),s.documentMessage!=null&&Object.hasOwnProperty.call(s,"documentMessage")&&u.proto.Message.DocumentMessage.encode(s.documentMessage,c.uint32(26).fork()).ldelim(),s.imageMessage!=null&&Object.hasOwnProperty.call(s,"imageMessage")&&u.proto.Message.ImageMessage.encode(s.imageMessage,c.uint32(34).fork()).ldelim(),s.hasMediaAttachment!=null&&Object.hasOwnProperty.call(s,"hasMediaAttachment")&&c.uint32(40).bool(s.hasMediaAttachment),s.jpegThumbnail!=null&&Object.hasOwnProperty.call(s,"jpegThumbnail")&&c.uint32(50).bytes(s.jpegThumbnail),s.videoMessage!=null&&Object.hasOwnProperty.call(s,"videoMessage")&&u.proto.Message.VideoMessage.encode(s.videoMessage,c.uint32(58).fork()).ldelim(),s.locationMessage!=null&&Object.hasOwnProperty.call(s,"locationMessage")&&u.proto.Message.LocationMessage.encode(s.locationMessage,c.uint32(66).fork()).ldelim(),s.productMessage!=null&&Object.hasOwnProperty.call(s,"productMessage")&&u.proto.Message.ProductMessage.encode(s.productMessage,c.uint32(74).fork()).ldelim(),c},t.decode=function(s,c,l){s instanceof p||(s=p.create(s));for(var d=c===void 0?s.len:s.pos+c,f=new u.proto.Message.InteractiveMessage.Header;s.pos<d;){var g=s.uint32();if(g===l)break;switch(g>>>3){case 1:{f.title=s.string();break}case 2:{f.subtitle=s.string();break}case 5:{f.hasMediaAttachment=s.bool();break}case 3:{f.documentMessage=u.proto.Message.DocumentMessage.decode(s,s.uint32());break}case 4:{f.imageMessage=u.proto.Message.ImageMessage.decode(s,s.uint32());break}case 6:{f.jpegThumbnail=s.bytes();break}case 7:{f.videoMessage=u.proto.Message.VideoMessage.decode(s,s.uint32());break}case 8:{f.locationMessage=u.proto.Message.LocationMessage.decode(s,s.uint32());break}case 9:{f.productMessage=u.proto.Message.ProductMessage.decode(s,s.uint32());break}default:s.skipType(g&7);break}}return f},t.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/proto.Message.InteractiveMessage.Header"},t}(),r.NativeFlowMessage=function(){function t(i){if(this.buttons=[],i)for(var o=Object.keys(i),s=0;s<o.length;++s)i[o[s]]!=null&&(this[o[s]]=i[o[s]])}return t.prototype.buttons=h.emptyArray,t.prototype.messageParamsJson="",t.prototype.messageVersion=0,t.create=function(o){return new t(o)},t.encode=function(o,s){if(s||(s=E.create()),o.buttons!=null&&o.buttons.length)for(var c=0;c<o.buttons.length;++c)u.proto.Message.InteractiveMessage.NativeFlowMessage.NativeFlowButton.encode(o.buttons[c],s.uint32(10).fork()).ldelim();return o.messageParamsJson!=null&&Object.hasOwnProperty.call(o,"messageParamsJson")&&s.uint32(18).string(o.messageParamsJson),o.messageVersion!=null&&Object.hasOwnProperty.call(o,"messageVersion")&&s.uint32(24).int32(o.messageVersion),s},t.decode=function(o,s,c){o instanceof p||(o=p.create(o));for(var l=s===void 0?o.len:o.pos+s,d=new u.proto.Message.InteractiveMessage.NativeFlowMessage;o.pos<l;){var f=o.uint32();if(f===c)break;switch(f>>>3){case 1:{d.buttons&&d.buttons.length||(d.buttons=[]),d.buttons.push(u.proto.Message.InteractiveMessage.NativeFlowMessage.NativeFlowButton.decode(o,o.uint32()));break}case 2:{d.messageParamsJson=o.string();break}case 3:{d.messageVersion=o.int32();break}default:o.skipType(f&7);break}}return d},t.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/proto.Message.InteractiveMessage.NativeFlowMessage"},t.NativeFlowButton=function(){function i(o){if(o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]])}return i.prototype.name="",i.prototype.buttonParamsJson="",i.create=function(s){return new i(s)},i.encode=function(s,c){return c||(c=E.create()),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&c.uint32(10).string(s.name),s.buttonParamsJson!=null&&Object.hasOwnProperty.call(s,"buttonParamsJson")&&c.uint32(18).string(s.buttonParamsJson),c},i.decode=function(s,c,l){s instanceof p||(s=p.create(s));for(var d=c===void 0?s.len:s.pos+c,f=new u.proto.Message.InteractiveMessage.NativeFlowMessage.NativeFlowButton;s.pos<d;){var g=s.uint32();if(g===l)break;switch(g>>>3){case 1:{f.name=s.string();break}case 2:{f.buttonParamsJson=s.string();break}default:s.skipType(g&7);break}}return f},i.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/proto.Message.InteractiveMessage.NativeFlowMessage.NativeFlowButton"},i}(),t}(),r.ShopMessage=function(){function t(i){if(i)for(var o=Object.keys(i),s=0;s<o.length;++s)i[o[s]]!=null&&(this[o[s]]=i[o[s]])}return t.prototype.id="",t.prototype.surface=0,t.prototype.messageVersion=0,t.create=function(o){return new t(o)},t.encode=function(o,s){return s||(s=E.create()),o.id!=null&&Object.hasOwnProperty.call(o,"id")&&s.uint32(10).string(o.id),o.surface!=null&&Object.hasOwnProperty.call(o,"surface")&&s.uint32(16).int32(o.surface),o.messageVersion!=null&&Object.hasOwnProperty.call(o,"messageVersion")&&s.uint32(24).int32(o.messageVersion),s},t.decode=function(o,s,c){o instanceof p||(o=p.create(o));for(var l=s===void 0?o.len:o.pos+s,d=new u.proto.Message.InteractiveMessage.ShopMessage;o.pos<l;){var f=o.uint32();if(f===c)break;switch(f>>>3){case 1:{d.id=o.string();break}case 2:{d.surface=o.int32();break}case 3:{d.messageVersion=o.int32();break}default:o.skipType(f&7);break}}return d},t.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/proto.Message.InteractiveMessage.ShopMessage"},t.Surface=function(){let i={},o=Object.create(i);return o[i[0]="UNKNOWN_SURFACE"]=0,o[i[1]="FB"]=1,o[i[2]="IG"]=2,o[i[3]="WA"]=3,o}(),t}(),r}(),n.InteractiveResponseMessage=function(){function r(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}r.prototype.body=null,r.prototype.contextInfo=null,r.prototype.nativeFlowResponseMessage=null;let e;return Object.defineProperty(r.prototype,"interactiveResponseMessage",{get:h.oneOfGetter(e=["nativeFlowResponseMessage"]),set:h.oneOfSetter(e)}),r.create=function(i){return new r(i)},r.encode=function(i,o){return o||(o=E.create()),i.body!=null&&Object.hasOwnProperty.call(i,"body")&&u.proto.Message.InteractiveResponseMessage.Body.encode(i.body,o.uint32(10).fork()).ldelim(),i.nativeFlowResponseMessage!=null&&Object.hasOwnProperty.call(i,"nativeFlowResponseMessage")&&u.proto.Message.InteractiveResponseMessage.NativeFlowResponseMessage.encode(i.nativeFlowResponseMessage,o.uint32(18).fork()).ldelim(),i.contextInfo!=null&&Object.hasOwnProperty.call(i,"contextInfo")&&u.proto.ContextInfo.encode(i.contextInfo,o.uint32(122).fork()).ldelim(),o},r.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.InteractiveResponseMessage;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.body=u.proto.Message.InteractiveResponseMessage.Body.decode(i,i.uint32());break}case 15:{l.contextInfo=u.proto.ContextInfo.decode(i,i.uint32());break}case 2:{l.nativeFlowResponseMessage=u.proto.Message.InteractiveResponseMessage.NativeFlowResponseMessage.decode(i,i.uint32());break}default:i.skipType(d&7);break}}return l},r.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.InteractiveResponseMessage"},r.Body=function(){function t(i){if(i)for(var o=Object.keys(i),s=0;s<o.length;++s)i[o[s]]!=null&&(this[o[s]]=i[o[s]])}return t.prototype.text="",t.prototype.format=0,t.create=function(o){return new t(o)},t.encode=function(o,s){return s||(s=E.create()),o.text!=null&&Object.hasOwnProperty.call(o,"text")&&s.uint32(10).string(o.text),o.format!=null&&Object.hasOwnProperty.call(o,"format")&&s.uint32(16).int32(o.format),s},t.decode=function(o,s,c){o instanceof p||(o=p.create(o));for(var l=s===void 0?o.len:o.pos+s,d=new u.proto.Message.InteractiveResponseMessage.Body;o.pos<l;){var f=o.uint32();if(f===c)break;switch(f>>>3){case 1:{d.text=o.string();break}case 2:{d.format=o.int32();break}default:o.skipType(f&7);break}}return d},t.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/proto.Message.InteractiveResponseMessage.Body"},t.Format=function(){let i={},o=Object.create(i);return o[i[0]="DEFAULT"]=0,o[i[1]="EXTENSIONS_1"]=1,o}(),t}(),r.NativeFlowResponseMessage=function(){function t(i){if(i)for(var o=Object.keys(i),s=0;s<o.length;++s)i[o[s]]!=null&&(this[o[s]]=i[o[s]])}return t.prototype.name="",t.prototype.paramsJson="",t.prototype.version=0,t.create=function(o){return new t(o)},t.encode=function(o,s){return s||(s=E.create()),o.name!=null&&Object.hasOwnProperty.call(o,"name")&&s.uint32(10).string(o.name),o.paramsJson!=null&&Object.hasOwnProperty.call(o,"paramsJson")&&s.uint32(18).string(o.paramsJson),o.version!=null&&Object.hasOwnProperty.call(o,"version")&&s.uint32(24).int32(o.version),s},t.decode=function(o,s,c){o instanceof p||(o=p.create(o));for(var l=s===void 0?o.len:o.pos+s,d=new u.proto.Message.InteractiveResponseMessage.NativeFlowResponseMessage;o.pos<l;){var f=o.uint32();if(f===c)break;switch(f>>>3){case 1:{d.name=o.string();break}case 2:{d.paramsJson=o.string();break}case 3:{d.version=o.int32();break}default:o.skipType(f&7);break}}return d},t.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/proto.Message.InteractiveResponseMessage.NativeFlowResponseMessage"},t}(),r}(),n.InvoiceMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.note="",r.prototype.token="",r.prototype.attachmentType=0,r.prototype.attachmentMimetype="",r.prototype.attachmentMediaKey=h.newBuffer([]),r.prototype.attachmentMediaKeyTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.attachmentFileSha256=h.newBuffer([]),r.prototype.attachmentFileEncSha256=h.newBuffer([]),r.prototype.attachmentDirectPath="",r.prototype.attachmentJpegThumbnail=h.newBuffer([]),r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.note!=null&&Object.hasOwnProperty.call(t,"note")&&i.uint32(10).string(t.note),t.token!=null&&Object.hasOwnProperty.call(t,"token")&&i.uint32(18).string(t.token),t.attachmentType!=null&&Object.hasOwnProperty.call(t,"attachmentType")&&i.uint32(24).int32(t.attachmentType),t.attachmentMimetype!=null&&Object.hasOwnProperty.call(t,"attachmentMimetype")&&i.uint32(34).string(t.attachmentMimetype),t.attachmentMediaKey!=null&&Object.hasOwnProperty.call(t,"attachmentMediaKey")&&i.uint32(42).bytes(t.attachmentMediaKey),t.attachmentMediaKeyTimestamp!=null&&Object.hasOwnProperty.call(t,"attachmentMediaKeyTimestamp")&&i.uint32(48).int64(t.attachmentMediaKeyTimestamp),t.attachmentFileSha256!=null&&Object.hasOwnProperty.call(t,"attachmentFileSha256")&&i.uint32(58).bytes(t.attachmentFileSha256),t.attachmentFileEncSha256!=null&&Object.hasOwnProperty.call(t,"attachmentFileEncSha256")&&i.uint32(66).bytes(t.attachmentFileEncSha256),t.attachmentDirectPath!=null&&Object.hasOwnProperty.call(t,"attachmentDirectPath")&&i.uint32(74).string(t.attachmentDirectPath),t.attachmentJpegThumbnail!=null&&Object.hasOwnProperty.call(t,"attachmentJpegThumbnail")&&i.uint32(82).bytes(t.attachmentJpegThumbnail),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.InvoiceMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.note=t.string();break}case 2:{c.token=t.string();break}case 3:{c.attachmentType=t.int32();break}case 4:{c.attachmentMimetype=t.string();break}case 5:{c.attachmentMediaKey=t.bytes();break}case 6:{c.attachmentMediaKeyTimestamp=t.int64();break}case 7:{c.attachmentFileSha256=t.bytes();break}case 8:{c.attachmentFileEncSha256=t.bytes();break}case 9:{c.attachmentDirectPath=t.string();break}case 10:{c.attachmentJpegThumbnail=t.bytes();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.InvoiceMessage"},r.AttachmentType=function(){let e={},t=Object.create(e);return t[e[0]="IMAGE"]=0,t[e[1]="PDF"]=1,t}(),r}(),n.KeepInChatMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.key=null,r.prototype.keepType=0,r.prototype.timestampMs=h.Long?h.Long.fromBits(0,0,!1):0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.key!=null&&Object.hasOwnProperty.call(t,"key")&&u.proto.MessageKey.encode(t.key,i.uint32(10).fork()).ldelim(),t.keepType!=null&&Object.hasOwnProperty.call(t,"keepType")&&i.uint32(16).int32(t.keepType),t.timestampMs!=null&&Object.hasOwnProperty.call(t,"timestampMs")&&i.uint32(24).int64(t.timestampMs),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.KeepInChatMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.key=u.proto.MessageKey.decode(t,t.uint32());break}case 2:{c.keepType=t.int32();break}case 3:{c.timestampMs=t.int64();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.KeepInChatMessage"},r}(),n.LinkPreviewMetadata=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.paymentLinkMetadata=null,r.prototype.urlMetadata=null,r.prototype.fbExperimentId=0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.paymentLinkMetadata!=null&&Object.hasOwnProperty.call(t,"paymentLinkMetadata")&&u.proto.Message.PaymentLinkMetadata.encode(t.paymentLinkMetadata,i.uint32(10).fork()).ldelim(),t.urlMetadata!=null&&Object.hasOwnProperty.call(t,"urlMetadata")&&u.proto.Message.URLMetadata.encode(t.urlMetadata,i.uint32(18).fork()).ldelim(),t.fbExperimentId!=null&&Object.hasOwnProperty.call(t,"fbExperimentId")&&i.uint32(24).uint32(t.fbExperimentId),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.LinkPreviewMetadata;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.paymentLinkMetadata=u.proto.Message.PaymentLinkMetadata.decode(t,t.uint32());break}case 2:{c.urlMetadata=u.proto.Message.URLMetadata.decode(t,t.uint32());break}case 3:{c.fbExperimentId=t.uint32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.LinkPreviewMetadata"},r}(),n.ListMessage=function(){function r(e){if(this.sections=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.title="",r.prototype.description="",r.prototype.buttonText="",r.prototype.listType=0,r.prototype.sections=h.emptyArray,r.prototype.productListInfo=null,r.prototype.footerText="",r.prototype.contextInfo=null,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.title!=null&&Object.hasOwnProperty.call(t,"title")&&i.uint32(10).string(t.title),t.description!=null&&Object.hasOwnProperty.call(t,"description")&&i.uint32(18).string(t.description),t.buttonText!=null&&Object.hasOwnProperty.call(t,"buttonText")&&i.uint32(26).string(t.buttonText),t.listType!=null&&Object.hasOwnProperty.call(t,"listType")&&i.uint32(32).int32(t.listType),t.sections!=null&&t.sections.length)for(var o=0;o<t.sections.length;++o)u.proto.Message.ListMessage.Section.encode(t.sections[o],i.uint32(42).fork()).ldelim();return t.productListInfo!=null&&Object.hasOwnProperty.call(t,"productListInfo")&&u.proto.Message.ListMessage.ProductListInfo.encode(t.productListInfo,i.uint32(50).fork()).ldelim(),t.footerText!=null&&Object.hasOwnProperty.call(t,"footerText")&&i.uint32(58).string(t.footerText),t.contextInfo!=null&&Object.hasOwnProperty.call(t,"contextInfo")&&u.proto.ContextInfo.encode(t.contextInfo,i.uint32(66).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.ListMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.title=t.string();break}case 2:{c.description=t.string();break}case 3:{c.buttonText=t.string();break}case 4:{c.listType=t.int32();break}case 5:{c.sections&&c.sections.length||(c.sections=[]),c.sections.push(u.proto.Message.ListMessage.Section.decode(t,t.uint32()));break}case 6:{c.productListInfo=u.proto.Message.ListMessage.ProductListInfo.decode(t,t.uint32());break}case 7:{c.footerText=t.string();break}case 8:{c.contextInfo=u.proto.ContextInfo.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.ListMessage"},r.ListType=function(){let e={},t=Object.create(e);return t[e[0]="UNKNOWN"]=0,t[e[1]="SINGLE_SELECT"]=1,t[e[2]="PRODUCT_LIST"]=2,t}(),r.Product=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.productId="",e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.productId!=null&&Object.hasOwnProperty.call(i,"productId")&&o.uint32(10).string(i.productId),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.ListMessage.Product;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.productId=i.string();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.ListMessage.Product"},e}(),r.ProductListHeaderImage=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.productId="",e.prototype.jpegThumbnail=h.newBuffer([]),e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.productId!=null&&Object.hasOwnProperty.call(i,"productId")&&o.uint32(10).string(i.productId),i.jpegThumbnail!=null&&Object.hasOwnProperty.call(i,"jpegThumbnail")&&o.uint32(18).bytes(i.jpegThumbnail),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.ListMessage.ProductListHeaderImage;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.productId=i.string();break}case 2:{l.jpegThumbnail=i.bytes();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.ListMessage.ProductListHeaderImage"},e}(),r.ProductListInfo=function(){function e(t){if(this.productSections=[],t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.productSections=h.emptyArray,e.prototype.headerImage=null,e.prototype.businessOwnerJid="",e.create=function(i){return new e(i)},e.encode=function(i,o){if(o||(o=E.create()),i.productSections!=null&&i.productSections.length)for(var s=0;s<i.productSections.length;++s)u.proto.Message.ListMessage.ProductSection.encode(i.productSections[s],o.uint32(10).fork()).ldelim();return i.headerImage!=null&&Object.hasOwnProperty.call(i,"headerImage")&&u.proto.Message.ListMessage.ProductListHeaderImage.encode(i.headerImage,o.uint32(18).fork()).ldelim(),i.businessOwnerJid!=null&&Object.hasOwnProperty.call(i,"businessOwnerJid")&&o.uint32(26).string(i.businessOwnerJid),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.ListMessage.ProductListInfo;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.productSections&&l.productSections.length||(l.productSections=[]),l.productSections.push(u.proto.Message.ListMessage.ProductSection.decode(i,i.uint32()));break}case 2:{l.headerImage=u.proto.Message.ListMessage.ProductListHeaderImage.decode(i,i.uint32());break}case 3:{l.businessOwnerJid=i.string();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.ListMessage.ProductListInfo"},e}(),r.ProductSection=function(){function e(t){if(this.products=[],t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.title="",e.prototype.products=h.emptyArray,e.create=function(i){return new e(i)},e.encode=function(i,o){if(o||(o=E.create()),i.title!=null&&Object.hasOwnProperty.call(i,"title")&&o.uint32(10).string(i.title),i.products!=null&&i.products.length)for(var s=0;s<i.products.length;++s)u.proto.Message.ListMessage.Product.encode(i.products[s],o.uint32(18).fork()).ldelim();return o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.ListMessage.ProductSection;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.title=i.string();break}case 2:{l.products&&l.products.length||(l.products=[]),l.products.push(u.proto.Message.ListMessage.Product.decode(i,i.uint32()));break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.ListMessage.ProductSection"},e}(),r.Row=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.title="",e.prototype.description="",e.prototype.rowId="",e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.title!=null&&Object.hasOwnProperty.call(i,"title")&&o.uint32(10).string(i.title),i.description!=null&&Object.hasOwnProperty.call(i,"description")&&o.uint32(18).string(i.description),i.rowId!=null&&Object.hasOwnProperty.call(i,"rowId")&&o.uint32(26).string(i.rowId),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.ListMessage.Row;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.title=i.string();break}case 2:{l.description=i.string();break}case 3:{l.rowId=i.string();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.ListMessage.Row"},e}(),r.Section=function(){function e(t){if(this.rows=[],t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.title="",e.prototype.rows=h.emptyArray,e.create=function(i){return new e(i)},e.encode=function(i,o){if(o||(o=E.create()),i.title!=null&&Object.hasOwnProperty.call(i,"title")&&o.uint32(10).string(i.title),i.rows!=null&&i.rows.length)for(var s=0;s<i.rows.length;++s)u.proto.Message.ListMessage.Row.encode(i.rows[s],o.uint32(18).fork()).ldelim();return o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.ListMessage.Section;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.title=i.string();break}case 2:{l.rows&&l.rows.length||(l.rows=[]),l.rows.push(u.proto.Message.ListMessage.Row.decode(i,i.uint32()));break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.ListMessage.Section"},e}(),r}(),n.ListResponseMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.title="",r.prototype.listType=0,r.prototype.singleSelectReply=null,r.prototype.contextInfo=null,r.prototype.description="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.title!=null&&Object.hasOwnProperty.call(t,"title")&&i.uint32(10).string(t.title),t.listType!=null&&Object.hasOwnProperty.call(t,"listType")&&i.uint32(16).int32(t.listType),t.singleSelectReply!=null&&Object.hasOwnProperty.call(t,"singleSelectReply")&&u.proto.Message.ListResponseMessage.SingleSelectReply.encode(t.singleSelectReply,i.uint32(26).fork()).ldelim(),t.contextInfo!=null&&Object.hasOwnProperty.call(t,"contextInfo")&&u.proto.ContextInfo.encode(t.contextInfo,i.uint32(34).fork()).ldelim(),t.description!=null&&Object.hasOwnProperty.call(t,"description")&&i.uint32(42).string(t.description),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.ListResponseMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.title=t.string();break}case 2:{c.listType=t.int32();break}case 3:{c.singleSelectReply=u.proto.Message.ListResponseMessage.SingleSelectReply.decode(t,t.uint32());break}case 4:{c.contextInfo=u.proto.ContextInfo.decode(t,t.uint32());break}case 5:{c.description=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.ListResponseMessage"},r.ListType=function(){let e={},t=Object.create(e);return t[e[0]="UNKNOWN"]=0,t[e[1]="SINGLE_SELECT"]=1,t}(),r.SingleSelectReply=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.selectedRowId="",e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.selectedRowId!=null&&Object.hasOwnProperty.call(i,"selectedRowId")&&o.uint32(10).string(i.selectedRowId),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.ListResponseMessage.SingleSelectReply;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.selectedRowId=i.string();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.ListResponseMessage.SingleSelectReply"},e}(),r}(),n.LiveLocationMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.degreesLatitude=0,r.prototype.degreesLongitude=0,r.prototype.accuracyInMeters=0,r.prototype.speedInMps=0,r.prototype.degreesClockwiseFromMagneticNorth=0,r.prototype.caption="",r.prototype.sequenceNumber=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.timeOffset=0,r.prototype.jpegThumbnail=h.newBuffer([]),r.prototype.contextInfo=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.degreesLatitude!=null&&Object.hasOwnProperty.call(t,"degreesLatitude")&&i.uint32(9).double(t.degreesLatitude),t.degreesLongitude!=null&&Object.hasOwnProperty.call(t,"degreesLongitude")&&i.uint32(17).double(t.degreesLongitude),t.accuracyInMeters!=null&&Object.hasOwnProperty.call(t,"accuracyInMeters")&&i.uint32(24).uint32(t.accuracyInMeters),t.speedInMps!=null&&Object.hasOwnProperty.call(t,"speedInMps")&&i.uint32(37).float(t.speedInMps),t.degreesClockwiseFromMagneticNorth!=null&&Object.hasOwnProperty.call(t,"degreesClockwiseFromMagneticNorth")&&i.uint32(40).uint32(t.degreesClockwiseFromMagneticNorth),t.caption!=null&&Object.hasOwnProperty.call(t,"caption")&&i.uint32(50).string(t.caption),t.sequenceNumber!=null&&Object.hasOwnProperty.call(t,"sequenceNumber")&&i.uint32(56).int64(t.sequenceNumber),t.timeOffset!=null&&Object.hasOwnProperty.call(t,"timeOffset")&&i.uint32(64).uint32(t.timeOffset),t.jpegThumbnail!=null&&Object.hasOwnProperty.call(t,"jpegThumbnail")&&i.uint32(130).bytes(t.jpegThumbnail),t.contextInfo!=null&&Object.hasOwnProperty.call(t,"contextInfo")&&u.proto.ContextInfo.encode(t.contextInfo,i.uint32(138).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.LiveLocationMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.degreesLatitude=t.double();break}case 2:{c.degreesLongitude=t.double();break}case 3:{c.accuracyInMeters=t.uint32();break}case 4:{c.speedInMps=t.float();break}case 5:{c.degreesClockwiseFromMagneticNorth=t.uint32();break}case 6:{c.caption=t.string();break}case 7:{c.sequenceNumber=t.int64();break}case 8:{c.timeOffset=t.uint32();break}case 16:{c.jpegThumbnail=t.bytes();break}case 17:{c.contextInfo=u.proto.ContextInfo.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.LiveLocationMessage"},r}(),n.LocationMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.degreesLatitude=0,r.prototype.degreesLongitude=0,r.prototype.name="",r.prototype.address="",r.prototype.url="",r.prototype.isLive=!1,r.prototype.accuracyInMeters=0,r.prototype.speedInMps=0,r.prototype.degreesClockwiseFromMagneticNorth=0,r.prototype.comment="",r.prototype.jpegThumbnail=h.newBuffer([]),r.prototype.contextInfo=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.degreesLatitude!=null&&Object.hasOwnProperty.call(t,"degreesLatitude")&&i.uint32(9).double(t.degreesLatitude),t.degreesLongitude!=null&&Object.hasOwnProperty.call(t,"degreesLongitude")&&i.uint32(17).double(t.degreesLongitude),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&i.uint32(26).string(t.name),t.address!=null&&Object.hasOwnProperty.call(t,"address")&&i.uint32(34).string(t.address),t.url!=null&&Object.hasOwnProperty.call(t,"url")&&i.uint32(42).string(t.url),t.isLive!=null&&Object.hasOwnProperty.call(t,"isLive")&&i.uint32(48).bool(t.isLive),t.accuracyInMeters!=null&&Object.hasOwnProperty.call(t,"accuracyInMeters")&&i.uint32(56).uint32(t.accuracyInMeters),t.speedInMps!=null&&Object.hasOwnProperty.call(t,"speedInMps")&&i.uint32(69).float(t.speedInMps),t.degreesClockwiseFromMagneticNorth!=null&&Object.hasOwnProperty.call(t,"degreesClockwiseFromMagneticNorth")&&i.uint32(72).uint32(t.degreesClockwiseFromMagneticNorth),t.comment!=null&&Object.hasOwnProperty.call(t,"comment")&&i.uint32(90).string(t.comment),t.jpegThumbnail!=null&&Object.hasOwnProperty.call(t,"jpegThumbnail")&&i.uint32(130).bytes(t.jpegThumbnail),t.contextInfo!=null&&Object.hasOwnProperty.call(t,"contextInfo")&&u.proto.ContextInfo.encode(t.contextInfo,i.uint32(138).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.LocationMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.degreesLatitude=t.double();break}case 2:{c.degreesLongitude=t.double();break}case 3:{c.name=t.string();break}case 4:{c.address=t.string();break}case 5:{c.url=t.string();break}case 6:{c.isLive=t.bool();break}case 7:{c.accuracyInMeters=t.uint32();break}case 8:{c.speedInMps=t.float();break}case 9:{c.degreesClockwiseFromMagneticNorth=t.uint32();break}case 11:{c.comment=t.string();break}case 16:{c.jpegThumbnail=t.bytes();break}case 17:{c.contextInfo=u.proto.ContextInfo.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.LocationMessage"},r}(),n.MMSThumbnailMetadata=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.thumbnailDirectPath="",r.prototype.thumbnailSha256=h.newBuffer([]),r.prototype.thumbnailEncSha256=h.newBuffer([]),r.prototype.mediaKey=h.newBuffer([]),r.prototype.mediaKeyTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.thumbnailHeight=0,r.prototype.thumbnailWidth=0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.thumbnailDirectPath!=null&&Object.hasOwnProperty.call(t,"thumbnailDirectPath")&&i.uint32(10).string(t.thumbnailDirectPath),t.thumbnailSha256!=null&&Object.hasOwnProperty.call(t,"thumbnailSha256")&&i.uint32(18).bytes(t.thumbnailSha256),t.thumbnailEncSha256!=null&&Object.hasOwnProperty.call(t,"thumbnailEncSha256")&&i.uint32(26).bytes(t.thumbnailEncSha256),t.mediaKey!=null&&Object.hasOwnProperty.call(t,"mediaKey")&&i.uint32(34).bytes(t.mediaKey),t.mediaKeyTimestamp!=null&&Object.hasOwnProperty.call(t,"mediaKeyTimestamp")&&i.uint32(40).int64(t.mediaKeyTimestamp),t.thumbnailHeight!=null&&Object.hasOwnProperty.call(t,"thumbnailHeight")&&i.uint32(48).uint32(t.thumbnailHeight),t.thumbnailWidth!=null&&Object.hasOwnProperty.call(t,"thumbnailWidth")&&i.uint32(56).uint32(t.thumbnailWidth),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.MMSThumbnailMetadata;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.thumbnailDirectPath=t.string();break}case 2:{c.thumbnailSha256=t.bytes();break}case 3:{c.thumbnailEncSha256=t.bytes();break}case 4:{c.mediaKey=t.bytes();break}case 5:{c.mediaKeyTimestamp=t.int64();break}case 6:{c.thumbnailHeight=t.uint32();break}case 7:{c.thumbnailWidth=t.uint32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.MMSThumbnailMetadata"},r}(),n.MessageHistoryBundle=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.mimetype="",r.prototype.fileSha256=h.newBuffer([]),r.prototype.mediaKey=h.newBuffer([]),r.prototype.fileEncSha256=h.newBuffer([]),r.prototype.directPath="",r.prototype.mediaKeyTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.contextInfo=null,r.prototype.messageHistoryMetadata=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.mimetype!=null&&Object.hasOwnProperty.call(t,"mimetype")&&i.uint32(10).string(t.mimetype),t.fileSha256!=null&&Object.hasOwnProperty.call(t,"fileSha256")&&i.uint32(18).bytes(t.fileSha256),t.mediaKey!=null&&Object.hasOwnProperty.call(t,"mediaKey")&&i.uint32(26).bytes(t.mediaKey),t.fileEncSha256!=null&&Object.hasOwnProperty.call(t,"fileEncSha256")&&i.uint32(34).bytes(t.fileEncSha256),t.directPath!=null&&Object.hasOwnProperty.call(t,"directPath")&&i.uint32(42).string(t.directPath),t.mediaKeyTimestamp!=null&&Object.hasOwnProperty.call(t,"mediaKeyTimestamp")&&i.uint32(48).int64(t.mediaKeyTimestamp),t.contextInfo!=null&&Object.hasOwnProperty.call(t,"contextInfo")&&u.proto.ContextInfo.encode(t.contextInfo,i.uint32(58).fork()).ldelim(),t.messageHistoryMetadata!=null&&Object.hasOwnProperty.call(t,"messageHistoryMetadata")&&u.proto.Message.MessageHistoryMetadata.encode(t.messageHistoryMetadata,i.uint32(66).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.MessageHistoryBundle;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.mimetype=t.string();break}case 2:{c.fileSha256=t.bytes();break}case 3:{c.mediaKey=t.bytes();break}case 4:{c.fileEncSha256=t.bytes();break}case 5:{c.directPath=t.string();break}case 6:{c.mediaKeyTimestamp=t.int64();break}case 7:{c.contextInfo=u.proto.ContextInfo.decode(t,t.uint32());break}case 8:{c.messageHistoryMetadata=u.proto.Message.MessageHistoryMetadata.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.MessageHistoryBundle"},r}(),n.MessageHistoryMetadata=function(){function r(e){if(this.historyReceivers=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.historyReceivers=h.emptyArray,r.prototype.firstMessageTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.messageCount=h.Long?h.Long.fromBits(0,0,!1):0,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.historyReceivers!=null&&t.historyReceivers.length)for(var o=0;o<t.historyReceivers.length;++o)i.uint32(10).string(t.historyReceivers[o]);return t.firstMessageTimestamp!=null&&Object.hasOwnProperty.call(t,"firstMessageTimestamp")&&i.uint32(16).int64(t.firstMessageTimestamp),t.messageCount!=null&&Object.hasOwnProperty.call(t,"messageCount")&&i.uint32(24).int64(t.messageCount),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.MessageHistoryMetadata;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.historyReceivers&&c.historyReceivers.length||(c.historyReceivers=[]),c.historyReceivers.push(t.string());break}case 2:{c.firstMessageTimestamp=t.int64();break}case 3:{c.messageCount=t.int64();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.MessageHistoryMetadata"},r}(),n.MessageHistoryNotice=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.contextInfo=null,r.prototype.messageHistoryMetadata=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.contextInfo!=null&&Object.hasOwnProperty.call(t,"contextInfo")&&u.proto.ContextInfo.encode(t.contextInfo,i.uint32(10).fork()).ldelim(),t.messageHistoryMetadata!=null&&Object.hasOwnProperty.call(t,"messageHistoryMetadata")&&u.proto.Message.MessageHistoryMetadata.encode(t.messageHistoryMetadata,i.uint32(18).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.MessageHistoryNotice;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.contextInfo=u.proto.ContextInfo.decode(t,t.uint32());break}case 2:{c.messageHistoryMetadata=u.proto.Message.MessageHistoryMetadata.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.MessageHistoryNotice"},r}(),n.NewsletterAdminInviteMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.newsletterJid="",r.prototype.newsletterName="",r.prototype.jpegThumbnail=h.newBuffer([]),r.prototype.caption="",r.prototype.inviteExpiration=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.contextInfo=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.newsletterJid!=null&&Object.hasOwnProperty.call(t,"newsletterJid")&&i.uint32(10).string(t.newsletterJid),t.newsletterName!=null&&Object.hasOwnProperty.call(t,"newsletterName")&&i.uint32(18).string(t.newsletterName),t.jpegThumbnail!=null&&Object.hasOwnProperty.call(t,"jpegThumbnail")&&i.uint32(26).bytes(t.jpegThumbnail),t.caption!=null&&Object.hasOwnProperty.call(t,"caption")&&i.uint32(34).string(t.caption),t.inviteExpiration!=null&&Object.hasOwnProperty.call(t,"inviteExpiration")&&i.uint32(40).int64(t.inviteExpiration),t.contextInfo!=null&&Object.hasOwnProperty.call(t,"contextInfo")&&u.proto.ContextInfo.encode(t.contextInfo,i.uint32(50).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.NewsletterAdminInviteMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.newsletterJid=t.string();break}case 2:{c.newsletterName=t.string();break}case 3:{c.jpegThumbnail=t.bytes();break}case 4:{c.caption=t.string();break}case 5:{c.inviteExpiration=t.int64();break}case 6:{c.contextInfo=u.proto.ContextInfo.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.NewsletterAdminInviteMessage"},r}(),n.OrderMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.orderId="",r.prototype.thumbnail=h.newBuffer([]),r.prototype.itemCount=0,r.prototype.status=1,r.prototype.surface=1,r.prototype.message="",r.prototype.orderTitle="",r.prototype.sellerJid="",r.prototype.token="",r.prototype.totalAmount1000=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.totalCurrencyCode="",r.prototype.contextInfo=null,r.prototype.messageVersion=0,r.prototype.orderRequestMessageId=null,r.prototype.catalogType="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.orderId!=null&&Object.hasOwnProperty.call(t,"orderId")&&i.uint32(10).string(t.orderId),t.thumbnail!=null&&Object.hasOwnProperty.call(t,"thumbnail")&&i.uint32(18).bytes(t.thumbnail),t.itemCount!=null&&Object.hasOwnProperty.call(t,"itemCount")&&i.uint32(24).int32(t.itemCount),t.status!=null&&Object.hasOwnProperty.call(t,"status")&&i.uint32(32).int32(t.status),t.surface!=null&&Object.hasOwnProperty.call(t,"surface")&&i.uint32(40).int32(t.surface),t.message!=null&&Object.hasOwnProperty.call(t,"message")&&i.uint32(50).string(t.message),t.orderTitle!=null&&Object.hasOwnProperty.call(t,"orderTitle")&&i.uint32(58).string(t.orderTitle),t.sellerJid!=null&&Object.hasOwnProperty.call(t,"sellerJid")&&i.uint32(66).string(t.sellerJid),t.token!=null&&Object.hasOwnProperty.call(t,"token")&&i.uint32(74).string(t.token),t.totalAmount1000!=null&&Object.hasOwnProperty.call(t,"totalAmount1000")&&i.uint32(80).int64(t.totalAmount1000),t.totalCurrencyCode!=null&&Object.hasOwnProperty.call(t,"totalCurrencyCode")&&i.uint32(90).string(t.totalCurrencyCode),t.messageVersion!=null&&Object.hasOwnProperty.call(t,"messageVersion")&&i.uint32(96).int32(t.messageVersion),t.orderRequestMessageId!=null&&Object.hasOwnProperty.call(t,"orderRequestMessageId")&&u.proto.MessageKey.encode(t.orderRequestMessageId,i.uint32(106).fork()).ldelim(),t.catalogType!=null&&Object.hasOwnProperty.call(t,"catalogType")&&i.uint32(122).string(t.catalogType),t.contextInfo!=null&&Object.hasOwnProperty.call(t,"contextInfo")&&u.proto.ContextInfo.encode(t.contextInfo,i.uint32(138).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.OrderMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.orderId=t.string();break}case 2:{c.thumbnail=t.bytes();break}case 3:{c.itemCount=t.int32();break}case 4:{c.status=t.int32();break}case 5:{c.surface=t.int32();break}case 6:{c.message=t.string();break}case 7:{c.orderTitle=t.string();break}case 8:{c.sellerJid=t.string();break}case 9:{c.token=t.string();break}case 10:{c.totalAmount1000=t.int64();break}case 11:{c.totalCurrencyCode=t.string();break}case 17:{c.contextInfo=u.proto.ContextInfo.decode(t,t.uint32());break}case 12:{c.messageVersion=t.int32();break}case 13:{c.orderRequestMessageId=u.proto.MessageKey.decode(t,t.uint32());break}case 15:{c.catalogType=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.OrderMessage"},r.OrderStatus=function(){let e={},t=Object.create(e);return t[e[1]="INQUIRY"]=1,t[e[2]="ACCEPTED"]=2,t[e[3]="DECLINED"]=3,t}(),r.OrderSurface=function(){let e={},t=Object.create(e);return t[e[1]="CATALOG"]=1,t}(),r}(),n.PaymentInviteMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.serviceType=0,r.prototype.expiryTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.serviceType!=null&&Object.hasOwnProperty.call(t,"serviceType")&&i.uint32(8).int32(t.serviceType),t.expiryTimestamp!=null&&Object.hasOwnProperty.call(t,"expiryTimestamp")&&i.uint32(16).int64(t.expiryTimestamp),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.PaymentInviteMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.serviceType=t.int32();break}case 2:{c.expiryTimestamp=t.int64();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.PaymentInviteMessage"},r.ServiceType=function(){let e={},t=Object.create(e);return t[e[0]="UNKNOWN"]=0,t[e[1]="FBPAY"]=1,t[e[2]="NOVI"]=2,t[e[3]="UPI"]=3,t}(),r}(),n.PaymentLinkMetadata=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.button=null,r.prototype.header=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.button!=null&&Object.hasOwnProperty.call(t,"button")&&u.proto.Message.PaymentLinkMetadata.PaymentLinkButton.encode(t.button,i.uint32(10).fork()).ldelim(),t.header!=null&&Object.hasOwnProperty.call(t,"header")&&u.proto.Message.PaymentLinkMetadata.PaymentLinkHeader.encode(t.header,i.uint32(18).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.PaymentLinkMetadata;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.button=u.proto.Message.PaymentLinkMetadata.PaymentLinkButton.decode(t,t.uint32());break}case 2:{c.header=u.proto.Message.PaymentLinkMetadata.PaymentLinkHeader.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.PaymentLinkMetadata"},r.PaymentLinkButton=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.displayText="",e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.displayText!=null&&Object.hasOwnProperty.call(i,"displayText")&&o.uint32(10).string(i.displayText),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.PaymentLinkMetadata.PaymentLinkButton;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.displayText=i.string();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.PaymentLinkMetadata.PaymentLinkButton"},e}(),r.PaymentLinkHeader=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.headerType=0,e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.headerType!=null&&Object.hasOwnProperty.call(i,"headerType")&&o.uint32(8).int32(i.headerType),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.PaymentLinkMetadata.PaymentLinkHeader;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.headerType=i.int32();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.PaymentLinkMetadata.PaymentLinkHeader"},e.PaymentLinkHeaderType=function(){let t={},i=Object.create(t);return i[t[0]="LINK_PREVIEW"]=0,i[t[1]="ORDER"]=1,i}(),e}(),r}(),n.PeerDataOperationRequestMessage=function(){function r(e){if(this.requestStickerReupload=[],this.requestUrlPreview=[],this.placeholderMessageResendRequest=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.peerDataOperationRequestType=0,r.prototype.requestStickerReupload=h.emptyArray,r.prototype.requestUrlPreview=h.emptyArray,r.prototype.historySyncOnDemandRequest=null,r.prototype.placeholderMessageResendRequest=h.emptyArray,r.prototype.fullHistorySyncOnDemandRequest=null,r.prototype.syncdCollectionFatalRecoveryRequest=null,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.peerDataOperationRequestType!=null&&Object.hasOwnProperty.call(t,"peerDataOperationRequestType")&&i.uint32(8).int32(t.peerDataOperationRequestType),t.requestStickerReupload!=null&&t.requestStickerReupload.length)for(var o=0;o<t.requestStickerReupload.length;++o)u.proto.Message.PeerDataOperationRequestMessage.RequestStickerReupload.encode(t.requestStickerReupload[o],i.uint32(18).fork()).ldelim();if(t.requestUrlPreview!=null&&t.requestUrlPreview.length)for(var o=0;o<t.requestUrlPreview.length;++o)u.proto.Message.PeerDataOperationRequestMessage.RequestUrlPreview.encode(t.requestUrlPreview[o],i.uint32(26).fork()).ldelim();if(t.historySyncOnDemandRequest!=null&&Object.hasOwnProperty.call(t,"historySyncOnDemandRequest")&&u.proto.Message.PeerDataOperationRequestMessage.HistorySyncOnDemandRequest.encode(t.historySyncOnDemandRequest,i.uint32(34).fork()).ldelim(),t.placeholderMessageResendRequest!=null&&t.placeholderMessageResendRequest.length)for(var o=0;o<t.placeholderMessageResendRequest.length;++o)u.proto.Message.PeerDataOperationRequestMessage.PlaceholderMessageResendRequest.encode(t.placeholderMessageResendRequest[o],i.uint32(42).fork()).ldelim();return t.fullHistorySyncOnDemandRequest!=null&&Object.hasOwnProperty.call(t,"fullHistorySyncOnDemandRequest")&&u.proto.Message.PeerDataOperationRequestMessage.FullHistorySyncOnDemandRequest.encode(t.fullHistorySyncOnDemandRequest,i.uint32(50).fork()).ldelim(),t.syncdCollectionFatalRecoveryRequest!=null&&Object.hasOwnProperty.call(t,"syncdCollectionFatalRecoveryRequest")&&u.proto.Message.PeerDataOperationRequestMessage.SyncDCollectionFatalRecoveryRequest.encode(t.syncdCollectionFatalRecoveryRequest,i.uint32(58).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.PeerDataOperationRequestMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.peerDataOperationRequestType=t.int32();break}case 2:{c.requestStickerReupload&&c.requestStickerReupload.length||(c.requestStickerReupload=[]),c.requestStickerReupload.push(u.proto.Message.PeerDataOperationRequestMessage.RequestStickerReupload.decode(t,t.uint32()));break}case 3:{c.requestUrlPreview&&c.requestUrlPreview.length||(c.requestUrlPreview=[]),c.requestUrlPreview.push(u.proto.Message.PeerDataOperationRequestMessage.RequestUrlPreview.decode(t,t.uint32()));break}case 4:{c.historySyncOnDemandRequest=u.proto.Message.PeerDataOperationRequestMessage.HistorySyncOnDemandRequest.decode(t,t.uint32());break}case 5:{c.placeholderMessageResendRequest&&c.placeholderMessageResendRequest.length||(c.placeholderMessageResendRequest=[]),c.placeholderMessageResendRequest.push(u.proto.Message.PeerDataOperationRequestMessage.PlaceholderMessageResendRequest.decode(t,t.uint32()));break}case 6:{c.fullHistorySyncOnDemandRequest=u.proto.Message.PeerDataOperationRequestMessage.FullHistorySyncOnDemandRequest.decode(t,t.uint32());break}case 7:{c.syncdCollectionFatalRecoveryRequest=u.proto.Message.PeerDataOperationRequestMessage.SyncDCollectionFatalRecoveryRequest.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.PeerDataOperationRequestMessage"},r.FullHistorySyncOnDemandRequest=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.requestMetadata=null,e.prototype.historySyncConfig=null,e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.requestMetadata!=null&&Object.hasOwnProperty.call(i,"requestMetadata")&&u.proto.Message.FullHistorySyncOnDemandRequestMetadata.encode(i.requestMetadata,o.uint32(10).fork()).ldelim(),i.historySyncConfig!=null&&Object.hasOwnProperty.call(i,"historySyncConfig")&&u.proto.DeviceProps.HistorySyncConfig.encode(i.historySyncConfig,o.uint32(18).fork()).ldelim(),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.PeerDataOperationRequestMessage.FullHistorySyncOnDemandRequest;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.requestMetadata=u.proto.Message.FullHistorySyncOnDemandRequestMetadata.decode(i,i.uint32());break}case 2:{l.historySyncConfig=u.proto.DeviceProps.HistorySyncConfig.decode(i,i.uint32());break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.PeerDataOperationRequestMessage.FullHistorySyncOnDemandRequest"},e}(),r.HistorySyncOnDemandRequest=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.chatJid="",e.prototype.oldestMsgId="",e.prototype.oldestMsgFromMe=!1,e.prototype.onDemandMsgCount=0,e.prototype.oldestMsgTimestampMs=h.Long?h.Long.fromBits(0,0,!1):0,e.prototype.accountLid="",e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.chatJid!=null&&Object.hasOwnProperty.call(i,"chatJid")&&o.uint32(10).string(i.chatJid),i.oldestMsgId!=null&&Object.hasOwnProperty.call(i,"oldestMsgId")&&o.uint32(18).string(i.oldestMsgId),i.oldestMsgFromMe!=null&&Object.hasOwnProperty.call(i,"oldestMsgFromMe")&&o.uint32(24).bool(i.oldestMsgFromMe),i.onDemandMsgCount!=null&&Object.hasOwnProperty.call(i,"onDemandMsgCount")&&o.uint32(32).int32(i.onDemandMsgCount),i.oldestMsgTimestampMs!=null&&Object.hasOwnProperty.call(i,"oldestMsgTimestampMs")&&o.uint32(40).int64(i.oldestMsgTimestampMs),i.accountLid!=null&&Object.hasOwnProperty.call(i,"accountLid")&&o.uint32(50).string(i.accountLid),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.PeerDataOperationRequestMessage.HistorySyncOnDemandRequest;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.chatJid=i.string();break}case 2:{l.oldestMsgId=i.string();break}case 3:{l.oldestMsgFromMe=i.bool();break}case 4:{l.onDemandMsgCount=i.int32();break}case 5:{l.oldestMsgTimestampMs=i.int64();break}case 6:{l.accountLid=i.string();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.PeerDataOperationRequestMessage.HistorySyncOnDemandRequest"},e}(),r.PlaceholderMessageResendRequest=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.messageKey=null,e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.messageKey!=null&&Object.hasOwnProperty.call(i,"messageKey")&&u.proto.MessageKey.encode(i.messageKey,o.uint32(10).fork()).ldelim(),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.PeerDataOperationRequestMessage.PlaceholderMessageResendRequest;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.messageKey=u.proto.MessageKey.decode(i,i.uint32());break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.PeerDataOperationRequestMessage.PlaceholderMessageResendRequest"},e}(),r.RequestStickerReupload=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.fileSha256="",e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.fileSha256!=null&&Object.hasOwnProperty.call(i,"fileSha256")&&o.uint32(10).string(i.fileSha256),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.PeerDataOperationRequestMessage.RequestStickerReupload;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.fileSha256=i.string();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.PeerDataOperationRequestMessage.RequestStickerReupload"},e}(),r.RequestUrlPreview=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.url="",e.prototype.includeHqThumbnail=!1,e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.url!=null&&Object.hasOwnProperty.call(i,"url")&&o.uint32(10).string(i.url),i.includeHqThumbnail!=null&&Object.hasOwnProperty.call(i,"includeHqThumbnail")&&o.uint32(16).bool(i.includeHqThumbnail),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.PeerDataOperationRequestMessage.RequestUrlPreview;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.url=i.string();break}case 2:{l.includeHqThumbnail=i.bool();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.PeerDataOperationRequestMessage.RequestUrlPreview"},e}(),r.SyncDCollectionFatalRecoveryRequest=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.collectionName="",e.prototype.timestamp=h.Long?h.Long.fromBits(0,0,!1):0,e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.collectionName!=null&&Object.hasOwnProperty.call(i,"collectionName")&&o.uint32(10).string(i.collectionName),i.timestamp!=null&&Object.hasOwnProperty.call(i,"timestamp")&&o.uint32(16).int64(i.timestamp),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.PeerDataOperationRequestMessage.SyncDCollectionFatalRecoveryRequest;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.collectionName=i.string();break}case 2:{l.timestamp=i.int64();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.PeerDataOperationRequestMessage.SyncDCollectionFatalRecoveryRequest"},e}(),r}(),n.PeerDataOperationRequestResponseMessage=function(){function r(e){if(this.peerDataOperationResult=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.peerDataOperationRequestType=0,r.prototype.stanzaId="",r.prototype.peerDataOperationResult=h.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.peerDataOperationRequestType!=null&&Object.hasOwnProperty.call(t,"peerDataOperationRequestType")&&i.uint32(8).int32(t.peerDataOperationRequestType),t.stanzaId!=null&&Object.hasOwnProperty.call(t,"stanzaId")&&i.uint32(18).string(t.stanzaId),t.peerDataOperationResult!=null&&t.peerDataOperationResult.length)for(var o=0;o<t.peerDataOperationResult.length;++o)u.proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.encode(t.peerDataOperationResult[o],i.uint32(26).fork()).ldelim();return i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.PeerDataOperationRequestResponseMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.peerDataOperationRequestType=t.int32();break}case 2:{c.stanzaId=t.string();break}case 3:{c.peerDataOperationResult&&c.peerDataOperationResult.length||(c.peerDataOperationResult=[]),c.peerDataOperationResult.push(u.proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.decode(t,t.uint32()));break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.PeerDataOperationRequestResponseMessage"},r.PeerDataOperationResult=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.mediaUploadResult=0,e.prototype.stickerMessage=null,e.prototype.linkPreviewResponse=null,e.prototype.placeholderMessageResendResponse=null,e.prototype.waffleNonceFetchRequestResponse=null,e.prototype.fullHistorySyncOnDemandRequestResponse=null,e.prototype.companionMetaNonceFetchRequestResponse=null,e.prototype.syncdSnapshotFatalRecoveryResponse=null,e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.mediaUploadResult!=null&&Object.hasOwnProperty.call(i,"mediaUploadResult")&&o.uint32(8).int32(i.mediaUploadResult),i.stickerMessage!=null&&Object.hasOwnProperty.call(i,"stickerMessage")&&u.proto.Message.StickerMessage.encode(i.stickerMessage,o.uint32(18).fork()).ldelim(),i.linkPreviewResponse!=null&&Object.hasOwnProperty.call(i,"linkPreviewResponse")&&u.proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.LinkPreviewResponse.encode(i.linkPreviewResponse,o.uint32(26).fork()).ldelim(),i.placeholderMessageResendResponse!=null&&Object.hasOwnProperty.call(i,"placeholderMessageResendResponse")&&u.proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.PlaceholderMessageResendResponse.encode(i.placeholderMessageResendResponse,o.uint32(34).fork()).ldelim(),i.waffleNonceFetchRequestResponse!=null&&Object.hasOwnProperty.call(i,"waffleNonceFetchRequestResponse")&&u.proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.WaffleNonceFetchResponse.encode(i.waffleNonceFetchRequestResponse,o.uint32(42).fork()).ldelim(),i.fullHistorySyncOnDemandRequestResponse!=null&&Object.hasOwnProperty.call(i,"fullHistorySyncOnDemandRequestResponse")&&u.proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.FullHistorySyncOnDemandRequestResponse.encode(i.fullHistorySyncOnDemandRequestResponse,o.uint32(50).fork()).ldelim(),i.companionMetaNonceFetchRequestResponse!=null&&Object.hasOwnProperty.call(i,"companionMetaNonceFetchRequestResponse")&&u.proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.CompanionMetaNonceFetchResponse.encode(i.companionMetaNonceFetchRequestResponse,o.uint32(58).fork()).ldelim(),i.syncdSnapshotFatalRecoveryResponse!=null&&Object.hasOwnProperty.call(i,"syncdSnapshotFatalRecoveryResponse")&&u.proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.SyncDSnapshotFatalRecoveryResponse.encode(i.syncdSnapshotFatalRecoveryResponse,o.uint32(66).fork()).ldelim(),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.mediaUploadResult=i.int32();break}case 2:{l.stickerMessage=u.proto.Message.StickerMessage.decode(i,i.uint32());break}case 3:{l.linkPreviewResponse=u.proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.LinkPreviewResponse.decode(i,i.uint32());break}case 4:{l.placeholderMessageResendResponse=u.proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.PlaceholderMessageResendResponse.decode(i,i.uint32());break}case 5:{l.waffleNonceFetchRequestResponse=u.proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.WaffleNonceFetchResponse.decode(i,i.uint32());break}case 6:{l.fullHistorySyncOnDemandRequestResponse=u.proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.FullHistorySyncOnDemandRequestResponse.decode(i,i.uint32());break}case 7:{l.companionMetaNonceFetchRequestResponse=u.proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.CompanionMetaNonceFetchResponse.decode(i,i.uint32());break}case 8:{l.syncdSnapshotFatalRecoveryResponse=u.proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.SyncDSnapshotFatalRecoveryResponse.decode(i,i.uint32());break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult"},e.CompanionMetaNonceFetchResponse=function(){function t(i){if(i)for(var o=Object.keys(i),s=0;s<o.length;++s)i[o[s]]!=null&&(this[o[s]]=i[o[s]])}return t.prototype.nonce="",t.create=function(o){return new t(o)},t.encode=function(o,s){return s||(s=E.create()),o.nonce!=null&&Object.hasOwnProperty.call(o,"nonce")&&s.uint32(10).string(o.nonce),s},t.decode=function(o,s,c){o instanceof p||(o=p.create(o));for(var l=s===void 0?o.len:o.pos+s,d=new u.proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.CompanionMetaNonceFetchResponse;o.pos<l;){var f=o.uint32();if(f===c)break;switch(f>>>3){case 1:{d.nonce=o.string();break}default:o.skipType(f&7);break}}return d},t.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.CompanionMetaNonceFetchResponse"},t}(),e.FullHistorySyncOnDemandRequestResponse=function(){function t(i){if(i)for(var o=Object.keys(i),s=0;s<o.length;++s)i[o[s]]!=null&&(this[o[s]]=i[o[s]])}return t.prototype.requestMetadata=null,t.prototype.responseCode=0,t.create=function(o){return new t(o)},t.encode=function(o,s){return s||(s=E.create()),o.requestMetadata!=null&&Object.hasOwnProperty.call(o,"requestMetadata")&&u.proto.Message.FullHistorySyncOnDemandRequestMetadata.encode(o.requestMetadata,s.uint32(10).fork()).ldelim(),o.responseCode!=null&&Object.hasOwnProperty.call(o,"responseCode")&&s.uint32(16).int32(o.responseCode),s},t.decode=function(o,s,c){o instanceof p||(o=p.create(o));for(var l=s===void 0?o.len:o.pos+s,d=new u.proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.FullHistorySyncOnDemandRequestResponse;o.pos<l;){var f=o.uint32();if(f===c)break;switch(f>>>3){case 1:{d.requestMetadata=u.proto.Message.FullHistorySyncOnDemandRequestMetadata.decode(o,o.uint32());break}case 2:{d.responseCode=o.int32();break}default:o.skipType(f&7);break}}return d},t.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.FullHistorySyncOnDemandRequestResponse"},t}(),e.FullHistorySyncOnDemandResponseCode=function(){let t={},i=Object.create(t);return i[t[0]="REQUEST_SUCCESS"]=0,i[t[1]="REQUEST_TIME_EXPIRED"]=1,i[t[2]="DECLINED_SHARING_HISTORY"]=2,i[t[3]="GENERIC_ERROR"]=3,i[t[4]="ERROR_REQUEST_ON_NON_SMB_PRIMARY"]=4,i[t[5]="ERROR_HOSTED_DEVICE_NOT_CONNECTED"]=5,i[t[6]="ERROR_HOSTED_DEVICE_LOGIN_TIME_NOT_SET"]=6,i}(),e.LinkPreviewResponse=function(){function t(i){if(i)for(var o=Object.keys(i),s=0;s<o.length;++s)i[o[s]]!=null&&(this[o[s]]=i[o[s]])}return t.prototype.url="",t.prototype.title="",t.prototype.description="",t.prototype.thumbData=h.newBuffer([]),t.prototype.matchText="",t.prototype.previewType="",t.prototype.hqThumbnail=null,t.create=function(o){return new t(o)},t.encode=function(o,s){return s||(s=E.create()),o.url!=null&&Object.hasOwnProperty.call(o,"url")&&s.uint32(10).string(o.url),o.title!=null&&Object.hasOwnProperty.call(o,"title")&&s.uint32(18).string(o.title),o.description!=null&&Object.hasOwnProperty.call(o,"description")&&s.uint32(26).string(o.description),o.thumbData!=null&&Object.hasOwnProperty.call(o,"thumbData")&&s.uint32(34).bytes(o.thumbData),o.matchText!=null&&Object.hasOwnProperty.call(o,"matchText")&&s.uint32(50).string(o.matchText),o.previewType!=null&&Object.hasOwnProperty.call(o,"previewType")&&s.uint32(58).string(o.previewType),o.hqThumbnail!=null&&Object.hasOwnProperty.call(o,"hqThumbnail")&&u.proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.LinkPreviewResponse.LinkPreviewHighQualityThumbnail.encode(o.hqThumbnail,s.uint32(66).fork()).ldelim(),s},t.decode=function(o,s,c){o instanceof p||(o=p.create(o));for(var l=s===void 0?o.len:o.pos+s,d=new u.proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.LinkPreviewResponse;o.pos<l;){var f=o.uint32();if(f===c)break;switch(f>>>3){case 1:{d.url=o.string();break}case 2:{d.title=o.string();break}case 3:{d.description=o.string();break}case 4:{d.thumbData=o.bytes();break}case 6:{d.matchText=o.string();break}case 7:{d.previewType=o.string();break}case 8:{d.hqThumbnail=u.proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.LinkPreviewResponse.LinkPreviewHighQualityThumbnail.decode(o,o.uint32());break}default:o.skipType(f&7);break}}return d},t.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.LinkPreviewResponse"},t.LinkPreviewHighQualityThumbnail=function(){function i(o){if(o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]])}return i.prototype.directPath="",i.prototype.thumbHash="",i.prototype.encThumbHash="",i.prototype.mediaKey=h.newBuffer([]),i.prototype.mediaKeyTimestampMs=h.Long?h.Long.fromBits(0,0,!1):0,i.prototype.thumbWidth=0,i.prototype.thumbHeight=0,i.create=function(s){return new i(s)},i.encode=function(s,c){return c||(c=E.create()),s.directPath!=null&&Object.hasOwnProperty.call(s,"directPath")&&c.uint32(10).string(s.directPath),s.thumbHash!=null&&Object.hasOwnProperty.call(s,"thumbHash")&&c.uint32(18).string(s.thumbHash),s.encThumbHash!=null&&Object.hasOwnProperty.call(s,"encThumbHash")&&c.uint32(26).string(s.encThumbHash),s.mediaKey!=null&&Object.hasOwnProperty.call(s,"mediaKey")&&c.uint32(34).bytes(s.mediaKey),s.mediaKeyTimestampMs!=null&&Object.hasOwnProperty.call(s,"mediaKeyTimestampMs")&&c.uint32(40).int64(s.mediaKeyTimestampMs),s.thumbWidth!=null&&Object.hasOwnProperty.call(s,"thumbWidth")&&c.uint32(48).int32(s.thumbWidth),s.thumbHeight!=null&&Object.hasOwnProperty.call(s,"thumbHeight")&&c.uint32(56).int32(s.thumbHeight),c},i.decode=function(s,c,l){s instanceof p||(s=p.create(s));for(var d=c===void 0?s.len:s.pos+c,f=new u.proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.LinkPreviewResponse.LinkPreviewHighQualityThumbnail;s.pos<d;){var g=s.uint32();if(g===l)break;switch(g>>>3){case 1:{f.directPath=s.string();break}case 2:{f.thumbHash=s.string();break}case 3:{f.encThumbHash=s.string();break}case 4:{f.mediaKey=s.bytes();break}case 5:{f.mediaKeyTimestampMs=s.int64();break}case 6:{f.thumbWidth=s.int32();break}case 7:{f.thumbHeight=s.int32();break}default:s.skipType(g&7);break}}return f},i.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.LinkPreviewResponse.LinkPreviewHighQualityThumbnail"},i}(),t}(),e.PlaceholderMessageResendResponse=function(){function t(i){if(i)for(var o=Object.keys(i),s=0;s<o.length;++s)i[o[s]]!=null&&(this[o[s]]=i[o[s]])}return t.prototype.webMessageInfoBytes=h.newBuffer([]),t.create=function(o){return new t(o)},t.encode=function(o,s){return s||(s=E.create()),o.webMessageInfoBytes!=null&&Object.hasOwnProperty.call(o,"webMessageInfoBytes")&&s.uint32(10).bytes(o.webMessageInfoBytes),s},t.decode=function(o,s,c){o instanceof p||(o=p.create(o));for(var l=s===void 0?o.len:o.pos+s,d=new u.proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.PlaceholderMessageResendResponse;o.pos<l;){var f=o.uint32();if(f===c)break;switch(f>>>3){case 1:{d.webMessageInfoBytes=o.bytes();break}default:o.skipType(f&7);break}}return d},t.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.PlaceholderMessageResendResponse"},t}(),e.SyncDSnapshotFatalRecoveryResponse=function(){function t(i){if(i)for(var o=Object.keys(i),s=0;s<o.length;++s)i[o[s]]!=null&&(this[o[s]]=i[o[s]])}return t.prototype.collectionSnapshot=h.newBuffer([]),t.prototype.isCompressed=!1,t.create=function(o){return new t(o)},t.encode=function(o,s){return s||(s=E.create()),o.collectionSnapshot!=null&&Object.hasOwnProperty.call(o,"collectionSnapshot")&&s.uint32(10).bytes(o.collectionSnapshot),o.isCompressed!=null&&Object.hasOwnProperty.call(o,"isCompressed")&&s.uint32(16).bool(o.isCompressed),s},t.decode=function(o,s,c){o instanceof p||(o=p.create(o));for(var l=s===void 0?o.len:o.pos+s,d=new u.proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.SyncDSnapshotFatalRecoveryResponse;o.pos<l;){var f=o.uint32();if(f===c)break;switch(f>>>3){case 1:{d.collectionSnapshot=o.bytes();break}case 2:{d.isCompressed=o.bool();break}default:o.skipType(f&7);break}}return d},t.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.SyncDSnapshotFatalRecoveryResponse"},t}(),e.WaffleNonceFetchResponse=function(){function t(i){if(i)for(var o=Object.keys(i),s=0;s<o.length;++s)i[o[s]]!=null&&(this[o[s]]=i[o[s]])}return t.prototype.nonce="",t.prototype.waEntFbid="",t.create=function(o){return new t(o)},t.encode=function(o,s){return s||(s=E.create()),o.nonce!=null&&Object.hasOwnProperty.call(o,"nonce")&&s.uint32(10).string(o.nonce),o.waEntFbid!=null&&Object.hasOwnProperty.call(o,"waEntFbid")&&s.uint32(18).string(o.waEntFbid),s},t.decode=function(o,s,c){o instanceof p||(o=p.create(o));for(var l=s===void 0?o.len:o.pos+s,d=new u.proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.WaffleNonceFetchResponse;o.pos<l;){var f=o.uint32();if(f===c)break;switch(f>>>3){case 1:{d.nonce=o.string();break}case 2:{d.waEntFbid=o.string();break}default:o.skipType(f&7);break}}return d},t.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/proto.Message.PeerDataOperationRequestResponseMessage.PeerDataOperationResult.WaffleNonceFetchResponse"},t}(),e}(),r}(),n.PeerDataOperationRequestType=function(){let r={},e=Object.create(r);return e[r[0]="UPLOAD_STICKER"]=0,e[r[1]="SEND_RECENT_STICKER_BOOTSTRAP"]=1,e[r[2]="GENERATE_LINK_PREVIEW"]=2,e[r[3]="HISTORY_SYNC_ON_DEMAND"]=3,e[r[4]="PLACEHOLDER_MESSAGE_RESEND"]=4,e[r[5]="WAFFLE_LINKING_NONCE_FETCH"]=5,e[r[6]="FULL_HISTORY_SYNC_ON_DEMAND"]=6,e[r[7]="COMPANION_META_NONCE_FETCH"]=7,e[r[8]="COMPANION_SYNCD_SNAPSHOT_FATAL_RECOVERY"]=8,e}(),n.PinInChatMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.key=null,r.prototype.type=0,r.prototype.senderTimestampMs=h.Long?h.Long.fromBits(0,0,!1):0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.key!=null&&Object.hasOwnProperty.call(t,"key")&&u.proto.MessageKey.encode(t.key,i.uint32(10).fork()).ldelim(),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&i.uint32(16).int32(t.type),t.senderTimestampMs!=null&&Object.hasOwnProperty.call(t,"senderTimestampMs")&&i.uint32(24).int64(t.senderTimestampMs),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.PinInChatMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.key=u.proto.MessageKey.decode(t,t.uint32());break}case 2:{c.type=t.int32();break}case 3:{c.senderTimestampMs=t.int64();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.PinInChatMessage"},r.Type=function(){let e={},t=Object.create(e);return t[e[0]="UNKNOWN_TYPE"]=0,t[e[1]="PIN_FOR_ALL"]=1,t[e[2]="UNPIN_FOR_ALL"]=2,t}(),r}(),n.PlaceholderMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.type=0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&i.uint32(8).int32(t.type),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.PlaceholderMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.type=t.int32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.PlaceholderMessage"},r.PlaceholderType=function(){let e={},t=Object.create(e);return t[e[0]="MASK_LINKED_DEVICES"]=0,t}(),r}(),n.PollContentType=function(){let r={},e=Object.create(r);return e[r[0]="UNKNOWN"]=0,e[r[1]="TEXT"]=1,e[r[2]="IMAGE"]=2,e}(),n.PollCreationMessage=function(){function r(e){if(this.options=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.encKey=h.newBuffer([]),r.prototype.name="",r.prototype.options=h.emptyArray,r.prototype.selectableOptionsCount=0,r.prototype.contextInfo=null,r.prototype.pollContentType=0,r.prototype.pollType=0,r.prototype.correctAnswer=null,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.encKey!=null&&Object.hasOwnProperty.call(t,"encKey")&&i.uint32(10).bytes(t.encKey),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&i.uint32(18).string(t.name),t.options!=null&&t.options.length)for(var o=0;o<t.options.length;++o)u.proto.Message.PollCreationMessage.Option.encode(t.options[o],i.uint32(26).fork()).ldelim();return t.selectableOptionsCount!=null&&Object.hasOwnProperty.call(t,"selectableOptionsCount")&&i.uint32(32).uint32(t.selectableOptionsCount),t.contextInfo!=null&&Object.hasOwnProperty.call(t,"contextInfo")&&u.proto.ContextInfo.encode(t.contextInfo,i.uint32(42).fork()).ldelim(),t.pollContentType!=null&&Object.hasOwnProperty.call(t,"pollContentType")&&i.uint32(48).int32(t.pollContentType),t.pollType!=null&&Object.hasOwnProperty.call(t,"pollType")&&i.uint32(56).int32(t.pollType),t.correctAnswer!=null&&Object.hasOwnProperty.call(t,"correctAnswer")&&u.proto.Message.PollCreationMessage.Option.encode(t.correctAnswer,i.uint32(66).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.PollCreationMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.encKey=t.bytes();break}case 2:{c.name=t.string();break}case 3:{c.options&&c.options.length||(c.options=[]),c.options.push(u.proto.Message.PollCreationMessage.Option.decode(t,t.uint32()));break}case 4:{c.selectableOptionsCount=t.uint32();break}case 5:{c.contextInfo=u.proto.ContextInfo.decode(t,t.uint32());break}case 6:{c.pollContentType=t.int32();break}case 7:{c.pollType=t.int32();break}case 8:{c.correctAnswer=u.proto.Message.PollCreationMessage.Option.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.PollCreationMessage"},r.Option=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.optionName="",e.prototype.optionHash="",e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.optionName!=null&&Object.hasOwnProperty.call(i,"optionName")&&o.uint32(10).string(i.optionName),i.optionHash!=null&&Object.hasOwnProperty.call(i,"optionHash")&&o.uint32(18).string(i.optionHash),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.PollCreationMessage.Option;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.optionName=i.string();break}case 2:{l.optionHash=i.string();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.PollCreationMessage.Option"},e}(),r.PollType=function(){let e={},t=Object.create(e);return t[e[0]="POLL"]=0,t[e[1]="QUIZ"]=1,t}(),r}(),n.PollEncValue=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.encPayload=h.newBuffer([]),r.prototype.encIv=h.newBuffer([]),r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.encPayload!=null&&Object.hasOwnProperty.call(t,"encPayload")&&i.uint32(10).bytes(t.encPayload),t.encIv!=null&&Object.hasOwnProperty.call(t,"encIv")&&i.uint32(18).bytes(t.encIv),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.PollEncValue;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.encPayload=t.bytes();break}case 2:{c.encIv=t.bytes();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.PollEncValue"},r}(),n.PollResultSnapshotMessage=function(){function r(e){if(this.pollVotes=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.name="",r.prototype.pollVotes=h.emptyArray,r.prototype.contextInfo=null,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&i.uint32(10).string(t.name),t.pollVotes!=null&&t.pollVotes.length)for(var o=0;o<t.pollVotes.length;++o)u.proto.Message.PollResultSnapshotMessage.PollVote.encode(t.pollVotes[o],i.uint32(18).fork()).ldelim();return t.contextInfo!=null&&Object.hasOwnProperty.call(t,"contextInfo")&&u.proto.ContextInfo.encode(t.contextInfo,i.uint32(26).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.PollResultSnapshotMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.name=t.string();break}case 2:{c.pollVotes&&c.pollVotes.length||(c.pollVotes=[]),c.pollVotes.push(u.proto.Message.PollResultSnapshotMessage.PollVote.decode(t,t.uint32()));break}case 3:{c.contextInfo=u.proto.ContextInfo.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.PollResultSnapshotMessage"},r.PollVote=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.optionName="",e.prototype.optionVoteCount=h.Long?h.Long.fromBits(0,0,!1):0,e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.optionName!=null&&Object.hasOwnProperty.call(i,"optionName")&&o.uint32(10).string(i.optionName),i.optionVoteCount!=null&&Object.hasOwnProperty.call(i,"optionVoteCount")&&o.uint32(16).int64(i.optionVoteCount),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.PollResultSnapshotMessage.PollVote;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.optionName=i.string();break}case 2:{l.optionVoteCount=i.int64();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.PollResultSnapshotMessage.PollVote"},e}(),r}(),n.PollUpdateMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.pollCreationMessageKey=null,r.prototype.vote=null,r.prototype.metadata=null,r.prototype.senderTimestampMs=h.Long?h.Long.fromBits(0,0,!1):0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.pollCreationMessageKey!=null&&Object.hasOwnProperty.call(t,"pollCreationMessageKey")&&u.proto.MessageKey.encode(t.pollCreationMessageKey,i.uint32(10).fork()).ldelim(),t.vote!=null&&Object.hasOwnProperty.call(t,"vote")&&u.proto.Message.PollEncValue.encode(t.vote,i.uint32(18).fork()).ldelim(),t.metadata!=null&&Object.hasOwnProperty.call(t,"metadata")&&u.proto.Message.PollUpdateMessageMetadata.encode(t.metadata,i.uint32(26).fork()).ldelim(),t.senderTimestampMs!=null&&Object.hasOwnProperty.call(t,"senderTimestampMs")&&i.uint32(32).int64(t.senderTimestampMs),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.PollUpdateMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.pollCreationMessageKey=u.proto.MessageKey.decode(t,t.uint32());break}case 2:{c.vote=u.proto.Message.PollEncValue.decode(t,t.uint32());break}case 3:{c.metadata=u.proto.Message.PollUpdateMessageMetadata.decode(t,t.uint32());break}case 4:{c.senderTimestampMs=t.int64();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.PollUpdateMessage"},r}(),n.PollUpdateMessageMetadata=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.PollUpdateMessageMetadata;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.PollUpdateMessageMetadata"},r}(),n.PollVoteMessage=function(){function r(e){if(this.selectedOptions=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.selectedOptions=h.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.selectedOptions!=null&&t.selectedOptions.length)for(var o=0;o<t.selectedOptions.length;++o)i.uint32(10).bytes(t.selectedOptions[o]);return i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.PollVoteMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.selectedOptions&&c.selectedOptions.length||(c.selectedOptions=[]),c.selectedOptions.push(t.bytes());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.PollVoteMessage"},r}(),n.ProductMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.product=null,r.prototype.businessOwnerJid="",r.prototype.catalog=null,r.prototype.body="",r.prototype.footer="",r.prototype.contextInfo=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.product!=null&&Object.hasOwnProperty.call(t,"product")&&u.proto.Message.ProductMessage.ProductSnapshot.encode(t.product,i.uint32(10).fork()).ldelim(),t.businessOwnerJid!=null&&Object.hasOwnProperty.call(t,"businessOwnerJid")&&i.uint32(18).string(t.businessOwnerJid),t.catalog!=null&&Object.hasOwnProperty.call(t,"catalog")&&u.proto.Message.ProductMessage.CatalogSnapshot.encode(t.catalog,i.uint32(34).fork()).ldelim(),t.body!=null&&Object.hasOwnProperty.call(t,"body")&&i.uint32(42).string(t.body),t.footer!=null&&Object.hasOwnProperty.call(t,"footer")&&i.uint32(50).string(t.footer),t.contextInfo!=null&&Object.hasOwnProperty.call(t,"contextInfo")&&u.proto.ContextInfo.encode(t.contextInfo,i.uint32(138).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.ProductMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.product=u.proto.Message.ProductMessage.ProductSnapshot.decode(t,t.uint32());break}case 2:{c.businessOwnerJid=t.string();break}case 4:{c.catalog=u.proto.Message.ProductMessage.CatalogSnapshot.decode(t,t.uint32());break}case 5:{c.body=t.string();break}case 6:{c.footer=t.string();break}case 17:{c.contextInfo=u.proto.ContextInfo.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.ProductMessage"},r.CatalogSnapshot=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.catalogImage=null,e.prototype.title="",e.prototype.description="",e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.catalogImage!=null&&Object.hasOwnProperty.call(i,"catalogImage")&&u.proto.Message.ImageMessage.encode(i.catalogImage,o.uint32(10).fork()).ldelim(),i.title!=null&&Object.hasOwnProperty.call(i,"title")&&o.uint32(18).string(i.title),i.description!=null&&Object.hasOwnProperty.call(i,"description")&&o.uint32(26).string(i.description),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.ProductMessage.CatalogSnapshot;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.catalogImage=u.proto.Message.ImageMessage.decode(i,i.uint32());break}case 2:{l.title=i.string();break}case 3:{l.description=i.string();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.ProductMessage.CatalogSnapshot"},e}(),r.ProductSnapshot=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.productImage=null,e.prototype.productId="",e.prototype.title="",e.prototype.description="",e.prototype.currencyCode="",e.prototype.priceAmount1000=h.Long?h.Long.fromBits(0,0,!1):0,e.prototype.retailerId="",e.prototype.url="",e.prototype.productImageCount=0,e.prototype.firstImageId="",e.prototype.salePriceAmount1000=h.Long?h.Long.fromBits(0,0,!1):0,e.prototype.signedUrl="",e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.productImage!=null&&Object.hasOwnProperty.call(i,"productImage")&&u.proto.Message.ImageMessage.encode(i.productImage,o.uint32(10).fork()).ldelim(),i.productId!=null&&Object.hasOwnProperty.call(i,"productId")&&o.uint32(18).string(i.productId),i.title!=null&&Object.hasOwnProperty.call(i,"title")&&o.uint32(26).string(i.title),i.description!=null&&Object.hasOwnProperty.call(i,"description")&&o.uint32(34).string(i.description),i.currencyCode!=null&&Object.hasOwnProperty.call(i,"currencyCode")&&o.uint32(42).string(i.currencyCode),i.priceAmount1000!=null&&Object.hasOwnProperty.call(i,"priceAmount1000")&&o.uint32(48).int64(i.priceAmount1000),i.retailerId!=null&&Object.hasOwnProperty.call(i,"retailerId")&&o.uint32(58).string(i.retailerId),i.url!=null&&Object.hasOwnProperty.call(i,"url")&&o.uint32(66).string(i.url),i.productImageCount!=null&&Object.hasOwnProperty.call(i,"productImageCount")&&o.uint32(72).uint32(i.productImageCount),i.firstImageId!=null&&Object.hasOwnProperty.call(i,"firstImageId")&&o.uint32(90).string(i.firstImageId),i.salePriceAmount1000!=null&&Object.hasOwnProperty.call(i,"salePriceAmount1000")&&o.uint32(96).int64(i.salePriceAmount1000),i.signedUrl!=null&&Object.hasOwnProperty.call(i,"signedUrl")&&o.uint32(106).string(i.signedUrl),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.ProductMessage.ProductSnapshot;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.productImage=u.proto.Message.ImageMessage.decode(i,i.uint32());break}case 2:{l.productId=i.string();break}case 3:{l.title=i.string();break}case 4:{l.description=i.string();break}case 5:{l.currencyCode=i.string();break}case 6:{l.priceAmount1000=i.int64();break}case 7:{l.retailerId=i.string();break}case 8:{l.url=i.string();break}case 9:{l.productImageCount=i.uint32();break}case 11:{l.firstImageId=i.string();break}case 12:{l.salePriceAmount1000=i.int64();break}case 13:{l.signedUrl=i.string();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.ProductMessage.ProductSnapshot"},e}(),r}(),n.ProtocolMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.key=null,r.prototype.type=0,r.prototype.ephemeralExpiration=0,r.prototype.ephemeralSettingTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.historySyncNotification=null,r.prototype.appStateSyncKeyShare=null,r.prototype.appStateSyncKeyRequest=null,r.prototype.initialSecurityNotificationSettingSync=null,r.prototype.appStateFatalExceptionNotification=null,r.prototype.disappearingMode=null,r.prototype.editedMessage=null,r.prototype.timestampMs=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.peerDataOperationRequestMessage=null,r.prototype.peerDataOperationRequestResponseMessage=null,r.prototype.botFeedbackMessage=null,r.prototype.invokerJid="",r.prototype.requestWelcomeMessageMetadata=null,r.prototype.mediaNotifyMessage=null,r.prototype.cloudApiThreadControlNotification=null,r.prototype.lidMigrationMappingSyncMessage=null,r.prototype.limitSharing=null,r.prototype.aiPsiMetadata=h.newBuffer([]),r.prototype.aiQueryFanout=null,r.prototype.memberLabel=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.key!=null&&Object.hasOwnProperty.call(t,"key")&&u.proto.MessageKey.encode(t.key,i.uint32(10).fork()).ldelim(),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&i.uint32(16).int32(t.type),t.ephemeralExpiration!=null&&Object.hasOwnProperty.call(t,"ephemeralExpiration")&&i.uint32(32).uint32(t.ephemeralExpiration),t.ephemeralSettingTimestamp!=null&&Object.hasOwnProperty.call(t,"ephemeralSettingTimestamp")&&i.uint32(40).int64(t.ephemeralSettingTimestamp),t.historySyncNotification!=null&&Object.hasOwnProperty.call(t,"historySyncNotification")&&u.proto.Message.HistorySyncNotification.encode(t.historySyncNotification,i.uint32(50).fork()).ldelim(),t.appStateSyncKeyShare!=null&&Object.hasOwnProperty.call(t,"appStateSyncKeyShare")&&u.proto.Message.AppStateSyncKeyShare.encode(t.appStateSyncKeyShare,i.uint32(58).fork()).ldelim(),t.appStateSyncKeyRequest!=null&&Object.hasOwnProperty.call(t,"appStateSyncKeyRequest")&&u.proto.Message.AppStateSyncKeyRequest.encode(t.appStateSyncKeyRequest,i.uint32(66).fork()).ldelim(),t.initialSecurityNotificationSettingSync!=null&&Object.hasOwnProperty.call(t,"initialSecurityNotificationSettingSync")&&u.proto.Message.InitialSecurityNotificationSettingSync.encode(t.initialSecurityNotificationSettingSync,i.uint32(74).fork()).ldelim(),t.appStateFatalExceptionNotification!=null&&Object.hasOwnProperty.call(t,"appStateFatalExceptionNotification")&&u.proto.Message.AppStateFatalExceptionNotification.encode(t.appStateFatalExceptionNotification,i.uint32(82).fork()).ldelim(),t.disappearingMode!=null&&Object.hasOwnProperty.call(t,"disappearingMode")&&u.proto.DisappearingMode.encode(t.disappearingMode,i.uint32(90).fork()).ldelim(),t.editedMessage!=null&&Object.hasOwnProperty.call(t,"editedMessage")&&u.proto.Message.encode(t.editedMessage,i.uint32(114).fork()).ldelim(),t.timestampMs!=null&&Object.hasOwnProperty.call(t,"timestampMs")&&i.uint32(120).int64(t.timestampMs),t.peerDataOperationRequestMessage!=null&&Object.hasOwnProperty.call(t,"peerDataOperationRequestMessage")&&u.proto.Message.PeerDataOperationRequestMessage.encode(t.peerDataOperationRequestMessage,i.uint32(130).fork()).ldelim(),t.peerDataOperationRequestResponseMessage!=null&&Object.hasOwnProperty.call(t,"peerDataOperationRequestResponseMessage")&&u.proto.Message.PeerDataOperationRequestResponseMessage.encode(t.peerDataOperationRequestResponseMessage,i.uint32(138).fork()).ldelim(),t.botFeedbackMessage!=null&&Object.hasOwnProperty.call(t,"botFeedbackMessage")&&u.proto.Message.BotFeedbackMessage.encode(t.botFeedbackMessage,i.uint32(146).fork()).ldelim(),t.invokerJid!=null&&Object.hasOwnProperty.call(t,"invokerJid")&&i.uint32(154).string(t.invokerJid),t.requestWelcomeMessageMetadata!=null&&Object.hasOwnProperty.call(t,"requestWelcomeMessageMetadata")&&u.proto.Message.RequestWelcomeMessageMetadata.encode(t.requestWelcomeMessageMetadata,i.uint32(162).fork()).ldelim(),t.mediaNotifyMessage!=null&&Object.hasOwnProperty.call(t,"mediaNotifyMessage")&&u.proto.MediaNotifyMessage.encode(t.mediaNotifyMessage,i.uint32(170).fork()).ldelim(),t.cloudApiThreadControlNotification!=null&&Object.hasOwnProperty.call(t,"cloudApiThreadControlNotification")&&u.proto.Message.CloudAPIThreadControlNotification.encode(t.cloudApiThreadControlNotification,i.uint32(178).fork()).ldelim(),t.lidMigrationMappingSyncMessage!=null&&Object.hasOwnProperty.call(t,"lidMigrationMappingSyncMessage")&&u.proto.LIDMigrationMappingSyncMessage.encode(t.lidMigrationMappingSyncMessage,i.uint32(186).fork()).ldelim(),t.limitSharing!=null&&Object.hasOwnProperty.call(t,"limitSharing")&&u.proto.LimitSharing.encode(t.limitSharing,i.uint32(194).fork()).ldelim(),t.aiPsiMetadata!=null&&Object.hasOwnProperty.call(t,"aiPsiMetadata")&&i.uint32(202).bytes(t.aiPsiMetadata),t.aiQueryFanout!=null&&Object.hasOwnProperty.call(t,"aiQueryFanout")&&u.proto.AIQueryFanout.encode(t.aiQueryFanout,i.uint32(210).fork()).ldelim(),t.memberLabel!=null&&Object.hasOwnProperty.call(t,"memberLabel")&&u.proto.MemberLabel.encode(t.memberLabel,i.uint32(218).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.ProtocolMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.key=u.proto.MessageKey.decode(t,t.uint32());break}case 2:{c.type=t.int32();break}case 4:{c.ephemeralExpiration=t.uint32();break}case 5:{c.ephemeralSettingTimestamp=t.int64();break}case 6:{c.historySyncNotification=u.proto.Message.HistorySyncNotification.decode(t,t.uint32());break}case 7:{c.appStateSyncKeyShare=u.proto.Message.AppStateSyncKeyShare.decode(t,t.uint32());break}case 8:{c.appStateSyncKeyRequest=u.proto.Message.AppStateSyncKeyRequest.decode(t,t.uint32());break}case 9:{c.initialSecurityNotificationSettingSync=u.proto.Message.InitialSecurityNotificationSettingSync.decode(t,t.uint32());break}case 10:{c.appStateFatalExceptionNotification=u.proto.Message.AppStateFatalExceptionNotification.decode(t,t.uint32());break}case 11:{c.disappearingMode=u.proto.DisappearingMode.decode(t,t.uint32());break}case 14:{c.editedMessage=u.proto.Message.decode(t,t.uint32());break}case 15:{c.timestampMs=t.int64();break}case 16:{c.peerDataOperationRequestMessage=u.proto.Message.PeerDataOperationRequestMessage.decode(t,t.uint32());break}case 17:{c.peerDataOperationRequestResponseMessage=u.proto.Message.PeerDataOperationRequestResponseMessage.decode(t,t.uint32());break}case 18:{c.botFeedbackMessage=u.proto.Message.BotFeedbackMessage.decode(t,t.uint32());break}case 19:{c.invokerJid=t.string();break}case 20:{c.requestWelcomeMessageMetadata=u.proto.Message.RequestWelcomeMessageMetadata.decode(t,t.uint32());break}case 21:{c.mediaNotifyMessage=u.proto.MediaNotifyMessage.decode(t,t.uint32());break}case 22:{c.cloudApiThreadControlNotification=u.proto.Message.CloudAPIThreadControlNotification.decode(t,t.uint32());break}case 23:{c.lidMigrationMappingSyncMessage=u.proto.LIDMigrationMappingSyncMessage.decode(t,t.uint32());break}case 24:{c.limitSharing=u.proto.LimitSharing.decode(t,t.uint32());break}case 25:{c.aiPsiMetadata=t.bytes();break}case 26:{c.aiQueryFanout=u.proto.AIQueryFanout.decode(t,t.uint32());break}case 27:{c.memberLabel=u.proto.MemberLabel.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.ProtocolMessage"},r.Type=function(){let e={},t=Object.create(e);return t[e[0]="REVOKE"]=0,t[e[3]="EPHEMERAL_SETTING"]=3,t[e[4]="EPHEMERAL_SYNC_RESPONSE"]=4,t[e[5]="HISTORY_SYNC_NOTIFICATION"]=5,t[e[6]="APP_STATE_SYNC_KEY_SHARE"]=6,t[e[7]="APP_STATE_SYNC_KEY_REQUEST"]=7,t[e[8]="MSG_FANOUT_BACKFILL_REQUEST"]=8,t[e[9]="INITIAL_SECURITY_NOTIFICATION_SETTING_SYNC"]=9,t[e[10]="APP_STATE_FATAL_EXCEPTION_NOTIFICATION"]=10,t[e[11]="SHARE_PHONE_NUMBER"]=11,t[e[14]="MESSAGE_EDIT"]=14,t[e[16]="PEER_DATA_OPERATION_REQUEST_MESSAGE"]=16,t[e[17]="PEER_DATA_OPERATION_REQUEST_RESPONSE_MESSAGE"]=17,t[e[18]="REQUEST_WELCOME_MESSAGE"]=18,t[e[19]="BOT_FEEDBACK_MESSAGE"]=19,t[e[20]="MEDIA_NOTIFY_MESSAGE"]=20,t[e[21]="CLOUD_API_THREAD_CONTROL_NOTIFICATION"]=21,t[e[22]="LID_MIGRATION_MAPPING_SYNC"]=22,t[e[23]="REMINDER_MESSAGE"]=23,t[e[24]="BOT_MEMU_ONBOARDING_MESSAGE"]=24,t[e[25]="STATUS_MENTION_MESSAGE"]=25,t[e[26]="STOP_GENERATION_MESSAGE"]=26,t[e[27]="LIMIT_SHARING"]=27,t[e[28]="AI_PSI_METADATA"]=28,t[e[29]="AI_QUERY_FANOUT"]=29,t[e[30]="GROUP_MEMBER_LABEL_CHANGE"]=30,t}(),r}(),n.ReactionMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.key=null,r.prototype.text="",r.prototype.groupingKey="",r.prototype.senderTimestampMs=h.Long?h.Long.fromBits(0,0,!1):0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.key!=null&&Object.hasOwnProperty.call(t,"key")&&u.proto.MessageKey.encode(t.key,i.uint32(10).fork()).ldelim(),t.text!=null&&Object.hasOwnProperty.call(t,"text")&&i.uint32(18).string(t.text),t.groupingKey!=null&&Object.hasOwnProperty.call(t,"groupingKey")&&i.uint32(26).string(t.groupingKey),t.senderTimestampMs!=null&&Object.hasOwnProperty.call(t,"senderTimestampMs")&&i.uint32(32).int64(t.senderTimestampMs),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.ReactionMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.key=u.proto.MessageKey.decode(t,t.uint32());break}case 2:{c.text=t.string();break}case 3:{c.groupingKey=t.string();break}case 4:{c.senderTimestampMs=t.int64();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.ReactionMessage"},r}(),n.RequestPaymentMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.noteMessage=null,r.prototype.currencyCodeIso4217="",r.prototype.amount1000=h.Long?h.Long.fromBits(0,0,!0):0,r.prototype.requestFrom="",r.prototype.expiryTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.amount=null,r.prototype.background=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.currencyCodeIso4217!=null&&Object.hasOwnProperty.call(t,"currencyCodeIso4217")&&i.uint32(10).string(t.currencyCodeIso4217),t.amount1000!=null&&Object.hasOwnProperty.call(t,"amount1000")&&i.uint32(16).uint64(t.amount1000),t.requestFrom!=null&&Object.hasOwnProperty.call(t,"requestFrom")&&i.uint32(26).string(t.requestFrom),t.noteMessage!=null&&Object.hasOwnProperty.call(t,"noteMessage")&&u.proto.Message.encode(t.noteMessage,i.uint32(34).fork()).ldelim(),t.expiryTimestamp!=null&&Object.hasOwnProperty.call(t,"expiryTimestamp")&&i.uint32(40).int64(t.expiryTimestamp),t.amount!=null&&Object.hasOwnProperty.call(t,"amount")&&u.proto.Money.encode(t.amount,i.uint32(50).fork()).ldelim(),t.background!=null&&Object.hasOwnProperty.call(t,"background")&&u.proto.PaymentBackground.encode(t.background,i.uint32(58).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.RequestPaymentMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 4:{c.noteMessage=u.proto.Message.decode(t,t.uint32());break}case 1:{c.currencyCodeIso4217=t.string();break}case 2:{c.amount1000=t.uint64();break}case 3:{c.requestFrom=t.string();break}case 5:{c.expiryTimestamp=t.int64();break}case 6:{c.amount=u.proto.Money.decode(t,t.uint32());break}case 7:{c.background=u.proto.PaymentBackground.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.RequestPaymentMessage"},r}(),n.RequestPhoneNumberMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.contextInfo=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.contextInfo!=null&&Object.hasOwnProperty.call(t,"contextInfo")&&u.proto.ContextInfo.encode(t.contextInfo,i.uint32(10).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.RequestPhoneNumberMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.contextInfo=u.proto.ContextInfo.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.RequestPhoneNumberMessage"},r}(),n.RequestWelcomeMessageMetadata=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.localChatState=0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.localChatState!=null&&Object.hasOwnProperty.call(t,"localChatState")&&i.uint32(8).int32(t.localChatState),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.RequestWelcomeMessageMetadata;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.localChatState=t.int32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.RequestWelcomeMessageMetadata"},r.LocalChatState=function(){let e={},t=Object.create(e);return t[e[0]="EMPTY"]=0,t[e[1]="NON_EMPTY"]=1,t}(),r}(),n.ScheduledCallCreationMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.scheduledTimestampMs=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.callType=0,r.prototype.title="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.scheduledTimestampMs!=null&&Object.hasOwnProperty.call(t,"scheduledTimestampMs")&&i.uint32(8).int64(t.scheduledTimestampMs),t.callType!=null&&Object.hasOwnProperty.call(t,"callType")&&i.uint32(16).int32(t.callType),t.title!=null&&Object.hasOwnProperty.call(t,"title")&&i.uint32(26).string(t.title),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.ScheduledCallCreationMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.scheduledTimestampMs=t.int64();break}case 2:{c.callType=t.int32();break}case 3:{c.title=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.ScheduledCallCreationMessage"},r.CallType=function(){let e={},t=Object.create(e);return t[e[0]="UNKNOWN"]=0,t[e[1]="VOICE"]=1,t[e[2]="VIDEO"]=2,t}(),r}(),n.ScheduledCallEditMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.key=null,r.prototype.editType=0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.key!=null&&Object.hasOwnProperty.call(t,"key")&&u.proto.MessageKey.encode(t.key,i.uint32(10).fork()).ldelim(),t.editType!=null&&Object.hasOwnProperty.call(t,"editType")&&i.uint32(16).int32(t.editType),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.ScheduledCallEditMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.key=u.proto.MessageKey.decode(t,t.uint32());break}case 2:{c.editType=t.int32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.ScheduledCallEditMessage"},r.EditType=function(){let e={},t=Object.create(e);return t[e[0]="UNKNOWN"]=0,t[e[1]="CANCEL"]=1,t}(),r}(),n.SecretEncryptedMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.targetMessageKey=null,r.prototype.encPayload=h.newBuffer([]),r.prototype.encIv=h.newBuffer([]),r.prototype.secretEncType=0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.targetMessageKey!=null&&Object.hasOwnProperty.call(t,"targetMessageKey")&&u.proto.MessageKey.encode(t.targetMessageKey,i.uint32(10).fork()).ldelim(),t.encPayload!=null&&Object.hasOwnProperty.call(t,"encPayload")&&i.uint32(18).bytes(t.encPayload),t.encIv!=null&&Object.hasOwnProperty.call(t,"encIv")&&i.uint32(26).bytes(t.encIv),t.secretEncType!=null&&Object.hasOwnProperty.call(t,"secretEncType")&&i.uint32(32).int32(t.secretEncType),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.SecretEncryptedMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.targetMessageKey=u.proto.MessageKey.decode(t,t.uint32());break}case 2:{c.encPayload=t.bytes();break}case 3:{c.encIv=t.bytes();break}case 4:{c.secretEncType=t.int32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.SecretEncryptedMessage"},r.SecretEncType=function(){let e={},t=Object.create(e);return t[e[0]="UNKNOWN"]=0,t[e[1]="EVENT_EDIT"]=1,t[e[2]="MESSAGE_EDIT"]=2,t}(),r}(),n.SendPaymentMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.noteMessage=null,r.prototype.requestMessageKey=null,r.prototype.background=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.noteMessage!=null&&Object.hasOwnProperty.call(t,"noteMessage")&&u.proto.Message.encode(t.noteMessage,i.uint32(18).fork()).ldelim(),t.requestMessageKey!=null&&Object.hasOwnProperty.call(t,"requestMessageKey")&&u.proto.MessageKey.encode(t.requestMessageKey,i.uint32(26).fork()).ldelim(),t.background!=null&&Object.hasOwnProperty.call(t,"background")&&u.proto.PaymentBackground.encode(t.background,i.uint32(34).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.SendPaymentMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 2:{c.noteMessage=u.proto.Message.decode(t,t.uint32());break}case 3:{c.requestMessageKey=u.proto.MessageKey.decode(t,t.uint32());break}case 4:{c.background=u.proto.PaymentBackground.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.SendPaymentMessage"},r}(),n.SenderKeyDistributionMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.groupId="",r.prototype.axolotlSenderKeyDistributionMessage=h.newBuffer([]),r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.groupId!=null&&Object.hasOwnProperty.call(t,"groupId")&&i.uint32(10).string(t.groupId),t.axolotlSenderKeyDistributionMessage!=null&&Object.hasOwnProperty.call(t,"axolotlSenderKeyDistributionMessage")&&i.uint32(18).bytes(t.axolotlSenderKeyDistributionMessage),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.SenderKeyDistributionMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.groupId=t.string();break}case 2:{c.axolotlSenderKeyDistributionMessage=t.bytes();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.SenderKeyDistributionMessage"},r}(),n.StatusNotificationMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.responseMessageKey=null,r.prototype.originalMessageKey=null,r.prototype.type=0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.responseMessageKey!=null&&Object.hasOwnProperty.call(t,"responseMessageKey")&&u.proto.MessageKey.encode(t.responseMessageKey,i.uint32(10).fork()).ldelim(),t.originalMessageKey!=null&&Object.hasOwnProperty.call(t,"originalMessageKey")&&u.proto.MessageKey.encode(t.originalMessageKey,i.uint32(18).fork()).ldelim(),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&i.uint32(24).int32(t.type),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.StatusNotificationMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.responseMessageKey=u.proto.MessageKey.decode(t,t.uint32());break}case 2:{c.originalMessageKey=u.proto.MessageKey.decode(t,t.uint32());break}case 3:{c.type=t.int32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.StatusNotificationMessage"},r.StatusNotificationType=function(){let e={},t=Object.create(e);return t[e[0]="UNKNOWN"]=0,t[e[1]="STATUS_ADD_YOURS"]=1,t[e[2]="STATUS_RESHARE"]=2,t}(),r}(),n.StickerMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.url="",r.prototype.fileSha256=h.newBuffer([]),r.prototype.fileEncSha256=h.newBuffer([]),r.prototype.mediaKey=h.newBuffer([]),r.prototype.mimetype="",r.prototype.height=0,r.prototype.width=0,r.prototype.directPath="",r.prototype.fileLength=h.Long?h.Long.fromBits(0,0,!0):0,r.prototype.mediaKeyTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.firstFrameLength=0,r.prototype.firstFrameSidecar=h.newBuffer([]),r.prototype.isAnimated=!1,r.prototype.pngThumbnail=h.newBuffer([]),r.prototype.contextInfo=null,r.prototype.stickerSentTs=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.isAvatar=!1,r.prototype.isAiSticker=!1,r.prototype.isLottie=!1,r.prototype.accessibilityLabel="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.url!=null&&Object.hasOwnProperty.call(t,"url")&&i.uint32(10).string(t.url),t.fileSha256!=null&&Object.hasOwnProperty.call(t,"fileSha256")&&i.uint32(18).bytes(t.fileSha256),t.fileEncSha256!=null&&Object.hasOwnProperty.call(t,"fileEncSha256")&&i.uint32(26).bytes(t.fileEncSha256),t.mediaKey!=null&&Object.hasOwnProperty.call(t,"mediaKey")&&i.uint32(34).bytes(t.mediaKey),t.mimetype!=null&&Object.hasOwnProperty.call(t,"mimetype")&&i.uint32(42).string(t.mimetype),t.height!=null&&Object.hasOwnProperty.call(t,"height")&&i.uint32(48).uint32(t.height),t.width!=null&&Object.hasOwnProperty.call(t,"width")&&i.uint32(56).uint32(t.width),t.directPath!=null&&Object.hasOwnProperty.call(t,"directPath")&&i.uint32(66).string(t.directPath),t.fileLength!=null&&Object.hasOwnProperty.call(t,"fileLength")&&i.uint32(72).uint64(t.fileLength),t.mediaKeyTimestamp!=null&&Object.hasOwnProperty.call(t,"mediaKeyTimestamp")&&i.uint32(80).int64(t.mediaKeyTimestamp),t.firstFrameLength!=null&&Object.hasOwnProperty.call(t,"firstFrameLength")&&i.uint32(88).uint32(t.firstFrameLength),t.firstFrameSidecar!=null&&Object.hasOwnProperty.call(t,"firstFrameSidecar")&&i.uint32(98).bytes(t.firstFrameSidecar),t.isAnimated!=null&&Object.hasOwnProperty.call(t,"isAnimated")&&i.uint32(104).bool(t.isAnimated),t.pngThumbnail!=null&&Object.hasOwnProperty.call(t,"pngThumbnail")&&i.uint32(130).bytes(t.pngThumbnail),t.contextInfo!=null&&Object.hasOwnProperty.call(t,"contextInfo")&&u.proto.ContextInfo.encode(t.contextInfo,i.uint32(138).fork()).ldelim(),t.stickerSentTs!=null&&Object.hasOwnProperty.call(t,"stickerSentTs")&&i.uint32(144).int64(t.stickerSentTs),t.isAvatar!=null&&Object.hasOwnProperty.call(t,"isAvatar")&&i.uint32(152).bool(t.isAvatar),t.isAiSticker!=null&&Object.hasOwnProperty.call(t,"isAiSticker")&&i.uint32(160).bool(t.isAiSticker),t.isLottie!=null&&Object.hasOwnProperty.call(t,"isLottie")&&i.uint32(168).bool(t.isLottie),t.accessibilityLabel!=null&&Object.hasOwnProperty.call(t,"accessibilityLabel")&&i.uint32(178).string(t.accessibilityLabel),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.StickerMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.url=t.string();break}case 2:{c.fileSha256=t.bytes();break}case 3:{c.fileEncSha256=t.bytes();break}case 4:{c.mediaKey=t.bytes();break}case 5:{c.mimetype=t.string();break}case 6:{c.height=t.uint32();break}case 7:{c.width=t.uint32();break}case 8:{c.directPath=t.string();break}case 9:{c.fileLength=t.uint64();break}case 10:{c.mediaKeyTimestamp=t.int64();break}case 11:{c.firstFrameLength=t.uint32();break}case 12:{c.firstFrameSidecar=t.bytes();break}case 13:{c.isAnimated=t.bool();break}case 16:{c.pngThumbnail=t.bytes();break}case 17:{c.contextInfo=u.proto.ContextInfo.decode(t,t.uint32());break}case 18:{c.stickerSentTs=t.int64();break}case 19:{c.isAvatar=t.bool();break}case 20:{c.isAiSticker=t.bool();break}case 21:{c.isLottie=t.bool();break}case 22:{c.accessibilityLabel=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.StickerMessage"},r}(),n.StickerPackMessage=function(){function r(e){if(this.stickers=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.stickerPackId="",r.prototype.name="",r.prototype.publisher="",r.prototype.stickers=h.emptyArray,r.prototype.fileLength=h.Long?h.Long.fromBits(0,0,!0):0,r.prototype.fileSha256=h.newBuffer([]),r.prototype.fileEncSha256=h.newBuffer([]),r.prototype.mediaKey=h.newBuffer([]),r.prototype.directPath="",r.prototype.caption="",r.prototype.contextInfo=null,r.prototype.packDescription="",r.prototype.mediaKeyTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.trayIconFileName="",r.prototype.thumbnailDirectPath="",r.prototype.thumbnailSha256=h.newBuffer([]),r.prototype.thumbnailEncSha256=h.newBuffer([]),r.prototype.thumbnailHeight=0,r.prototype.thumbnailWidth=0,r.prototype.imageDataHash="",r.prototype.stickerPackSize=h.Long?h.Long.fromBits(0,0,!0):0,r.prototype.stickerPackOrigin=0,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.stickerPackId!=null&&Object.hasOwnProperty.call(t,"stickerPackId")&&i.uint32(10).string(t.stickerPackId),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&i.uint32(18).string(t.name),t.publisher!=null&&Object.hasOwnProperty.call(t,"publisher")&&i.uint32(26).string(t.publisher),t.stickers!=null&&t.stickers.length)for(var o=0;o<t.stickers.length;++o)u.proto.Message.StickerPackMessage.Sticker.encode(t.stickers[o],i.uint32(34).fork()).ldelim();return t.fileLength!=null&&Object.hasOwnProperty.call(t,"fileLength")&&i.uint32(40).uint64(t.fileLength),t.fileSha256!=null&&Object.hasOwnProperty.call(t,"fileSha256")&&i.uint32(50).bytes(t.fileSha256),t.fileEncSha256!=null&&Object.hasOwnProperty.call(t,"fileEncSha256")&&i.uint32(58).bytes(t.fileEncSha256),t.mediaKey!=null&&Object.hasOwnProperty.call(t,"mediaKey")&&i.uint32(66).bytes(t.mediaKey),t.directPath!=null&&Object.hasOwnProperty.call(t,"directPath")&&i.uint32(74).string(t.directPath),t.caption!=null&&Object.hasOwnProperty.call(t,"caption")&&i.uint32(82).string(t.caption),t.contextInfo!=null&&Object.hasOwnProperty.call(t,"contextInfo")&&u.proto.ContextInfo.encode(t.contextInfo,i.uint32(90).fork()).ldelim(),t.packDescription!=null&&Object.hasOwnProperty.call(t,"packDescription")&&i.uint32(98).string(t.packDescription),t.mediaKeyTimestamp!=null&&Object.hasOwnProperty.call(t,"mediaKeyTimestamp")&&i.uint32(104).int64(t.mediaKeyTimestamp),t.trayIconFileName!=null&&Object.hasOwnProperty.call(t,"trayIconFileName")&&i.uint32(114).string(t.trayIconFileName),t.thumbnailDirectPath!=null&&Object.hasOwnProperty.call(t,"thumbnailDirectPath")&&i.uint32(122).string(t.thumbnailDirectPath),t.thumbnailSha256!=null&&Object.hasOwnProperty.call(t,"thumbnailSha256")&&i.uint32(130).bytes(t.thumbnailSha256),t.thumbnailEncSha256!=null&&Object.hasOwnProperty.call(t,"thumbnailEncSha256")&&i.uint32(138).bytes(t.thumbnailEncSha256),t.thumbnailHeight!=null&&Object.hasOwnProperty.call(t,"thumbnailHeight")&&i.uint32(144).uint32(t.thumbnailHeight),t.thumbnailWidth!=null&&Object.hasOwnProperty.call(t,"thumbnailWidth")&&i.uint32(152).uint32(t.thumbnailWidth),t.imageDataHash!=null&&Object.hasOwnProperty.call(t,"imageDataHash")&&i.uint32(162).string(t.imageDataHash),t.stickerPackSize!=null&&Object.hasOwnProperty.call(t,"stickerPackSize")&&i.uint32(168).uint64(t.stickerPackSize),t.stickerPackOrigin!=null&&Object.hasOwnProperty.call(t,"stickerPackOrigin")&&i.uint32(176).int32(t.stickerPackOrigin),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.StickerPackMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.stickerPackId=t.string();break}case 2:{c.name=t.string();break}case 3:{c.publisher=t.string();break}case 4:{c.stickers&&c.stickers.length||(c.stickers=[]),c.stickers.push(u.proto.Message.StickerPackMessage.Sticker.decode(t,t.uint32()));break}case 5:{c.fileLength=t.uint64();break}case 6:{c.fileSha256=t.bytes();break}case 7:{c.fileEncSha256=t.bytes();break}case 8:{c.mediaKey=t.bytes();break}case 9:{c.directPath=t.string();break}case 10:{c.caption=t.string();break}case 11:{c.contextInfo=u.proto.ContextInfo.decode(t,t.uint32());break}case 12:{c.packDescription=t.string();break}case 13:{c.mediaKeyTimestamp=t.int64();break}case 14:{c.trayIconFileName=t.string();break}case 15:{c.thumbnailDirectPath=t.string();break}case 16:{c.thumbnailSha256=t.bytes();break}case 17:{c.thumbnailEncSha256=t.bytes();break}case 18:{c.thumbnailHeight=t.uint32();break}case 19:{c.thumbnailWidth=t.uint32();break}case 20:{c.imageDataHash=t.string();break}case 21:{c.stickerPackSize=t.uint64();break}case 22:{c.stickerPackOrigin=t.int32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.StickerPackMessage"},r.Sticker=function(){function e(t){if(this.emojis=[],t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.fileName="",e.prototype.isAnimated=!1,e.prototype.emojis=h.emptyArray,e.prototype.accessibilityLabel="",e.prototype.isLottie=!1,e.prototype.mimetype="",e.create=function(i){return new e(i)},e.encode=function(i,o){if(o||(o=E.create()),i.fileName!=null&&Object.hasOwnProperty.call(i,"fileName")&&o.uint32(10).string(i.fileName),i.isAnimated!=null&&Object.hasOwnProperty.call(i,"isAnimated")&&o.uint32(16).bool(i.isAnimated),i.emojis!=null&&i.emojis.length)for(var s=0;s<i.emojis.length;++s)o.uint32(26).string(i.emojis[s]);return i.accessibilityLabel!=null&&Object.hasOwnProperty.call(i,"accessibilityLabel")&&o.uint32(34).string(i.accessibilityLabel),i.isLottie!=null&&Object.hasOwnProperty.call(i,"isLottie")&&o.uint32(40).bool(i.isLottie),i.mimetype!=null&&Object.hasOwnProperty.call(i,"mimetype")&&o.uint32(50).string(i.mimetype),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.StickerPackMessage.Sticker;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.fileName=i.string();break}case 2:{l.isAnimated=i.bool();break}case 3:{l.emojis&&l.emojis.length||(l.emojis=[]),l.emojis.push(i.string());break}case 4:{l.accessibilityLabel=i.string();break}case 5:{l.isLottie=i.bool();break}case 6:{l.mimetype=i.string();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.StickerPackMessage.Sticker"},e}(),r.StickerPackOrigin=function(){let e={},t=Object.create(e);return t[e[0]="FIRST_PARTY"]=0,t[e[1]="THIRD_PARTY"]=1,t[e[2]="USER_CREATED"]=2,t}(),r}(),n.StickerSyncRMRMessage=function(){function r(e){if(this.filehash=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.filehash=h.emptyArray,r.prototype.rmrSource="",r.prototype.requestTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.filehash!=null&&t.filehash.length)for(var o=0;o<t.filehash.length;++o)i.uint32(10).string(t.filehash[o]);return t.rmrSource!=null&&Object.hasOwnProperty.call(t,"rmrSource")&&i.uint32(18).string(t.rmrSource),t.requestTimestamp!=null&&Object.hasOwnProperty.call(t,"requestTimestamp")&&i.uint32(24).int64(t.requestTimestamp),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.StickerSyncRMRMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.filehash&&c.filehash.length||(c.filehash=[]),c.filehash.push(t.string());break}case 2:{c.rmrSource=t.string();break}case 3:{c.requestTimestamp=t.int64();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.StickerSyncRMRMessage"},r}(),n.TemplateButtonReplyMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.selectedId="",r.prototype.selectedDisplayText="",r.prototype.contextInfo=null,r.prototype.selectedIndex=0,r.prototype.selectedCarouselCardIndex=0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.selectedId!=null&&Object.hasOwnProperty.call(t,"selectedId")&&i.uint32(10).string(t.selectedId),t.selectedDisplayText!=null&&Object.hasOwnProperty.call(t,"selectedDisplayText")&&i.uint32(18).string(t.selectedDisplayText),t.contextInfo!=null&&Object.hasOwnProperty.call(t,"contextInfo")&&u.proto.ContextInfo.encode(t.contextInfo,i.uint32(26).fork()).ldelim(),t.selectedIndex!=null&&Object.hasOwnProperty.call(t,"selectedIndex")&&i.uint32(32).uint32(t.selectedIndex),t.selectedCarouselCardIndex!=null&&Object.hasOwnProperty.call(t,"selectedCarouselCardIndex")&&i.uint32(40).uint32(t.selectedCarouselCardIndex),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.TemplateButtonReplyMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.selectedId=t.string();break}case 2:{c.selectedDisplayText=t.string();break}case 3:{c.contextInfo=u.proto.ContextInfo.decode(t,t.uint32());break}case 4:{c.selectedIndex=t.uint32();break}case 5:{c.selectedCarouselCardIndex=t.uint32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.TemplateButtonReplyMessage"},r}(),n.TemplateMessage=function(){function r(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}r.prototype.contextInfo=null,r.prototype.hydratedTemplate=null,r.prototype.templateId="",r.prototype.fourRowTemplate=null,r.prototype.hydratedFourRowTemplate=null,r.prototype.interactiveMessageTemplate=null;let e;return Object.defineProperty(r.prototype,"format",{get:h.oneOfGetter(e=["fourRowTemplate","hydratedFourRowTemplate","interactiveMessageTemplate"]),set:h.oneOfSetter(e)}),r.create=function(i){return new r(i)},r.encode=function(i,o){return o||(o=E.create()),i.fourRowTemplate!=null&&Object.hasOwnProperty.call(i,"fourRowTemplate")&&u.proto.Message.TemplateMessage.FourRowTemplate.encode(i.fourRowTemplate,o.uint32(10).fork()).ldelim(),i.hydratedFourRowTemplate!=null&&Object.hasOwnProperty.call(i,"hydratedFourRowTemplate")&&u.proto.Message.TemplateMessage.HydratedFourRowTemplate.encode(i.hydratedFourRowTemplate,o.uint32(18).fork()).ldelim(),i.contextInfo!=null&&Object.hasOwnProperty.call(i,"contextInfo")&&u.proto.ContextInfo.encode(i.contextInfo,o.uint32(26).fork()).ldelim(),i.hydratedTemplate!=null&&Object.hasOwnProperty.call(i,"hydratedTemplate")&&u.proto.Message.TemplateMessage.HydratedFourRowTemplate.encode(i.hydratedTemplate,o.uint32(34).fork()).ldelim(),i.interactiveMessageTemplate!=null&&Object.hasOwnProperty.call(i,"interactiveMessageTemplate")&&u.proto.Message.InteractiveMessage.encode(i.interactiveMessageTemplate,o.uint32(42).fork()).ldelim(),i.templateId!=null&&Object.hasOwnProperty.call(i,"templateId")&&o.uint32(74).string(i.templateId),o},r.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.Message.TemplateMessage;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 3:{l.contextInfo=u.proto.ContextInfo.decode(i,i.uint32());break}case 4:{l.hydratedTemplate=u.proto.Message.TemplateMessage.HydratedFourRowTemplate.decode(i,i.uint32());break}case 9:{l.templateId=i.string();break}case 1:{l.fourRowTemplate=u.proto.Message.TemplateMessage.FourRowTemplate.decode(i,i.uint32());break}case 2:{l.hydratedFourRowTemplate=u.proto.Message.TemplateMessage.HydratedFourRowTemplate.decode(i,i.uint32());break}case 5:{l.interactiveMessageTemplate=u.proto.Message.InteractiveMessage.decode(i,i.uint32());break}default:i.skipType(d&7);break}}return l},r.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.Message.TemplateMessage"},r.FourRowTemplate=function(){function t(o){if(this.buttons=[],o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]])}t.prototype.content=null,t.prototype.footer=null,t.prototype.buttons=h.emptyArray,t.prototype.documentMessage=null,t.prototype.highlyStructuredMessage=null,t.prototype.imageMessage=null,t.prototype.videoMessage=null,t.prototype.locationMessage=null;let i;return Object.defineProperty(t.prototype,"title",{get:h.oneOfGetter(i=["documentMessage","highlyStructuredMessage","imageMessage","videoMessage","locationMessage"]),set:h.oneOfSetter(i)}),t.create=function(s){return new t(s)},t.encode=function(s,c){if(c||(c=E.create()),s.documentMessage!=null&&Object.hasOwnProperty.call(s,"documentMessage")&&u.proto.Message.DocumentMessage.encode(s.documentMessage,c.uint32(10).fork()).ldelim(),s.highlyStructuredMessage!=null&&Object.hasOwnProperty.call(s,"highlyStructuredMessage")&&u.proto.Message.HighlyStructuredMessage.encode(s.highlyStructuredMessage,c.uint32(18).fork()).ldelim(),s.imageMessage!=null&&Object.hasOwnProperty.call(s,"imageMessage")&&u.proto.Message.ImageMessage.encode(s.imageMessage,c.uint32(26).fork()).ldelim(),s.videoMessage!=null&&Object.hasOwnProperty.call(s,"videoMessage")&&u.proto.Message.VideoMessage.encode(s.videoMessage,c.uint32(34).fork()).ldelim(),s.locationMessage!=null&&Object.hasOwnProperty.call(s,"locationMessage")&&u.proto.Message.LocationMessage.encode(s.locationMessage,c.uint32(42).fork()).ldelim(),s.content!=null&&Object.hasOwnProperty.call(s,"content")&&u.proto.Message.HighlyStructuredMessage.encode(s.content,c.uint32(50).fork()).ldelim(),s.footer!=null&&Object.hasOwnProperty.call(s,"footer")&&u.proto.Message.HighlyStructuredMessage.encode(s.footer,c.uint32(58).fork()).ldelim(),s.buttons!=null&&s.buttons.length)for(var l=0;l<s.buttons.length;++l)u.proto.TemplateButton.encode(s.buttons[l],c.uint32(66).fork()).ldelim();return c},t.decode=function(s,c,l){s instanceof p||(s=p.create(s));for(var d=c===void 0?s.len:s.pos+c,f=new u.proto.Message.TemplateMessage.FourRowTemplate;s.pos<d;){var g=s.uint32();if(g===l)break;switch(g>>>3){case 6:{f.content=u.proto.Message.HighlyStructuredMessage.decode(s,s.uint32());break}case 7:{f.footer=u.proto.Message.HighlyStructuredMessage.decode(s,s.uint32());break}case 8:{f.buttons&&f.buttons.length||(f.buttons=[]),f.buttons.push(u.proto.TemplateButton.decode(s,s.uint32()));break}case 1:{f.documentMessage=u.proto.Message.DocumentMessage.decode(s,s.uint32());break}case 2:{f.highlyStructuredMessage=u.proto.Message.HighlyStructuredMessage.decode(s,s.uint32());break}case 3:{f.imageMessage=u.proto.Message.ImageMessage.decode(s,s.uint32());break}case 4:{f.videoMessage=u.proto.Message.VideoMessage.decode(s,s.uint32());break}case 5:{f.locationMessage=u.proto.Message.LocationMessage.decode(s,s.uint32());break}default:s.skipType(g&7);break}}return f},t.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/proto.Message.TemplateMessage.FourRowTemplate"},t}(),r.HydratedFourRowTemplate=function(){function t(o){if(this.hydratedButtons=[],o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]])}t.prototype.hydratedContentText="",t.prototype.hydratedFooterText="",t.prototype.hydratedButtons=h.emptyArray,t.prototype.templateId="",t.prototype.maskLinkedDevices=!1,t.prototype.documentMessage=null,t.prototype.hydratedTitleText=null,t.prototype.imageMessage=null,t.prototype.videoMessage=null,t.prototype.locationMessage=null;let i;return Object.defineProperty(t.prototype,"title",{get:h.oneOfGetter(i=["documentMessage","hydratedTitleText","imageMessage","videoMessage","locationMessage"]),set:h.oneOfSetter(i)}),t.create=function(s){return new t(s)},t.encode=function(s,c){if(c||(c=E.create()),s.documentMessage!=null&&Object.hasOwnProperty.call(s,"documentMessage")&&u.proto.Message.DocumentMessage.encode(s.documentMessage,c.uint32(10).fork()).ldelim(),s.hydratedTitleText!=null&&Object.hasOwnProperty.call(s,"hydratedTitleText")&&c.uint32(18).string(s.hydratedTitleText),s.imageMessage!=null&&Object.hasOwnProperty.call(s,"imageMessage")&&u.proto.Message.ImageMessage.encode(s.imageMessage,c.uint32(26).fork()).ldelim(),s.videoMessage!=null&&Object.hasOwnProperty.call(s,"videoMessage")&&u.proto.Message.VideoMessage.encode(s.videoMessage,c.uint32(34).fork()).ldelim(),s.locationMessage!=null&&Object.hasOwnProperty.call(s,"locationMessage")&&u.proto.Message.LocationMessage.encode(s.locationMessage,c.uint32(42).fork()).ldelim(),s.hydratedContentText!=null&&Object.hasOwnProperty.call(s,"hydratedContentText")&&c.uint32(50).string(s.hydratedContentText),s.hydratedFooterText!=null&&Object.hasOwnProperty.call(s,"hydratedFooterText")&&c.uint32(58).string(s.hydratedFooterText),s.hydratedButtons!=null&&s.hydratedButtons.length)for(var l=0;l<s.hydratedButtons.length;++l)u.proto.HydratedTemplateButton.encode(s.hydratedButtons[l],c.uint32(66).fork()).ldelim();return s.templateId!=null&&Object.hasOwnProperty.call(s,"templateId")&&c.uint32(74).string(s.templateId),s.maskLinkedDevices!=null&&Object.hasOwnProperty.call(s,"maskLinkedDevices")&&c.uint32(80).bool(s.maskLinkedDevices),c},t.decode=function(s,c,l){s instanceof p||(s=p.create(s));for(var d=c===void 0?s.len:s.pos+c,f=new u.proto.Message.TemplateMessage.HydratedFourRowTemplate;s.pos<d;){var g=s.uint32();if(g===l)break;switch(g>>>3){case 6:{f.hydratedContentText=s.string();break}case 7:{f.hydratedFooterText=s.string();break}case 8:{f.hydratedButtons&&f.hydratedButtons.length||(f.hydratedButtons=[]),f.hydratedButtons.push(u.proto.HydratedTemplateButton.decode(s,s.uint32()));break}case 9:{f.templateId=s.string();break}case 10:{f.maskLinkedDevices=s.bool();break}case 1:{f.documentMessage=u.proto.Message.DocumentMessage.decode(s,s.uint32());break}case 2:{f.hydratedTitleText=s.string();break}case 3:{f.imageMessage=u.proto.Message.ImageMessage.decode(s,s.uint32());break}case 4:{f.videoMessage=u.proto.Message.VideoMessage.decode(s,s.uint32());break}case 5:{f.locationMessage=u.proto.Message.LocationMessage.decode(s,s.uint32());break}default:s.skipType(g&7);break}}return f},t.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/proto.Message.TemplateMessage.HydratedFourRowTemplate"},t}(),r}(),n.URLMetadata=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.fbExperimentId=0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.fbExperimentId!=null&&Object.hasOwnProperty.call(t,"fbExperimentId")&&i.uint32(8).uint32(t.fbExperimentId),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.URLMetadata;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.fbExperimentId=t.uint32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.URLMetadata"},r}(),n.VideoMessage=function(){function r(e){if(this.interactiveAnnotations=[],this.annotations=[],this.processedVideos=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.url="",r.prototype.mimetype="",r.prototype.fileSha256=h.newBuffer([]),r.prototype.fileLength=h.Long?h.Long.fromBits(0,0,!0):0,r.prototype.seconds=0,r.prototype.mediaKey=h.newBuffer([]),r.prototype.caption="",r.prototype.gifPlayback=!1,r.prototype.height=0,r.prototype.width=0,r.prototype.fileEncSha256=h.newBuffer([]),r.prototype.interactiveAnnotations=h.emptyArray,r.prototype.directPath="",r.prototype.mediaKeyTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.jpegThumbnail=h.newBuffer([]),r.prototype.contextInfo=null,r.prototype.streamingSidecar=h.newBuffer([]),r.prototype.gifAttribution=0,r.prototype.viewOnce=!1,r.prototype.thumbnailDirectPath="",r.prototype.thumbnailSha256=h.newBuffer([]),r.prototype.thumbnailEncSha256=h.newBuffer([]),r.prototype.staticUrl="",r.prototype.annotations=h.emptyArray,r.prototype.accessibilityLabel="",r.prototype.processedVideos=h.emptyArray,r.prototype.externalShareFullVideoDurationInSeconds=0,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.url!=null&&Object.hasOwnProperty.call(t,"url")&&i.uint32(10).string(t.url),t.mimetype!=null&&Object.hasOwnProperty.call(t,"mimetype")&&i.uint32(18).string(t.mimetype),t.fileSha256!=null&&Object.hasOwnProperty.call(t,"fileSha256")&&i.uint32(26).bytes(t.fileSha256),t.fileLength!=null&&Object.hasOwnProperty.call(t,"fileLength")&&i.uint32(32).uint64(t.fileLength),t.seconds!=null&&Object.hasOwnProperty.call(t,"seconds")&&i.uint32(40).uint32(t.seconds),t.mediaKey!=null&&Object.hasOwnProperty.call(t,"mediaKey")&&i.uint32(50).bytes(t.mediaKey),t.caption!=null&&Object.hasOwnProperty.call(t,"caption")&&i.uint32(58).string(t.caption),t.gifPlayback!=null&&Object.hasOwnProperty.call(t,"gifPlayback")&&i.uint32(64).bool(t.gifPlayback),t.height!=null&&Object.hasOwnProperty.call(t,"height")&&i.uint32(72).uint32(t.height),t.width!=null&&Object.hasOwnProperty.call(t,"width")&&i.uint32(80).uint32(t.width),t.fileEncSha256!=null&&Object.hasOwnProperty.call(t,"fileEncSha256")&&i.uint32(90).bytes(t.fileEncSha256),t.interactiveAnnotations!=null&&t.interactiveAnnotations.length)for(var o=0;o<t.interactiveAnnotations.length;++o)u.proto.InteractiveAnnotation.encode(t.interactiveAnnotations[o],i.uint32(98).fork()).ldelim();if(t.directPath!=null&&Object.hasOwnProperty.call(t,"directPath")&&i.uint32(106).string(t.directPath),t.mediaKeyTimestamp!=null&&Object.hasOwnProperty.call(t,"mediaKeyTimestamp")&&i.uint32(112).int64(t.mediaKeyTimestamp),t.jpegThumbnail!=null&&Object.hasOwnProperty.call(t,"jpegThumbnail")&&i.uint32(130).bytes(t.jpegThumbnail),t.contextInfo!=null&&Object.hasOwnProperty.call(t,"contextInfo")&&u.proto.ContextInfo.encode(t.contextInfo,i.uint32(138).fork()).ldelim(),t.streamingSidecar!=null&&Object.hasOwnProperty.call(t,"streamingSidecar")&&i.uint32(146).bytes(t.streamingSidecar),t.gifAttribution!=null&&Object.hasOwnProperty.call(t,"gifAttribution")&&i.uint32(152).int32(t.gifAttribution),t.viewOnce!=null&&Object.hasOwnProperty.call(t,"viewOnce")&&i.uint32(160).bool(t.viewOnce),t.thumbnailDirectPath!=null&&Object.hasOwnProperty.call(t,"thumbnailDirectPath")&&i.uint32(170).string(t.thumbnailDirectPath),t.thumbnailSha256!=null&&Object.hasOwnProperty.call(t,"thumbnailSha256")&&i.uint32(178).bytes(t.thumbnailSha256),t.thumbnailEncSha256!=null&&Object.hasOwnProperty.call(t,"thumbnailEncSha256")&&i.uint32(186).bytes(t.thumbnailEncSha256),t.staticUrl!=null&&Object.hasOwnProperty.call(t,"staticUrl")&&i.uint32(194).string(t.staticUrl),t.annotations!=null&&t.annotations.length)for(var o=0;o<t.annotations.length;++o)u.proto.InteractiveAnnotation.encode(t.annotations[o],i.uint32(202).fork()).ldelim();if(t.accessibilityLabel!=null&&Object.hasOwnProperty.call(t,"accessibilityLabel")&&i.uint32(210).string(t.accessibilityLabel),t.processedVideos!=null&&t.processedVideos.length)for(var o=0;o<t.processedVideos.length;++o)u.proto.ProcessedVideo.encode(t.processedVideos[o],i.uint32(218).fork()).ldelim();return t.externalShareFullVideoDurationInSeconds!=null&&Object.hasOwnProperty.call(t,"externalShareFullVideoDurationInSeconds")&&i.uint32(224).uint32(t.externalShareFullVideoDurationInSeconds),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.Message.VideoMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.url=t.string();break}case 2:{c.mimetype=t.string();break}case 3:{c.fileSha256=t.bytes();break}case 4:{c.fileLength=t.uint64();break}case 5:{c.seconds=t.uint32();break}case 6:{c.mediaKey=t.bytes();break}case 7:{c.caption=t.string();break}case 8:{c.gifPlayback=t.bool();break}case 9:{c.height=t.uint32();break}case 10:{c.width=t.uint32();break}case 11:{c.fileEncSha256=t.bytes();break}case 12:{c.interactiveAnnotations&&c.interactiveAnnotations.length||(c.interactiveAnnotations=[]),c.interactiveAnnotations.push(u.proto.InteractiveAnnotation.decode(t,t.uint32()));break}case 13:{c.directPath=t.string();break}case 14:{c.mediaKeyTimestamp=t.int64();break}case 16:{c.jpegThumbnail=t.bytes();break}case 17:{c.contextInfo=u.proto.ContextInfo.decode(t,t.uint32());break}case 18:{c.streamingSidecar=t.bytes();break}case 19:{c.gifAttribution=t.int32();break}case 20:{c.viewOnce=t.bool();break}case 21:{c.thumbnailDirectPath=t.string();break}case 22:{c.thumbnailSha256=t.bytes();break}case 23:{c.thumbnailEncSha256=t.bytes();break}case 24:{c.staticUrl=t.string();break}case 25:{c.annotations&&c.annotations.length||(c.annotations=[]),c.annotations.push(u.proto.InteractiveAnnotation.decode(t,t.uint32()));break}case 26:{c.accessibilityLabel=t.string();break}case 27:{c.processedVideos&&c.processedVideos.length||(c.processedVideos=[]),c.processedVideos.push(u.proto.ProcessedVideo.decode(t,t.uint32()));break}case 28:{c.externalShareFullVideoDurationInSeconds=t.uint32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.Message.VideoMessage"},r.Attribution=function(){let e={},t=Object.create(e);return t[e[0]="NONE"]=0,t[e[1]="GIPHY"]=1,t[e[2]="TENOR"]=2,t}(),r}(),n}(),a.MessageAddOn=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.messageAddOnType=0,n.prototype.messageAddOn=null,n.prototype.senderTimestampMs=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.serverTimestampMs=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.status=0,n.prototype.addOnContextInfo=null,n.prototype.messageAddOnKey=null,n.prototype.legacyMessage=null,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.messageAddOnType!=null&&Object.hasOwnProperty.call(e,"messageAddOnType")&&t.uint32(8).int32(e.messageAddOnType),e.messageAddOn!=null&&Object.hasOwnProperty.call(e,"messageAddOn")&&u.proto.Message.encode(e.messageAddOn,t.uint32(18).fork()).ldelim(),e.senderTimestampMs!=null&&Object.hasOwnProperty.call(e,"senderTimestampMs")&&t.uint32(24).int64(e.senderTimestampMs),e.serverTimestampMs!=null&&Object.hasOwnProperty.call(e,"serverTimestampMs")&&t.uint32(32).int64(e.serverTimestampMs),e.status!=null&&Object.hasOwnProperty.call(e,"status")&&t.uint32(40).int32(e.status),e.addOnContextInfo!=null&&Object.hasOwnProperty.call(e,"addOnContextInfo")&&u.proto.MessageAddOnContextInfo.encode(e.addOnContextInfo,t.uint32(50).fork()).ldelim(),e.messageAddOnKey!=null&&Object.hasOwnProperty.call(e,"messageAddOnKey")&&u.proto.MessageKey.encode(e.messageAddOnKey,t.uint32(58).fork()).ldelim(),e.legacyMessage!=null&&Object.hasOwnProperty.call(e,"legacyMessage")&&u.proto.LegacyMessage.encode(e.legacyMessage,t.uint32(66).fork()).ldelim(),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.MessageAddOn;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.messageAddOnType=e.int32();break}case 2:{s.messageAddOn=u.proto.Message.decode(e,e.uint32());break}case 3:{s.senderTimestampMs=e.int64();break}case 4:{s.serverTimestampMs=e.int64();break}case 5:{s.status=e.int32();break}case 6:{s.addOnContextInfo=u.proto.MessageAddOnContextInfo.decode(e,e.uint32());break}case 7:{s.messageAddOnKey=u.proto.MessageKey.decode(e,e.uint32());break}case 8:{s.legacyMessage=u.proto.LegacyMessage.decode(e,e.uint32());break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.MessageAddOn"},n.MessageAddOnType=function(){let r={},e=Object.create(r);return e[r[0]="UNDEFINED"]=0,e[r[1]="REACTION"]=1,e[r[2]="EVENT_RESPONSE"]=2,e[r[3]="POLL_UPDATE"]=3,e[r[4]="PIN_IN_CHAT"]=4,e}(),n}(),a.MessageAddOnContextInfo=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.messageAddOnDurationInSecs=0,n.prototype.messageAddOnExpiryType=1,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.messageAddOnDurationInSecs!=null&&Object.hasOwnProperty.call(e,"messageAddOnDurationInSecs")&&t.uint32(8).uint32(e.messageAddOnDurationInSecs),e.messageAddOnExpiryType!=null&&Object.hasOwnProperty.call(e,"messageAddOnExpiryType")&&t.uint32(16).int32(e.messageAddOnExpiryType),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.MessageAddOnContextInfo;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.messageAddOnDurationInSecs=e.uint32();break}case 2:{s.messageAddOnExpiryType=e.int32();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.MessageAddOnContextInfo"},n}(),a.MessageAssociation=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.associationType=0,n.prototype.parentMessageKey=null,n.prototype.messageIndex=0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.associationType!=null&&Object.hasOwnProperty.call(e,"associationType")&&t.uint32(8).int32(e.associationType),e.parentMessageKey!=null&&Object.hasOwnProperty.call(e,"parentMessageKey")&&u.proto.MessageKey.encode(e.parentMessageKey,t.uint32(18).fork()).ldelim(),e.messageIndex!=null&&Object.hasOwnProperty.call(e,"messageIndex")&&t.uint32(24).int32(e.messageIndex),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.MessageAssociation;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.associationType=e.int32();break}case 2:{s.parentMessageKey=u.proto.MessageKey.decode(e,e.uint32());break}case 3:{s.messageIndex=e.int32();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.MessageAssociation"},n.AssociationType=function(){let r={},e=Object.create(r);return e[r[0]="UNKNOWN"]=0,e[r[1]="MEDIA_ALBUM"]=1,e[r[2]="BOT_PLUGIN"]=2,e[r[3]="EVENT_COVER_IMAGE"]=3,e[r[4]="STATUS_POLL"]=4,e[r[5]="HD_VIDEO_DUAL_UPLOAD"]=5,e[r[6]="STATUS_EXTERNAL_RESHARE"]=6,e[r[7]="MEDIA_POLL"]=7,e[r[8]="STATUS_ADD_YOURS"]=8,e[r[9]="STATUS_NOTIFICATION"]=9,e[r[10]="HD_IMAGE_DUAL_UPLOAD"]=10,e[r[11]="STICKER_ANNOTATION"]=11,e[r[12]="MOTION_PHOTO"]=12,e[r[13]="STATUS_LINK_ACTION"]=13,e[r[14]="VIEW_ALL_REPLIES"]=14,e}(),n}(),a.MessageContextInfo=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.deviceListMetadata=null,n.prototype.deviceListMetadataVersion=0,n.prototype.messageSecret=h.newBuffer([]),n.prototype.paddingBytes=h.newBuffer([]),n.prototype.messageAddOnDurationInSecs=0,n.prototype.botMessageSecret=h.newBuffer([]),n.prototype.botMetadata=null,n.prototype.reportingTokenVersion=0,n.prototype.messageAddOnExpiryType=1,n.prototype.messageAssociation=null,n.prototype.capiCreatedGroup=!1,n.prototype.supportPayload="",n.prototype.limitSharing=null,n.prototype.limitSharingV2=null,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.deviceListMetadata!=null&&Object.hasOwnProperty.call(e,"deviceListMetadata")&&u.proto.DeviceListMetadata.encode(e.deviceListMetadata,t.uint32(10).fork()).ldelim(),e.deviceListMetadataVersion!=null&&Object.hasOwnProperty.call(e,"deviceListMetadataVersion")&&t.uint32(16).int32(e.deviceListMetadataVersion),e.messageSecret!=null&&Object.hasOwnProperty.call(e,"messageSecret")&&t.uint32(26).bytes(e.messageSecret),e.paddingBytes!=null&&Object.hasOwnProperty.call(e,"paddingBytes")&&t.uint32(34).bytes(e.paddingBytes),e.messageAddOnDurationInSecs!=null&&Object.hasOwnProperty.call(e,"messageAddOnDurationInSecs")&&t.uint32(40).uint32(e.messageAddOnDurationInSecs),e.botMessageSecret!=null&&Object.hasOwnProperty.call(e,"botMessageSecret")&&t.uint32(50).bytes(e.botMessageSecret),e.botMetadata!=null&&Object.hasOwnProperty.call(e,"botMetadata")&&u.proto.BotMetadata.encode(e.botMetadata,t.uint32(58).fork()).ldelim(),e.reportingTokenVersion!=null&&Object.hasOwnProperty.call(e,"reportingTokenVersion")&&t.uint32(64).int32(e.reportingTokenVersion),e.messageAddOnExpiryType!=null&&Object.hasOwnProperty.call(e,"messageAddOnExpiryType")&&t.uint32(72).int32(e.messageAddOnExpiryType),e.messageAssociation!=null&&Object.hasOwnProperty.call(e,"messageAssociation")&&u.proto.MessageAssociation.encode(e.messageAssociation,t.uint32(82).fork()).ldelim(),e.capiCreatedGroup!=null&&Object.hasOwnProperty.call(e,"capiCreatedGroup")&&t.uint32(88).bool(e.capiCreatedGroup),e.supportPayload!=null&&Object.hasOwnProperty.call(e,"supportPayload")&&t.uint32(98).string(e.supportPayload),e.limitSharing!=null&&Object.hasOwnProperty.call(e,"limitSharing")&&u.proto.LimitSharing.encode(e.limitSharing,t.uint32(106).fork()).ldelim(),e.limitSharingV2!=null&&Object.hasOwnProperty.call(e,"limitSharingV2")&&u.proto.LimitSharing.encode(e.limitSharingV2,t.uint32(114).fork()).ldelim(),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.MessageContextInfo;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.deviceListMetadata=u.proto.DeviceListMetadata.decode(e,e.uint32());break}case 2:{s.deviceListMetadataVersion=e.int32();break}case 3:{s.messageSecret=e.bytes();break}case 4:{s.paddingBytes=e.bytes();break}case 5:{s.messageAddOnDurationInSecs=e.uint32();break}case 6:{s.botMessageSecret=e.bytes();break}case 7:{s.botMetadata=u.proto.BotMetadata.decode(e,e.uint32());break}case 8:{s.reportingTokenVersion=e.int32();break}case 9:{s.messageAddOnExpiryType=e.int32();break}case 10:{s.messageAssociation=u.proto.MessageAssociation.decode(e,e.uint32());break}case 11:{s.capiCreatedGroup=e.bool();break}case 12:{s.supportPayload=e.string();break}case 13:{s.limitSharing=u.proto.LimitSharing.decode(e,e.uint32());break}case 14:{s.limitSharingV2=u.proto.LimitSharing.decode(e,e.uint32());break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.MessageContextInfo"},n.MessageAddonExpiryType=function(){let r={},e=Object.create(r);return e[r[1]="STATIC"]=1,e[r[2]="DEPENDENT_ON_PARENT"]=2,e}(),n}(),a.MessageKey=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.remoteJid="",n.prototype.fromMe=!1,n.prototype.id="",n.prototype.participant="",n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.remoteJid!=null&&Object.hasOwnProperty.call(e,"remoteJid")&&t.uint32(10).string(e.remoteJid),e.fromMe!=null&&Object.hasOwnProperty.call(e,"fromMe")&&t.uint32(16).bool(e.fromMe),e.id!=null&&Object.hasOwnProperty.call(e,"id")&&t.uint32(26).string(e.id),e.participant!=null&&Object.hasOwnProperty.call(e,"participant")&&t.uint32(34).string(e.participant),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.MessageKey;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.remoteJid=e.string();break}case 2:{s.fromMe=e.bool();break}case 3:{s.id=e.string();break}case 4:{s.participant=e.string();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.MessageKey"},n}(),a.MessageSecretMessage=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.version=0,n.prototype.encIv=h.newBuffer([]),n.prototype.encPayload=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.version!=null&&Object.hasOwnProperty.call(e,"version")&&t.uint32(13).sfixed32(e.version),e.encIv!=null&&Object.hasOwnProperty.call(e,"encIv")&&t.uint32(18).bytes(e.encIv),e.encPayload!=null&&Object.hasOwnProperty.call(e,"encPayload")&&t.uint32(26).bytes(e.encPayload),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.MessageSecretMessage;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.version=e.sfixed32();break}case 2:{s.encIv=e.bytes();break}case 3:{s.encPayload=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.MessageSecretMessage"},n}(),a.Money=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.value=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.offset=0,n.prototype.currencyCode="",n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&t.uint32(8).int64(e.value),e.offset!=null&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(16).uint32(e.offset),e.currencyCode!=null&&Object.hasOwnProperty.call(e,"currencyCode")&&t.uint32(26).string(e.currencyCode),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.Money;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.value=e.int64();break}case 2:{s.offset=e.uint32();break}case 3:{s.currencyCode=e.string();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.Money"},n}(),a.MsgOpaqueData=function(){function n(r){if(this.pollOptions=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.body="",n.prototype.caption="",n.prototype.lng=0,n.prototype.isLive=!1,n.prototype.lat=0,n.prototype.paymentAmount1000=0,n.prototype.paymentNoteMsgBody="",n.prototype.matchedText="",n.prototype.title="",n.prototype.description="",n.prototype.futureproofBuffer=h.newBuffer([]),n.prototype.clientUrl="",n.prototype.loc="",n.prototype.pollName="",n.prototype.pollOptions=h.emptyArray,n.prototype.pollSelectableOptionsCount=0,n.prototype.messageSecret=h.newBuffer([]),n.prototype.originalSelfAuthor="",n.prototype.senderTimestampMs=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.pollUpdateParentKey="",n.prototype.encPollVote=null,n.prototype.isSentCagPollCreation=!1,n.prototype.pollContentType=0,n.prototype.pollVotesSnapshot=null,n.prototype.encReactionTargetMessageKey="",n.prototype.encReactionEncPayload=h.newBuffer([]),n.prototype.encReactionEncIv=h.newBuffer([]),n.prototype.botMessageSecret=h.newBuffer([]),n.prototype.targetMessageKey="",n.prototype.encPayload=h.newBuffer([]),n.prototype.encIv=h.newBuffer([]),n.prototype.eventName="",n.prototype.isEventCanceled=!1,n.prototype.eventDescription="",n.prototype.eventJoinLink="",n.prototype.eventStartTime=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.eventLocation=null,n.prototype.eventEndTime=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.plainProtobufBytes=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.body!=null&&Object.hasOwnProperty.call(e,"body")&&t.uint32(10).string(e.body),e.caption!=null&&Object.hasOwnProperty.call(e,"caption")&&t.uint32(26).string(e.caption),e.lng!=null&&Object.hasOwnProperty.call(e,"lng")&&t.uint32(41).double(e.lng),e.isLive!=null&&Object.hasOwnProperty.call(e,"isLive")&&t.uint32(48).bool(e.isLive),e.lat!=null&&Object.hasOwnProperty.call(e,"lat")&&t.uint32(57).double(e.lat),e.paymentAmount1000!=null&&Object.hasOwnProperty.call(e,"paymentAmount1000")&&t.uint32(64).int32(e.paymentAmount1000),e.paymentNoteMsgBody!=null&&Object.hasOwnProperty.call(e,"paymentNoteMsgBody")&&t.uint32(74).string(e.paymentNoteMsgBody),e.matchedText!=null&&Object.hasOwnProperty.call(e,"matchedText")&&t.uint32(90).string(e.matchedText),e.title!=null&&Object.hasOwnProperty.call(e,"title")&&t.uint32(98).string(e.title),e.description!=null&&Object.hasOwnProperty.call(e,"description")&&t.uint32(106).string(e.description),e.futureproofBuffer!=null&&Object.hasOwnProperty.call(e,"futureproofBuffer")&&t.uint32(114).bytes(e.futureproofBuffer),e.clientUrl!=null&&Object.hasOwnProperty.call(e,"clientUrl")&&t.uint32(122).string(e.clientUrl),e.loc!=null&&Object.hasOwnProperty.call(e,"loc")&&t.uint32(130).string(e.loc),e.pollName!=null&&Object.hasOwnProperty.call(e,"pollName")&&t.uint32(138).string(e.pollName),e.pollOptions!=null&&e.pollOptions.length)for(var i=0;i<e.pollOptions.length;++i)u.proto.MsgOpaqueData.PollOption.encode(e.pollOptions[i],t.uint32(146).fork()).ldelim();return e.pollSelectableOptionsCount!=null&&Object.hasOwnProperty.call(e,"pollSelectableOptionsCount")&&t.uint32(160).uint32(e.pollSelectableOptionsCount),e.messageSecret!=null&&Object.hasOwnProperty.call(e,"messageSecret")&&t.uint32(170).bytes(e.messageSecret),e.senderTimestampMs!=null&&Object.hasOwnProperty.call(e,"senderTimestampMs")&&t.uint32(176).int64(e.senderTimestampMs),e.pollUpdateParentKey!=null&&Object.hasOwnProperty.call(e,"pollUpdateParentKey")&&t.uint32(186).string(e.pollUpdateParentKey),e.encPollVote!=null&&Object.hasOwnProperty.call(e,"encPollVote")&&u.proto.PollEncValue.encode(e.encPollVote,t.uint32(194).fork()).ldelim(),e.encReactionTargetMessageKey!=null&&Object.hasOwnProperty.call(e,"encReactionTargetMessageKey")&&t.uint32(202).string(e.encReactionTargetMessageKey),e.encReactionEncPayload!=null&&Object.hasOwnProperty.call(e,"encReactionEncPayload")&&t.uint32(210).bytes(e.encReactionEncPayload),e.encReactionEncIv!=null&&Object.hasOwnProperty.call(e,"encReactionEncIv")&&t.uint32(218).bytes(e.encReactionEncIv),e.isSentCagPollCreation!=null&&Object.hasOwnProperty.call(e,"isSentCagPollCreation")&&t.uint32(224).bool(e.isSentCagPollCreation),e.botMessageSecret!=null&&Object.hasOwnProperty.call(e,"botMessageSecret")&&t.uint32(234).bytes(e.botMessageSecret),e.targetMessageKey!=null&&Object.hasOwnProperty.call(e,"targetMessageKey")&&t.uint32(242).string(e.targetMessageKey),e.encPayload!=null&&Object.hasOwnProperty.call(e,"encPayload")&&t.uint32(250).bytes(e.encPayload),e.encIv!=null&&Object.hasOwnProperty.call(e,"encIv")&&t.uint32(258).bytes(e.encIv),e.eventName!=null&&Object.hasOwnProperty.call(e,"eventName")&&t.uint32(266).string(e.eventName),e.isEventCanceled!=null&&Object.hasOwnProperty.call(e,"isEventCanceled")&&t.uint32(272).bool(e.isEventCanceled),e.eventDescription!=null&&Object.hasOwnProperty.call(e,"eventDescription")&&t.uint32(282).string(e.eventDescription),e.eventJoinLink!=null&&Object.hasOwnProperty.call(e,"eventJoinLink")&&t.uint32(290).string(e.eventJoinLink),e.eventStartTime!=null&&Object.hasOwnProperty.call(e,"eventStartTime")&&t.uint32(296).int64(e.eventStartTime),e.eventLocation!=null&&Object.hasOwnProperty.call(e,"eventLocation")&&u.proto.MsgOpaqueData.EventLocation.encode(e.eventLocation,t.uint32(306).fork()).ldelim(),e.eventEndTime!=null&&Object.hasOwnProperty.call(e,"eventEndTime")&&t.uint32(320).int64(e.eventEndTime),e.pollVotesSnapshot!=null&&Object.hasOwnProperty.call(e,"pollVotesSnapshot")&&u.proto.MsgOpaqueData.PollVotesSnapshot.encode(e.pollVotesSnapshot,t.uint32(330).fork()).ldelim(),e.pollContentType!=null&&Object.hasOwnProperty.call(e,"pollContentType")&&t.uint32(336).int32(e.pollContentType),e.plainProtobufBytes!=null&&Object.hasOwnProperty.call(e,"plainProtobufBytes")&&t.uint32(346).bytes(e.plainProtobufBytes),e.originalSelfAuthor!=null&&Object.hasOwnProperty.call(e,"originalSelfAuthor")&&t.uint32(410).string(e.originalSelfAuthor),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.MsgOpaqueData;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.body=e.string();break}case 3:{s.caption=e.string();break}case 5:{s.lng=e.double();break}case 6:{s.isLive=e.bool();break}case 7:{s.lat=e.double();break}case 8:{s.paymentAmount1000=e.int32();break}case 9:{s.paymentNoteMsgBody=e.string();break}case 11:{s.matchedText=e.string();break}case 12:{s.title=e.string();break}case 13:{s.description=e.string();break}case 14:{s.futureproofBuffer=e.bytes();break}case 15:{s.clientUrl=e.string();break}case 16:{s.loc=e.string();break}case 17:{s.pollName=e.string();break}case 18:{s.pollOptions&&s.pollOptions.length||(s.pollOptions=[]),s.pollOptions.push(u.proto.MsgOpaqueData.PollOption.decode(e,e.uint32()));break}case 20:{s.pollSelectableOptionsCount=e.uint32();break}case 21:{s.messageSecret=e.bytes();break}case 51:{s.originalSelfAuthor=e.string();break}case 22:{s.senderTimestampMs=e.int64();break}case 23:{s.pollUpdateParentKey=e.string();break}case 24:{s.encPollVote=u.proto.PollEncValue.decode(e,e.uint32());break}case 28:{s.isSentCagPollCreation=e.bool();break}case 42:{s.pollContentType=e.int32();break}case 41:{s.pollVotesSnapshot=u.proto.MsgOpaqueData.PollVotesSnapshot.decode(e,e.uint32());break}case 25:{s.encReactionTargetMessageKey=e.string();break}case 26:{s.encReactionEncPayload=e.bytes();break}case 27:{s.encReactionEncIv=e.bytes();break}case 29:{s.botMessageSecret=e.bytes();break}case 30:{s.targetMessageKey=e.string();break}case 31:{s.encPayload=e.bytes();break}case 32:{s.encIv=e.bytes();break}case 33:{s.eventName=e.string();break}case 34:{s.isEventCanceled=e.bool();break}case 35:{s.eventDescription=e.string();break}case 36:{s.eventJoinLink=e.string();break}case 37:{s.eventStartTime=e.int64();break}case 38:{s.eventLocation=u.proto.MsgOpaqueData.EventLocation.decode(e,e.uint32());break}case 40:{s.eventEndTime=e.int64();break}case 43:{s.plainProtobufBytes=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.MsgOpaqueData"},n.EventLocation=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.degreesLatitude=0,r.prototype.degreesLongitude=0,r.prototype.name="",r.prototype.address="",r.prototype.url="",r.prototype.jpegThumbnail=h.newBuffer([]),r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.degreesLatitude!=null&&Object.hasOwnProperty.call(t,"degreesLatitude")&&i.uint32(9).double(t.degreesLatitude),t.degreesLongitude!=null&&Object.hasOwnProperty.call(t,"degreesLongitude")&&i.uint32(17).double(t.degreesLongitude),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&i.uint32(26).string(t.name),t.address!=null&&Object.hasOwnProperty.call(t,"address")&&i.uint32(34).string(t.address),t.url!=null&&Object.hasOwnProperty.call(t,"url")&&i.uint32(42).string(t.url),t.jpegThumbnail!=null&&Object.hasOwnProperty.call(t,"jpegThumbnail")&&i.uint32(50).bytes(t.jpegThumbnail),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.MsgOpaqueData.EventLocation;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.degreesLatitude=t.double();break}case 2:{c.degreesLongitude=t.double();break}case 3:{c.name=t.string();break}case 4:{c.address=t.string();break}case 5:{c.url=t.string();break}case 6:{c.jpegThumbnail=t.bytes();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.MsgOpaqueData.EventLocation"},r}(),n.PollContentType=function(){let r={},e=Object.create(r);return e[r[0]="UNKNOWN"]=0,e[r[1]="TEXT"]=1,e[r[2]="IMAGE"]=2,e}(),n.PollOption=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.name="",r.prototype.hash="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&i.uint32(10).string(t.name),t.hash!=null&&Object.hasOwnProperty.call(t,"hash")&&i.uint32(18).string(t.hash),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.MsgOpaqueData.PollOption;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.name=t.string();break}case 2:{c.hash=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.MsgOpaqueData.PollOption"},r}(),n.PollVoteSnapshot=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.option=null,r.prototype.optionVoteCount=0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.option!=null&&Object.hasOwnProperty.call(t,"option")&&u.proto.MsgOpaqueData.PollOption.encode(t.option,i.uint32(10).fork()).ldelim(),t.optionVoteCount!=null&&Object.hasOwnProperty.call(t,"optionVoteCount")&&i.uint32(16).int32(t.optionVoteCount),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.MsgOpaqueData.PollVoteSnapshot;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.option=u.proto.MsgOpaqueData.PollOption.decode(t,t.uint32());break}case 2:{c.optionVoteCount=t.int32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.MsgOpaqueData.PollVoteSnapshot"},r}(),n.PollVotesSnapshot=function(){function r(e){if(this.pollVotes=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.pollVotes=h.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.pollVotes!=null&&t.pollVotes.length)for(var o=0;o<t.pollVotes.length;++o)u.proto.MsgOpaqueData.PollVoteSnapshot.encode(t.pollVotes[o],i.uint32(10).fork()).ldelim();return i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.MsgOpaqueData.PollVotesSnapshot;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.pollVotes&&c.pollVotes.length||(c.pollVotes=[]),c.pollVotes.push(u.proto.MsgOpaqueData.PollVoteSnapshot.decode(t,t.uint32()));break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.MsgOpaqueData.PollVotesSnapshot"},r}(),n}(),a.MsgRowOpaqueData=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.currentMsg=null,n.prototype.quotedMsg=null,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.currentMsg!=null&&Object.hasOwnProperty.call(e,"currentMsg")&&u.proto.MsgOpaqueData.encode(e.currentMsg,t.uint32(10).fork()).ldelim(),e.quotedMsg!=null&&Object.hasOwnProperty.call(e,"quotedMsg")&&u.proto.MsgOpaqueData.encode(e.quotedMsg,t.uint32(18).fork()).ldelim(),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.MsgRowOpaqueData;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.currentMsg=u.proto.MsgOpaqueData.decode(e,e.uint32());break}case 2:{s.quotedMsg=u.proto.MsgOpaqueData.decode(e,e.uint32());break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.MsgRowOpaqueData"},n}(),a.NoiseCertificate=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.details=h.newBuffer([]),n.prototype.signature=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.details!=null&&Object.hasOwnProperty.call(e,"details")&&t.uint32(10).bytes(e.details),e.signature!=null&&Object.hasOwnProperty.call(e,"signature")&&t.uint32(18).bytes(e.signature),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.NoiseCertificate;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.details=e.bytes();break}case 2:{s.signature=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.NoiseCertificate"},n.Details=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.serial=0,r.prototype.issuer="",r.prototype.expires=h.Long?h.Long.fromBits(0,0,!0):0,r.prototype.subject="",r.prototype.key=h.newBuffer([]),r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.serial!=null&&Object.hasOwnProperty.call(t,"serial")&&i.uint32(8).uint32(t.serial),t.issuer!=null&&Object.hasOwnProperty.call(t,"issuer")&&i.uint32(18).string(t.issuer),t.expires!=null&&Object.hasOwnProperty.call(t,"expires")&&i.uint32(24).uint64(t.expires),t.subject!=null&&Object.hasOwnProperty.call(t,"subject")&&i.uint32(34).string(t.subject),t.key!=null&&Object.hasOwnProperty.call(t,"key")&&i.uint32(42).bytes(t.key),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.NoiseCertificate.Details;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.serial=t.uint32();break}case 2:{c.issuer=t.string();break}case 3:{c.expires=t.uint64();break}case 4:{c.subject=t.string();break}case 5:{c.key=t.bytes();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.NoiseCertificate.Details"},r}(),n}(),a.NotificationMessageInfo=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.key=null,n.prototype.message=null,n.prototype.messageTimestamp=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.participant="",n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.key!=null&&Object.hasOwnProperty.call(e,"key")&&u.proto.MessageKey.encode(e.key,t.uint32(10).fork()).ldelim(),e.message!=null&&Object.hasOwnProperty.call(e,"message")&&u.proto.Message.encode(e.message,t.uint32(18).fork()).ldelim(),e.messageTimestamp!=null&&Object.hasOwnProperty.call(e,"messageTimestamp")&&t.uint32(24).uint64(e.messageTimestamp),e.participant!=null&&Object.hasOwnProperty.call(e,"participant")&&t.uint32(34).string(e.participant),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.NotificationMessageInfo;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.key=u.proto.MessageKey.decode(e,e.uint32());break}case 2:{s.message=u.proto.Message.decode(e,e.uint32());break}case 3:{s.messageTimestamp=e.uint64();break}case 4:{s.participant=e.string();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.NotificationMessageInfo"},n}(),a.NotificationSettings=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.messageVibrate="",n.prototype.messagePopup="",n.prototype.messageLight="",n.prototype.lowPriorityNotifications=!1,n.prototype.reactionsMuted=!1,n.prototype.callVibrate="",n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.messageVibrate!=null&&Object.hasOwnProperty.call(e,"messageVibrate")&&t.uint32(10).string(e.messageVibrate),e.messagePopup!=null&&Object.hasOwnProperty.call(e,"messagePopup")&&t.uint32(18).string(e.messagePopup),e.messageLight!=null&&Object.hasOwnProperty.call(e,"messageLight")&&t.uint32(26).string(e.messageLight),e.lowPriorityNotifications!=null&&Object.hasOwnProperty.call(e,"lowPriorityNotifications")&&t.uint32(32).bool(e.lowPriorityNotifications),e.reactionsMuted!=null&&Object.hasOwnProperty.call(e,"reactionsMuted")&&t.uint32(40).bool(e.reactionsMuted),e.callVibrate!=null&&Object.hasOwnProperty.call(e,"callVibrate")&&t.uint32(50).string(e.callVibrate),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.NotificationSettings;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.messageVibrate=e.string();break}case 2:{s.messagePopup=e.string();break}case 3:{s.messageLight=e.string();break}case 4:{s.lowPriorityNotifications=e.bool();break}case 5:{s.reactionsMuted=e.bool();break}case 6:{s.callVibrate=e.string();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.NotificationSettings"},n}(),a.PairingRequest=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.companionPublicKey=h.newBuffer([]),n.prototype.companionIdentityKey=h.newBuffer([]),n.prototype.advSecret=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.companionPublicKey!=null&&Object.hasOwnProperty.call(e,"companionPublicKey")&&t.uint32(10).bytes(e.companionPublicKey),e.companionIdentityKey!=null&&Object.hasOwnProperty.call(e,"companionIdentityKey")&&t.uint32(18).bytes(e.companionIdentityKey),e.advSecret!=null&&Object.hasOwnProperty.call(e,"advSecret")&&t.uint32(26).bytes(e.advSecret),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.PairingRequest;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.companionPublicKey=e.bytes();break}case 2:{s.companionIdentityKey=e.bytes();break}case 3:{s.advSecret=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.PairingRequest"},n}(),a.PastParticipant=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.userJid="",n.prototype.leaveReason=0,n.prototype.leaveTs=h.Long?h.Long.fromBits(0,0,!0):0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.userJid!=null&&Object.hasOwnProperty.call(e,"userJid")&&t.uint32(10).string(e.userJid),e.leaveReason!=null&&Object.hasOwnProperty.call(e,"leaveReason")&&t.uint32(16).int32(e.leaveReason),e.leaveTs!=null&&Object.hasOwnProperty.call(e,"leaveTs")&&t.uint32(24).uint64(e.leaveTs),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.PastParticipant;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.userJid=e.string();break}case 2:{s.leaveReason=e.int32();break}case 3:{s.leaveTs=e.uint64();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.PastParticipant"},n.LeaveReason=function(){let r={},e=Object.create(r);return e[r[0]="LEFT"]=0,e[r[1]="REMOVED"]=1,e}(),n}(),a.PastParticipants=function(){function n(r){if(this.pastParticipants=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.groupJid="",n.prototype.pastParticipants=h.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.groupJid!=null&&Object.hasOwnProperty.call(e,"groupJid")&&t.uint32(10).string(e.groupJid),e.pastParticipants!=null&&e.pastParticipants.length)for(var i=0;i<e.pastParticipants.length;++i)u.proto.PastParticipant.encode(e.pastParticipants[i],t.uint32(18).fork()).ldelim();return t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.PastParticipants;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.groupJid=e.string();break}case 2:{s.pastParticipants&&s.pastParticipants.length||(s.pastParticipants=[]),s.pastParticipants.push(u.proto.PastParticipant.decode(e,e.uint32()));break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.PastParticipants"},n}(),a.PatchDebugData=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.currentLthash=h.newBuffer([]),n.prototype.newLthash=h.newBuffer([]),n.prototype.patchVersion=h.newBuffer([]),n.prototype.collectionName=h.newBuffer([]),n.prototype.firstFourBytesFromAHashOfSnapshotMacKey=h.newBuffer([]),n.prototype.newLthashSubtract=h.newBuffer([]),n.prototype.numberAdd=0,n.prototype.numberRemove=0,n.prototype.numberOverride=0,n.prototype.senderPlatform=0,n.prototype.isSenderPrimary=!1,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.currentLthash!=null&&Object.hasOwnProperty.call(e,"currentLthash")&&t.uint32(10).bytes(e.currentLthash),e.newLthash!=null&&Object.hasOwnProperty.call(e,"newLthash")&&t.uint32(18).bytes(e.newLthash),e.patchVersion!=null&&Object.hasOwnProperty.call(e,"patchVersion")&&t.uint32(26).bytes(e.patchVersion),e.collectionName!=null&&Object.hasOwnProperty.call(e,"collectionName")&&t.uint32(34).bytes(e.collectionName),e.firstFourBytesFromAHashOfSnapshotMacKey!=null&&Object.hasOwnProperty.call(e,"firstFourBytesFromAHashOfSnapshotMacKey")&&t.uint32(42).bytes(e.firstFourBytesFromAHashOfSnapshotMacKey),e.newLthashSubtract!=null&&Object.hasOwnProperty.call(e,"newLthashSubtract")&&t.uint32(50).bytes(e.newLthashSubtract),e.numberAdd!=null&&Object.hasOwnProperty.call(e,"numberAdd")&&t.uint32(56).int32(e.numberAdd),e.numberRemove!=null&&Object.hasOwnProperty.call(e,"numberRemove")&&t.uint32(64).int32(e.numberRemove),e.numberOverride!=null&&Object.hasOwnProperty.call(e,"numberOverride")&&t.uint32(72).int32(e.numberOverride),e.senderPlatform!=null&&Object.hasOwnProperty.call(e,"senderPlatform")&&t.uint32(80).int32(e.senderPlatform),e.isSenderPrimary!=null&&Object.hasOwnProperty.call(e,"isSenderPrimary")&&t.uint32(88).bool(e.isSenderPrimary),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.PatchDebugData;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.currentLthash=e.bytes();break}case 2:{s.newLthash=e.bytes();break}case 3:{s.patchVersion=e.bytes();break}case 4:{s.collectionName=e.bytes();break}case 5:{s.firstFourBytesFromAHashOfSnapshotMacKey=e.bytes();break}case 6:{s.newLthashSubtract=e.bytes();break}case 7:{s.numberAdd=e.int32();break}case 8:{s.numberRemove=e.int32();break}case 9:{s.numberOverride=e.int32();break}case 10:{s.senderPlatform=e.int32();break}case 11:{s.isSenderPrimary=e.bool();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.PatchDebugData"},n.Platform=function(){let r={},e=Object.create(r);return e[r[0]="ANDROID"]=0,e[r[1]="SMBA"]=1,e[r[2]="IPHONE"]=2,e[r[3]="SMBI"]=3,e[r[4]="WEB"]=4,e[r[5]="UWP"]=5,e[r[6]="DARWIN"]=6,e[r[7]="IPAD"]=7,e[r[8]="WEAROS"]=8,e}(),n}(),a.PaymentBackground=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.id="",n.prototype.fileLength=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.width=0,n.prototype.height=0,n.prototype.mimetype="",n.prototype.placeholderArgb=0,n.prototype.textArgb=0,n.prototype.subtextArgb=0,n.prototype.mediaData=null,n.prototype.type=0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.id!=null&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),e.fileLength!=null&&Object.hasOwnProperty.call(e,"fileLength")&&t.uint32(16).uint64(e.fileLength),e.width!=null&&Object.hasOwnProperty.call(e,"width")&&t.uint32(24).uint32(e.width),e.height!=null&&Object.hasOwnProperty.call(e,"height")&&t.uint32(32).uint32(e.height),e.mimetype!=null&&Object.hasOwnProperty.call(e,"mimetype")&&t.uint32(42).string(e.mimetype),e.placeholderArgb!=null&&Object.hasOwnProperty.call(e,"placeholderArgb")&&t.uint32(53).fixed32(e.placeholderArgb),e.textArgb!=null&&Object.hasOwnProperty.call(e,"textArgb")&&t.uint32(61).fixed32(e.textArgb),e.subtextArgb!=null&&Object.hasOwnProperty.call(e,"subtextArgb")&&t.uint32(69).fixed32(e.subtextArgb),e.mediaData!=null&&Object.hasOwnProperty.call(e,"mediaData")&&u.proto.PaymentBackground.MediaData.encode(e.mediaData,t.uint32(74).fork()).ldelim(),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(80).int32(e.type),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.PaymentBackground;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.id=e.string();break}case 2:{s.fileLength=e.uint64();break}case 3:{s.width=e.uint32();break}case 4:{s.height=e.uint32();break}case 5:{s.mimetype=e.string();break}case 6:{s.placeholderArgb=e.fixed32();break}case 7:{s.textArgb=e.fixed32();break}case 8:{s.subtextArgb=e.fixed32();break}case 9:{s.mediaData=u.proto.PaymentBackground.MediaData.decode(e,e.uint32());break}case 10:{s.type=e.int32();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.PaymentBackground"},n.MediaData=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.mediaKey=h.newBuffer([]),r.prototype.mediaKeyTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.fileSha256=h.newBuffer([]),r.prototype.fileEncSha256=h.newBuffer([]),r.prototype.directPath="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.mediaKey!=null&&Object.hasOwnProperty.call(t,"mediaKey")&&i.uint32(10).bytes(t.mediaKey),t.mediaKeyTimestamp!=null&&Object.hasOwnProperty.call(t,"mediaKeyTimestamp")&&i.uint32(16).int64(t.mediaKeyTimestamp),t.fileSha256!=null&&Object.hasOwnProperty.call(t,"fileSha256")&&i.uint32(26).bytes(t.fileSha256),t.fileEncSha256!=null&&Object.hasOwnProperty.call(t,"fileEncSha256")&&i.uint32(34).bytes(t.fileEncSha256),t.directPath!=null&&Object.hasOwnProperty.call(t,"directPath")&&i.uint32(42).string(t.directPath),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.PaymentBackground.MediaData;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.mediaKey=t.bytes();break}case 2:{c.mediaKeyTimestamp=t.int64();break}case 3:{c.fileSha256=t.bytes();break}case 4:{c.fileEncSha256=t.bytes();break}case 5:{c.directPath=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.PaymentBackground.MediaData"},r}(),n.Type=function(){let r={},e=Object.create(r);return e[r[0]="UNKNOWN"]=0,e[r[1]="DEFAULT"]=1,e}(),n}(),a.PaymentInfo=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.currencyDeprecated=0,n.prototype.amount1000=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.receiverJid="",n.prototype.status=0,n.prototype.transactionTimestamp=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.requestMessageKey=null,n.prototype.expiryTimestamp=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.futureproofed=!1,n.prototype.currency="",n.prototype.txnStatus=0,n.prototype.useNoviFiatFormat=!1,n.prototype.primaryAmount=null,n.prototype.exchangeAmount=null,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.currencyDeprecated!=null&&Object.hasOwnProperty.call(e,"currencyDeprecated")&&t.uint32(8).int32(e.currencyDeprecated),e.amount1000!=null&&Object.hasOwnProperty.call(e,"amount1000")&&t.uint32(16).uint64(e.amount1000),e.receiverJid!=null&&Object.hasOwnProperty.call(e,"receiverJid")&&t.uint32(26).string(e.receiverJid),e.status!=null&&Object.hasOwnProperty.call(e,"status")&&t.uint32(32).int32(e.status),e.transactionTimestamp!=null&&Object.hasOwnProperty.call(e,"transactionTimestamp")&&t.uint32(40).uint64(e.transactionTimestamp),e.requestMessageKey!=null&&Object.hasOwnProperty.call(e,"requestMessageKey")&&u.proto.MessageKey.encode(e.requestMessageKey,t.uint32(50).fork()).ldelim(),e.expiryTimestamp!=null&&Object.hasOwnProperty.call(e,"expiryTimestamp")&&t.uint32(56).uint64(e.expiryTimestamp),e.futureproofed!=null&&Object.hasOwnProperty.call(e,"futureproofed")&&t.uint32(64).bool(e.futureproofed),e.currency!=null&&Object.hasOwnProperty.call(e,"currency")&&t.uint32(74).string(e.currency),e.txnStatus!=null&&Object.hasOwnProperty.call(e,"txnStatus")&&t.uint32(80).int32(e.txnStatus),e.useNoviFiatFormat!=null&&Object.hasOwnProperty.call(e,"useNoviFiatFormat")&&t.uint32(88).bool(e.useNoviFiatFormat),e.primaryAmount!=null&&Object.hasOwnProperty.call(e,"primaryAmount")&&u.proto.Money.encode(e.primaryAmount,t.uint32(98).fork()).ldelim(),e.exchangeAmount!=null&&Object.hasOwnProperty.call(e,"exchangeAmount")&&u.proto.Money.encode(e.exchangeAmount,t.uint32(106).fork()).ldelim(),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.PaymentInfo;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.currencyDeprecated=e.int32();break}case 2:{s.amount1000=e.uint64();break}case 3:{s.receiverJid=e.string();break}case 4:{s.status=e.int32();break}case 5:{s.transactionTimestamp=e.uint64();break}case 6:{s.requestMessageKey=u.proto.MessageKey.decode(e,e.uint32());break}case 7:{s.expiryTimestamp=e.uint64();break}case 8:{s.futureproofed=e.bool();break}case 9:{s.currency=e.string();break}case 10:{s.txnStatus=e.int32();break}case 11:{s.useNoviFiatFormat=e.bool();break}case 12:{s.primaryAmount=u.proto.Money.decode(e,e.uint32());break}case 13:{s.exchangeAmount=u.proto.Money.decode(e,e.uint32());break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.PaymentInfo"},n.Currency=function(){let r={},e=Object.create(r);return e[r[0]="UNKNOWN_CURRENCY"]=0,e[r[1]="INR"]=1,e}(),n.Status=function(){let r={},e=Object.create(r);return e[r[0]="UNKNOWN_STATUS"]=0,e[r[1]="PROCESSING"]=1,e[r[2]="SENT"]=2,e[r[3]="NEED_TO_ACCEPT"]=3,e[r[4]="COMPLETE"]=4,e[r[5]="COULD_NOT_COMPLETE"]=5,e[r[6]="REFUNDED"]=6,e[r[7]="EXPIRED"]=7,e[r[8]="REJECTED"]=8,e[r[9]="CANCELLED"]=9,e[r[10]="WAITING_FOR_PAYER"]=10,e[r[11]="WAITING"]=11,e}(),n.TxnStatus=function(){let r={},e=Object.create(r);return e[r[0]="UNKNOWN"]=0,e[r[1]="PENDING_SETUP"]=1,e[r[2]="PENDING_RECEIVER_SETUP"]=2,e[r[3]="INIT"]=3,e[r[4]="SUCCESS"]=4,e[r[5]="COMPLETED"]=5,e[r[6]="FAILED"]=6,e[r[7]="FAILED_RISK"]=7,e[r[8]="FAILED_PROCESSING"]=8,e[r[9]="FAILED_RECEIVER_PROCESSING"]=9,e[r[10]="FAILED_DA"]=10,e[r[11]="FAILED_DA_FINAL"]=11,e[r[12]="REFUNDED_TXN"]=12,e[r[13]="REFUND_FAILED"]=13,e[r[14]="REFUND_FAILED_PROCESSING"]=14,e[r[15]="REFUND_FAILED_DA"]=15,e[r[16]="EXPIRED_TXN"]=16,e[r[17]="AUTH_CANCELED"]=17,e[r[18]="AUTH_CANCEL_FAILED_PROCESSING"]=18,e[r[19]="AUTH_CANCEL_FAILED"]=19,e[r[20]="COLLECT_INIT"]=20,e[r[21]="COLLECT_SUCCESS"]=21,e[r[22]="COLLECT_FAILED"]=22,e[r[23]="COLLECT_FAILED_RISK"]=23,e[r[24]="COLLECT_REJECTED"]=24,e[r[25]="COLLECT_EXPIRED"]=25,e[r[26]="COLLECT_CANCELED"]=26,e[r[27]="COLLECT_CANCELLING"]=27,e[r[28]="IN_REVIEW"]=28,e[r[29]="REVERSAL_SUCCESS"]=29,e[r[30]="REVERSAL_PENDING"]=30,e[r[31]="REFUND_PENDING"]=31,e}(),n}(),a.PhoneNumberToLIDMapping=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.pnJid="",n.prototype.lidJid="",n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.pnJid!=null&&Object.hasOwnProperty.call(e,"pnJid")&&t.uint32(10).string(e.pnJid),e.lidJid!=null&&Object.hasOwnProperty.call(e,"lidJid")&&t.uint32(18).string(e.lidJid),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.PhoneNumberToLIDMapping;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.pnJid=e.string();break}case 2:{s.lidJid=e.string();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.PhoneNumberToLIDMapping"},n}(),a.PhotoChange=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.oldPhoto=h.newBuffer([]),n.prototype.newPhoto=h.newBuffer([]),n.prototype.newPhotoId=0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.oldPhoto!=null&&Object.hasOwnProperty.call(e,"oldPhoto")&&t.uint32(10).bytes(e.oldPhoto),e.newPhoto!=null&&Object.hasOwnProperty.call(e,"newPhoto")&&t.uint32(18).bytes(e.newPhoto),e.newPhotoId!=null&&Object.hasOwnProperty.call(e,"newPhotoId")&&t.uint32(24).uint32(e.newPhotoId),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.PhotoChange;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.oldPhoto=e.bytes();break}case 2:{s.newPhoto=e.bytes();break}case 3:{s.newPhotoId=e.uint32();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.PhotoChange"},n}(),a.PinInChat=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.type=0,n.prototype.key=null,n.prototype.senderTimestampMs=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.serverTimestampMs=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.messageAddOnContextInfo=null,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),e.key!=null&&Object.hasOwnProperty.call(e,"key")&&u.proto.MessageKey.encode(e.key,t.uint32(18).fork()).ldelim(),e.senderTimestampMs!=null&&Object.hasOwnProperty.call(e,"senderTimestampMs")&&t.uint32(24).int64(e.senderTimestampMs),e.serverTimestampMs!=null&&Object.hasOwnProperty.call(e,"serverTimestampMs")&&t.uint32(32).int64(e.serverTimestampMs),e.messageAddOnContextInfo!=null&&Object.hasOwnProperty.call(e,"messageAddOnContextInfo")&&u.proto.MessageAddOnContextInfo.encode(e.messageAddOnContextInfo,t.uint32(42).fork()).ldelim(),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.PinInChat;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.type=e.int32();break}case 2:{s.key=u.proto.MessageKey.decode(e,e.uint32());break}case 3:{s.senderTimestampMs=e.int64();break}case 4:{s.serverTimestampMs=e.int64();break}case 5:{s.messageAddOnContextInfo=u.proto.MessageAddOnContextInfo.decode(e,e.uint32());break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.PinInChat"},n.Type=function(){let r={},e=Object.create(r);return e[r[0]="UNKNOWN_TYPE"]=0,e[r[1]="PIN_FOR_ALL"]=1,e[r[2]="UNPIN_FOR_ALL"]=2,e}(),n}(),a.Point=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.xDeprecated=0,n.prototype.yDeprecated=0,n.prototype.x=0,n.prototype.y=0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.xDeprecated!=null&&Object.hasOwnProperty.call(e,"xDeprecated")&&t.uint32(8).int32(e.xDeprecated),e.yDeprecated!=null&&Object.hasOwnProperty.call(e,"yDeprecated")&&t.uint32(16).int32(e.yDeprecated),e.x!=null&&Object.hasOwnProperty.call(e,"x")&&t.uint32(25).double(e.x),e.y!=null&&Object.hasOwnProperty.call(e,"y")&&t.uint32(33).double(e.y),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.Point;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.xDeprecated=e.int32();break}case 2:{s.yDeprecated=e.int32();break}case 3:{s.x=e.double();break}case 4:{s.y=e.double();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.Point"},n}(),a.PollAdditionalMetadata=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.pollInvalidated=!1,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.pollInvalidated!=null&&Object.hasOwnProperty.call(e,"pollInvalidated")&&t.uint32(8).bool(e.pollInvalidated),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.PollAdditionalMetadata;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.pollInvalidated=e.bool();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.PollAdditionalMetadata"},n}(),a.PollEncValue=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.encPayload=h.newBuffer([]),n.prototype.encIv=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.encPayload!=null&&Object.hasOwnProperty.call(e,"encPayload")&&t.uint32(10).bytes(e.encPayload),e.encIv!=null&&Object.hasOwnProperty.call(e,"encIv")&&t.uint32(18).bytes(e.encIv),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.PollEncValue;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.encPayload=e.bytes();break}case 2:{s.encIv=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.PollEncValue"},n}(),a.PollUpdate=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.pollUpdateMessageKey=null,n.prototype.vote=null,n.prototype.senderTimestampMs=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.serverTimestampMs=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.unread=!1,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.pollUpdateMessageKey!=null&&Object.hasOwnProperty.call(e,"pollUpdateMessageKey")&&u.proto.MessageKey.encode(e.pollUpdateMessageKey,t.uint32(10).fork()).ldelim(),e.vote!=null&&Object.hasOwnProperty.call(e,"vote")&&u.proto.Message.PollVoteMessage.encode(e.vote,t.uint32(18).fork()).ldelim(),e.senderTimestampMs!=null&&Object.hasOwnProperty.call(e,"senderTimestampMs")&&t.uint32(24).int64(e.senderTimestampMs),e.serverTimestampMs!=null&&Object.hasOwnProperty.call(e,"serverTimestampMs")&&t.uint32(32).int64(e.serverTimestampMs),e.unread!=null&&Object.hasOwnProperty.call(e,"unread")&&t.uint32(40).bool(e.unread),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.PollUpdate;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.pollUpdateMessageKey=u.proto.MessageKey.decode(e,e.uint32());break}case 2:{s.vote=u.proto.Message.PollVoteMessage.decode(e,e.uint32());break}case 3:{s.senderTimestampMs=e.int64();break}case 4:{s.serverTimestampMs=e.int64();break}case 5:{s.unread=e.bool();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.PollUpdate"},n}(),a.PreKeyRecordStructure=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.id=0,n.prototype.publicKey=h.newBuffer([]),n.prototype.privateKey=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.id!=null&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).uint32(e.id),e.publicKey!=null&&Object.hasOwnProperty.call(e,"publicKey")&&t.uint32(18).bytes(e.publicKey),e.privateKey!=null&&Object.hasOwnProperty.call(e,"privateKey")&&t.uint32(26).bytes(e.privateKey),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.PreKeyRecordStructure;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.id=e.uint32();break}case 2:{s.publicKey=e.bytes();break}case 3:{s.privateKey=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.PreKeyRecordStructure"},n}(),a.PreKeySignalMessage=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.registrationId=0,n.prototype.preKeyId=0,n.prototype.signedPreKeyId=0,n.prototype.baseKey=h.newBuffer([]),n.prototype.identityKey=h.newBuffer([]),n.prototype.message=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.preKeyId!=null&&Object.hasOwnProperty.call(e,"preKeyId")&&t.uint32(8).uint32(e.preKeyId),e.baseKey!=null&&Object.hasOwnProperty.call(e,"baseKey")&&t.uint32(18).bytes(e.baseKey),e.identityKey!=null&&Object.hasOwnProperty.call(e,"identityKey")&&t.uint32(26).bytes(e.identityKey),e.message!=null&&Object.hasOwnProperty.call(e,"message")&&t.uint32(34).bytes(e.message),e.registrationId!=null&&Object.hasOwnProperty.call(e,"registrationId")&&t.uint32(40).uint32(e.registrationId),e.signedPreKeyId!=null&&Object.hasOwnProperty.call(e,"signedPreKeyId")&&t.uint32(48).uint32(e.signedPreKeyId),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.PreKeySignalMessage;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 5:{s.registrationId=e.uint32();break}case 1:{s.preKeyId=e.uint32();break}case 6:{s.signedPreKeyId=e.uint32();break}case 2:{s.baseKey=e.bytes();break}case 3:{s.identityKey=e.bytes();break}case 4:{s.message=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.PreKeySignalMessage"},n}(),a.PremiumMessageInfo=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.serverCampaignId="",n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.serverCampaignId!=null&&Object.hasOwnProperty.call(e,"serverCampaignId")&&t.uint32(10).string(e.serverCampaignId),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.PremiumMessageInfo;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.serverCampaignId=e.string();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.PremiumMessageInfo"},n}(),a.PrimaryEphemeralIdentity=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.publicKey=h.newBuffer([]),n.prototype.nonce=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.publicKey!=null&&Object.hasOwnProperty.call(e,"publicKey")&&t.uint32(10).bytes(e.publicKey),e.nonce!=null&&Object.hasOwnProperty.call(e,"nonce")&&t.uint32(18).bytes(e.nonce),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.PrimaryEphemeralIdentity;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.publicKey=e.bytes();break}case 2:{s.nonce=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.PrimaryEphemeralIdentity"},n}(),a.PrivacySystemMessage=function(){let n={},r=Object.create(n);return r[n[1]="E2EE_MSG"]=1,r[n[2]="NE2EE_SELF"]=2,r[n[3]="NE2EE_OTHER"]=3,r}(),a.ProcessedVideo=function(){function n(r){if(this.capabilities=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.directPath="",n.prototype.fileSha256=h.newBuffer([]),n.prototype.height=0,n.prototype.width=0,n.prototype.fileLength=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.bitrate=0,n.prototype.quality=0,n.prototype.capabilities=h.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.directPath!=null&&Object.hasOwnProperty.call(e,"directPath")&&t.uint32(10).string(e.directPath),e.fileSha256!=null&&Object.hasOwnProperty.call(e,"fileSha256")&&t.uint32(18).bytes(e.fileSha256),e.height!=null&&Object.hasOwnProperty.call(e,"height")&&t.uint32(24).uint32(e.height),e.width!=null&&Object.hasOwnProperty.call(e,"width")&&t.uint32(32).uint32(e.width),e.fileLength!=null&&Object.hasOwnProperty.call(e,"fileLength")&&t.uint32(40).uint64(e.fileLength),e.bitrate!=null&&Object.hasOwnProperty.call(e,"bitrate")&&t.uint32(48).uint32(e.bitrate),e.quality!=null&&Object.hasOwnProperty.call(e,"quality")&&t.uint32(56).int32(e.quality),e.capabilities!=null&&e.capabilities.length)for(var i=0;i<e.capabilities.length;++i)t.uint32(66).string(e.capabilities[i]);return t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.ProcessedVideo;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.directPath=e.string();break}case 2:{s.fileSha256=e.bytes();break}case 3:{s.height=e.uint32();break}case 4:{s.width=e.uint32();break}case 5:{s.fileLength=e.uint64();break}case 6:{s.bitrate=e.uint32();break}case 7:{s.quality=e.int32();break}case 8:{s.capabilities&&s.capabilities.length||(s.capabilities=[]),s.capabilities.push(e.string());break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.ProcessedVideo"},n.VideoQuality=function(){let r={},e=Object.create(r);return e[r[0]="UNDEFINED"]=0,e[r[1]="LOW"]=1,e[r[2]="MID"]=2,e[r[3]="HIGH"]=3,e}(),n}(),a.ProloguePayload=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.companionEphemeralIdentity=h.newBuffer([]),n.prototype.commitment=null,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.companionEphemeralIdentity!=null&&Object.hasOwnProperty.call(e,"companionEphemeralIdentity")&&t.uint32(10).bytes(e.companionEphemeralIdentity),e.commitment!=null&&Object.hasOwnProperty.call(e,"commitment")&&u.proto.CompanionCommitment.encode(e.commitment,t.uint32(18).fork()).ldelim(),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.ProloguePayload;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.companionEphemeralIdentity=e.bytes();break}case 2:{s.commitment=u.proto.CompanionCommitment.decode(e,e.uint32());break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.ProloguePayload"},n}(),a.Pushname=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.id="",n.prototype.pushname="",n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.id!=null&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),e.pushname!=null&&Object.hasOwnProperty.call(e,"pushname")&&t.uint32(18).string(e.pushname),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.Pushname;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.id=e.string();break}case 2:{s.pushname=e.string();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.Pushname"},n}(),a.Reaction=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.key=null,n.prototype.text="",n.prototype.groupingKey="",n.prototype.senderTimestampMs=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.unread=!1,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.key!=null&&Object.hasOwnProperty.call(e,"key")&&u.proto.MessageKey.encode(e.key,t.uint32(10).fork()).ldelim(),e.text!=null&&Object.hasOwnProperty.call(e,"text")&&t.uint32(18).string(e.text),e.groupingKey!=null&&Object.hasOwnProperty.call(e,"groupingKey")&&t.uint32(26).string(e.groupingKey),e.senderTimestampMs!=null&&Object.hasOwnProperty.call(e,"senderTimestampMs")&&t.uint32(32).int64(e.senderTimestampMs),e.unread!=null&&Object.hasOwnProperty.call(e,"unread")&&t.uint32(40).bool(e.unread),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.Reaction;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.key=u.proto.MessageKey.decode(e,e.uint32());break}case 2:{s.text=e.string();break}case 3:{s.groupingKey=e.string();break}case 4:{s.senderTimestampMs=e.int64();break}case 5:{s.unread=e.bool();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.Reaction"},n}(),a.RecentEmojiWeight=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.emoji="",n.prototype.weight=0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.emoji!=null&&Object.hasOwnProperty.call(e,"emoji")&&t.uint32(10).string(e.emoji),e.weight!=null&&Object.hasOwnProperty.call(e,"weight")&&t.uint32(21).float(e.weight),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.RecentEmojiWeight;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.emoji=e.string();break}case 2:{s.weight=e.float();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.RecentEmojiWeight"},n}(),a.RecordStructure=function(){function n(r){if(this.previousSessions=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.currentSession=null,n.prototype.previousSessions=h.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.currentSession!=null&&Object.hasOwnProperty.call(e,"currentSession")&&u.proto.SessionStructure.encode(e.currentSession,t.uint32(10).fork()).ldelim(),e.previousSessions!=null&&e.previousSessions.length)for(var i=0;i<e.previousSessions.length;++i)u.proto.SessionStructure.encode(e.previousSessions[i],t.uint32(18).fork()).ldelim();return t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.RecordStructure;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.currentSession=u.proto.SessionStructure.decode(e,e.uint32());break}case 2:{s.previousSessions&&s.previousSessions.length||(s.previousSessions=[]),s.previousSessions.push(u.proto.SessionStructure.decode(e,e.uint32()));break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.RecordStructure"},n}(),a.Reportable=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.minVersion=0,n.prototype.maxVersion=0,n.prototype.notReportableMinVersion=0,n.prototype.never=!1,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.minVersion!=null&&Object.hasOwnProperty.call(e,"minVersion")&&t.uint32(8).uint32(e.minVersion),e.maxVersion!=null&&Object.hasOwnProperty.call(e,"maxVersion")&&t.uint32(16).uint32(e.maxVersion),e.notReportableMinVersion!=null&&Object.hasOwnProperty.call(e,"notReportableMinVersion")&&t.uint32(24).uint32(e.notReportableMinVersion),e.never!=null&&Object.hasOwnProperty.call(e,"never")&&t.uint32(32).bool(e.never),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.Reportable;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.minVersion=e.uint32();break}case 2:{s.maxVersion=e.uint32();break}case 3:{s.notReportableMinVersion=e.uint32();break}case 4:{s.never=e.bool();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.Reportable"},n}(),a.ReportingTokenInfo=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.reportingTag=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.reportingTag!=null&&Object.hasOwnProperty.call(e,"reportingTag")&&t.uint32(10).bytes(e.reportingTag),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.ReportingTokenInfo;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.reportingTag=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.ReportingTokenInfo"},n}(),a.SenderKeyDistributionMessage=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.id=0,n.prototype.iteration=0,n.prototype.chainKey=h.newBuffer([]),n.prototype.signingKey=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.id!=null&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).uint32(e.id),e.iteration!=null&&Object.hasOwnProperty.call(e,"iteration")&&t.uint32(16).uint32(e.iteration),e.chainKey!=null&&Object.hasOwnProperty.call(e,"chainKey")&&t.uint32(26).bytes(e.chainKey),e.signingKey!=null&&Object.hasOwnProperty.call(e,"signingKey")&&t.uint32(34).bytes(e.signingKey),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.SenderKeyDistributionMessage;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.id=e.uint32();break}case 2:{s.iteration=e.uint32();break}case 3:{s.chainKey=e.bytes();break}case 4:{s.signingKey=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.SenderKeyDistributionMessage"},n}(),a.SenderKeyMessage=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.id=0,n.prototype.iteration=0,n.prototype.ciphertext=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.id!=null&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).uint32(e.id),e.iteration!=null&&Object.hasOwnProperty.call(e,"iteration")&&t.uint32(16).uint32(e.iteration),e.ciphertext!=null&&Object.hasOwnProperty.call(e,"ciphertext")&&t.uint32(26).bytes(e.ciphertext),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.SenderKeyMessage;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.id=e.uint32();break}case 2:{s.iteration=e.uint32();break}case 3:{s.ciphertext=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.SenderKeyMessage"},n}(),a.SenderKeyRecordStructure=function(){function n(r){if(this.senderKeyStates=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.senderKeyStates=h.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.senderKeyStates!=null&&e.senderKeyStates.length)for(var i=0;i<e.senderKeyStates.length;++i)u.proto.SenderKeyStateStructure.encode(e.senderKeyStates[i],t.uint32(10).fork()).ldelim();return t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.SenderKeyRecordStructure;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.senderKeyStates&&s.senderKeyStates.length||(s.senderKeyStates=[]),s.senderKeyStates.push(u.proto.SenderKeyStateStructure.decode(e,e.uint32()));break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.SenderKeyRecordStructure"},n}(),a.SenderKeyStateStructure=function(){function n(r){if(this.senderMessageKeys=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.senderKeyId=0,n.prototype.senderChainKey=null,n.prototype.senderSigningKey=null,n.prototype.senderMessageKeys=h.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.senderKeyId!=null&&Object.hasOwnProperty.call(e,"senderKeyId")&&t.uint32(8).uint32(e.senderKeyId),e.senderChainKey!=null&&Object.hasOwnProperty.call(e,"senderChainKey")&&u.proto.SenderKeyStateStructure.SenderChainKey.encode(e.senderChainKey,t.uint32(18).fork()).ldelim(),e.senderSigningKey!=null&&Object.hasOwnProperty.call(e,"senderSigningKey")&&u.proto.SenderKeyStateStructure.SenderSigningKey.encode(e.senderSigningKey,t.uint32(26).fork()).ldelim(),e.senderMessageKeys!=null&&e.senderMessageKeys.length)for(var i=0;i<e.senderMessageKeys.length;++i)u.proto.SenderKeyStateStructure.SenderMessageKey.encode(e.senderMessageKeys[i],t.uint32(34).fork()).ldelim();return t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.SenderKeyStateStructure;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.senderKeyId=e.uint32();break}case 2:{s.senderChainKey=u.proto.SenderKeyStateStructure.SenderChainKey.decode(e,e.uint32());break}case 3:{s.senderSigningKey=u.proto.SenderKeyStateStructure.SenderSigningKey.decode(e,e.uint32());break}case 4:{s.senderMessageKeys&&s.senderMessageKeys.length||(s.senderMessageKeys=[]),s.senderMessageKeys.push(u.proto.SenderKeyStateStructure.SenderMessageKey.decode(e,e.uint32()));break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.SenderKeyStateStructure"},n.SenderChainKey=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.iteration=0,r.prototype.seed=h.newBuffer([]),r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.iteration!=null&&Object.hasOwnProperty.call(t,"iteration")&&i.uint32(8).uint32(t.iteration),t.seed!=null&&Object.hasOwnProperty.call(t,"seed")&&i.uint32(18).bytes(t.seed),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SenderKeyStateStructure.SenderChainKey;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.iteration=t.uint32();break}case 2:{c.seed=t.bytes();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SenderKeyStateStructure.SenderChainKey"},r}(),n.SenderMessageKey=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.iteration=0,r.prototype.seed=h.newBuffer([]),r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.iteration!=null&&Object.hasOwnProperty.call(t,"iteration")&&i.uint32(8).uint32(t.iteration),t.seed!=null&&Object.hasOwnProperty.call(t,"seed")&&i.uint32(18).bytes(t.seed),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SenderKeyStateStructure.SenderMessageKey;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.iteration=t.uint32();break}case 2:{c.seed=t.bytes();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SenderKeyStateStructure.SenderMessageKey"},r}(),n.SenderSigningKey=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.public=h.newBuffer([]),r.prototype.private=h.newBuffer([]),r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.public!=null&&Object.hasOwnProperty.call(t,"public")&&i.uint32(10).bytes(t.public),t.private!=null&&Object.hasOwnProperty.call(t,"private")&&i.uint32(18).bytes(t.private),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SenderKeyStateStructure.SenderSigningKey;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.public=t.bytes();break}case 2:{c.private=t.bytes();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SenderKeyStateStructure.SenderSigningKey"},r}(),n}(),a.ServerErrorReceipt=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.stanzaId="",n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.stanzaId!=null&&Object.hasOwnProperty.call(e,"stanzaId")&&t.uint32(10).string(e.stanzaId),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.ServerErrorReceipt;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.stanzaId=e.string();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.ServerErrorReceipt"},n}(),a.SessionStructure=function(){function n(r){if(this.receiverChains=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.sessionVersion=0,n.prototype.localIdentityPublic=h.newBuffer([]),n.prototype.remoteIdentityPublic=h.newBuffer([]),n.prototype.rootKey=h.newBuffer([]),n.prototype.previousCounter=0,n.prototype.senderChain=null,n.prototype.receiverChains=h.emptyArray,n.prototype.pendingKeyExchange=null,n.prototype.pendingPreKey=null,n.prototype.remoteRegistrationId=0,n.prototype.localRegistrationId=0,n.prototype.needsRefresh=!1,n.prototype.aliceBaseKey=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.sessionVersion!=null&&Object.hasOwnProperty.call(e,"sessionVersion")&&t.uint32(8).uint32(e.sessionVersion),e.localIdentityPublic!=null&&Object.hasOwnProperty.call(e,"localIdentityPublic")&&t.uint32(18).bytes(e.localIdentityPublic),e.remoteIdentityPublic!=null&&Object.hasOwnProperty.call(e,"remoteIdentityPublic")&&t.uint32(26).bytes(e.remoteIdentityPublic),e.rootKey!=null&&Object.hasOwnProperty.call(e,"rootKey")&&t.uint32(34).bytes(e.rootKey),e.previousCounter!=null&&Object.hasOwnProperty.call(e,"previousCounter")&&t.uint32(40).uint32(e.previousCounter),e.senderChain!=null&&Object.hasOwnProperty.call(e,"senderChain")&&u.proto.SessionStructure.Chain.encode(e.senderChain,t.uint32(50).fork()).ldelim(),e.receiverChains!=null&&e.receiverChains.length)for(var i=0;i<e.receiverChains.length;++i)u.proto.SessionStructure.Chain.encode(e.receiverChains[i],t.uint32(58).fork()).ldelim();return e.pendingKeyExchange!=null&&Object.hasOwnProperty.call(e,"pendingKeyExchange")&&u.proto.SessionStructure.PendingKeyExchange.encode(e.pendingKeyExchange,t.uint32(66).fork()).ldelim(),e.pendingPreKey!=null&&Object.hasOwnProperty.call(e,"pendingPreKey")&&u.proto.SessionStructure.PendingPreKey.encode(e.pendingPreKey,t.uint32(74).fork()).ldelim(),e.remoteRegistrationId!=null&&Object.hasOwnProperty.call(e,"remoteRegistrationId")&&t.uint32(80).uint32(e.remoteRegistrationId),e.localRegistrationId!=null&&Object.hasOwnProperty.call(e,"localRegistrationId")&&t.uint32(88).uint32(e.localRegistrationId),e.needsRefresh!=null&&Object.hasOwnProperty.call(e,"needsRefresh")&&t.uint32(96).bool(e.needsRefresh),e.aliceBaseKey!=null&&Object.hasOwnProperty.call(e,"aliceBaseKey")&&t.uint32(106).bytes(e.aliceBaseKey),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.SessionStructure;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.sessionVersion=e.uint32();break}case 2:{s.localIdentityPublic=e.bytes();break}case 3:{s.remoteIdentityPublic=e.bytes();break}case 4:{s.rootKey=e.bytes();break}case 5:{s.previousCounter=e.uint32();break}case 6:{s.senderChain=u.proto.SessionStructure.Chain.decode(e,e.uint32());break}case 7:{s.receiverChains&&s.receiverChains.length||(s.receiverChains=[]),s.receiverChains.push(u.proto.SessionStructure.Chain.decode(e,e.uint32()));break}case 8:{s.pendingKeyExchange=u.proto.SessionStructure.PendingKeyExchange.decode(e,e.uint32());break}case 9:{s.pendingPreKey=u.proto.SessionStructure.PendingPreKey.decode(e,e.uint32());break}case 10:{s.remoteRegistrationId=e.uint32();break}case 11:{s.localRegistrationId=e.uint32();break}case 12:{s.needsRefresh=e.bool();break}case 13:{s.aliceBaseKey=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.SessionStructure"},n.Chain=function(){function r(e){if(this.messageKeys=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.senderRatchetKey=h.newBuffer([]),r.prototype.senderRatchetKeyPrivate=h.newBuffer([]),r.prototype.chainKey=null,r.prototype.messageKeys=h.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.senderRatchetKey!=null&&Object.hasOwnProperty.call(t,"senderRatchetKey")&&i.uint32(10).bytes(t.senderRatchetKey),t.senderRatchetKeyPrivate!=null&&Object.hasOwnProperty.call(t,"senderRatchetKeyPrivate")&&i.uint32(18).bytes(t.senderRatchetKeyPrivate),t.chainKey!=null&&Object.hasOwnProperty.call(t,"chainKey")&&u.proto.SessionStructure.Chain.ChainKey.encode(t.chainKey,i.uint32(26).fork()).ldelim(),t.messageKeys!=null&&t.messageKeys.length)for(var o=0;o<t.messageKeys.length;++o)u.proto.SessionStructure.Chain.MessageKey.encode(t.messageKeys[o],i.uint32(34).fork()).ldelim();return i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SessionStructure.Chain;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.senderRatchetKey=t.bytes();break}case 2:{c.senderRatchetKeyPrivate=t.bytes();break}case 3:{c.chainKey=u.proto.SessionStructure.Chain.ChainKey.decode(t,t.uint32());break}case 4:{c.messageKeys&&c.messageKeys.length||(c.messageKeys=[]),c.messageKeys.push(u.proto.SessionStructure.Chain.MessageKey.decode(t,t.uint32()));break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SessionStructure.Chain"},r.ChainKey=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.index=0,e.prototype.key=h.newBuffer([]),e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.index!=null&&Object.hasOwnProperty.call(i,"index")&&o.uint32(8).uint32(i.index),i.key!=null&&Object.hasOwnProperty.call(i,"key")&&o.uint32(18).bytes(i.key),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.SessionStructure.Chain.ChainKey;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.index=i.uint32();break}case 2:{l.key=i.bytes();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.SessionStructure.Chain.ChainKey"},e}(),r.MessageKey=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.index=0,e.prototype.cipherKey=h.newBuffer([]),e.prototype.macKey=h.newBuffer([]),e.prototype.iv=h.newBuffer([]),e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.index!=null&&Object.hasOwnProperty.call(i,"index")&&o.uint32(8).uint32(i.index),i.cipherKey!=null&&Object.hasOwnProperty.call(i,"cipherKey")&&o.uint32(18).bytes(i.cipherKey),i.macKey!=null&&Object.hasOwnProperty.call(i,"macKey")&&o.uint32(26).bytes(i.macKey),i.iv!=null&&Object.hasOwnProperty.call(i,"iv")&&o.uint32(34).bytes(i.iv),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.SessionStructure.Chain.MessageKey;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.index=i.uint32();break}case 2:{l.cipherKey=i.bytes();break}case 3:{l.macKey=i.bytes();break}case 4:{l.iv=i.bytes();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.SessionStructure.Chain.MessageKey"},e}(),r}(),n.PendingKeyExchange=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.sequence=0,r.prototype.localBaseKey=h.newBuffer([]),r.prototype.localBaseKeyPrivate=h.newBuffer([]),r.prototype.localRatchetKey=h.newBuffer([]),r.prototype.localRatchetKeyPrivate=h.newBuffer([]),r.prototype.localIdentityKey=h.newBuffer([]),r.prototype.localIdentityKeyPrivate=h.newBuffer([]),r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.sequence!=null&&Object.hasOwnProperty.call(t,"sequence")&&i.uint32(8).uint32(t.sequence),t.localBaseKey!=null&&Object.hasOwnProperty.call(t,"localBaseKey")&&i.uint32(18).bytes(t.localBaseKey),t.localBaseKeyPrivate!=null&&Object.hasOwnProperty.call(t,"localBaseKeyPrivate")&&i.uint32(26).bytes(t.localBaseKeyPrivate),t.localRatchetKey!=null&&Object.hasOwnProperty.call(t,"localRatchetKey")&&i.uint32(34).bytes(t.localRatchetKey),t.localRatchetKeyPrivate!=null&&Object.hasOwnProperty.call(t,"localRatchetKeyPrivate")&&i.uint32(42).bytes(t.localRatchetKeyPrivate),t.localIdentityKey!=null&&Object.hasOwnProperty.call(t,"localIdentityKey")&&i.uint32(58).bytes(t.localIdentityKey),t.localIdentityKeyPrivate!=null&&Object.hasOwnProperty.call(t,"localIdentityKeyPrivate")&&i.uint32(66).bytes(t.localIdentityKeyPrivate),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SessionStructure.PendingKeyExchange;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.sequence=t.uint32();break}case 2:{c.localBaseKey=t.bytes();break}case 3:{c.localBaseKeyPrivate=t.bytes();break}case 4:{c.localRatchetKey=t.bytes();break}case 5:{c.localRatchetKeyPrivate=t.bytes();break}case 7:{c.localIdentityKey=t.bytes();break}case 8:{c.localIdentityKeyPrivate=t.bytes();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SessionStructure.PendingKeyExchange"},r}(),n.PendingPreKey=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.preKeyId=0,r.prototype.signedPreKeyId=0,r.prototype.baseKey=h.newBuffer([]),r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.preKeyId!=null&&Object.hasOwnProperty.call(t,"preKeyId")&&i.uint32(8).uint32(t.preKeyId),t.baseKey!=null&&Object.hasOwnProperty.call(t,"baseKey")&&i.uint32(18).bytes(t.baseKey),t.signedPreKeyId!=null&&Object.hasOwnProperty.call(t,"signedPreKeyId")&&i.uint32(24).int32(t.signedPreKeyId),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SessionStructure.PendingPreKey;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.preKeyId=t.uint32();break}case 3:{c.signedPreKeyId=t.int32();break}case 2:{c.baseKey=t.bytes();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SessionStructure.PendingPreKey"},r}(),n}(),a.SignalMessage=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.ratchetKey=h.newBuffer([]),n.prototype.counter=0,n.prototype.previousCounter=0,n.prototype.ciphertext=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.ratchetKey!=null&&Object.hasOwnProperty.call(e,"ratchetKey")&&t.uint32(10).bytes(e.ratchetKey),e.counter!=null&&Object.hasOwnProperty.call(e,"counter")&&t.uint32(16).uint32(e.counter),e.previousCounter!=null&&Object.hasOwnProperty.call(e,"previousCounter")&&t.uint32(24).uint32(e.previousCounter),e.ciphertext!=null&&Object.hasOwnProperty.call(e,"ciphertext")&&t.uint32(34).bytes(e.ciphertext),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.SignalMessage;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.ratchetKey=e.bytes();break}case 2:{s.counter=e.uint32();break}case 3:{s.previousCounter=e.uint32();break}case 4:{s.ciphertext=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.SignalMessage"},n}(),a.SignedPreKeyRecordStructure=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.id=0,n.prototype.publicKey=h.newBuffer([]),n.prototype.privateKey=h.newBuffer([]),n.prototype.signature=h.newBuffer([]),n.prototype.timestamp=h.Long?h.Long.fromBits(0,0,!1):0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.id!=null&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).uint32(e.id),e.publicKey!=null&&Object.hasOwnProperty.call(e,"publicKey")&&t.uint32(18).bytes(e.publicKey),e.privateKey!=null&&Object.hasOwnProperty.call(e,"privateKey")&&t.uint32(26).bytes(e.privateKey),e.signature!=null&&Object.hasOwnProperty.call(e,"signature")&&t.uint32(34).bytes(e.signature),e.timestamp!=null&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(41).fixed64(e.timestamp),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.SignedPreKeyRecordStructure;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.id=e.uint32();break}case 2:{s.publicKey=e.bytes();break}case 3:{s.privateKey=e.bytes();break}case 4:{s.signature=e.bytes();break}case 5:{s.timestamp=e.fixed64();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.SignedPreKeyRecordStructure"},n}(),a.StatusMentionMessage=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.quotedStatus=null,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.quotedStatus!=null&&Object.hasOwnProperty.call(e,"quotedStatus")&&u.proto.Message.encode(e.quotedStatus,t.uint32(10).fork()).ldelim(),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.StatusMentionMessage;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.quotedStatus=u.proto.Message.decode(e,e.uint32());break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.StatusMentionMessage"},n}(),a.StatusPSA=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.campaignId=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.campaignExpirationTimestamp=h.Long?h.Long.fromBits(0,0,!0):0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),t.uint32(352).uint64(e.campaignId),e.campaignExpirationTimestamp!=null&&Object.hasOwnProperty.call(e,"campaignExpirationTimestamp")&&t.uint32(360).uint64(e.campaignExpirationTimestamp),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.StatusPSA;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 44:{s.campaignId=e.uint64();break}case 45:{s.campaignExpirationTimestamp=e.uint64();break}default:e.skipType(c&7);break}}if(!s.hasOwnProperty("campaignId"))throw h.ProtocolError("missing required 'campaignId'",{instance:s});return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.StatusPSA"},n}(),a.StickerMetadata=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.url="",n.prototype.fileSha256=h.newBuffer([]),n.prototype.fileEncSha256=h.newBuffer([]),n.prototype.mediaKey=h.newBuffer([]),n.prototype.mimetype="",n.prototype.height=0,n.prototype.width=0,n.prototype.directPath="",n.prototype.fileLength=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.weight=0,n.prototype.lastStickerSentTs=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.isLottie=!1,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.url!=null&&Object.hasOwnProperty.call(e,"url")&&t.uint32(10).string(e.url),e.fileSha256!=null&&Object.hasOwnProperty.call(e,"fileSha256")&&t.uint32(18).bytes(e.fileSha256),e.fileEncSha256!=null&&Object.hasOwnProperty.call(e,"fileEncSha256")&&t.uint32(26).bytes(e.fileEncSha256),e.mediaKey!=null&&Object.hasOwnProperty.call(e,"mediaKey")&&t.uint32(34).bytes(e.mediaKey),e.mimetype!=null&&Object.hasOwnProperty.call(e,"mimetype")&&t.uint32(42).string(e.mimetype),e.height!=null&&Object.hasOwnProperty.call(e,"height")&&t.uint32(48).uint32(e.height),e.width!=null&&Object.hasOwnProperty.call(e,"width")&&t.uint32(56).uint32(e.width),e.directPath!=null&&Object.hasOwnProperty.call(e,"directPath")&&t.uint32(66).string(e.directPath),e.fileLength!=null&&Object.hasOwnProperty.call(e,"fileLength")&&t.uint32(72).uint64(e.fileLength),e.weight!=null&&Object.hasOwnProperty.call(e,"weight")&&t.uint32(85).float(e.weight),e.lastStickerSentTs!=null&&Object.hasOwnProperty.call(e,"lastStickerSentTs")&&t.uint32(88).int64(e.lastStickerSentTs),e.isLottie!=null&&Object.hasOwnProperty.call(e,"isLottie")&&t.uint32(96).bool(e.isLottie),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.StickerMetadata;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.url=e.string();break}case 2:{s.fileSha256=e.bytes();break}case 3:{s.fileEncSha256=e.bytes();break}case 4:{s.mediaKey=e.bytes();break}case 5:{s.mimetype=e.string();break}case 6:{s.height=e.uint32();break}case 7:{s.width=e.uint32();break}case 8:{s.directPath=e.string();break}case 9:{s.fileLength=e.uint64();break}case 10:{s.weight=e.float();break}case 11:{s.lastStickerSentTs=e.int64();break}case 12:{s.isLottie=e.bool();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.StickerMetadata"},n}(),a.SyncActionData=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.index=h.newBuffer([]),n.prototype.value=null,n.prototype.padding=h.newBuffer([]),n.prototype.version=0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.index!=null&&Object.hasOwnProperty.call(e,"index")&&t.uint32(10).bytes(e.index),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&u.proto.SyncActionValue.encode(e.value,t.uint32(18).fork()).ldelim(),e.padding!=null&&Object.hasOwnProperty.call(e,"padding")&&t.uint32(26).bytes(e.padding),e.version!=null&&Object.hasOwnProperty.call(e,"version")&&t.uint32(32).int32(e.version),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.SyncActionData;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.index=e.bytes();break}case 2:{s.value=u.proto.SyncActionValue.decode(e,e.uint32());break}case 3:{s.padding=e.bytes();break}case 4:{s.version=e.int32();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.SyncActionData"},n}(),a.SyncActionValue=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.timestamp=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.starAction=null,n.prototype.contactAction=null,n.prototype.muteAction=null,n.prototype.pinAction=null,n.prototype.securityNotificationSetting=null,n.prototype.pushNameSetting=null,n.prototype.quickReplyAction=null,n.prototype.recentEmojiWeightsAction=null,n.prototype.labelEditAction=null,n.prototype.labelAssociationAction=null,n.prototype.localeSetting=null,n.prototype.archiveChatAction=null,n.prototype.deleteMessageForMeAction=null,n.prototype.keyExpiration=null,n.prototype.markChatAsReadAction=null,n.prototype.clearChatAction=null,n.prototype.deleteChatAction=null,n.prototype.unarchiveChatsSetting=null,n.prototype.primaryFeature=null,n.prototype.androidUnsupportedActions=null,n.prototype.agentAction=null,n.prototype.subscriptionAction=null,n.prototype.userStatusMuteAction=null,n.prototype.timeFormatAction=null,n.prototype.nuxAction=null,n.prototype.primaryVersionAction=null,n.prototype.stickerAction=null,n.prototype.removeRecentStickerAction=null,n.prototype.chatAssignment=null,n.prototype.chatAssignmentOpenedStatus=null,n.prototype.pnForLidChatAction=null,n.prototype.marketingMessageAction=null,n.prototype.marketingMessageBroadcastAction=null,n.prototype.externalWebBetaAction=null,n.prototype.privacySettingRelayAllCalls=null,n.prototype.callLogAction=null,n.prototype.statusPrivacy=null,n.prototype.botWelcomeRequestAction=null,n.prototype.deleteIndividualCallLog=null,n.prototype.labelReorderingAction=null,n.prototype.paymentInfoAction=null,n.prototype.customPaymentMethodsAction=null,n.prototype.lockChatAction=null,n.prototype.chatLockSettings=null,n.prototype.wamoUserIdentifierAction=null,n.prototype.privacySettingDisableLinkPreviewsAction=null,n.prototype.deviceCapabilities=null,n.prototype.noteEditAction=null,n.prototype.favoritesAction=null,n.prototype.merchantPaymentPartnerAction=null,n.prototype.waffleAccountLinkStateAction=null,n.prototype.usernameChatStartMode=null,n.prototype.notificationActivitySettingAction=null,n.prototype.lidContactAction=null,n.prototype.ctwaPerCustomerDataSharingAction=null,n.prototype.paymentTosAction=null,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.timestamp!=null&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(8).int64(e.timestamp),e.starAction!=null&&Object.hasOwnProperty.call(e,"starAction")&&u.proto.SyncActionValue.StarAction.encode(e.starAction,t.uint32(18).fork()).ldelim(),e.contactAction!=null&&Object.hasOwnProperty.call(e,"contactAction")&&u.proto.SyncActionValue.ContactAction.encode(e.contactAction,t.uint32(26).fork()).ldelim(),e.muteAction!=null&&Object.hasOwnProperty.call(e,"muteAction")&&u.proto.SyncActionValue.MuteAction.encode(e.muteAction,t.uint32(34).fork()).ldelim(),e.pinAction!=null&&Object.hasOwnProperty.call(e,"pinAction")&&u.proto.SyncActionValue.PinAction.encode(e.pinAction,t.uint32(42).fork()).ldelim(),e.securityNotificationSetting!=null&&Object.hasOwnProperty.call(e,"securityNotificationSetting")&&u.proto.SyncActionValue.SecurityNotificationSetting.encode(e.securityNotificationSetting,t.uint32(50).fork()).ldelim(),e.pushNameSetting!=null&&Object.hasOwnProperty.call(e,"pushNameSetting")&&u.proto.SyncActionValue.PushNameSetting.encode(e.pushNameSetting,t.uint32(58).fork()).ldelim(),e.quickReplyAction!=null&&Object.hasOwnProperty.call(e,"quickReplyAction")&&u.proto.SyncActionValue.QuickReplyAction.encode(e.quickReplyAction,t.uint32(66).fork()).ldelim(),e.recentEmojiWeightsAction!=null&&Object.hasOwnProperty.call(e,"recentEmojiWeightsAction")&&u.proto.SyncActionValue.RecentEmojiWeightsAction.encode(e.recentEmojiWeightsAction,t.uint32(90).fork()).ldelim(),e.labelEditAction!=null&&Object.hasOwnProperty.call(e,"labelEditAction")&&u.proto.SyncActionValue.LabelEditAction.encode(e.labelEditAction,t.uint32(114).fork()).ldelim(),e.labelAssociationAction!=null&&Object.hasOwnProperty.call(e,"labelAssociationAction")&&u.proto.SyncActionValue.LabelAssociationAction.encode(e.labelAssociationAction,t.uint32(122).fork()).ldelim(),e.localeSetting!=null&&Object.hasOwnProperty.call(e,"localeSetting")&&u.proto.SyncActionValue.LocaleSetting.encode(e.localeSetting,t.uint32(130).fork()).ldelim(),e.archiveChatAction!=null&&Object.hasOwnProperty.call(e,"archiveChatAction")&&u.proto.SyncActionValue.ArchiveChatAction.encode(e.archiveChatAction,t.uint32(138).fork()).ldelim(),e.deleteMessageForMeAction!=null&&Object.hasOwnProperty.call(e,"deleteMessageForMeAction")&&u.proto.SyncActionValue.DeleteMessageForMeAction.encode(e.deleteMessageForMeAction,t.uint32(146).fork()).ldelim(),e.keyExpiration!=null&&Object.hasOwnProperty.call(e,"keyExpiration")&&u.proto.SyncActionValue.KeyExpiration.encode(e.keyExpiration,t.uint32(154).fork()).ldelim(),e.markChatAsReadAction!=null&&Object.hasOwnProperty.call(e,"markChatAsReadAction")&&u.proto.SyncActionValue.MarkChatAsReadAction.encode(e.markChatAsReadAction,t.uint32(162).fork()).ldelim(),e.clearChatAction!=null&&Object.hasOwnProperty.call(e,"clearChatAction")&&u.proto.SyncActionValue.ClearChatAction.encode(e.clearChatAction,t.uint32(170).fork()).ldelim(),e.deleteChatAction!=null&&Object.hasOwnProperty.call(e,"deleteChatAction")&&u.proto.SyncActionValue.DeleteChatAction.encode(e.deleteChatAction,t.uint32(178).fork()).ldelim(),e.unarchiveChatsSetting!=null&&Object.hasOwnProperty.call(e,"unarchiveChatsSetting")&&u.proto.SyncActionValue.UnarchiveChatsSetting.encode(e.unarchiveChatsSetting,t.uint32(186).fork()).ldelim(),e.primaryFeature!=null&&Object.hasOwnProperty.call(e,"primaryFeature")&&u.proto.SyncActionValue.PrimaryFeature.encode(e.primaryFeature,t.uint32(194).fork()).ldelim(),e.androidUnsupportedActions!=null&&Object.hasOwnProperty.call(e,"androidUnsupportedActions")&&u.proto.SyncActionValue.AndroidUnsupportedActions.encode(e.androidUnsupportedActions,t.uint32(210).fork()).ldelim(),e.agentAction!=null&&Object.hasOwnProperty.call(e,"agentAction")&&u.proto.SyncActionValue.AgentAction.encode(e.agentAction,t.uint32(218).fork()).ldelim(),e.subscriptionAction!=null&&Object.hasOwnProperty.call(e,"subscriptionAction")&&u.proto.SyncActionValue.SubscriptionAction.encode(e.subscriptionAction,t.uint32(226).fork()).ldelim(),e.userStatusMuteAction!=null&&Object.hasOwnProperty.call(e,"userStatusMuteAction")&&u.proto.SyncActionValue.UserStatusMuteAction.encode(e.userStatusMuteAction,t.uint32(234).fork()).ldelim(),e.timeFormatAction!=null&&Object.hasOwnProperty.call(e,"timeFormatAction")&&u.proto.SyncActionValue.TimeFormatAction.encode(e.timeFormatAction,t.uint32(242).fork()).ldelim(),e.nuxAction!=null&&Object.hasOwnProperty.call(e,"nuxAction")&&u.proto.SyncActionValue.NuxAction.encode(e.nuxAction,t.uint32(250).fork()).ldelim(),e.primaryVersionAction!=null&&Object.hasOwnProperty.call(e,"primaryVersionAction")&&u.proto.SyncActionValue.PrimaryVersionAction.encode(e.primaryVersionAction,t.uint32(258).fork()).ldelim(),e.stickerAction!=null&&Object.hasOwnProperty.call(e,"stickerAction")&&u.proto.SyncActionValue.StickerAction.encode(e.stickerAction,t.uint32(266).fork()).ldelim(),e.removeRecentStickerAction!=null&&Object.hasOwnProperty.call(e,"removeRecentStickerAction")&&u.proto.SyncActionValue.RemoveRecentStickerAction.encode(e.removeRecentStickerAction,t.uint32(274).fork()).ldelim(),e.chatAssignment!=null&&Object.hasOwnProperty.call(e,"chatAssignment")&&u.proto.SyncActionValue.ChatAssignmentAction.encode(e.chatAssignment,t.uint32(282).fork()).ldelim(),e.chatAssignmentOpenedStatus!=null&&Object.hasOwnProperty.call(e,"chatAssignmentOpenedStatus")&&u.proto.SyncActionValue.ChatAssignmentOpenedStatusAction.encode(e.chatAssignmentOpenedStatus,t.uint32(290).fork()).ldelim(),e.pnForLidChatAction!=null&&Object.hasOwnProperty.call(e,"pnForLidChatAction")&&u.proto.SyncActionValue.PnForLidChatAction.encode(e.pnForLidChatAction,t.uint32(298).fork()).ldelim(),e.marketingMessageAction!=null&&Object.hasOwnProperty.call(e,"marketingMessageAction")&&u.proto.SyncActionValue.MarketingMessageAction.encode(e.marketingMessageAction,t.uint32(306).fork()).ldelim(),e.marketingMessageBroadcastAction!=null&&Object.hasOwnProperty.call(e,"marketingMessageBroadcastAction")&&u.proto.SyncActionValue.MarketingMessageBroadcastAction.encode(e.marketingMessageBroadcastAction,t.uint32(314).fork()).ldelim(),e.externalWebBetaAction!=null&&Object.hasOwnProperty.call(e,"externalWebBetaAction")&&u.proto.SyncActionValue.ExternalWebBetaAction.encode(e.externalWebBetaAction,t.uint32(322).fork()).ldelim(),e.privacySettingRelayAllCalls!=null&&Object.hasOwnProperty.call(e,"privacySettingRelayAllCalls")&&u.proto.SyncActionValue.PrivacySettingRelayAllCalls.encode(e.privacySettingRelayAllCalls,t.uint32(330).fork()).ldelim(),e.callLogAction!=null&&Object.hasOwnProperty.call(e,"callLogAction")&&u.proto.SyncActionValue.CallLogAction.encode(e.callLogAction,t.uint32(338).fork()).ldelim(),e.statusPrivacy!=null&&Object.hasOwnProperty.call(e,"statusPrivacy")&&u.proto.SyncActionValue.StatusPrivacyAction.encode(e.statusPrivacy,t.uint32(354).fork()).ldelim(),e.botWelcomeRequestAction!=null&&Object.hasOwnProperty.call(e,"botWelcomeRequestAction")&&u.proto.SyncActionValue.BotWelcomeRequestAction.encode(e.botWelcomeRequestAction,t.uint32(362).fork()).ldelim(),e.deleteIndividualCallLog!=null&&Object.hasOwnProperty.call(e,"deleteIndividualCallLog")&&u.proto.SyncActionValue.DeleteIndividualCallLogAction.encode(e.deleteIndividualCallLog,t.uint32(370).fork()).ldelim(),e.labelReorderingAction!=null&&Object.hasOwnProperty.call(e,"labelReorderingAction")&&u.proto.SyncActionValue.LabelReorderingAction.encode(e.labelReorderingAction,t.uint32(378).fork()).ldelim(),e.paymentInfoAction!=null&&Object.hasOwnProperty.call(e,"paymentInfoAction")&&u.proto.SyncActionValue.PaymentInfoAction.encode(e.paymentInfoAction,t.uint32(386).fork()).ldelim(),e.customPaymentMethodsAction!=null&&Object.hasOwnProperty.call(e,"customPaymentMethodsAction")&&u.proto.SyncActionValue.CustomPaymentMethodsAction.encode(e.customPaymentMethodsAction,t.uint32(394).fork()).ldelim(),e.lockChatAction!=null&&Object.hasOwnProperty.call(e,"lockChatAction")&&u.proto.SyncActionValue.LockChatAction.encode(e.lockChatAction,t.uint32(402).fork()).ldelim(),e.chatLockSettings!=null&&Object.hasOwnProperty.call(e,"chatLockSettings")&&u.proto.ChatLockSettings.encode(e.chatLockSettings,t.uint32(410).fork()).ldelim(),e.wamoUserIdentifierAction!=null&&Object.hasOwnProperty.call(e,"wamoUserIdentifierAction")&&u.proto.SyncActionValue.WamoUserIdentifierAction.encode(e.wamoUserIdentifierAction,t.uint32(418).fork()).ldelim(),e.privacySettingDisableLinkPreviewsAction!=null&&Object.hasOwnProperty.call(e,"privacySettingDisableLinkPreviewsAction")&&u.proto.SyncActionValue.PrivacySettingDisableLinkPreviewsAction.encode(e.privacySettingDisableLinkPreviewsAction,t.uint32(426).fork()).ldelim(),e.deviceCapabilities!=null&&Object.hasOwnProperty.call(e,"deviceCapabilities")&&u.proto.DeviceCapabilities.encode(e.deviceCapabilities,t.uint32(434).fork()).ldelim(),e.noteEditAction!=null&&Object.hasOwnProperty.call(e,"noteEditAction")&&u.proto.SyncActionValue.NoteEditAction.encode(e.noteEditAction,t.uint32(442).fork()).ldelim(),e.favoritesAction!=null&&Object.hasOwnProperty.call(e,"favoritesAction")&&u.proto.SyncActionValue.FavoritesAction.encode(e.favoritesAction,t.uint32(450).fork()).ldelim(),e.merchantPaymentPartnerAction!=null&&Object.hasOwnProperty.call(e,"merchantPaymentPartnerAction")&&u.proto.SyncActionValue.MerchantPaymentPartnerAction.encode(e.merchantPaymentPartnerAction,t.uint32(458).fork()).ldelim(),e.waffleAccountLinkStateAction!=null&&Object.hasOwnProperty.call(e,"waffleAccountLinkStateAction")&&u.proto.SyncActionValue.WaffleAccountLinkStateAction.encode(e.waffleAccountLinkStateAction,t.uint32(466).fork()).ldelim(),e.usernameChatStartMode!=null&&Object.hasOwnProperty.call(e,"usernameChatStartMode")&&u.proto.SyncActionValue.UsernameChatStartModeAction.encode(e.usernameChatStartMode,t.uint32(474).fork()).ldelim(),e.notificationActivitySettingAction!=null&&Object.hasOwnProperty.call(e,"notificationActivitySettingAction")&&u.proto.SyncActionValue.NotificationActivitySettingAction.encode(e.notificationActivitySettingAction,t.uint32(482).fork()).ldelim(),e.lidContactAction!=null&&Object.hasOwnProperty.call(e,"lidContactAction")&&u.proto.SyncActionValue.LidContactAction.encode(e.lidContactAction,t.uint32(490).fork()).ldelim(),e.ctwaPerCustomerDataSharingAction!=null&&Object.hasOwnProperty.call(e,"ctwaPerCustomerDataSharingAction")&&u.proto.SyncActionValue.CtwaPerCustomerDataSharingAction.encode(e.ctwaPerCustomerDataSharingAction,t.uint32(498).fork()).ldelim(),e.paymentTosAction!=null&&Object.hasOwnProperty.call(e,"paymentTosAction")&&u.proto.SyncActionValue.PaymentTosAction.encode(e.paymentTosAction,t.uint32(506).fork()).ldelim(),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.SyncActionValue;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.timestamp=e.int64();break}case 2:{s.starAction=u.proto.SyncActionValue.StarAction.decode(e,e.uint32());break}case 3:{s.contactAction=u.proto.SyncActionValue.ContactAction.decode(e,e.uint32());break}case 4:{s.muteAction=u.proto.SyncActionValue.MuteAction.decode(e,e.uint32());break}case 5:{s.pinAction=u.proto.SyncActionValue.PinAction.decode(e,e.uint32());break}case 6:{s.securityNotificationSetting=u.proto.SyncActionValue.SecurityNotificationSetting.decode(e,e.uint32());break}case 7:{s.pushNameSetting=u.proto.SyncActionValue.PushNameSetting.decode(e,e.uint32());break}case 8:{s.quickReplyAction=u.proto.SyncActionValue.QuickReplyAction.decode(e,e.uint32());break}case 11:{s.recentEmojiWeightsAction=u.proto.SyncActionValue.RecentEmojiWeightsAction.decode(e,e.uint32());break}case 14:{s.labelEditAction=u.proto.SyncActionValue.LabelEditAction.decode(e,e.uint32());break}case 15:{s.labelAssociationAction=u.proto.SyncActionValue.LabelAssociationAction.decode(e,e.uint32());break}case 16:{s.localeSetting=u.proto.SyncActionValue.LocaleSetting.decode(e,e.uint32());break}case 17:{s.archiveChatAction=u.proto.SyncActionValue.ArchiveChatAction.decode(e,e.uint32());break}case 18:{s.deleteMessageForMeAction=u.proto.SyncActionValue.DeleteMessageForMeAction.decode(e,e.uint32());break}case 19:{s.keyExpiration=u.proto.SyncActionValue.KeyExpiration.decode(e,e.uint32());break}case 20:{s.markChatAsReadAction=u.proto.SyncActionValue.MarkChatAsReadAction.decode(e,e.uint32());break}case 21:{s.clearChatAction=u.proto.SyncActionValue.ClearChatAction.decode(e,e.uint32());break}case 22:{s.deleteChatAction=u.proto.SyncActionValue.DeleteChatAction.decode(e,e.uint32());break}case 23:{s.unarchiveChatsSetting=u.proto.SyncActionValue.UnarchiveChatsSetting.decode(e,e.uint32());break}case 24:{s.primaryFeature=u.proto.SyncActionValue.PrimaryFeature.decode(e,e.uint32());break}case 26:{s.androidUnsupportedActions=u.proto.SyncActionValue.AndroidUnsupportedActions.decode(e,e.uint32());break}case 27:{s.agentAction=u.proto.SyncActionValue.AgentAction.decode(e,e.uint32());break}case 28:{s.subscriptionAction=u.proto.SyncActionValue.SubscriptionAction.decode(e,e.uint32());break}case 29:{s.userStatusMuteAction=u.proto.SyncActionValue.UserStatusMuteAction.decode(e,e.uint32());break}case 30:{s.timeFormatAction=u.proto.SyncActionValue.TimeFormatAction.decode(e,e.uint32());break}case 31:{s.nuxAction=u.proto.SyncActionValue.NuxAction.decode(e,e.uint32());break}case 32:{s.primaryVersionAction=u.proto.SyncActionValue.PrimaryVersionAction.decode(e,e.uint32());break}case 33:{s.stickerAction=u.proto.SyncActionValue.StickerAction.decode(e,e.uint32());break}case 34:{s.removeRecentStickerAction=u.proto.SyncActionValue.RemoveRecentStickerAction.decode(e,e.uint32());break}case 35:{s.chatAssignment=u.proto.SyncActionValue.ChatAssignmentAction.decode(e,e.uint32());break}case 36:{s.chatAssignmentOpenedStatus=u.proto.SyncActionValue.ChatAssignmentOpenedStatusAction.decode(e,e.uint32());break}case 37:{s.pnForLidChatAction=u.proto.SyncActionValue.PnForLidChatAction.decode(e,e.uint32());break}case 38:{s.marketingMessageAction=u.proto.SyncActionValue.MarketingMessageAction.decode(e,e.uint32());break}case 39:{s.marketingMessageBroadcastAction=u.proto.SyncActionValue.MarketingMessageBroadcastAction.decode(e,e.uint32());break}case 40:{s.externalWebBetaAction=u.proto.SyncActionValue.ExternalWebBetaAction.decode(e,e.uint32());break}case 41:{s.privacySettingRelayAllCalls=u.proto.SyncActionValue.PrivacySettingRelayAllCalls.decode(e,e.uint32());break}case 42:{s.callLogAction=u.proto.SyncActionValue.CallLogAction.decode(e,e.uint32());break}case 44:{s.statusPrivacy=u.proto.SyncActionValue.StatusPrivacyAction.decode(e,e.uint32());break}case 45:{s.botWelcomeRequestAction=u.proto.SyncActionValue.BotWelcomeRequestAction.decode(e,e.uint32());break}case 46:{s.deleteIndividualCallLog=u.proto.SyncActionValue.DeleteIndividualCallLogAction.decode(e,e.uint32());break}case 47:{s.labelReorderingAction=u.proto.SyncActionValue.LabelReorderingAction.decode(e,e.uint32());break}case 48:{s.paymentInfoAction=u.proto.SyncActionValue.PaymentInfoAction.decode(e,e.uint32());break}case 49:{s.customPaymentMethodsAction=u.proto.SyncActionValue.CustomPaymentMethodsAction.decode(e,e.uint32());break}case 50:{s.lockChatAction=u.proto.SyncActionValue.LockChatAction.decode(e,e.uint32());break}case 51:{s.chatLockSettings=u.proto.ChatLockSettings.decode(e,e.uint32());break}case 52:{s.wamoUserIdentifierAction=u.proto.SyncActionValue.WamoUserIdentifierAction.decode(e,e.uint32());break}case 53:{s.privacySettingDisableLinkPreviewsAction=u.proto.SyncActionValue.PrivacySettingDisableLinkPreviewsAction.decode(e,e.uint32());break}case 54:{s.deviceCapabilities=u.proto.DeviceCapabilities.decode(e,e.uint32());break}case 55:{s.noteEditAction=u.proto.SyncActionValue.NoteEditAction.decode(e,e.uint32());break}case 56:{s.favoritesAction=u.proto.SyncActionValue.FavoritesAction.decode(e,e.uint32());break}case 57:{s.merchantPaymentPartnerAction=u.proto.SyncActionValue.MerchantPaymentPartnerAction.decode(e,e.uint32());break}case 58:{s.waffleAccountLinkStateAction=u.proto.SyncActionValue.WaffleAccountLinkStateAction.decode(e,e.uint32());break}case 59:{s.usernameChatStartMode=u.proto.SyncActionValue.UsernameChatStartModeAction.decode(e,e.uint32());break}case 60:{s.notificationActivitySettingAction=u.proto.SyncActionValue.NotificationActivitySettingAction.decode(e,e.uint32());break}case 61:{s.lidContactAction=u.proto.SyncActionValue.LidContactAction.decode(e,e.uint32());break}case 62:{s.ctwaPerCustomerDataSharingAction=u.proto.SyncActionValue.CtwaPerCustomerDataSharingAction.decode(e,e.uint32());break}case 63:{s.paymentTosAction=u.proto.SyncActionValue.PaymentTosAction.decode(e,e.uint32());break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.SyncActionValue"},n.AgentAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.name="",r.prototype.deviceID=0,r.prototype.isDeleted=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&i.uint32(10).string(t.name),t.deviceID!=null&&Object.hasOwnProperty.call(t,"deviceID")&&i.uint32(16).int32(t.deviceID),t.isDeleted!=null&&Object.hasOwnProperty.call(t,"isDeleted")&&i.uint32(24).bool(t.isDeleted),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.AgentAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.name=t.string();break}case 2:{c.deviceID=t.int32();break}case 3:{c.isDeleted=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.AgentAction"},r}(),n.AndroidUnsupportedActions=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.allowed=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.allowed!=null&&Object.hasOwnProperty.call(t,"allowed")&&i.uint32(8).bool(t.allowed),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.AndroidUnsupportedActions;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.allowed=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.AndroidUnsupportedActions"},r}(),n.ArchiveChatAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.archived=!1,r.prototype.messageRange=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.archived!=null&&Object.hasOwnProperty.call(t,"archived")&&i.uint32(8).bool(t.archived),t.messageRange!=null&&Object.hasOwnProperty.call(t,"messageRange")&&u.proto.SyncActionValue.SyncActionMessageRange.encode(t.messageRange,i.uint32(18).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.ArchiveChatAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.archived=t.bool();break}case 2:{c.messageRange=u.proto.SyncActionValue.SyncActionMessageRange.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.ArchiveChatAction"},r}(),n.BotWelcomeRequestAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.isSent=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.isSent!=null&&Object.hasOwnProperty.call(t,"isSent")&&i.uint32(8).bool(t.isSent),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.BotWelcomeRequestAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.isSent=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.BotWelcomeRequestAction"},r}(),n.CallLogAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.callLogRecord=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.callLogRecord!=null&&Object.hasOwnProperty.call(t,"callLogRecord")&&u.proto.CallLogRecord.encode(t.callLogRecord,i.uint32(10).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.CallLogAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.callLogRecord=u.proto.CallLogRecord.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.CallLogAction"},r}(),n.ChatAssignmentAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.deviceAgentID="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.deviceAgentID!=null&&Object.hasOwnProperty.call(t,"deviceAgentID")&&i.uint32(10).string(t.deviceAgentID),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.ChatAssignmentAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.deviceAgentID=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.ChatAssignmentAction"},r}(),n.ChatAssignmentOpenedStatusAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.chatOpened=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.chatOpened!=null&&Object.hasOwnProperty.call(t,"chatOpened")&&i.uint32(8).bool(t.chatOpened),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.ChatAssignmentOpenedStatusAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.chatOpened=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.ChatAssignmentOpenedStatusAction"},r}(),n.ClearChatAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.messageRange=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.messageRange!=null&&Object.hasOwnProperty.call(t,"messageRange")&&u.proto.SyncActionValue.SyncActionMessageRange.encode(t.messageRange,i.uint32(10).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.ClearChatAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.messageRange=u.proto.SyncActionValue.SyncActionMessageRange.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.ClearChatAction"},r}(),n.ContactAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.fullName="",r.prototype.firstName="",r.prototype.lidJid="",r.prototype.saveOnPrimaryAddressbook=!1,r.prototype.pnJid="",r.prototype.username="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.fullName!=null&&Object.hasOwnProperty.call(t,"fullName")&&i.uint32(10).string(t.fullName),t.firstName!=null&&Object.hasOwnProperty.call(t,"firstName")&&i.uint32(18).string(t.firstName),t.lidJid!=null&&Object.hasOwnProperty.call(t,"lidJid")&&i.uint32(26).string(t.lidJid),t.saveOnPrimaryAddressbook!=null&&Object.hasOwnProperty.call(t,"saveOnPrimaryAddressbook")&&i.uint32(32).bool(t.saveOnPrimaryAddressbook),t.pnJid!=null&&Object.hasOwnProperty.call(t,"pnJid")&&i.uint32(42).string(t.pnJid),t.username!=null&&Object.hasOwnProperty.call(t,"username")&&i.uint32(50).string(t.username),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.ContactAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.fullName=t.string();break}case 2:{c.firstName=t.string();break}case 3:{c.lidJid=t.string();break}case 4:{c.saveOnPrimaryAddressbook=t.bool();break}case 5:{c.pnJid=t.string();break}case 6:{c.username=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.ContactAction"},r}(),n.CtwaPerCustomerDataSharingAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.isCtwaPerCustomerDataSharingEnabled=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.isCtwaPerCustomerDataSharingEnabled!=null&&Object.hasOwnProperty.call(t,"isCtwaPerCustomerDataSharingEnabled")&&i.uint32(8).bool(t.isCtwaPerCustomerDataSharingEnabled),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.CtwaPerCustomerDataSharingAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.isCtwaPerCustomerDataSharingEnabled=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.CtwaPerCustomerDataSharingAction"},r}(),n.CustomPaymentMethod=function(){function r(e){if(this.metadata=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.credentialId="",r.prototype.country="",r.prototype.type="",r.prototype.metadata=h.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),i.uint32(10).string(t.credentialId),i.uint32(18).string(t.country),i.uint32(26).string(t.type),t.metadata!=null&&t.metadata.length)for(var o=0;o<t.metadata.length;++o)u.proto.SyncActionValue.CustomPaymentMethodMetadata.encode(t.metadata[o],i.uint32(34).fork()).ldelim();return i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.CustomPaymentMethod;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.credentialId=t.string();break}case 2:{c.country=t.string();break}case 3:{c.type=t.string();break}case 4:{c.metadata&&c.metadata.length||(c.metadata=[]),c.metadata.push(u.proto.SyncActionValue.CustomPaymentMethodMetadata.decode(t,t.uint32()));break}default:t.skipType(l&7);break}}if(!c.hasOwnProperty("credentialId"))throw h.ProtocolError("missing required 'credentialId'",{instance:c});if(!c.hasOwnProperty("country"))throw h.ProtocolError("missing required 'country'",{instance:c});if(!c.hasOwnProperty("type"))throw h.ProtocolError("missing required 'type'",{instance:c});return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.CustomPaymentMethod"},r}(),n.CustomPaymentMethodMetadata=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.key="",r.prototype.value="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),i.uint32(10).string(t.key),i.uint32(18).string(t.value),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.CustomPaymentMethodMetadata;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.key=t.string();break}case 2:{c.value=t.string();break}default:t.skipType(l&7);break}}if(!c.hasOwnProperty("key"))throw h.ProtocolError("missing required 'key'",{instance:c});if(!c.hasOwnProperty("value"))throw h.ProtocolError("missing required 'value'",{instance:c});return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.CustomPaymentMethodMetadata"},r}(),n.CustomPaymentMethodsAction=function(){function r(e){if(this.customPaymentMethods=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.customPaymentMethods=h.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.customPaymentMethods!=null&&t.customPaymentMethods.length)for(var o=0;o<t.customPaymentMethods.length;++o)u.proto.SyncActionValue.CustomPaymentMethod.encode(t.customPaymentMethods[o],i.uint32(10).fork()).ldelim();return i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.CustomPaymentMethodsAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.customPaymentMethods&&c.customPaymentMethods.length||(c.customPaymentMethods=[]),c.customPaymentMethods.push(u.proto.SyncActionValue.CustomPaymentMethod.decode(t,t.uint32()));break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.CustomPaymentMethodsAction"},r}(),n.DeleteChatAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.messageRange=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.messageRange!=null&&Object.hasOwnProperty.call(t,"messageRange")&&u.proto.SyncActionValue.SyncActionMessageRange.encode(t.messageRange,i.uint32(10).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.DeleteChatAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.messageRange=u.proto.SyncActionValue.SyncActionMessageRange.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.DeleteChatAction"},r}(),n.DeleteIndividualCallLogAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.peerJid="",r.prototype.isIncoming=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.peerJid!=null&&Object.hasOwnProperty.call(t,"peerJid")&&i.uint32(10).string(t.peerJid),t.isIncoming!=null&&Object.hasOwnProperty.call(t,"isIncoming")&&i.uint32(16).bool(t.isIncoming),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.DeleteIndividualCallLogAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.peerJid=t.string();break}case 2:{c.isIncoming=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.DeleteIndividualCallLogAction"},r}(),n.DeleteMessageForMeAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.deleteMedia=!1,r.prototype.messageTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.deleteMedia!=null&&Object.hasOwnProperty.call(t,"deleteMedia")&&i.uint32(8).bool(t.deleteMedia),t.messageTimestamp!=null&&Object.hasOwnProperty.call(t,"messageTimestamp")&&i.uint32(16).int64(t.messageTimestamp),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.DeleteMessageForMeAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.deleteMedia=t.bool();break}case 2:{c.messageTimestamp=t.int64();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.DeleteMessageForMeAction"},r}(),n.ExternalWebBetaAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.isOptIn=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.isOptIn!=null&&Object.hasOwnProperty.call(t,"isOptIn")&&i.uint32(8).bool(t.isOptIn),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.ExternalWebBetaAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.isOptIn=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.ExternalWebBetaAction"},r}(),n.FavoritesAction=function(){function r(e){if(this.favorites=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.favorites=h.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.favorites!=null&&t.favorites.length)for(var o=0;o<t.favorites.length;++o)u.proto.SyncActionValue.FavoritesAction.Favorite.encode(t.favorites[o],i.uint32(10).fork()).ldelim();return i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.FavoritesAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.favorites&&c.favorites.length||(c.favorites=[]),c.favorites.push(u.proto.SyncActionValue.FavoritesAction.Favorite.decode(t,t.uint32()));break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.FavoritesAction"},r.Favorite=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.id="",e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.id!=null&&Object.hasOwnProperty.call(i,"id")&&o.uint32(10).string(i.id),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.SyncActionValue.FavoritesAction.Favorite;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.id=i.string();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.SyncActionValue.FavoritesAction.Favorite"},e}(),r}(),n.KeyExpiration=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.expiredKeyEpoch=0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.expiredKeyEpoch!=null&&Object.hasOwnProperty.call(t,"expiredKeyEpoch")&&i.uint32(8).int32(t.expiredKeyEpoch),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.KeyExpiration;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.expiredKeyEpoch=t.int32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.KeyExpiration"},r}(),n.LabelAssociationAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.labeled=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.labeled!=null&&Object.hasOwnProperty.call(t,"labeled")&&i.uint32(8).bool(t.labeled),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.LabelAssociationAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.labeled=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.LabelAssociationAction"},r}(),n.LabelEditAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.name="",r.prototype.color=0,r.prototype.predefinedId=0,r.prototype.deleted=!1,r.prototype.orderIndex=0,r.prototype.isActive=!1,r.prototype.type=0,r.prototype.isImmutable=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&i.uint32(10).string(t.name),t.color!=null&&Object.hasOwnProperty.call(t,"color")&&i.uint32(16).int32(t.color),t.predefinedId!=null&&Object.hasOwnProperty.call(t,"predefinedId")&&i.uint32(24).int32(t.predefinedId),t.deleted!=null&&Object.hasOwnProperty.call(t,"deleted")&&i.uint32(32).bool(t.deleted),t.orderIndex!=null&&Object.hasOwnProperty.call(t,"orderIndex")&&i.uint32(40).int32(t.orderIndex),t.isActive!=null&&Object.hasOwnProperty.call(t,"isActive")&&i.uint32(48).bool(t.isActive),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&i.uint32(56).int32(t.type),t.isImmutable!=null&&Object.hasOwnProperty.call(t,"isImmutable")&&i.uint32(64).bool(t.isImmutable),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.LabelEditAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.name=t.string();break}case 2:{c.color=t.int32();break}case 3:{c.predefinedId=t.int32();break}case 4:{c.deleted=t.bool();break}case 5:{c.orderIndex=t.int32();break}case 6:{c.isActive=t.bool();break}case 7:{c.type=t.int32();break}case 8:{c.isImmutable=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.LabelEditAction"},r.ListType=function(){let e={},t=Object.create(e);return t[e[0]="NONE"]=0,t[e[1]="UNREAD"]=1,t[e[2]="GROUPS"]=2,t[e[3]="FAVORITES"]=3,t[e[4]="PREDEFINED"]=4,t[e[5]="CUSTOM"]=5,t[e[6]="COMMUNITY"]=6,t[e[7]="SERVER_ASSIGNED"]=7,t}(),r}(),n.LabelReorderingAction=function(){function r(e){if(this.sortedLabelIds=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.sortedLabelIds=h.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.sortedLabelIds!=null&&t.sortedLabelIds.length)for(var o=0;o<t.sortedLabelIds.length;++o)i.uint32(8).int32(t.sortedLabelIds[o]);return i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.LabelReorderingAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{if(c.sortedLabelIds&&c.sortedLabelIds.length||(c.sortedLabelIds=[]),(l&7)===2)for(var d=t.uint32()+t.pos;t.pos<d;)c.sortedLabelIds.push(t.int32());else c.sortedLabelIds.push(t.int32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.LabelReorderingAction"},r}(),n.LidContactAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.fullName="",r.prototype.firstName="",r.prototype.username="",r.prototype.saveOnPrimaryAddressbook=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.fullName!=null&&Object.hasOwnProperty.call(t,"fullName")&&i.uint32(10).string(t.fullName),t.firstName!=null&&Object.hasOwnProperty.call(t,"firstName")&&i.uint32(18).string(t.firstName),t.username!=null&&Object.hasOwnProperty.call(t,"username")&&i.uint32(26).string(t.username),t.saveOnPrimaryAddressbook!=null&&Object.hasOwnProperty.call(t,"saveOnPrimaryAddressbook")&&i.uint32(32).bool(t.saveOnPrimaryAddressbook),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.LidContactAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.fullName=t.string();break}case 2:{c.firstName=t.string();break}case 3:{c.username=t.string();break}case 4:{c.saveOnPrimaryAddressbook=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.LidContactAction"},r}(),n.LocaleSetting=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.locale="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.locale!=null&&Object.hasOwnProperty.call(t,"locale")&&i.uint32(10).string(t.locale),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.LocaleSetting;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.locale=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.LocaleSetting"},r}(),n.LockChatAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.locked=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.locked!=null&&Object.hasOwnProperty.call(t,"locked")&&i.uint32(8).bool(t.locked),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.LockChatAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.locked=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.LockChatAction"},r}(),n.MarkChatAsReadAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.read=!1,r.prototype.messageRange=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.read!=null&&Object.hasOwnProperty.call(t,"read")&&i.uint32(8).bool(t.read),t.messageRange!=null&&Object.hasOwnProperty.call(t,"messageRange")&&u.proto.SyncActionValue.SyncActionMessageRange.encode(t.messageRange,i.uint32(18).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.MarkChatAsReadAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.read=t.bool();break}case 2:{c.messageRange=u.proto.SyncActionValue.SyncActionMessageRange.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.MarkChatAsReadAction"},r}(),n.MarketingMessageAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.name="",r.prototype.message="",r.prototype.type=0,r.prototype.createdAt=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.lastSentAt=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.isDeleted=!1,r.prototype.mediaId="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&i.uint32(10).string(t.name),t.message!=null&&Object.hasOwnProperty.call(t,"message")&&i.uint32(18).string(t.message),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&i.uint32(24).int32(t.type),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&i.uint32(32).int64(t.createdAt),t.lastSentAt!=null&&Object.hasOwnProperty.call(t,"lastSentAt")&&i.uint32(40).int64(t.lastSentAt),t.isDeleted!=null&&Object.hasOwnProperty.call(t,"isDeleted")&&i.uint32(48).bool(t.isDeleted),t.mediaId!=null&&Object.hasOwnProperty.call(t,"mediaId")&&i.uint32(58).string(t.mediaId),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.MarketingMessageAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.name=t.string();break}case 2:{c.message=t.string();break}case 3:{c.type=t.int32();break}case 4:{c.createdAt=t.int64();break}case 5:{c.lastSentAt=t.int64();break}case 6:{c.isDeleted=t.bool();break}case 7:{c.mediaId=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.MarketingMessageAction"},r.MarketingMessagePrototypeType=function(){let e={},t=Object.create(e);return t[e[0]="PERSONALIZED"]=0,t}(),r}(),n.MarketingMessageBroadcastAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.repliedCount=0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.repliedCount!=null&&Object.hasOwnProperty.call(t,"repliedCount")&&i.uint32(8).int32(t.repliedCount),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.MarketingMessageBroadcastAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.repliedCount=t.int32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.MarketingMessageBroadcastAction"},r}(),n.MerchantPaymentPartnerAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.status=0,r.prototype.country="",r.prototype.gatewayName="",r.prototype.credentialId="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),i.uint32(8).int32(t.status),i.uint32(18).string(t.country),t.gatewayName!=null&&Object.hasOwnProperty.call(t,"gatewayName")&&i.uint32(26).string(t.gatewayName),t.credentialId!=null&&Object.hasOwnProperty.call(t,"credentialId")&&i.uint32(34).string(t.credentialId),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.MerchantPaymentPartnerAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.status=t.int32();break}case 2:{c.country=t.string();break}case 3:{c.gatewayName=t.string();break}case 4:{c.credentialId=t.string();break}default:t.skipType(l&7);break}}if(!c.hasOwnProperty("status"))throw h.ProtocolError("missing required 'status'",{instance:c});if(!c.hasOwnProperty("country"))throw h.ProtocolError("missing required 'country'",{instance:c});return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.MerchantPaymentPartnerAction"},r.Status=function(){let e={},t=Object.create(e);return t[e[0]="ACTIVE"]=0,t[e[1]="INACTIVE"]=1,t}(),r}(),n.MuteAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.muted=!1,r.prototype.muteEndTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.autoMuted=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.muted!=null&&Object.hasOwnProperty.call(t,"muted")&&i.uint32(8).bool(t.muted),t.muteEndTimestamp!=null&&Object.hasOwnProperty.call(t,"muteEndTimestamp")&&i.uint32(16).int64(t.muteEndTimestamp),t.autoMuted!=null&&Object.hasOwnProperty.call(t,"autoMuted")&&i.uint32(24).bool(t.autoMuted),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.MuteAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.muted=t.bool();break}case 2:{c.muteEndTimestamp=t.int64();break}case 3:{c.autoMuted=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.MuteAction"},r}(),n.NoteEditAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.type=1,r.prototype.chatJid="",r.prototype.createdAt=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.deleted=!1,r.prototype.unstructuredContent="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&i.uint32(8).int32(t.type),t.chatJid!=null&&Object.hasOwnProperty.call(t,"chatJid")&&i.uint32(18).string(t.chatJid),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&i.uint32(24).int64(t.createdAt),t.deleted!=null&&Object.hasOwnProperty.call(t,"deleted")&&i.uint32(32).bool(t.deleted),t.unstructuredContent!=null&&Object.hasOwnProperty.call(t,"unstructuredContent")&&i.uint32(42).string(t.unstructuredContent),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.NoteEditAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.type=t.int32();break}case 2:{c.chatJid=t.string();break}case 3:{c.createdAt=t.int64();break}case 4:{c.deleted=t.bool();break}case 5:{c.unstructuredContent=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.NoteEditAction"},r.NoteType=function(){let e={},t=Object.create(e);return t[e[1]="UNSTRUCTURED"]=1,t[e[2]="STRUCTURED"]=2,t}(),r}(),n.NotificationActivitySettingAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.notificationActivitySetting=0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.notificationActivitySetting!=null&&Object.hasOwnProperty.call(t,"notificationActivitySetting")&&i.uint32(8).int32(t.notificationActivitySetting),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.NotificationActivitySettingAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.notificationActivitySetting=t.int32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.NotificationActivitySettingAction"},r.NotificationActivitySetting=function(){let e={},t=Object.create(e);return t[e[0]="DEFAULT_ALL_MESSAGES"]=0,t[e[1]="ALL_MESSAGES"]=1,t[e[2]="HIGHLIGHTS"]=2,t[e[3]="DEFAULT_HIGHLIGHTS"]=3,t}(),r}(),n.NuxAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.acknowledged=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.acknowledged!=null&&Object.hasOwnProperty.call(t,"acknowledged")&&i.uint32(8).bool(t.acknowledged),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.NuxAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.acknowledged=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.NuxAction"},r}(),n.PaymentInfoAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.cpi="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.cpi!=null&&Object.hasOwnProperty.call(t,"cpi")&&i.uint32(10).string(t.cpi),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.PaymentInfoAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.cpi=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.PaymentInfoAction"},r}(),n.PaymentTosAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.paymentNotice=0,r.prototype.accepted=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),i.uint32(8).int32(t.paymentNotice),i.uint32(16).bool(t.accepted),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.PaymentTosAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.paymentNotice=t.int32();break}case 2:{c.accepted=t.bool();break}default:t.skipType(l&7);break}}if(!c.hasOwnProperty("paymentNotice"))throw h.ProtocolError("missing required 'paymentNotice'",{instance:c});if(!c.hasOwnProperty("accepted"))throw h.ProtocolError("missing required 'accepted'",{instance:c});return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.PaymentTosAction"},r.PaymentNotice=function(){let e={},t=Object.create(e);return t[e[0]="BR_PAY_PRIVACY_POLICY"]=0,t}(),r}(),n.PinAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.pinned=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.pinned!=null&&Object.hasOwnProperty.call(t,"pinned")&&i.uint32(8).bool(t.pinned),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.PinAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.pinned=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.PinAction"},r}(),n.PnForLidChatAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.pnJid="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.pnJid!=null&&Object.hasOwnProperty.call(t,"pnJid")&&i.uint32(10).string(t.pnJid),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.PnForLidChatAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.pnJid=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.PnForLidChatAction"},r}(),n.PrimaryFeature=function(){function r(e){if(this.flags=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.flags=h.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.flags!=null&&t.flags.length)for(var o=0;o<t.flags.length;++o)i.uint32(10).string(t.flags[o]);return i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.PrimaryFeature;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.flags&&c.flags.length||(c.flags=[]),c.flags.push(t.string());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.PrimaryFeature"},r}(),n.PrimaryVersionAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.version="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.version!=null&&Object.hasOwnProperty.call(t,"version")&&i.uint32(10).string(t.version),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.PrimaryVersionAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.version=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.PrimaryVersionAction"},r}(),n.PrivacySettingDisableLinkPreviewsAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.isPreviewsDisabled=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.isPreviewsDisabled!=null&&Object.hasOwnProperty.call(t,"isPreviewsDisabled")&&i.uint32(8).bool(t.isPreviewsDisabled),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.PrivacySettingDisableLinkPreviewsAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.isPreviewsDisabled=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.PrivacySettingDisableLinkPreviewsAction"},r}(),n.PrivacySettingRelayAllCalls=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.isEnabled=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.isEnabled!=null&&Object.hasOwnProperty.call(t,"isEnabled")&&i.uint32(8).bool(t.isEnabled),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.PrivacySettingRelayAllCalls;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.isEnabled=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.PrivacySettingRelayAllCalls"},r}(),n.PushNameSetting=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.name="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&i.uint32(10).string(t.name),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.PushNameSetting;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.name=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.PushNameSetting"},r}(),n.QuickReplyAction=function(){function r(e){if(this.keywords=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.shortcut="",r.prototype.message="",r.prototype.keywords=h.emptyArray,r.prototype.count=0,r.prototype.deleted=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.shortcut!=null&&Object.hasOwnProperty.call(t,"shortcut")&&i.uint32(10).string(t.shortcut),t.message!=null&&Object.hasOwnProperty.call(t,"message")&&i.uint32(18).string(t.message),t.keywords!=null&&t.keywords.length)for(var o=0;o<t.keywords.length;++o)i.uint32(26).string(t.keywords[o]);return t.count!=null&&Object.hasOwnProperty.call(t,"count")&&i.uint32(32).int32(t.count),t.deleted!=null&&Object.hasOwnProperty.call(t,"deleted")&&i.uint32(40).bool(t.deleted),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.QuickReplyAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.shortcut=t.string();break}case 2:{c.message=t.string();break}case 3:{c.keywords&&c.keywords.length||(c.keywords=[]),c.keywords.push(t.string());break}case 4:{c.count=t.int32();break}case 5:{c.deleted=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.QuickReplyAction"},r}(),n.RecentEmojiWeightsAction=function(){function r(e){if(this.weights=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.weights=h.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.weights!=null&&t.weights.length)for(var o=0;o<t.weights.length;++o)u.proto.RecentEmojiWeight.encode(t.weights[o],i.uint32(10).fork()).ldelim();return i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.RecentEmojiWeightsAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.weights&&c.weights.length||(c.weights=[]),c.weights.push(u.proto.RecentEmojiWeight.decode(t,t.uint32()));break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.RecentEmojiWeightsAction"},r}(),n.RemoveRecentStickerAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.lastStickerSentTs=h.Long?h.Long.fromBits(0,0,!1):0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.lastStickerSentTs!=null&&Object.hasOwnProperty.call(t,"lastStickerSentTs")&&i.uint32(8).int64(t.lastStickerSentTs),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.RemoveRecentStickerAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.lastStickerSentTs=t.int64();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.RemoveRecentStickerAction"},r}(),n.SecurityNotificationSetting=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.showNotification=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.showNotification!=null&&Object.hasOwnProperty.call(t,"showNotification")&&i.uint32(8).bool(t.showNotification),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.SecurityNotificationSetting;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.showNotification=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.SecurityNotificationSetting"},r}(),n.StarAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.starred=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.starred!=null&&Object.hasOwnProperty.call(t,"starred")&&i.uint32(8).bool(t.starred),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.StarAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.starred=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.StarAction"},r}(),n.StatusPrivacyAction=function(){function r(e){if(this.userJid=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.mode=0,r.prototype.userJid=h.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.mode!=null&&Object.hasOwnProperty.call(t,"mode")&&i.uint32(8).int32(t.mode),t.userJid!=null&&t.userJid.length)for(var o=0;o<t.userJid.length;++o)i.uint32(18).string(t.userJid[o]);return i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.StatusPrivacyAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.mode=t.int32();break}case 2:{c.userJid&&c.userJid.length||(c.userJid=[]),c.userJid.push(t.string());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.StatusPrivacyAction"},r.StatusDistributionMode=function(){let e={},t=Object.create(e);return t[e[0]="ALLOW_LIST"]=0,t[e[1]="DENY_LIST"]=1,t[e[2]="CONTACTS"]=2,t}(),r}(),n.StickerAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.url="",r.prototype.fileEncSha256=h.newBuffer([]),r.prototype.mediaKey=h.newBuffer([]),r.prototype.mimetype="",r.prototype.height=0,r.prototype.width=0,r.prototype.directPath="",r.prototype.fileLength=h.Long?h.Long.fromBits(0,0,!0):0,r.prototype.isFavorite=!1,r.prototype.deviceIdHint=0,r.prototype.isLottie=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.url!=null&&Object.hasOwnProperty.call(t,"url")&&i.uint32(10).string(t.url),t.fileEncSha256!=null&&Object.hasOwnProperty.call(t,"fileEncSha256")&&i.uint32(18).bytes(t.fileEncSha256),t.mediaKey!=null&&Object.hasOwnProperty.call(t,"mediaKey")&&i.uint32(26).bytes(t.mediaKey),t.mimetype!=null&&Object.hasOwnProperty.call(t,"mimetype")&&i.uint32(34).string(t.mimetype),t.height!=null&&Object.hasOwnProperty.call(t,"height")&&i.uint32(40).uint32(t.height),t.width!=null&&Object.hasOwnProperty.call(t,"width")&&i.uint32(48).uint32(t.width),t.directPath!=null&&Object.hasOwnProperty.call(t,"directPath")&&i.uint32(58).string(t.directPath),t.fileLength!=null&&Object.hasOwnProperty.call(t,"fileLength")&&i.uint32(64).uint64(t.fileLength),t.isFavorite!=null&&Object.hasOwnProperty.call(t,"isFavorite")&&i.uint32(72).bool(t.isFavorite),t.deviceIdHint!=null&&Object.hasOwnProperty.call(t,"deviceIdHint")&&i.uint32(80).uint32(t.deviceIdHint),t.isLottie!=null&&Object.hasOwnProperty.call(t,"isLottie")&&i.uint32(88).bool(t.isLottie),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.StickerAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.url=t.string();break}case 2:{c.fileEncSha256=t.bytes();break}case 3:{c.mediaKey=t.bytes();break}case 4:{c.mimetype=t.string();break}case 5:{c.height=t.uint32();break}case 6:{c.width=t.uint32();break}case 7:{c.directPath=t.string();break}case 8:{c.fileLength=t.uint64();break}case 9:{c.isFavorite=t.bool();break}case 10:{c.deviceIdHint=t.uint32();break}case 11:{c.isLottie=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.StickerAction"},r}(),n.SubscriptionAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.isDeactivated=!1,r.prototype.isAutoRenewing=!1,r.prototype.expirationDate=h.Long?h.Long.fromBits(0,0,!1):0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.isDeactivated!=null&&Object.hasOwnProperty.call(t,"isDeactivated")&&i.uint32(8).bool(t.isDeactivated),t.isAutoRenewing!=null&&Object.hasOwnProperty.call(t,"isAutoRenewing")&&i.uint32(16).bool(t.isAutoRenewing),t.expirationDate!=null&&Object.hasOwnProperty.call(t,"expirationDate")&&i.uint32(24).int64(t.expirationDate),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.SubscriptionAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.isDeactivated=t.bool();break}case 2:{c.isAutoRenewing=t.bool();break}case 3:{c.expirationDate=t.int64();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.SubscriptionAction"},r}(),n.SyncActionMessage=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.key=null,r.prototype.timestamp=h.Long?h.Long.fromBits(0,0,!1):0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.key!=null&&Object.hasOwnProperty.call(t,"key")&&u.proto.MessageKey.encode(t.key,i.uint32(10).fork()).ldelim(),t.timestamp!=null&&Object.hasOwnProperty.call(t,"timestamp")&&i.uint32(16).int64(t.timestamp),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.SyncActionMessage;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.key=u.proto.MessageKey.decode(t,t.uint32());break}case 2:{c.timestamp=t.int64();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.SyncActionMessage"},r}(),n.SyncActionMessageRange=function(){function r(e){if(this.messages=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.lastMessageTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.lastSystemMessageTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.messages=h.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.lastMessageTimestamp!=null&&Object.hasOwnProperty.call(t,"lastMessageTimestamp")&&i.uint32(8).int64(t.lastMessageTimestamp),t.lastSystemMessageTimestamp!=null&&Object.hasOwnProperty.call(t,"lastSystemMessageTimestamp")&&i.uint32(16).int64(t.lastSystemMessageTimestamp),t.messages!=null&&t.messages.length)for(var o=0;o<t.messages.length;++o)u.proto.SyncActionValue.SyncActionMessage.encode(t.messages[o],i.uint32(26).fork()).ldelim();return i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.SyncActionMessageRange;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.lastMessageTimestamp=t.int64();break}case 2:{c.lastSystemMessageTimestamp=t.int64();break}case 3:{c.messages&&c.messages.length||(c.messages=[]),c.messages.push(u.proto.SyncActionValue.SyncActionMessage.decode(t,t.uint32()));break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.SyncActionMessageRange"},r}(),n.TimeFormatAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.isTwentyFourHourFormatEnabled=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.isTwentyFourHourFormatEnabled!=null&&Object.hasOwnProperty.call(t,"isTwentyFourHourFormatEnabled")&&i.uint32(8).bool(t.isTwentyFourHourFormatEnabled),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.TimeFormatAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.isTwentyFourHourFormatEnabled=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.TimeFormatAction"},r}(),n.UnarchiveChatsSetting=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.unarchiveChats=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.unarchiveChats!=null&&Object.hasOwnProperty.call(t,"unarchiveChats")&&i.uint32(8).bool(t.unarchiveChats),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.UnarchiveChatsSetting;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.unarchiveChats=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.UnarchiveChatsSetting"},r}(),n.UserStatusMuteAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.muted=!1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.muted!=null&&Object.hasOwnProperty.call(t,"muted")&&i.uint32(8).bool(t.muted),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.UserStatusMuteAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.muted=t.bool();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.UserStatusMuteAction"},r}(),n.UsernameChatStartModeAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.chatStartMode=1,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.chatStartMode!=null&&Object.hasOwnProperty.call(t,"chatStartMode")&&i.uint32(8).int32(t.chatStartMode),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.UsernameChatStartModeAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.chatStartMode=t.int32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.UsernameChatStartModeAction"},r.ChatStartMode=function(){let e={},t=Object.create(e);return t[e[1]="LID"]=1,t[e[2]="PN"]=2,t}(),r}(),n.WaffleAccountLinkStateAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.linkState=0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.linkState!=null&&Object.hasOwnProperty.call(t,"linkState")&&i.uint32(16).int32(t.linkState),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.WaffleAccountLinkStateAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 2:{c.linkState=t.int32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.WaffleAccountLinkStateAction"},r.AccountLinkState=function(){let e={},t=Object.create(e);return t[e[0]="ACTIVE"]=0,t}(),r}(),n.WamoUserIdentifierAction=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.identifier="",r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.identifier!=null&&Object.hasOwnProperty.call(t,"identifier")&&i.uint32(10).string(t.identifier),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.SyncActionValue.WamoUserIdentifierAction;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.identifier=t.string();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.SyncActionValue.WamoUserIdentifierAction"},r}(),n}(),a.SyncdIndex=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.blob=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.blob!=null&&Object.hasOwnProperty.call(e,"blob")&&t.uint32(10).bytes(e.blob),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.SyncdIndex;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.blob=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.SyncdIndex"},n}(),a.SyncdMutation=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.operation=0,n.prototype.record=null,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.operation!=null&&Object.hasOwnProperty.call(e,"operation")&&t.uint32(8).int32(e.operation),e.record!=null&&Object.hasOwnProperty.call(e,"record")&&u.proto.SyncdRecord.encode(e.record,t.uint32(18).fork()).ldelim(),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.SyncdMutation;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.operation=e.int32();break}case 2:{s.record=u.proto.SyncdRecord.decode(e,e.uint32());break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.SyncdMutation"},n.SyncdOperation=function(){let r={},e=Object.create(r);return e[r[0]="SET"]=0,e[r[1]="REMOVE"]=1,e}(),n}(),a.SyncdMutations=function(){function n(r){if(this.mutations=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.mutations=h.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.mutations!=null&&e.mutations.length)for(var i=0;i<e.mutations.length;++i)u.proto.SyncdMutation.encode(e.mutations[i],t.uint32(10).fork()).ldelim();return t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.SyncdMutations;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.mutations&&s.mutations.length||(s.mutations=[]),s.mutations.push(u.proto.SyncdMutation.decode(e,e.uint32()));break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.SyncdMutations"},n}(),a.SyncdPatch=function(){function n(r){if(this.mutations=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.version=null,n.prototype.mutations=h.emptyArray,n.prototype.externalMutations=null,n.prototype.snapshotMac=h.newBuffer([]),n.prototype.patchMac=h.newBuffer([]),n.prototype.keyId=null,n.prototype.exitCode=null,n.prototype.deviceIndex=0,n.prototype.clientDebugData=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.version!=null&&Object.hasOwnProperty.call(e,"version")&&u.proto.SyncdVersion.encode(e.version,t.uint32(10).fork()).ldelim(),e.mutations!=null&&e.mutations.length)for(var i=0;i<e.mutations.length;++i)u.proto.SyncdMutation.encode(e.mutations[i],t.uint32(18).fork()).ldelim();return e.externalMutations!=null&&Object.hasOwnProperty.call(e,"externalMutations")&&u.proto.ExternalBlobReference.encode(e.externalMutations,t.uint32(26).fork()).ldelim(),e.snapshotMac!=null&&Object.hasOwnProperty.call(e,"snapshotMac")&&t.uint32(34).bytes(e.snapshotMac),e.patchMac!=null&&Object.hasOwnProperty.call(e,"patchMac")&&t.uint32(42).bytes(e.patchMac),e.keyId!=null&&Object.hasOwnProperty.call(e,"keyId")&&u.proto.KeyId.encode(e.keyId,t.uint32(50).fork()).ldelim(),e.exitCode!=null&&Object.hasOwnProperty.call(e,"exitCode")&&u.proto.ExitCode.encode(e.exitCode,t.uint32(58).fork()).ldelim(),e.deviceIndex!=null&&Object.hasOwnProperty.call(e,"deviceIndex")&&t.uint32(64).uint32(e.deviceIndex),e.clientDebugData!=null&&Object.hasOwnProperty.call(e,"clientDebugData")&&t.uint32(74).bytes(e.clientDebugData),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.SyncdPatch;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.version=u.proto.SyncdVersion.decode(e,e.uint32());break}case 2:{s.mutations&&s.mutations.length||(s.mutations=[]),s.mutations.push(u.proto.SyncdMutation.decode(e,e.uint32()));break}case 3:{s.externalMutations=u.proto.ExternalBlobReference.decode(e,e.uint32());break}case 4:{s.snapshotMac=e.bytes();break}case 5:{s.patchMac=e.bytes();break}case 6:{s.keyId=u.proto.KeyId.decode(e,e.uint32());break}case 7:{s.exitCode=u.proto.ExitCode.decode(e,e.uint32());break}case 8:{s.deviceIndex=e.uint32();break}case 9:{s.clientDebugData=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.SyncdPatch"},n}(),a.SyncdRecord=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.index=null,n.prototype.value=null,n.prototype.keyId=null,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.index!=null&&Object.hasOwnProperty.call(e,"index")&&u.proto.SyncdIndex.encode(e.index,t.uint32(10).fork()).ldelim(),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&u.proto.SyncdValue.encode(e.value,t.uint32(18).fork()).ldelim(),e.keyId!=null&&Object.hasOwnProperty.call(e,"keyId")&&u.proto.KeyId.encode(e.keyId,t.uint32(26).fork()).ldelim(),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.SyncdRecord;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.index=u.proto.SyncdIndex.decode(e,e.uint32());break}case 2:{s.value=u.proto.SyncdValue.decode(e,e.uint32());break}case 3:{s.keyId=u.proto.KeyId.decode(e,e.uint32());break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.SyncdRecord"},n}(),a.SyncdSnapshot=function(){function n(r){if(this.records=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.version=null,n.prototype.records=h.emptyArray,n.prototype.mac=h.newBuffer([]),n.prototype.keyId=null,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.version!=null&&Object.hasOwnProperty.call(e,"version")&&u.proto.SyncdVersion.encode(e.version,t.uint32(10).fork()).ldelim(),e.records!=null&&e.records.length)for(var i=0;i<e.records.length;++i)u.proto.SyncdRecord.encode(e.records[i],t.uint32(18).fork()).ldelim();return e.mac!=null&&Object.hasOwnProperty.call(e,"mac")&&t.uint32(26).bytes(e.mac),e.keyId!=null&&Object.hasOwnProperty.call(e,"keyId")&&u.proto.KeyId.encode(e.keyId,t.uint32(34).fork()).ldelim(),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.SyncdSnapshot;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.version=u.proto.SyncdVersion.decode(e,e.uint32());break}case 2:{s.records&&s.records.length||(s.records=[]),s.records.push(u.proto.SyncdRecord.decode(e,e.uint32()));break}case 3:{s.mac=e.bytes();break}case 4:{s.keyId=u.proto.KeyId.decode(e,e.uint32());break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.SyncdSnapshot"},n}(),a.SyncdValue=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.blob=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.blob!=null&&Object.hasOwnProperty.call(e,"blob")&&t.uint32(10).bytes(e.blob),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.SyncdValue;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.blob=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.SyncdValue"},n}(),a.SyncdVersion=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.version=h.Long?h.Long.fromBits(0,0,!0):0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.version!=null&&Object.hasOwnProperty.call(e,"version")&&t.uint32(8).uint64(e.version),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.SyncdVersion;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.version=e.uint64();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.SyncdVersion"},n}(),a.TapLinkAction=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.title="",n.prototype.tapUrl="",n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.title!=null&&Object.hasOwnProperty.call(e,"title")&&t.uint32(10).string(e.title),e.tapUrl!=null&&Object.hasOwnProperty.call(e,"tapUrl")&&t.uint32(18).string(e.tapUrl),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.TapLinkAction;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.title=e.string();break}case 2:{s.tapUrl=e.string();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.TapLinkAction"},n}(),a.TemplateButton=function(){function n(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}n.prototype.index=0,n.prototype.quickReplyButton=null,n.prototype.urlButton=null,n.prototype.callButton=null;let r;return Object.defineProperty(n.prototype,"button",{get:h.oneOfGetter(r=["quickReplyButton","urlButton","callButton"]),set:h.oneOfSetter(r)}),n.create=function(t){return new n(t)},n.encode=function(t,i){return i||(i=E.create()),t.quickReplyButton!=null&&Object.hasOwnProperty.call(t,"quickReplyButton")&&u.proto.TemplateButton.QuickReplyButton.encode(t.quickReplyButton,i.uint32(10).fork()).ldelim(),t.urlButton!=null&&Object.hasOwnProperty.call(t,"urlButton")&&u.proto.TemplateButton.URLButton.encode(t.urlButton,i.uint32(18).fork()).ldelim(),t.callButton!=null&&Object.hasOwnProperty.call(t,"callButton")&&u.proto.TemplateButton.CallButton.encode(t.callButton,i.uint32(26).fork()).ldelim(),t.index!=null&&Object.hasOwnProperty.call(t,"index")&&i.uint32(32).uint32(t.index),i},n.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.TemplateButton;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 4:{c.index=t.uint32();break}case 1:{c.quickReplyButton=u.proto.TemplateButton.QuickReplyButton.decode(t,t.uint32());break}case 2:{c.urlButton=u.proto.TemplateButton.URLButton.decode(t,t.uint32());break}case 3:{c.callButton=u.proto.TemplateButton.CallButton.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.TemplateButton"},n.CallButton=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.displayText=null,e.prototype.phoneNumber=null,e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.displayText!=null&&Object.hasOwnProperty.call(i,"displayText")&&u.proto.Message.HighlyStructuredMessage.encode(i.displayText,o.uint32(10).fork()).ldelim(),i.phoneNumber!=null&&Object.hasOwnProperty.call(i,"phoneNumber")&&u.proto.Message.HighlyStructuredMessage.encode(i.phoneNumber,o.uint32(18).fork()).ldelim(),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.TemplateButton.CallButton;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.displayText=u.proto.Message.HighlyStructuredMessage.decode(i,i.uint32());break}case 2:{l.phoneNumber=u.proto.Message.HighlyStructuredMessage.decode(i,i.uint32());break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.TemplateButton.CallButton"},e}(),n.QuickReplyButton=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.displayText=null,e.prototype.id="",e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.displayText!=null&&Object.hasOwnProperty.call(i,"displayText")&&u.proto.Message.HighlyStructuredMessage.encode(i.displayText,o.uint32(10).fork()).ldelim(),i.id!=null&&Object.hasOwnProperty.call(i,"id")&&o.uint32(18).string(i.id),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.TemplateButton.QuickReplyButton;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.displayText=u.proto.Message.HighlyStructuredMessage.decode(i,i.uint32());break}case 2:{l.id=i.string();break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.TemplateButton.QuickReplyButton"},e}(),n.URLButton=function(){function e(t){if(t)for(var i=Object.keys(t),o=0;o<i.length;++o)t[i[o]]!=null&&(this[i[o]]=t[i[o]])}return e.prototype.displayText=null,e.prototype.url=null,e.create=function(i){return new e(i)},e.encode=function(i,o){return o||(o=E.create()),i.displayText!=null&&Object.hasOwnProperty.call(i,"displayText")&&u.proto.Message.HighlyStructuredMessage.encode(i.displayText,o.uint32(10).fork()).ldelim(),i.url!=null&&Object.hasOwnProperty.call(i,"url")&&u.proto.Message.HighlyStructuredMessage.encode(i.url,o.uint32(18).fork()).ldelim(),o},e.decode=function(i,o,s){i instanceof p||(i=p.create(i));for(var c=o===void 0?i.len:i.pos+o,l=new u.proto.TemplateButton.URLButton;i.pos<c;){var d=i.uint32();if(d===s)break;switch(d>>>3){case 1:{l.displayText=u.proto.Message.HighlyStructuredMessage.decode(i,i.uint32());break}case 2:{l.url=u.proto.Message.HighlyStructuredMessage.decode(i,i.uint32());break}default:i.skipType(d&7);break}}return l},e.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/proto.TemplateButton.URLButton"},e}(),n}(),a.UrlTrackingMap=function(){function n(r){if(this.urlTrackingMapElements=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.urlTrackingMapElements=h.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.urlTrackingMapElements!=null&&e.urlTrackingMapElements.length)for(var i=0;i<e.urlTrackingMapElements.length;++i)u.proto.UrlTrackingMap.UrlTrackingMapElement.encode(e.urlTrackingMapElements[i],t.uint32(10).fork()).ldelim();return t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.UrlTrackingMap;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.urlTrackingMapElements&&s.urlTrackingMapElements.length||(s.urlTrackingMapElements=[]),s.urlTrackingMapElements.push(u.proto.UrlTrackingMap.UrlTrackingMapElement.decode(e,e.uint32()));break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.UrlTrackingMap"},n.UrlTrackingMapElement=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.originalUrl="",r.prototype.unconsentedUsersUrl="",r.prototype.consentedUsersUrl="",r.prototype.cardIndex=0,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.originalUrl!=null&&Object.hasOwnProperty.call(t,"originalUrl")&&i.uint32(10).string(t.originalUrl),t.unconsentedUsersUrl!=null&&Object.hasOwnProperty.call(t,"unconsentedUsersUrl")&&i.uint32(18).string(t.unconsentedUsersUrl),t.consentedUsersUrl!=null&&Object.hasOwnProperty.call(t,"consentedUsersUrl")&&i.uint32(26).string(t.consentedUsersUrl),t.cardIndex!=null&&Object.hasOwnProperty.call(t,"cardIndex")&&i.uint32(32).uint32(t.cardIndex),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.UrlTrackingMap.UrlTrackingMapElement;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.originalUrl=t.string();break}case 2:{c.unconsentedUsersUrl=t.string();break}case 3:{c.consentedUsersUrl=t.string();break}case 4:{c.cardIndex=t.uint32();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.UrlTrackingMap.UrlTrackingMapElement"},r}(),n}(),a.UserPassword=function(){function n(r){if(this.transformerArg=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.encoding=0,n.prototype.transformer=0,n.prototype.transformerArg=h.emptyArray,n.prototype.transformedData=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.encoding!=null&&Object.hasOwnProperty.call(e,"encoding")&&t.uint32(8).int32(e.encoding),e.transformer!=null&&Object.hasOwnProperty.call(e,"transformer")&&t.uint32(16).int32(e.transformer),e.transformerArg!=null&&e.transformerArg.length)for(var i=0;i<e.transformerArg.length;++i)u.proto.UserPassword.TransformerArg.encode(e.transformerArg[i],t.uint32(26).fork()).ldelim();return e.transformedData!=null&&Object.hasOwnProperty.call(e,"transformedData")&&t.uint32(34).bytes(e.transformedData),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.UserPassword;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.encoding=e.int32();break}case 2:{s.transformer=e.int32();break}case 3:{s.transformerArg&&s.transformerArg.length||(s.transformerArg=[]),s.transformerArg.push(u.proto.UserPassword.TransformerArg.decode(e,e.uint32()));break}case 4:{s.transformedData=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.UserPassword"},n.Encoding=function(){let r={},e=Object.create(r);return e[r[0]="UTF8"]=0,e[r[1]="UTF8_BROKEN"]=1,e}(),n.Transformer=function(){let r={},e=Object.create(r);return e[r[0]="NONE"]=0,e[r[1]="PBKDF2_HMAC_SHA512"]=1,e[r[2]="PBKDF2_HMAC_SHA384"]=2,e}(),n.TransformerArg=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.key="",r.prototype.value=null,r.create=function(t){return new r(t)},r.encode=function(t,i){return i||(i=E.create()),t.key!=null&&Object.hasOwnProperty.call(t,"key")&&i.uint32(10).string(t.key),t.value!=null&&Object.hasOwnProperty.call(t,"value")&&u.proto.UserPassword.TransformerArg.Value.encode(t.value,i.uint32(18).fork()).ldelim(),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.UserPassword.TransformerArg;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.key=t.string();break}case 2:{c.value=u.proto.UserPassword.TransformerArg.Value.decode(t,t.uint32());break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.UserPassword.TransformerArg"},r.Value=function(){function e(i){if(i)for(var o=Object.keys(i),s=0;s<o.length;++s)i[o[s]]!=null&&(this[o[s]]=i[o[s]])}e.prototype.asBlob=null,e.prototype.asUnsignedInteger=null;let t;return Object.defineProperty(e.prototype,"value",{get:h.oneOfGetter(t=["asBlob","asUnsignedInteger"]),set:h.oneOfSetter(t)}),e.create=function(o){return new e(o)},e.encode=function(o,s){return s||(s=E.create()),o.asBlob!=null&&Object.hasOwnProperty.call(o,"asBlob")&&s.uint32(10).bytes(o.asBlob),o.asUnsignedInteger!=null&&Object.hasOwnProperty.call(o,"asUnsignedInteger")&&s.uint32(16).uint32(o.asUnsignedInteger),s},e.decode=function(o,s,c){o instanceof p||(o=p.create(o));for(var l=s===void 0?o.len:o.pos+s,d=new u.proto.UserPassword.TransformerArg.Value;o.pos<l;){var f=o.uint32();if(f===c)break;switch(f>>>3){case 1:{d.asBlob=o.bytes();break}case 2:{d.asUnsignedInteger=o.uint32();break}default:o.skipType(f&7);break}}return d},e.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/proto.UserPassword.TransformerArg.Value"},e}(),r}(),n}(),a.UserReceipt=function(){function n(r){if(this.pendingDeviceJid=[],this.deliveredDeviceJid=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.userJid="",n.prototype.receiptTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.readTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.playedTimestamp=h.Long?h.Long.fromBits(0,0,!1):0,n.prototype.pendingDeviceJid=h.emptyArray,n.prototype.deliveredDeviceJid=h.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),t.uint32(10).string(e.userJid),e.receiptTimestamp!=null&&Object.hasOwnProperty.call(e,"receiptTimestamp")&&t.uint32(16).int64(e.receiptTimestamp),e.readTimestamp!=null&&Object.hasOwnProperty.call(e,"readTimestamp")&&t.uint32(24).int64(e.readTimestamp),e.playedTimestamp!=null&&Object.hasOwnProperty.call(e,"playedTimestamp")&&t.uint32(32).int64(e.playedTimestamp),e.pendingDeviceJid!=null&&e.pendingDeviceJid.length)for(var i=0;i<e.pendingDeviceJid.length;++i)t.uint32(42).string(e.pendingDeviceJid[i]);if(e.deliveredDeviceJid!=null&&e.deliveredDeviceJid.length)for(var i=0;i<e.deliveredDeviceJid.length;++i)t.uint32(50).string(e.deliveredDeviceJid[i]);return t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.UserReceipt;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.userJid=e.string();break}case 2:{s.receiptTimestamp=e.int64();break}case 3:{s.readTimestamp=e.int64();break}case 4:{s.playedTimestamp=e.int64();break}case 5:{s.pendingDeviceJid&&s.pendingDeviceJid.length||(s.pendingDeviceJid=[]),s.pendingDeviceJid.push(e.string());break}case 6:{s.deliveredDeviceJid&&s.deliveredDeviceJid.length||(s.deliveredDeviceJid=[]),s.deliveredDeviceJid.push(e.string());break}default:e.skipType(c&7);break}}if(!s.hasOwnProperty("userJid"))throw h.ProtocolError("missing required 'userJid'",{instance:s});return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.UserReceipt"},n}(),a.VerifiedNameCertificate=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.details=h.newBuffer([]),n.prototype.signature=h.newBuffer([]),n.prototype.serverSignature=h.newBuffer([]),n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.details!=null&&Object.hasOwnProperty.call(e,"details")&&t.uint32(10).bytes(e.details),e.signature!=null&&Object.hasOwnProperty.call(e,"signature")&&t.uint32(18).bytes(e.signature),e.serverSignature!=null&&Object.hasOwnProperty.call(e,"serverSignature")&&t.uint32(26).bytes(e.serverSignature),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.VerifiedNameCertificate;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.details=e.bytes();break}case 2:{s.signature=e.bytes();break}case 3:{s.serverSignature=e.bytes();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.VerifiedNameCertificate"},n.Details=function(){function r(e){if(this.localizedNames=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.serial=h.Long?h.Long.fromBits(0,0,!0):0,r.prototype.issuer="",r.prototype.verifiedName="",r.prototype.localizedNames=h.emptyArray,r.prototype.issueTime=h.Long?h.Long.fromBits(0,0,!0):0,r.create=function(t){return new r(t)},r.encode=function(t,i){if(i||(i=E.create()),t.serial!=null&&Object.hasOwnProperty.call(t,"serial")&&i.uint32(8).uint64(t.serial),t.issuer!=null&&Object.hasOwnProperty.call(t,"issuer")&&i.uint32(18).string(t.issuer),t.verifiedName!=null&&Object.hasOwnProperty.call(t,"verifiedName")&&i.uint32(34).string(t.verifiedName),t.localizedNames!=null&&t.localizedNames.length)for(var o=0;o<t.localizedNames.length;++o)u.proto.LocalizedName.encode(t.localizedNames[o],i.uint32(66).fork()).ldelim();return t.issueTime!=null&&Object.hasOwnProperty.call(t,"issueTime")&&i.uint32(80).uint64(t.issueTime),i},r.decode=function(t,i,o){t instanceof p||(t=p.create(t));for(var s=i===void 0?t.len:t.pos+i,c=new u.proto.VerifiedNameCertificate.Details;t.pos<s;){var l=t.uint32();if(l===o)break;switch(l>>>3){case 1:{c.serial=t.uint64();break}case 2:{c.issuer=t.string();break}case 4:{c.verifiedName=t.string();break}case 8:{c.localizedNames&&c.localizedNames.length||(c.localizedNames=[]),c.localizedNames.push(u.proto.LocalizedName.decode(t,t.uint32()));break}case 10:{c.issueTime=t.uint64();break}default:t.skipType(l&7);break}}return c},r.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/proto.VerifiedNameCertificate.Details"},r}(),n}(),a.WallpaperSettings=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.filename="",n.prototype.opacity=0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.filename!=null&&Object.hasOwnProperty.call(e,"filename")&&t.uint32(10).string(e.filename),e.opacity!=null&&Object.hasOwnProperty.call(e,"opacity")&&t.uint32(16).uint32(e.opacity),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.WallpaperSettings;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.filename=e.string();break}case 2:{s.opacity=e.uint32();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.WallpaperSettings"},n}(),a.WebFeatures=function(){function n(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.labelsDisplay=0,n.prototype.voipIndividualOutgoing=0,n.prototype.groupsV3=0,n.prototype.groupsV3Create=0,n.prototype.changeNumberV2=0,n.prototype.queryStatusV3Thumbnail=0,n.prototype.liveLocations=0,n.prototype.queryVname=0,n.prototype.voipIndividualIncoming=0,n.prototype.quickRepliesQuery=0,n.prototype.payments=0,n.prototype.stickerPackQuery=0,n.prototype.liveLocationsFinal=0,n.prototype.labelsEdit=0,n.prototype.mediaUpload=0,n.prototype.mediaUploadRichQuickReplies=0,n.prototype.vnameV2=0,n.prototype.videoPlaybackUrl=0,n.prototype.statusRanking=0,n.prototype.voipIndividualVideo=0,n.prototype.thirdPartyStickers=0,n.prototype.frequentlyForwardedSetting=0,n.prototype.groupsV4JoinPermission=0,n.prototype.recentStickers=0,n.prototype.catalog=0,n.prototype.starredStickers=0,n.prototype.voipGroupCall=0,n.prototype.templateMessage=0,n.prototype.templateMessageInteractivity=0,n.prototype.ephemeralMessages=0,n.prototype.e2ENotificationSync=0,n.prototype.recentStickersV2=0,n.prototype.recentStickersV3=0,n.prototype.userNotice=0,n.prototype.support=0,n.prototype.groupUiiCleanup=0,n.prototype.groupDogfoodingInternalOnly=0,n.prototype.settingsSync=0,n.prototype.archiveV2=0,n.prototype.ephemeralAllowGroupMembers=0,n.prototype.ephemeral24HDuration=0,n.prototype.mdForceUpgrade=0,n.prototype.disappearingMode=0,n.prototype.externalMdOptInAvailable=0,n.prototype.noDeleteMessageTimeLimit=0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=E.create()),e.labelsDisplay!=null&&Object.hasOwnProperty.call(e,"labelsDisplay")&&t.uint32(8).int32(e.labelsDisplay),e.voipIndividualOutgoing!=null&&Object.hasOwnProperty.call(e,"voipIndividualOutgoing")&&t.uint32(16).int32(e.voipIndividualOutgoing),e.groupsV3!=null&&Object.hasOwnProperty.call(e,"groupsV3")&&t.uint32(24).int32(e.groupsV3),e.groupsV3Create!=null&&Object.hasOwnProperty.call(e,"groupsV3Create")&&t.uint32(32).int32(e.groupsV3Create),e.changeNumberV2!=null&&Object.hasOwnProperty.call(e,"changeNumberV2")&&t.uint32(40).int32(e.changeNumberV2),e.queryStatusV3Thumbnail!=null&&Object.hasOwnProperty.call(e,"queryStatusV3Thumbnail")&&t.uint32(48).int32(e.queryStatusV3Thumbnail),e.liveLocations!=null&&Object.hasOwnProperty.call(e,"liveLocations")&&t.uint32(56).int32(e.liveLocations),e.queryVname!=null&&Object.hasOwnProperty.call(e,"queryVname")&&t.uint32(64).int32(e.queryVname),e.voipIndividualIncoming!=null&&Object.hasOwnProperty.call(e,"voipIndividualIncoming")&&t.uint32(72).int32(e.voipIndividualIncoming),e.quickRepliesQuery!=null&&Object.hasOwnProperty.call(e,"quickRepliesQuery")&&t.uint32(80).int32(e.quickRepliesQuery),e.payments!=null&&Object.hasOwnProperty.call(e,"payments")&&t.uint32(88).int32(e.payments),e.stickerPackQuery!=null&&Object.hasOwnProperty.call(e,"stickerPackQuery")&&t.uint32(96).int32(e.stickerPackQuery),e.liveLocationsFinal!=null&&Object.hasOwnProperty.call(e,"liveLocationsFinal")&&t.uint32(104).int32(e.liveLocationsFinal),e.labelsEdit!=null&&Object.hasOwnProperty.call(e,"labelsEdit")&&t.uint32(112).int32(e.labelsEdit),e.mediaUpload!=null&&Object.hasOwnProperty.call(e,"mediaUpload")&&t.uint32(120).int32(e.mediaUpload),e.mediaUploadRichQuickReplies!=null&&Object.hasOwnProperty.call(e,"mediaUploadRichQuickReplies")&&t.uint32(144).int32(e.mediaUploadRichQuickReplies),e.vnameV2!=null&&Object.hasOwnProperty.call(e,"vnameV2")&&t.uint32(152).int32(e.vnameV2),e.videoPlaybackUrl!=null&&Object.hasOwnProperty.call(e,"videoPlaybackUrl")&&t.uint32(160).int32(e.videoPlaybackUrl),e.statusRanking!=null&&Object.hasOwnProperty.call(e,"statusRanking")&&t.uint32(168).int32(e.statusRanking),e.voipIndividualVideo!=null&&Object.hasOwnProperty.call(e,"voipIndividualVideo")&&t.uint32(176).int32(e.voipIndividualVideo),e.thirdPartyStickers!=null&&Object.hasOwnProperty.call(e,"thirdPartyStickers")&&t.uint32(184).int32(e.thirdPartyStickers),e.frequentlyForwardedSetting!=null&&Object.hasOwnProperty.call(e,"frequentlyForwardedSetting")&&t.uint32(192).int32(e.frequentlyForwardedSetting),e.groupsV4JoinPermission!=null&&Object.hasOwnProperty.call(e,"groupsV4JoinPermission")&&t.uint32(200).int32(e.groupsV4JoinPermission),e.recentStickers!=null&&Object.hasOwnProperty.call(e,"recentStickers")&&t.uint32(208).int32(e.recentStickers),e.catalog!=null&&Object.hasOwnProperty.call(e,"catalog")&&t.uint32(216).int32(e.catalog),e.starredStickers!=null&&Object.hasOwnProperty.call(e,"starredStickers")&&t.uint32(224).int32(e.starredStickers),e.voipGroupCall!=null&&Object.hasOwnProperty.call(e,"voipGroupCall")&&t.uint32(232).int32(e.voipGroupCall),e.templateMessage!=null&&Object.hasOwnProperty.call(e,"templateMessage")&&t.uint32(240).int32(e.templateMessage),e.templateMessageInteractivity!=null&&Object.hasOwnProperty.call(e,"templateMessageInteractivity")&&t.uint32(248).int32(e.templateMessageInteractivity),e.ephemeralMessages!=null&&Object.hasOwnProperty.call(e,"ephemeralMessages")&&t.uint32(256).int32(e.ephemeralMessages),e.e2ENotificationSync!=null&&Object.hasOwnProperty.call(e,"e2ENotificationSync")&&t.uint32(264).int32(e.e2ENotificationSync),e.recentStickersV2!=null&&Object.hasOwnProperty.call(e,"recentStickersV2")&&t.uint32(272).int32(e.recentStickersV2),e.recentStickersV3!=null&&Object.hasOwnProperty.call(e,"recentStickersV3")&&t.uint32(288).int32(e.recentStickersV3),e.userNotice!=null&&Object.hasOwnProperty.call(e,"userNotice")&&t.uint32(296).int32(e.userNotice),e.support!=null&&Object.hasOwnProperty.call(e,"support")&&t.uint32(312).int32(e.support),e.groupUiiCleanup!=null&&Object.hasOwnProperty.call(e,"groupUiiCleanup")&&t.uint32(320).int32(e.groupUiiCleanup),e.groupDogfoodingInternalOnly!=null&&Object.hasOwnProperty.call(e,"groupDogfoodingInternalOnly")&&t.uint32(328).int32(e.groupDogfoodingInternalOnly),e.settingsSync!=null&&Object.hasOwnProperty.call(e,"settingsSync")&&t.uint32(336).int32(e.settingsSync),e.archiveV2!=null&&Object.hasOwnProperty.call(e,"archiveV2")&&t.uint32(344).int32(e.archiveV2),e.ephemeralAllowGroupMembers!=null&&Object.hasOwnProperty.call(e,"ephemeralAllowGroupMembers")&&t.uint32(352).int32(e.ephemeralAllowGroupMembers),e.ephemeral24HDuration!=null&&Object.hasOwnProperty.call(e,"ephemeral24HDuration")&&t.uint32(360).int32(e.ephemeral24HDuration),e.mdForceUpgrade!=null&&Object.hasOwnProperty.call(e,"mdForceUpgrade")&&t.uint32(368).int32(e.mdForceUpgrade),e.disappearingMode!=null&&Object.hasOwnProperty.call(e,"disappearingMode")&&t.uint32(376).int32(e.disappearingMode),e.externalMdOptInAvailable!=null&&Object.hasOwnProperty.call(e,"externalMdOptInAvailable")&&t.uint32(384).int32(e.externalMdOptInAvailable),e.noDeleteMessageTimeLimit!=null&&Object.hasOwnProperty.call(e,"noDeleteMessageTimeLimit")&&t.uint32(392).int32(e.noDeleteMessageTimeLimit),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.WebFeatures;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.labelsDisplay=e.int32();break}case 2:{s.voipIndividualOutgoing=e.int32();break}case 3:{s.groupsV3=e.int32();break}case 4:{s.groupsV3Create=e.int32();break}case 5:{s.changeNumberV2=e.int32();break}case 6:{s.queryStatusV3Thumbnail=e.int32();break}case 7:{s.liveLocations=e.int32();break}case 8:{s.queryVname=e.int32();break}case 9:{s.voipIndividualIncoming=e.int32();break}case 10:{s.quickRepliesQuery=e.int32();break}case 11:{s.payments=e.int32();break}case 12:{s.stickerPackQuery=e.int32();break}case 13:{s.liveLocationsFinal=e.int32();break}case 14:{s.labelsEdit=e.int32();break}case 15:{s.mediaUpload=e.int32();break}case 18:{s.mediaUploadRichQuickReplies=e.int32();break}case 19:{s.vnameV2=e.int32();break}case 20:{s.videoPlaybackUrl=e.int32();break}case 21:{s.statusRanking=e.int32();break}case 22:{s.voipIndividualVideo=e.int32();break}case 23:{s.thirdPartyStickers=e.int32();break}case 24:{s.frequentlyForwardedSetting=e.int32();break}case 25:{s.groupsV4JoinPermission=e.int32();break}case 26:{s.recentStickers=e.int32();break}case 27:{s.catalog=e.int32();break}case 28:{s.starredStickers=e.int32();break}case 29:{s.voipGroupCall=e.int32();break}case 30:{s.templateMessage=e.int32();break}case 31:{s.templateMessageInteractivity=e.int32();break}case 32:{s.ephemeralMessages=e.int32();break}case 33:{s.e2ENotificationSync=e.int32();break}case 34:{s.recentStickersV2=e.int32();break}case 36:{s.recentStickersV3=e.int32();break}case 37:{s.userNotice=e.int32();break}case 39:{s.support=e.int32();break}case 40:{s.groupUiiCleanup=e.int32();break}case 41:{s.groupDogfoodingInternalOnly=e.int32();break}case 42:{s.settingsSync=e.int32();break}case 43:{s.archiveV2=e.int32();break}case 44:{s.ephemeralAllowGroupMembers=e.int32();break}case 45:{s.ephemeral24HDuration=e.int32();break}case 46:{s.mdForceUpgrade=e.int32();break}case 47:{s.disappearingMode=e.int32();break}case 48:{s.externalMdOptInAvailable=e.int32();break}case 49:{s.noDeleteMessageTimeLimit=e.int32();break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.WebFeatures"},n.Flag=function(){let r={},e=Object.create(r);return e[r[0]="NOT_STARTED"]=0,e[r[1]="FORCE_UPGRADE"]=1,e[r[2]="DEVELOPMENT"]=2,e[r[3]="PRODUCTION"]=3,e}(),n}(),a.WebMessageInfo=function(){function n(r){if(this.messageStubParameters=[],this.labels=[],this.userReceipt=[],this.reactions=[],this.pollUpdates=[],this.eventResponses=[],this.statusMentions=[],this.messageAddOns=[],this.statusMentionSources=[],this.supportAiCitations=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.key=null,n.prototype.message=null,n.prototype.messageTimestamp=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.status=0,n.prototype.participant="",n.prototype.messageC2STimestamp=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.ignore=!1,n.prototype.starred=!1,n.prototype.broadcast=!1,n.prototype.pushName="",n.prototype.mediaCiphertextSha256=h.newBuffer([]),n.prototype.multicast=!1,n.prototype.urlText=!1,n.prototype.urlNumber=!1,n.prototype.messageStubType=0,n.prototype.clearMedia=!1,n.prototype.messageStubParameters=h.emptyArray,n.prototype.duration=0,n.prototype.labels=h.emptyArray,n.prototype.paymentInfo=null,n.prototype.finalLiveLocation=null,n.prototype.quotedPaymentInfo=null,n.prototype.ephemeralStartTimestamp=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.ephemeralDuration=0,n.prototype.ephemeralOffToOn=!1,n.prototype.ephemeralOutOfSync=!1,n.prototype.bizPrivacyStatus=0,n.prototype.verifiedBizName="",n.prototype.mediaData=null,n.prototype.photoChange=null,n.prototype.userReceipt=h.emptyArray,n.prototype.reactions=h.emptyArray,n.prototype.quotedStickerData=null,n.prototype.futureproofData=h.newBuffer([]),n.prototype.statusPsa=null,n.prototype.pollUpdates=h.emptyArray,n.prototype.pollAdditionalMetadata=null,n.prototype.agentId="",n.prototype.statusAlreadyViewed=!1,n.prototype.messageSecret=h.newBuffer([]),n.prototype.keepInChat=null,n.prototype.originalSelfAuthorUserJidString="",n.prototype.revokeMessageTimestamp=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.pinInChat=null,n.prototype.premiumMessageInfo=null,n.prototype.is1PBizBotMessage=!1,n.prototype.isGroupHistoryMessage=!1,n.prototype.botMessageInvokerJid="",n.prototype.commentMetadata=null,n.prototype.eventResponses=h.emptyArray,n.prototype.reportingTokenInfo=null,n.prototype.newsletterServerId=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.eventAdditionalMetadata=null,n.prototype.isMentionedInStatus=!1,n.prototype.statusMentions=h.emptyArray,n.prototype.targetMessageId=null,n.prototype.messageAddOns=h.emptyArray,n.prototype.statusMentionMessageInfo=null,n.prototype.isSupportAiMessage=!1,n.prototype.statusMentionSources=h.emptyArray,n.prototype.supportAiCitations=h.emptyArray,n.prototype.botTargetId="",n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),u.proto.MessageKey.encode(e.key,t.uint32(10).fork()).ldelim(),e.message!=null&&Object.hasOwnProperty.call(e,"message")&&u.proto.Message.encode(e.message,t.uint32(18).fork()).ldelim(),e.messageTimestamp!=null&&Object.hasOwnProperty.call(e,"messageTimestamp")&&t.uint32(24).uint64(e.messageTimestamp),e.status!=null&&Object.hasOwnProperty.call(e,"status")&&t.uint32(32).int32(e.status),e.participant!=null&&Object.hasOwnProperty.call(e,"participant")&&t.uint32(42).string(e.participant),e.messageC2STimestamp!=null&&Object.hasOwnProperty.call(e,"messageC2STimestamp")&&t.uint32(48).uint64(e.messageC2STimestamp),e.ignore!=null&&Object.hasOwnProperty.call(e,"ignore")&&t.uint32(128).bool(e.ignore),e.starred!=null&&Object.hasOwnProperty.call(e,"starred")&&t.uint32(136).bool(e.starred),e.broadcast!=null&&Object.hasOwnProperty.call(e,"broadcast")&&t.uint32(144).bool(e.broadcast),e.pushName!=null&&Object.hasOwnProperty.call(e,"pushName")&&t.uint32(154).string(e.pushName),e.mediaCiphertextSha256!=null&&Object.hasOwnProperty.call(e,"mediaCiphertextSha256")&&t.uint32(162).bytes(e.mediaCiphertextSha256),e.multicast!=null&&Object.hasOwnProperty.call(e,"multicast")&&t.uint32(168).bool(e.multicast),e.urlText!=null&&Object.hasOwnProperty.call(e,"urlText")&&t.uint32(176).bool(e.urlText),e.urlNumber!=null&&Object.hasOwnProperty.call(e,"urlNumber")&&t.uint32(184).bool(e.urlNumber),e.messageStubType!=null&&Object.hasOwnProperty.call(e,"messageStubType")&&t.uint32(192).int32(e.messageStubType),e.clearMedia!=null&&Object.hasOwnProperty.call(e,"clearMedia")&&t.uint32(200).bool(e.clearMedia),e.messageStubParameters!=null&&e.messageStubParameters.length)for(var i=0;i<e.messageStubParameters.length;++i)t.uint32(210).string(e.messageStubParameters[i]);if(e.duration!=null&&Object.hasOwnProperty.call(e,"duration")&&t.uint32(216).uint32(e.duration),e.labels!=null&&e.labels.length)for(var i=0;i<e.labels.length;++i)t.uint32(226).string(e.labels[i]);if(e.paymentInfo!=null&&Object.hasOwnProperty.call(e,"paymentInfo")&&u.proto.PaymentInfo.encode(e.paymentInfo,t.uint32(234).fork()).ldelim(),e.finalLiveLocation!=null&&Object.hasOwnProperty.call(e,"finalLiveLocation")&&u.proto.Message.LiveLocationMessage.encode(e.finalLiveLocation,t.uint32(242).fork()).ldelim(),e.quotedPaymentInfo!=null&&Object.hasOwnProperty.call(e,"quotedPaymentInfo")&&u.proto.PaymentInfo.encode(e.quotedPaymentInfo,t.uint32(250).fork()).ldelim(),e.ephemeralStartTimestamp!=null&&Object.hasOwnProperty.call(e,"ephemeralStartTimestamp")&&t.uint32(256).uint64(e.ephemeralStartTimestamp),e.ephemeralDuration!=null&&Object.hasOwnProperty.call(e,"ephemeralDuration")&&t.uint32(264).uint32(e.ephemeralDuration),e.ephemeralOffToOn!=null&&Object.hasOwnProperty.call(e,"ephemeralOffToOn")&&t.uint32(272).bool(e.ephemeralOffToOn),e.ephemeralOutOfSync!=null&&Object.hasOwnProperty.call(e,"ephemeralOutOfSync")&&t.uint32(280).bool(e.ephemeralOutOfSync),e.bizPrivacyStatus!=null&&Object.hasOwnProperty.call(e,"bizPrivacyStatus")&&t.uint32(288).int32(e.bizPrivacyStatus),e.verifiedBizName!=null&&Object.hasOwnProperty.call(e,"verifiedBizName")&&t.uint32(298).string(e.verifiedBizName),e.mediaData!=null&&Object.hasOwnProperty.call(e,"mediaData")&&u.proto.MediaData.encode(e.mediaData,t.uint32(306).fork()).ldelim(),e.photoChange!=null&&Object.hasOwnProperty.call(e,"photoChange")&&u.proto.PhotoChange.encode(e.photoChange,t.uint32(314).fork()).ldelim(),e.userReceipt!=null&&e.userReceipt.length)for(var i=0;i<e.userReceipt.length;++i)u.proto.UserReceipt.encode(e.userReceipt[i],t.uint32(322).fork()).ldelim();if(e.reactions!=null&&e.reactions.length)for(var i=0;i<e.reactions.length;++i)u.proto.Reaction.encode(e.reactions[i],t.uint32(330).fork()).ldelim();if(e.quotedStickerData!=null&&Object.hasOwnProperty.call(e,"quotedStickerData")&&u.proto.MediaData.encode(e.quotedStickerData,t.uint32(338).fork()).ldelim(),e.futureproofData!=null&&Object.hasOwnProperty.call(e,"futureproofData")&&t.uint32(346).bytes(e.futureproofData),e.statusPsa!=null&&Object.hasOwnProperty.call(e,"statusPsa")&&u.proto.StatusPSA.encode(e.statusPsa,t.uint32(354).fork()).ldelim(),e.pollUpdates!=null&&e.pollUpdates.length)for(var i=0;i<e.pollUpdates.length;++i)u.proto.PollUpdate.encode(e.pollUpdates[i],t.uint32(362).fork()).ldelim();if(e.pollAdditionalMetadata!=null&&Object.hasOwnProperty.call(e,"pollAdditionalMetadata")&&u.proto.PollAdditionalMetadata.encode(e.pollAdditionalMetadata,t.uint32(370).fork()).ldelim(),e.agentId!=null&&Object.hasOwnProperty.call(e,"agentId")&&t.uint32(378).string(e.agentId),e.statusAlreadyViewed!=null&&Object.hasOwnProperty.call(e,"statusAlreadyViewed")&&t.uint32(384).bool(e.statusAlreadyViewed),e.messageSecret!=null&&Object.hasOwnProperty.call(e,"messageSecret")&&t.uint32(394).bytes(e.messageSecret),e.keepInChat!=null&&Object.hasOwnProperty.call(e,"keepInChat")&&u.proto.KeepInChat.encode(e.keepInChat,t.uint32(402).fork()).ldelim(),e.originalSelfAuthorUserJidString!=null&&Object.hasOwnProperty.call(e,"originalSelfAuthorUserJidString")&&t.uint32(410).string(e.originalSelfAuthorUserJidString),e.revokeMessageTimestamp!=null&&Object.hasOwnProperty.call(e,"revokeMessageTimestamp")&&t.uint32(416).uint64(e.revokeMessageTimestamp),e.pinInChat!=null&&Object.hasOwnProperty.call(e,"pinInChat")&&u.proto.PinInChat.encode(e.pinInChat,t.uint32(434).fork()).ldelim(),e.premiumMessageInfo!=null&&Object.hasOwnProperty.call(e,"premiumMessageInfo")&&u.proto.PremiumMessageInfo.encode(e.premiumMessageInfo,t.uint32(442).fork()).ldelim(),e.is1PBizBotMessage!=null&&Object.hasOwnProperty.call(e,"is1PBizBotMessage")&&t.uint32(448).bool(e.is1PBizBotMessage),e.isGroupHistoryMessage!=null&&Object.hasOwnProperty.call(e,"isGroupHistoryMessage")&&t.uint32(456).bool(e.isGroupHistoryMessage),e.botMessageInvokerJid!=null&&Object.hasOwnProperty.call(e,"botMessageInvokerJid")&&t.uint32(466).string(e.botMessageInvokerJid),e.commentMetadata!=null&&Object.hasOwnProperty.call(e,"commentMetadata")&&u.proto.CommentMetadata.encode(e.commentMetadata,t.uint32(474).fork()).ldelim(),e.eventResponses!=null&&e.eventResponses.length)for(var i=0;i<e.eventResponses.length;++i)u.proto.EventResponse.encode(e.eventResponses[i],t.uint32(490).fork()).ldelim();if(e.reportingTokenInfo!=null&&Object.hasOwnProperty.call(e,"reportingTokenInfo")&&u.proto.ReportingTokenInfo.encode(e.reportingTokenInfo,t.uint32(498).fork()).ldelim(),e.newsletterServerId!=null&&Object.hasOwnProperty.call(e,"newsletterServerId")&&t.uint32(504).uint64(e.newsletterServerId),e.eventAdditionalMetadata!=null&&Object.hasOwnProperty.call(e,"eventAdditionalMetadata")&&u.proto.EventAdditionalMetadata.encode(e.eventAdditionalMetadata,t.uint32(514).fork()).ldelim(),e.isMentionedInStatus!=null&&Object.hasOwnProperty.call(e,"isMentionedInStatus")&&t.uint32(520).bool(e.isMentionedInStatus),e.statusMentions!=null&&e.statusMentions.length)for(var i=0;i<e.statusMentions.length;++i)t.uint32(530).string(e.statusMentions[i]);if(e.targetMessageId!=null&&Object.hasOwnProperty.call(e,"targetMessageId")&&u.proto.MessageKey.encode(e.targetMessageId,t.uint32(538).fork()).ldelim(),e.messageAddOns!=null&&e.messageAddOns.length)for(var i=0;i<e.messageAddOns.length;++i)u.proto.MessageAddOn.encode(e.messageAddOns[i],t.uint32(546).fork()).ldelim();if(e.statusMentionMessageInfo!=null&&Object.hasOwnProperty.call(e,"statusMentionMessageInfo")&&u.proto.StatusMentionMessage.encode(e.statusMentionMessageInfo,t.uint32(554).fork()).ldelim(),e.isSupportAiMessage!=null&&Object.hasOwnProperty.call(e,"isSupportAiMessage")&&t.uint32(560).bool(e.isSupportAiMessage),e.statusMentionSources!=null&&e.statusMentionSources.length)for(var i=0;i<e.statusMentionSources.length;++i)t.uint32(570).string(e.statusMentionSources[i]);if(e.supportAiCitations!=null&&e.supportAiCitations.length)for(var i=0;i<e.supportAiCitations.length;++i)u.proto.Citation.encode(e.supportAiCitations[i],t.uint32(578).fork()).ldelim();return e.botTargetId!=null&&Object.hasOwnProperty.call(e,"botTargetId")&&t.uint32(586).string(e.botTargetId),t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.WebMessageInfo;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 1:{s.key=u.proto.MessageKey.decode(e,e.uint32());break}case 2:{s.message=u.proto.Message.decode(e,e.uint32());break}case 3:{s.messageTimestamp=e.uint64();break}case 4:{s.status=e.int32();break}case 5:{s.participant=e.string();break}case 6:{s.messageC2STimestamp=e.uint64();break}case 16:{s.ignore=e.bool();break}case 17:{s.starred=e.bool();break}case 18:{s.broadcast=e.bool();break}case 19:{s.pushName=e.string();break}case 20:{s.mediaCiphertextSha256=e.bytes();break}case 21:{s.multicast=e.bool();break}case 22:{s.urlText=e.bool();break}case 23:{s.urlNumber=e.bool();break}case 24:{s.messageStubType=e.int32();break}case 25:{s.clearMedia=e.bool();break}case 26:{s.messageStubParameters&&s.messageStubParameters.length||(s.messageStubParameters=[]),s.messageStubParameters.push(e.string());break}case 27:{s.duration=e.uint32();break}case 28:{s.labels&&s.labels.length||(s.labels=[]),s.labels.push(e.string());break}case 29:{s.paymentInfo=u.proto.PaymentInfo.decode(e,e.uint32());break}case 30:{s.finalLiveLocation=u.proto.Message.LiveLocationMessage.decode(e,e.uint32());break}case 31:{s.quotedPaymentInfo=u.proto.PaymentInfo.decode(e,e.uint32());break}case 32:{s.ephemeralStartTimestamp=e.uint64();break}case 33:{s.ephemeralDuration=e.uint32();break}case 34:{s.ephemeralOffToOn=e.bool();break}case 35:{s.ephemeralOutOfSync=e.bool();break}case 36:{s.bizPrivacyStatus=e.int32();break}case 37:{s.verifiedBizName=e.string();break}case 38:{s.mediaData=u.proto.MediaData.decode(e,e.uint32());break}case 39:{s.photoChange=u.proto.PhotoChange.decode(e,e.uint32());break}case 40:{s.userReceipt&&s.userReceipt.length||(s.userReceipt=[]),s.userReceipt.push(u.proto.UserReceipt.decode(e,e.uint32()));break}case 41:{s.reactions&&s.reactions.length||(s.reactions=[]),s.reactions.push(u.proto.Reaction.decode(e,e.uint32()));break}case 42:{s.quotedStickerData=u.proto.MediaData.decode(e,e.uint32());break}case 43:{s.futureproofData=e.bytes();break}case 44:{s.statusPsa=u.proto.StatusPSA.decode(e,e.uint32());break}case 45:{s.pollUpdates&&s.pollUpdates.length||(s.pollUpdates=[]),s.pollUpdates.push(u.proto.PollUpdate.decode(e,e.uint32()));break}case 46:{s.pollAdditionalMetadata=u.proto.PollAdditionalMetadata.decode(e,e.uint32());break}case 47:{s.agentId=e.string();break}case 48:{s.statusAlreadyViewed=e.bool();break}case 49:{s.messageSecret=e.bytes();break}case 50:{s.keepInChat=u.proto.KeepInChat.decode(e,e.uint32());break}case 51:{s.originalSelfAuthorUserJidString=e.string();break}case 52:{s.revokeMessageTimestamp=e.uint64();break}case 54:{s.pinInChat=u.proto.PinInChat.decode(e,e.uint32());break}case 55:{s.premiumMessageInfo=u.proto.PremiumMessageInfo.decode(e,e.uint32());break}case 56:{s.is1PBizBotMessage=e.bool();break}case 57:{s.isGroupHistoryMessage=e.bool();break}case 58:{s.botMessageInvokerJid=e.string();break}case 59:{s.commentMetadata=u.proto.CommentMetadata.decode(e,e.uint32());break}case 61:{s.eventResponses&&s.eventResponses.length||(s.eventResponses=[]),s.eventResponses.push(u.proto.EventResponse.decode(e,e.uint32()));break}case 62:{s.reportingTokenInfo=u.proto.ReportingTokenInfo.decode(e,e.uint32());break}case 63:{s.newsletterServerId=e.uint64();break}case 64:{s.eventAdditionalMetadata=u.proto.EventAdditionalMetadata.decode(e,e.uint32());break}case 65:{s.isMentionedInStatus=e.bool();break}case 66:{s.statusMentions&&s.statusMentions.length||(s.statusMentions=[]),s.statusMentions.push(e.string());break}case 67:{s.targetMessageId=u.proto.MessageKey.decode(e,e.uint32());break}case 68:{s.messageAddOns&&s.messageAddOns.length||(s.messageAddOns=[]),s.messageAddOns.push(u.proto.MessageAddOn.decode(e,e.uint32()));break}case 69:{s.statusMentionMessageInfo=u.proto.StatusMentionMessage.decode(e,e.uint32());break}case 70:{s.isSupportAiMessage=e.bool();break}case 71:{s.statusMentionSources&&s.statusMentionSources.length||(s.statusMentionSources=[]),s.statusMentionSources.push(e.string());break}case 72:{s.supportAiCitations&&s.supportAiCitations.length||(s.supportAiCitations=[]),s.supportAiCitations.push(u.proto.Citation.decode(e,e.uint32()));break}case 73:{s.botTargetId=e.string();break}default:e.skipType(c&7);break}}if(!s.hasOwnProperty("key"))throw h.ProtocolError("missing required 'key'",{instance:s});return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.WebMessageInfo"},n.BizPrivacyStatus=function(){let r={},e=Object.create(r);return e[r[0]="E2EE"]=0,e[r[2]="FB"]=2,e[r[1]="BSP"]=1,e[r[3]="BSP_AND_FB"]=3,e}(),n.Status=function(){let r={},e=Object.create(r);return e[r[0]="ERROR"]=0,e[r[1]="PENDING"]=1,e[r[2]="SERVER_ACK"]=2,e[r[3]="DELIVERY_ACK"]=3,e[r[4]="READ"]=4,e[r[5]="PLAYED"]=5,e}(),n.StubType=function(){let r={},e=Object.create(r);return e[r[0]="UNKNOWN"]=0,e[r[1]="REVOKE"]=1,e[r[2]="CIPHERTEXT"]=2,e[r[3]="FUTUREPROOF"]=3,e[r[4]="NON_VERIFIED_TRANSITION"]=4,e[r[5]="UNVERIFIED_TRANSITION"]=5,e[r[6]="VERIFIED_TRANSITION"]=6,e[r[7]="VERIFIED_LOW_UNKNOWN"]=7,e[r[8]="VERIFIED_HIGH"]=8,e[r[9]="VERIFIED_INITIAL_UNKNOWN"]=9,e[r[10]="VERIFIED_INITIAL_LOW"]=10,e[r[11]="VERIFIED_INITIAL_HIGH"]=11,e[r[12]="VERIFIED_TRANSITION_ANY_TO_NONE"]=12,e[r[13]="VERIFIED_TRANSITION_ANY_TO_HIGH"]=13,e[r[14]="VERIFIED_TRANSITION_HIGH_TO_LOW"]=14,e[r[15]="VERIFIED_TRANSITION_HIGH_TO_UNKNOWN"]=15,e[r[16]="VERIFIED_TRANSITION_UNKNOWN_TO_LOW"]=16,e[r[17]="VERIFIED_TRANSITION_LOW_TO_UNKNOWN"]=17,e[r[18]="VERIFIED_TRANSITION_NONE_TO_LOW"]=18,e[r[19]="VERIFIED_TRANSITION_NONE_TO_UNKNOWN"]=19,e[r[20]="GROUP_CREATE"]=20,e[r[21]="GROUP_CHANGE_SUBJECT"]=21,e[r[22]="GROUP_CHANGE_ICON"]=22,e[r[23]="GROUP_CHANGE_INVITE_LINK"]=23,e[r[24]="GROUP_CHANGE_DESCRIPTION"]=24,e[r[25]="GROUP_CHANGE_RESTRICT"]=25,e[r[26]="GROUP_CHANGE_ANNOUNCE"]=26,e[r[27]="GROUP_PARTICIPANT_ADD"]=27,e[r[28]="GROUP_PARTICIPANT_REMOVE"]=28,e[r[29]="GROUP_PARTICIPANT_PROMOTE"]=29,e[r[30]="GROUP_PARTICIPANT_DEMOTE"]=30,e[r[31]="GROUP_PARTICIPANT_INVITE"]=31,e[r[32]="GROUP_PARTICIPANT_LEAVE"]=32,e[r[33]="GROUP_PARTICIPANT_CHANGE_NUMBER"]=33,e[r[34]="BROADCAST_CREATE"]=34,e[r[35]="BROADCAST_ADD"]=35,e[r[36]="BROADCAST_REMOVE"]=36,e[r[37]="GENERIC_NOTIFICATION"]=37,e[r[38]="E2E_IDENTITY_CHANGED"]=38,e[r[39]="E2E_ENCRYPTED"]=39,e[r[40]="CALL_MISSED_VOICE"]=40,e[r[41]="CALL_MISSED_VIDEO"]=41,e[r[42]="INDIVIDUAL_CHANGE_NUMBER"]=42,e[r[43]="GROUP_DELETE"]=43,e[r[44]="GROUP_ANNOUNCE_MODE_MESSAGE_BOUNCE"]=44,e[r[45]="CALL_MISSED_GROUP_VOICE"]=45,e[r[46]="CALL_MISSED_GROUP_VIDEO"]=46,e[r[47]="PAYMENT_CIPHERTEXT"]=47,e[r[48]="PAYMENT_FUTUREPROOF"]=48,e[r[49]="PAYMENT_TRANSACTION_STATUS_UPDATE_FAILED"]=49,e[r[50]="PAYMENT_TRANSACTION_STATUS_UPDATE_REFUNDED"]=50,e[r[51]="PAYMENT_TRANSACTION_STATUS_UPDATE_REFUND_FAILED"]=51,e[r[52]="PAYMENT_TRANSACTION_STATUS_RECEIVER_PENDING_SETUP"]=52,e[r[53]="PAYMENT_TRANSACTION_STATUS_RECEIVER_SUCCESS_AFTER_HICCUP"]=53,e[r[54]="PAYMENT_ACTION_ACCOUNT_SETUP_REMINDER"]=54,e[r[55]="PAYMENT_ACTION_SEND_PAYMENT_REMINDER"]=55,e[r[56]="PAYMENT_ACTION_SEND_PAYMENT_INVITATION"]=56,e[r[57]="PAYMENT_ACTION_REQUEST_DECLINED"]=57,e[r[58]="PAYMENT_ACTION_REQUEST_EXPIRED"]=58,e[r[59]="PAYMENT_ACTION_REQUEST_CANCELLED"]=59,e[r[60]="BIZ_VERIFIED_TRANSITION_TOP_TO_BOTTOM"]=60,e[r[61]="BIZ_VERIFIED_TRANSITION_BOTTOM_TO_TOP"]=61,e[r[62]="BIZ_INTRO_TOP"]=62,e[r[63]="BIZ_INTRO_BOTTOM"]=63,e[r[64]="BIZ_NAME_CHANGE"]=64,e[r[65]="BIZ_MOVE_TO_CONSUMER_APP"]=65,e[r[66]="BIZ_TWO_TIER_MIGRATION_TOP"]=66,e[r[67]="BIZ_TWO_TIER_MIGRATION_BOTTOM"]=67,e[r[68]="OVERSIZED"]=68,e[r[69]="GROUP_CHANGE_NO_FREQUENTLY_FORWARDED"]=69,e[r[70]="GROUP_V4_ADD_INVITE_SENT"]=70,e[r[71]="GROUP_PARTICIPANT_ADD_REQUEST_JOIN"]=71,e[r[72]="CHANGE_EPHEMERAL_SETTING"]=72,e[r[73]="E2E_DEVICE_CHANGED"]=73,e[r[74]="VIEWED_ONCE"]=74,e[r[75]="E2E_ENCRYPTED_NOW"]=75,e[r[76]="BLUE_MSG_BSP_FB_TO_BSP_PREMISE"]=76,e[r[77]="BLUE_MSG_BSP_FB_TO_SELF_FB"]=77,e[r[78]="BLUE_MSG_BSP_FB_TO_SELF_PREMISE"]=78,e[r[79]="BLUE_MSG_BSP_FB_UNVERIFIED"]=79,e[r[80]="BLUE_MSG_BSP_FB_UNVERIFIED_TO_SELF_PREMISE_VERIFIED"]=80,e[r[81]="BLUE_MSG_BSP_FB_VERIFIED"]=81,e[r[82]="BLUE_MSG_BSP_FB_VERIFIED_TO_SELF_PREMISE_UNVERIFIED"]=82,e[r[83]="BLUE_MSG_BSP_PREMISE_TO_SELF_PREMISE"]=83,e[r[84]="BLUE_MSG_BSP_PREMISE_UNVERIFIED"]=84,e[r[85]="BLUE_MSG_BSP_PREMISE_UNVERIFIED_TO_SELF_PREMISE_VERIFIED"]=85,e[r[86]="BLUE_MSG_BSP_PREMISE_VERIFIED"]=86,e[r[87]="BLUE_MSG_BSP_PREMISE_VERIFIED_TO_SELF_PREMISE_UNVERIFIED"]=87,e[r[88]="BLUE_MSG_CONSUMER_TO_BSP_FB_UNVERIFIED"]=88,e[r[89]="BLUE_MSG_CONSUMER_TO_BSP_PREMISE_UNVERIFIED"]=89,e[r[90]="BLUE_MSG_CONSUMER_TO_SELF_FB_UNVERIFIED"]=90,e[r[91]="BLUE_MSG_CONSUMER_TO_SELF_PREMISE_UNVERIFIED"]=91,e[r[92]="BLUE_MSG_SELF_FB_TO_BSP_PREMISE"]=92,e[r[93]="BLUE_MSG_SELF_FB_TO_SELF_PREMISE"]=93,e[r[94]="BLUE_MSG_SELF_FB_UNVERIFIED"]=94,e[r[95]="BLUE_MSG_SELF_FB_UNVERIFIED_TO_SELF_PREMISE_VERIFIED"]=95,e[r[96]="BLUE_MSG_SELF_FB_VERIFIED"]=96,e[r[97]="BLUE_MSG_SELF_FB_VERIFIED_TO_SELF_PREMISE_UNVERIFIED"]=97,e[r[98]="BLUE_MSG_SELF_PREMISE_TO_BSP_PREMISE"]=98,e[r[99]="BLUE_MSG_SELF_PREMISE_UNVERIFIED"]=99,e[r[100]="BLUE_MSG_SELF_PREMISE_VERIFIED"]=100,e[r[101]="BLUE_MSG_TO_BSP_FB"]=101,e[r[102]="BLUE_MSG_TO_CONSUMER"]=102,e[r[103]="BLUE_MSG_TO_SELF_FB"]=103,e[r[104]="BLUE_MSG_UNVERIFIED_TO_BSP_FB_VERIFIED"]=104,e[r[105]="BLUE_MSG_UNVERIFIED_TO_BSP_PREMISE_VERIFIED"]=105,e[r[106]="BLUE_MSG_UNVERIFIED_TO_SELF_FB_VERIFIED"]=106,e[r[107]="BLUE_MSG_UNVERIFIED_TO_VERIFIED"]=107,e[r[108]="BLUE_MSG_VERIFIED_TO_BSP_FB_UNVERIFIED"]=108,e[r[109]="BLUE_MSG_VERIFIED_TO_BSP_PREMISE_UNVERIFIED"]=109,e[r[110]="BLUE_MSG_VERIFIED_TO_SELF_FB_UNVERIFIED"]=110,e[r[111]="BLUE_MSG_VERIFIED_TO_UNVERIFIED"]=111,e[r[112]="BLUE_MSG_BSP_FB_UNVERIFIED_TO_BSP_PREMISE_VERIFIED"]=112,e[r[113]="BLUE_MSG_BSP_FB_UNVERIFIED_TO_SELF_FB_VERIFIED"]=113,e[r[114]="BLUE_MSG_BSP_FB_VERIFIED_TO_BSP_PREMISE_UNVERIFIED"]=114,e[r[115]="BLUE_MSG_BSP_FB_VERIFIED_TO_SELF_FB_UNVERIFIED"]=115,e[r[116]="BLUE_MSG_SELF_FB_UNVERIFIED_TO_BSP_PREMISE_VERIFIED"]=116,e[r[117]="BLUE_MSG_SELF_FB_VERIFIED_TO_BSP_PREMISE_UNVERIFIED"]=117,e[r[118]="E2E_IDENTITY_UNAVAILABLE"]=118,e[r[119]="GROUP_CREATING"]=119,e[r[120]="GROUP_CREATE_FAILED"]=120,e[r[121]="GROUP_BOUNCED"]=121,e[r[122]="BLOCK_CONTACT"]=122,e[r[123]="EPHEMERAL_SETTING_NOT_APPLIED"]=123,e[r[124]="SYNC_FAILED"]=124,e[r[125]="SYNCING"]=125,e[r[126]="BIZ_PRIVACY_MODE_INIT_FB"]=126,e[r[127]="BIZ_PRIVACY_MODE_INIT_BSP"]=127,e[r[128]="BIZ_PRIVACY_MODE_TO_FB"]=128,e[r[129]="BIZ_PRIVACY_MODE_TO_BSP"]=129,e[r[130]="DISAPPEARING_MODE"]=130,e[r[131]="E2E_DEVICE_FETCH_FAILED"]=131,e[r[132]="ADMIN_REVOKE"]=132,e[r[133]="GROUP_INVITE_LINK_GROWTH_LOCKED"]=133,e[r[134]="COMMUNITY_LINK_PARENT_GROUP"]=134,e[r[135]="COMMUNITY_LINK_SIBLING_GROUP"]=135,e[r[136]="COMMUNITY_LINK_SUB_GROUP"]=136,e[r[137]="COMMUNITY_UNLINK_PARENT_GROUP"]=137,e[r[138]="COMMUNITY_UNLINK_SIBLING_GROUP"]=138,e[r[139]="COMMUNITY_UNLINK_SUB_GROUP"]=139,e[r[140]="GROUP_PARTICIPANT_ACCEPT"]=140,e[r[141]="GROUP_PARTICIPANT_LINKED_GROUP_JOIN"]=141,e[r[142]="COMMUNITY_CREATE"]=142,e[r[143]="EPHEMERAL_KEEP_IN_CHAT"]=143,e[r[144]="GROUP_MEMBERSHIP_JOIN_APPROVAL_REQUEST"]=144,e[r[145]="GROUP_MEMBERSHIP_JOIN_APPROVAL_MODE"]=145,e[r[146]="INTEGRITY_UNLINK_PARENT_GROUP"]=146,e[r[147]="COMMUNITY_PARTICIPANT_PROMOTE"]=147,e[r[148]="COMMUNITY_PARTICIPANT_DEMOTE"]=148,e[r[149]="COMMUNITY_PARENT_GROUP_DELETED"]=149,e[r[150]="COMMUNITY_LINK_PARENT_GROUP_MEMBERSHIP_APPROVAL"]=150,e[r[151]="GROUP_PARTICIPANT_JOINED_GROUP_AND_PARENT_GROUP"]=151,e[r[152]="MASKED_THREAD_CREATED"]=152,e[r[153]="MASKED_THREAD_UNMASKED"]=153,e[r[154]="BIZ_CHAT_ASSIGNMENT"]=154,e[r[155]="CHAT_PSA"]=155,e[r[156]="CHAT_POLL_CREATION_MESSAGE"]=156,e[r[157]="CAG_MASKED_THREAD_CREATED"]=157,e[r[158]="COMMUNITY_PARENT_GROUP_SUBJECT_CHANGED"]=158,e[r[159]="CAG_INVITE_AUTO_ADD"]=159,e[r[160]="BIZ_CHAT_ASSIGNMENT_UNASSIGN"]=160,e[r[161]="CAG_INVITE_AUTO_JOINED"]=161,e[r[162]="SCHEDULED_CALL_START_MESSAGE"]=162,e[r[163]="COMMUNITY_INVITE_RICH"]=163,e[r[164]="COMMUNITY_INVITE_AUTO_ADD_RICH"]=164,e[r[165]="SUB_GROUP_INVITE_RICH"]=165,e[r[166]="SUB_GROUP_PARTICIPANT_ADD_RICH"]=166,e[r[167]="COMMUNITY_LINK_PARENT_GROUP_RICH"]=167,e[r[168]="COMMUNITY_PARTICIPANT_ADD_RICH"]=168,e[r[169]="SILENCED_UNKNOWN_CALLER_AUDIO"]=169,e[r[170]="SILENCED_UNKNOWN_CALLER_VIDEO"]=170,e[r[171]="GROUP_MEMBER_ADD_MODE"]=171,e[r[172]="GROUP_MEMBERSHIP_JOIN_APPROVAL_REQUEST_NON_ADMIN_ADD"]=172,e[r[173]="COMMUNITY_CHANGE_DESCRIPTION"]=173,e[r[174]="SENDER_INVITE"]=174,e[r[175]="RECEIVER_INVITE"]=175,e[r[176]="COMMUNITY_ALLOW_MEMBER_ADDED_GROUPS"]=176,e[r[177]="PINNED_MESSAGE_IN_CHAT"]=177,e[r[178]="PAYMENT_INVITE_SETUP_INVITER"]=178,e[r[179]="PAYMENT_INVITE_SETUP_INVITEE_RECEIVE_ONLY"]=179,e[r[180]="PAYMENT_INVITE_SETUP_INVITEE_SEND_AND_RECEIVE"]=180,e[r[181]="LINKED_GROUP_CALL_START"]=181,e[r[182]="REPORT_TO_ADMIN_ENABLED_STATUS"]=182,e[r[183]="EMPTY_SUBGROUP_CREATE"]=183,e[r[184]="SCHEDULED_CALL_CANCEL"]=184,e[r[185]="SUBGROUP_ADMIN_TRIGGERED_AUTO_ADD_RICH"]=185,e[r[186]="GROUP_CHANGE_RECENT_HISTORY_SHARING"]=186,e[r[187]="PAID_MESSAGE_SERVER_CAMPAIGN_ID"]=187,e[r[188]="GENERAL_CHAT_CREATE"]=188,e[r[189]="GENERAL_CHAT_ADD"]=189,e[r[190]="GENERAL_CHAT_AUTO_ADD_DISABLED"]=190,e[r[191]="SUGGESTED_SUBGROUP_ANNOUNCE"]=191,e[r[192]="BIZ_BOT_1P_MESSAGING_ENABLED"]=192,e[r[193]="CHANGE_USERNAME"]=193,e[r[194]="BIZ_COEX_PRIVACY_INIT_SELF"]=194,e[r[195]="BIZ_COEX_PRIVACY_TRANSITION_SELF"]=195,e[r[196]="SUPPORT_AI_EDUCATION"]=196,e[r[197]="BIZ_BOT_3P_MESSAGING_ENABLED"]=197,e[r[198]="REMINDER_SETUP_MESSAGE"]=198,e[r[199]="REMINDER_SENT_MESSAGE"]=199,e[r[200]="REMINDER_CANCEL_MESSAGE"]=200,e[r[201]="BIZ_COEX_PRIVACY_INIT"]=201,e[r[202]="BIZ_COEX_PRIVACY_TRANSITION"]=202,e[r[203]="GROUP_DEACTIVATED"]=203,e[r[204]="COMMUNITY_DEACTIVATE_SIBLING_GROUP"]=204,e[r[205]="EVENT_UPDATED"]=205,e[r[206]="EVENT_CANCELED"]=206,e[r[207]="COMMUNITY_OWNER_UPDATED"]=207,e[r[208]="COMMUNITY_SUB_GROUP_VISIBILITY_HIDDEN"]=208,e[r[209]="CAPI_GROUP_NE2EE_SYSTEM_MESSAGE"]=209,e[r[210]="STATUS_MENTION"]=210,e[r[211]="USER_CONTROLS_SYSTEM_MESSAGE"]=211,e[r[212]="SUPPORT_SYSTEM_MESSAGE"]=212,e[r[213]="CHANGE_LID"]=213,e[r[214]="BIZ_CUSTOMER_3PD_DATA_SHARING_OPT_IN_MESSAGE"]=214,e[r[215]="BIZ_CUSTOMER_3PD_DATA_SHARING_OPT_OUT_MESSAGE"]=215,e[r[216]="CHANGE_LIMIT_SHARING"]=216,e[r[217]="GROUP_MEMBER_LINK_MODE"]=217,e[r[218]="BIZ_AUTOMATICALLY_LABELED_CHAT_SYSTEM_MESSAGE"]=218,e}(),n}(),a.WebNotificationsInfo=function(){function n(r){if(this.notifyMessages=[],r)for(var e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return n.prototype.timestamp=h.Long?h.Long.fromBits(0,0,!0):0,n.prototype.unreadChats=0,n.prototype.notifyMessageCount=0,n.prototype.notifyMessages=h.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=E.create()),e.timestamp!=null&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(16).uint64(e.timestamp),e.unreadChats!=null&&Object.hasOwnProperty.call(e,"unreadChats")&&t.uint32(24).uint32(e.unreadChats),e.notifyMessageCount!=null&&Object.hasOwnProperty.call(e,"notifyMessageCount")&&t.uint32(32).uint32(e.notifyMessageCount),e.notifyMessages!=null&&e.notifyMessages.length)for(var i=0;i<e.notifyMessages.length;++i)u.proto.WebMessageInfo.encode(e.notifyMessages[i],t.uint32(42).fork()).ldelim();return t},n.decode=function(e,t,i){e instanceof p||(e=p.create(e));for(var o=t===void 0?e.len:e.pos+t,s=new u.proto.WebNotificationsInfo;e.pos<o;){var c=e.uint32();if(c===i)break;switch(c>>>3){case 2:{s.timestamp=e.uint64();break}case 3:{s.unreadChats=e.uint32();break}case 4:{s.notifyMessageCount=e.uint32();break}case 5:{s.notifyMessages&&s.notifyMessages.length||(s.notifyMessages=[]),s.notifyMessages.push(u.proto.WebMessageInfo.decode(e,e.uint32()));break}default:e.skipType(c&7);break}}return s},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/proto.WebNotificationsInfo"},n}(),a})();var fi=Me(iO());var xM=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,oO=new Set,th=typeof process=="object"&&process?process:{},sO=(a,n,r,e)=>{typeof th.emitWarning=="function"?th.emitWarning(a,n,r,e):console.error(`[${r}] ${n}: ${a}`)},lu=globalThis.AbortController,aO=globalThis.AbortSignal;if(typeof lu>"u"){aO=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(e,t){this._onabort.push(t)}},lu=class{constructor(){n()}signal=new aO;abort(e){if(!this.signal.aborted){this.signal.reason=e,this.signal.aborted=!0;for(let t of this.signal._onabort)t(e);this.signal.onabort?.(e)}}};let a=th.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",n=()=>{a&&(a=!1,sO("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",n))}}var FM=a=>!oO.has(a),L5=Symbol("type"),ta=a=>a&&a===Math.floor(a)&&a>0&&isFinite(a),cO=a=>ta(a)?a<=Math.pow(2,8)?Uint8Array:a<=Math.pow(2,16)?Uint16Array:a<=Math.pow(2,32)?Uint32Array:a<=Number.MAX_SAFE_INTEGER?Do:null:null,Do=class extends Array{constructor(n){super(n),this.fill(0)}},nh=class a{heap;length;static#c=!1;static create(n){let r=cO(n);if(!r)return[];a.#c=!0;let e=new a(n,r);return a.#c=!1,e}constructor(n,r){if(!a.#c)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(n),this.length=0}push(n){this.heap[this.length++]=n}pop(){return this.heap[--this.length]}},dr=class a{#c;#d;#g;#N;#E;#D;#w;#y;get perf(){return this.#y}ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#_;#r;#n;#e;#l;#p;#s;#a;#T;#o;#I;#O;#f;#S;#C;#u;#k;static unsafeExposeInternals(n){return{starts:n.#O,ttls:n.#f,sizes:n.#I,keyMap:n.#r,keyList:n.#n,valList:n.#e,next:n.#l,prev:n.#p,get head(){return n.#s},get tail(){return n.#a},free:n.#T,isBackgroundFetch:r=>n.#t(r),backgroundFetch:(r,e,t,i)=>n.#B(r,e,t,i),moveToTail:r=>n.#L(r),indexes:r=>n.#A(r),rindexes:r=>n.#m(r),isStale:r=>n.#h(r)}}get max(){return this.#c}get maxSize(){return this.#d}get calculatedSize(){return this.#_}get size(){return this.#i}get fetchMethod(){return this.#D}get memoMethod(){return this.#w}get dispose(){return this.#g}get onInsert(){return this.#N}get disposeAfter(){return this.#E}constructor(n){let{max:r=0,ttl:e,ttlResolution:t=1,ttlAutopurge:i,updateAgeOnGet:o,updateAgeOnHas:s,allowStale:c,dispose:l,onInsert:d,disposeAfter:f,noDisposeOnSet:g,noUpdateTTL:_,maxSize:y=0,maxEntrySize:T=0,sizeCalculation:I,fetchMethod:O,memoMethod:R,noDeleteOnFetchRejection:M,noDeleteOnStaleGet:v,allowStaleOnFetchRejection:D,allowStaleOnFetchAbort:k,ignoreFetchAbort:b,perf:j}=n;if(j!==void 0&&typeof j?.now!="function")throw new TypeError("perf option must have a now() method if specified");if(this.#y=j??xM,r!==0&&!ta(r))throw new TypeError("max option must be a nonnegative integer");let H=r?cO(r):Array;if(!H)throw new Error("invalid max value: "+r);if(this.#c=r,this.#d=y,this.maxEntrySize=T||this.#d,this.sizeCalculation=I,this.sizeCalculation){if(!this.#d&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(R!==void 0&&typeof R!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#w=R,O!==void 0&&typeof O!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#D=O,this.#C=!!O,this.#r=new Map,this.#n=new Array(r).fill(void 0),this.#e=new Array(r).fill(void 0),this.#l=new H(r),this.#p=new H(r),this.#s=0,this.#a=0,this.#T=nh.create(r),this.#i=0,this.#_=0,typeof l=="function"&&(this.#g=l),typeof d=="function"&&(this.#N=d),typeof f=="function"?(this.#E=f,this.#o=[]):(this.#E=void 0,this.#o=void 0),this.#S=!!this.#g,this.#k=!!this.#N,this.#u=!!this.#E,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!_,this.noDeleteOnFetchRejection=!!M,this.allowStaleOnFetchRejection=!!D,this.allowStaleOnFetchAbort=!!k,this.ignoreFetchAbort=!!b,this.maxEntrySize!==0){if(this.#d!==0&&!ta(this.#d))throw new TypeError("maxSize must be a positive integer if specified");if(!ta(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#V()}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!v,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!s,this.ttlResolution=ta(t)||t===0?t:1,this.ttlAutopurge=!!i,this.ttl=e||0,this.ttl){if(!ta(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#x()}if(this.#c===0&&this.ttl===0&&this.#d===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#c&&!this.#d){let L="LRU_CACHE_UNBOUNDED";FM(L)&&(oO.add(L),sO("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",L,a))}}getRemainingTTL(n){return this.#r.has(n)?1/0:0}#x(){let n=new Do(this.#c),r=new Do(this.#c);this.#f=n,this.#O=r,this.#F=(i,o,s=this.#y.now())=>{if(r[i]=o!==0?s:0,n[i]=o,o!==0&&this.ttlAutopurge){let c=setTimeout(()=>{this.#h(i)&&this.#b(this.#n[i],"expire")},o+1);c.unref&&c.unref()}},this.#M=i=>{r[i]=n[i]!==0?this.#y.now():0},this.#R=(i,o)=>{if(n[o]){let s=n[o],c=r[o];if(!s||!c)return;i.ttl=s,i.start=c,i.now=e||t();let l=i.now-c;i.remainingTTL=s-l}};let e=0,t=()=>{let i=this.#y.now();if(this.ttlResolution>0){e=i;let o=setTimeout(()=>e=0,this.ttlResolution);o.unref&&o.unref()}return i};this.getRemainingTTL=i=>{let o=this.#r.get(i);if(o===void 0)return 0;let s=n[o],c=r[o];if(!s||!c)return 1/0;let l=(e||t())-c;return s-l},this.#h=i=>{let o=r[i],s=n[i];return!!s&&!!o&&(e||t())-o>s}}#M=()=>{};#R=()=>{};#F=()=>{};#h=()=>!1;#V(){let n=new Do(this.#c);this.#_=0,this.#I=n,this.#P=r=>{this.#_-=n[r],n[r]=0},this.#j=(r,e,t,i)=>{if(this.#t(e))return 0;if(!ta(t))if(i){if(typeof i!="function")throw new TypeError("sizeCalculation must be a function");if(t=i(e,r),!ta(t))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return t},this.#v=(r,e,t)=>{if(n[r]=e,this.#d){let i=this.#d-n[r];for(;this.#_>i;)this.#U(!0)}this.#_+=n[r],t&&(t.entrySize=e,t.totalCalculatedSize=this.#_)}}#P=n=>{};#v=(n,r,e)=>{};#j=(n,r,e,t)=>{if(e||t)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#A({allowStale:n=this.allowStale}={}){if(this.#i)for(let r=this.#a;!(!this.#K(r)||((n||!this.#h(r))&&(yield r),r===this.#s));)r=this.#p[r]}*#m({allowStale:n=this.allowStale}={}){if(this.#i)for(let r=this.#s;!(!this.#K(r)||((n||!this.#h(r))&&(yield r),r===this.#a));)r=this.#l[r]}#K(n){return n!==void 0&&this.#r.get(this.#n[n])===n}*entries(){for(let n of this.#A())this.#e[n]!==void 0&&this.#n[n]!==void 0&&!this.#t(this.#e[n])&&(yield[this.#n[n],this.#e[n]])}*rentries(){for(let n of this.#m())this.#e[n]!==void 0&&this.#n[n]!==void 0&&!this.#t(this.#e[n])&&(yield[this.#n[n],this.#e[n]])}*keys(){for(let n of this.#A()){let r=this.#n[n];r!==void 0&&!this.#t(this.#e[n])&&(yield r)}}*rkeys(){for(let n of this.#m()){let r=this.#n[n];r!==void 0&&!this.#t(this.#e[n])&&(yield r)}}*values(){for(let n of this.#A())this.#e[n]!==void 0&&!this.#t(this.#e[n])&&(yield this.#e[n])}*rvalues(){for(let n of this.#m())this.#e[n]!==void 0&&!this.#t(this.#e[n])&&(yield this.#e[n])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(n,r={}){for(let e of this.#A()){let t=this.#e[e],i=this.#t(t)?t.__staleWhileFetching:t;if(i!==void 0&&n(i,this.#n[e],this))return this.get(this.#n[e],r)}}forEach(n,r=this){for(let e of this.#A()){let t=this.#e[e],i=this.#t(t)?t.__staleWhileFetching:t;i!==void 0&&n.call(r,i,this.#n[e],this)}}rforEach(n,r=this){for(let e of this.#m()){let t=this.#e[e],i=this.#t(t)?t.__staleWhileFetching:t;i!==void 0&&n.call(r,i,this.#n[e],this)}}purgeStale(){let n=!1;for(let r of this.#m({allowStale:!0}))this.#h(r)&&(this.#b(this.#n[r],"expire"),n=!0);return n}info(n){let r=this.#r.get(n);if(r===void 0)return;let e=this.#e[r],t=this.#t(e)?e.__staleWhileFetching:e;if(t===void 0)return;let i={value:t};if(this.#f&&this.#O){let o=this.#f[r],s=this.#O[r];if(o&&s){let c=o-(this.#y.now()-s);i.ttl=c,i.start=Date.now()}}return this.#I&&(i.size=this.#I[r]),i}dump(){let n=[];for(let r of this.#A({allowStale:!0})){let e=this.#n[r],t=this.#e[r],i=this.#t(t)?t.__staleWhileFetching:t;if(i===void 0||e===void 0)continue;let o={value:i};if(this.#f&&this.#O){o.ttl=this.#f[r];let s=this.#y.now()-this.#O[r];o.start=Math.floor(Date.now()-s)}this.#I&&(o.size=this.#I[r]),n.unshift([e,o])}return n}load(n){this.clear();for(let[r,e]of n){if(e.start){let t=Date.now()-e.start;e.start=this.#y.now()-t}this.set(r,e.value,e)}}set(n,r,e={}){if(r===void 0)return this.delete(n),this;let{ttl:t=this.ttl,start:i,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:s=this.sizeCalculation,status:c}=e,{noUpdateTTL:l=this.noUpdateTTL}=e,d=this.#j(n,r,e.size||0,s);if(this.maxEntrySize&&d>this.maxEntrySize)return c&&(c.set="miss",c.maxEntrySizeExceeded=!0),this.#b(n,"set"),this;let f=this.#i===0?void 0:this.#r.get(n);if(f===void 0)f=this.#i===0?this.#a:this.#T.length!==0?this.#T.pop():this.#i===this.#c?this.#U(!1):this.#i,this.#n[f]=n,this.#e[f]=r,this.#r.set(n,f),this.#l[this.#a]=f,this.#p[f]=this.#a,this.#a=f,this.#i++,this.#v(f,d,c),c&&(c.set="add"),l=!1,this.#k&&this.#N?.(r,n,"add");else{this.#L(f);let g=this.#e[f];if(r!==g){if(this.#C&&this.#t(g)){g.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:_}=g;_!==void 0&&!o&&(this.#S&&this.#g?.(_,n,"set"),this.#u&&this.#o?.push([_,n,"set"]))}else o||(this.#S&&this.#g?.(g,n,"set"),this.#u&&this.#o?.push([g,n,"set"]));if(this.#P(f),this.#v(f,d,c),this.#e[f]=r,c){c.set="replace";let _=g&&this.#t(g)?g.__staleWhileFetching:g;_!==void 0&&(c.oldValue=_)}}else c&&(c.set="update");this.#k&&this.onInsert?.(r,n,r===g?"update":"replace")}if(t!==0&&!this.#f&&this.#x(),this.#f&&(l||this.#F(f,t,i),c&&this.#R(c,f)),!o&&this.#u&&this.#o){let g=this.#o,_;for(;_=g?.shift();)this.#E?.(..._)}return this}pop(){try{for(;this.#i;){let n=this.#e[this.#s];if(this.#U(!0),this.#t(n)){if(n.__staleWhileFetching)return n.__staleWhileFetching}else if(n!==void 0)return n}}finally{if(this.#u&&this.#o){let n=this.#o,r;for(;r=n?.shift();)this.#E?.(...r)}}}#U(n){let r=this.#s,e=this.#n[r],t=this.#e[r];return this.#C&&this.#t(t)?t.__abortController.abort(new Error("evicted")):(this.#S||this.#u)&&(this.#S&&this.#g?.(t,e,"evict"),this.#u&&this.#o?.push([t,e,"evict"])),this.#P(r),n&&(this.#n[r]=void 0,this.#e[r]=void 0,this.#T.push(r)),this.#i===1?(this.#s=this.#a=0,this.#T.length=0):this.#s=this.#l[r],this.#r.delete(e),this.#i--,r}has(n,r={}){let{updateAgeOnHas:e=this.updateAgeOnHas,status:t}=r,i=this.#r.get(n);if(i!==void 0){let o=this.#e[i];if(this.#t(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#h(i))t&&(t.has="stale",this.#R(t,i));else return e&&this.#M(i),t&&(t.has="hit",this.#R(t,i)),!0}else t&&(t.has="miss");return!1}peek(n,r={}){let{allowStale:e=this.allowStale}=r,t=this.#r.get(n);if(t===void 0||!e&&this.#h(t))return;let i=this.#e[t];return this.#t(i)?i.__staleWhileFetching:i}#B(n,r,e,t){let i=r===void 0?void 0:this.#e[r];if(this.#t(i))return i;let o=new lu,{signal:s}=e;s?.addEventListener("abort",()=>o.abort(s.reason),{signal:o.signal});let c={signal:o.signal,options:e,context:t},l=(T,I=!1)=>{let{aborted:O}=o.signal,R=e.ignoreFetchAbort&&T!==void 0;if(e.status&&(O&&!I?(e.status.fetchAborted=!0,e.status.fetchError=o.signal.reason,R&&(e.status.fetchAbortIgnored=!0)):e.status.fetchResolved=!0),O&&!R&&!I)return f(o.signal.reason);let M=_,v=this.#e[r];return(v===_||R&&I&&v===void 0)&&(T===void 0?M.__staleWhileFetching!==void 0?this.#e[r]=M.__staleWhileFetching:this.#b(n,"fetch"):(e.status&&(e.status.fetchUpdated=!0),this.set(n,T,c.options))),T},d=T=>(e.status&&(e.status.fetchRejected=!0,e.status.fetchError=T),f(T)),f=T=>{let{aborted:I}=o.signal,O=I&&e.allowStaleOnFetchAbort,R=O||e.allowStaleOnFetchRejection,M=R||e.noDeleteOnFetchRejection,v=_;if(this.#e[r]===_&&(!M||v.__staleWhileFetching===void 0?this.#b(n,"fetch"):O||(this.#e[r]=v.__staleWhileFetching)),R)return e.status&&v.__staleWhileFetching!==void 0&&(e.status.returnedStale=!0),v.__staleWhileFetching;if(v.__returned===v)throw T},g=(T,I)=>{let O=this.#D?.(n,i,c);O&&O instanceof Promise&&O.then(R=>T(R===void 0?void 0:R),I),o.signal.addEventListener("abort",()=>{(!e.ignoreFetchAbort||e.allowStaleOnFetchAbort)&&(T(void 0),e.allowStaleOnFetchAbort&&(T=R=>l(R,!0)))})};e.status&&(e.status.fetchDispatched=!0);let _=new Promise(g).then(l,d),y=Object.assign(_,{__abortController:o,__staleWhileFetching:i,__returned:void 0});return r===void 0?(this.set(n,y,{...c.options,status:void 0}),r=this.#r.get(n)):this.#e[r]=y,y}#t(n){if(!this.#C)return!1;let r=n;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof lu}async fetch(n,r={}){let{allowStale:e=this.allowStale,updateAgeOnGet:t=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:s=this.noDisposeOnSet,size:c=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:d=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:g=this.allowStaleOnFetchRejection,ignoreFetchAbort:_=this.ignoreFetchAbort,allowStaleOnFetchAbort:y=this.allowStaleOnFetchAbort,context:T,forceRefresh:I=!1,status:O,signal:R}=r;if(!this.#C)return O&&(O.fetch="get"),this.get(n,{allowStale:e,updateAgeOnGet:t,noDeleteOnStaleGet:i,status:O});let M={allowStale:e,updateAgeOnGet:t,noDeleteOnStaleGet:i,ttl:o,noDisposeOnSet:s,size:c,sizeCalculation:l,noUpdateTTL:d,noDeleteOnFetchRejection:f,allowStaleOnFetchRejection:g,allowStaleOnFetchAbort:y,ignoreFetchAbort:_,status:O,signal:R},v=this.#r.get(n);if(v===void 0){O&&(O.fetch="miss");let D=this.#B(n,v,M,T);return D.__returned=D}else{let D=this.#e[v];if(this.#t(D)){let L=e&&D.__staleWhileFetching!==void 0;return O&&(O.fetch="inflight",L&&(O.returnedStale=!0)),L?D.__staleWhileFetching:D.__returned=D}let k=this.#h(v);if(!I&&!k)return O&&(O.fetch="hit"),this.#L(v),t&&this.#M(v),O&&this.#R(O,v),D;let b=this.#B(n,v,M,T),H=b.__staleWhileFetching!==void 0&&e;return O&&(O.fetch=k?"stale":"refresh",H&&k&&(O.returnedStale=!0)),H?b.__staleWhileFetching:b.__returned=b}}async forceFetch(n,r={}){let e=await this.fetch(n,r);if(e===void 0)throw new Error("fetch() returned undefined");return e}memo(n,r={}){let e=this.#w;if(!e)throw new Error("no memoMethod provided to constructor");let{context:t,forceRefresh:i,...o}=r,s=this.get(n,o);if(!i&&s!==void 0)return s;let c=e(n,s,{options:o,context:t});return this.set(n,c,o),c}get(n,r={}){let{allowStale:e=this.allowStale,updateAgeOnGet:t=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:o}=r,s=this.#r.get(n);if(s!==void 0){let c=this.#e[s],l=this.#t(c);return o&&this.#R(o,s),this.#h(s)?(o&&(o.get="stale"),l?(o&&e&&c.__staleWhileFetching!==void 0&&(o.returnedStale=!0),e?c.__staleWhileFetching:void 0):(i||this.#b(n,"expire"),o&&e&&(o.returnedStale=!0),e?c:void 0)):(o&&(o.get="hit"),l?c.__staleWhileFetching:(this.#L(s),t&&this.#M(s),c))}else o&&(o.get="miss")}#H(n,r){this.#p[r]=n,this.#l[n]=r}#L(n){n!==this.#a&&(n===this.#s?this.#s=this.#l[n]:this.#H(this.#p[n],this.#l[n]),this.#H(this.#a,n),this.#a=n)}delete(n){return this.#b(n,"delete")}#b(n,r){let e=!1;if(this.#i!==0){let t=this.#r.get(n);if(t!==void 0)if(e=!0,this.#i===1)this.#G(r);else{this.#P(t);let i=this.#e[t];if(this.#t(i)?i.__abortController.abort(new Error("deleted")):(this.#S||this.#u)&&(this.#S&&this.#g?.(i,n,r),this.#u&&this.#o?.push([i,n,r])),this.#r.delete(n),this.#n[t]=void 0,this.#e[t]=void 0,t===this.#a)this.#a=this.#p[t];else if(t===this.#s)this.#s=this.#l[t];else{let o=this.#p[t];this.#l[o]=this.#l[t];let s=this.#l[t];this.#p[s]=this.#p[t]}this.#i--,this.#T.push(t)}}if(this.#u&&this.#o?.length){let t=this.#o,i;for(;i=t?.shift();)this.#E?.(...i)}return e}clear(){return this.#G("delete")}#G(n){for(let r of this.#m({allowStale:!0})){let e=this.#e[r];if(this.#t(e))e.__abortController.abort(new Error("deleted"));else{let t=this.#n[r];this.#S&&this.#g?.(e,t,n),this.#u&&this.#o?.push([e,t,n])}}if(this.#r.clear(),this.#e.fill(void 0),this.#n.fill(void 0),this.#f&&this.#O&&(this.#f.fill(0),this.#O.fill(0)),this.#I&&this.#I.fill(0),this.#s=0,this.#a=0,this.#T.length=0,this.#_=0,this.#i=0,this.#u&&this.#o){let r=this.#o,e;for(;e=r?.shift();)this.#E?.(...e)}}};var Uu=Me(fn());function gc(a,n){return function(){return a.apply(n,arguments)}}var{toString:QM}=Object.prototype,{getPrototypeOf:hh}=Object,{iterator:yu,toStringTag:aS}=Symbol,_u=(a=>n=>{let r=QM.call(n);return a[r]||(a[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Pr=a=>(a=a.toLowerCase(),n=>_u(n)===a),Tu=a=>n=>typeof n===a,{isArray:ko}=Array,wo=Tu("undefined");function Ec(a){return a!==null&&!wo(a)&&a.constructor!==null&&!wo(a.constructor)&&wn(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}var oS=Pr("ArrayBuffer");function ZM(a){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(a):n=a&&a.buffer&&oS(a.buffer),n}var eP=Tu("string"),wn=Tu("function"),sS=Tu("number"),yc=a=>a!==null&&typeof a=="object",tP=a=>a===!0||a===!1,Eu=a=>{if(_u(a)!=="object")return!1;let n=hh(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(aS in a)&&!(yu in a)},nP=a=>{if(!yc(a)||Ec(a))return!1;try{return Object.keys(a).length===0&&Object.getPrototypeOf(a)===Object.prototype}catch{return!1}},rP=Pr("Date"),iP=Pr("File"),aP=Pr("Blob"),oP=Pr("FileList"),sP=a=>yc(a)&&wn(a.pipe),cP=a=>{let n;return a&&(typeof FormData=="function"&&a instanceof FormData||wn(a.append)&&((n=_u(a))==="formdata"||n==="object"&&wn(a.toString)&&a.toString()==="[object FormData]"))},lP=Pr("URLSearchParams"),[uP,dP,pP,fP]=["ReadableStream","Request","Response","Headers"].map(Pr),hP=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _c(a,n,{allOwnKeys:r=!1}={}){if(a===null||typeof a>"u")return;let e,t;if(typeof a!="object"&&(a=[a]),ko(a))for(e=0,t=a.length;e<t;e++)n.call(null,a[e],e,a);else{if(Ec(a))return;let i=r?Object.getOwnPropertyNames(a):Object.keys(a),o=i.length,s;for(e=0;e<o;e++)s=i[e],n.call(null,a[s],s,a)}}function cS(a,n){if(Ec(a))return null;n=n.toLowerCase();let r=Object.keys(a),e=r.length,t;for(;e-- >0;)if(t=r[e],n===t.toLowerCase())return t;return null}var Ca=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,lS=a=>!wo(a)&&a!==Ca;function fh(){let{caseless:a,skipUndefined:n}=lS(this)&&this||{},r={},e=(t,i)=>{let o=a&&cS(r,i)||i;Eu(r[o])&&Eu(t)?r[o]=fh(r[o],t):Eu(t)?r[o]=fh({},t):ko(t)?r[o]=t.slice():(!n||!wo(t))&&(r[o]=t)};for(let t=0,i=arguments.length;t<i;t++)arguments[t]&&_c(arguments[t],e);return r}var gP=(a,n,r,{allOwnKeys:e}={})=>(_c(n,(t,i)=>{r&&wn(t)?a[i]=gc(t,r):a[i]=t},{allOwnKeys:e}),a),EP=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),yP=(a,n,r,e)=>{a.prototype=Object.create(n.prototype,e),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:n.prototype}),r&&Object.assign(a.prototype,r)},_P=(a,n,r,e)=>{let t,i,o,s={};if(n=n||{},a==null)return n;do{for(t=Object.getOwnPropertyNames(a),i=t.length;i-- >0;)o=t[i],(!e||e(o,a,n))&&!s[o]&&(n[o]=a[o],s[o]=!0);a=r!==!1&&hh(a)}while(a&&(!r||r(a,n))&&a!==Object.prototype);return n},TP=(a,n,r)=>{a=String(a),(r===void 0||r>a.length)&&(r=a.length),r-=n.length;let e=a.indexOf(n,r);return e!==-1&&e===r},IP=a=>{if(!a)return null;if(ko(a))return a;let n=a.length;if(!sS(n))return null;let r=new Array(n);for(;n-- >0;)r[n]=a[n];return r},OP=(a=>n=>a&&n instanceof a)(typeof Uint8Array<"u"&&hh(Uint8Array)),SP=(a,n)=>{let e=(a&&a[yu]).call(a),t;for(;(t=e.next())&&!t.done;){let i=t.value;n.call(a,i[0],i[1])}},AP=(a,n)=>{let r,e=[];for(;(r=a.exec(n))!==null;)e.push(r);return e},mP=Pr("HTMLFormElement"),bP=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,e,t){return e.toUpperCase()+t}),iS=(({hasOwnProperty:a})=>(n,r)=>a.call(n,r))(Object.prototype),RP=Pr("RegExp"),uS=(a,n)=>{let r=Object.getOwnPropertyDescriptors(a),e={};_c(r,(t,i)=>{let o;(o=n(t,i,a))!==!1&&(e[i]=o||t)}),Object.defineProperties(a,e)},CP=a=>{uS(a,(n,r)=>{if(wn(a)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let e=a[r];if(wn(e)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},NP=(a,n)=>{let r={},e=t=>{t.forEach(i=>{r[i]=!0})};return ko(a)?e(a):e(String(a).split(n)),r},MP=()=>{},PP=(a,n)=>a!=null&&Number.isFinite(a=+a)?a:n;function LP(a){return!!(a&&wn(a.append)&&a[aS]==="FormData"&&a[yu])}var DP=a=>{let n=new Array(10),r=(e,t)=>{if(yc(e)){if(n.indexOf(e)>=0)return;if(Ec(e))return e;if(!("toJSON"in e)){n[t]=e;let i=ko(e)?[]:{};return _c(e,(o,s)=>{let c=r(o,t+1);!wo(c)&&(i[s]=c)}),n[t]=void 0,i}}return e};return r(a,0)},wP=Pr("AsyncFunction"),kP=a=>a&&(yc(a)||wn(a))&&wn(a.then)&&wn(a.catch),dS=((a,n)=>a?setImmediate:n?((r,e)=>(Ca.addEventListener("message",({source:t,data:i})=>{t===Ca&&i===r&&e.length&&e.shift()()},!1),t=>{e.push(t),Ca.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",wn(Ca.postMessage)),vP=typeof queueMicrotask<"u"?queueMicrotask.bind(Ca):typeof process<"u"&&process.nextTick||dS,UP=a=>a!=null&&wn(a[yu]),N={isArray:ko,isArrayBuffer:oS,isBuffer:Ec,isFormData:cP,isArrayBufferView:ZM,isString:eP,isNumber:sS,isBoolean:tP,isObject:yc,isPlainObject:Eu,isEmptyObject:nP,isReadableStream:uP,isRequest:dP,isResponse:pP,isHeaders:fP,isUndefined:wo,isDate:rP,isFile:iP,isBlob:aP,isRegExp:RP,isFunction:wn,isStream:sP,isURLSearchParams:lP,isTypedArray:OP,isFileList:oP,forEach:_c,merge:fh,extend:gP,trim:hP,stripBOM:EP,inherits:yP,toFlatObject:_P,kindOf:_u,kindOfTest:Pr,endsWith:TP,toArray:IP,forEachEntry:SP,matchAll:AP,isHTMLForm:mP,hasOwnProperty:iS,hasOwnProp:iS,reduceDescriptors:uS,freezeMethods:CP,toObjectSet:NP,toCamelCase:bP,noop:MP,toFiniteNumber:PP,findKey:cS,global:Ca,isContextDefined:lS,isSpecCompliantForm:LP,toJSONObject:DP,isAsyncFn:wP,isThenable:kP,setImmediate:dS,asap:vP,isIterable:UP};function vo(a,n,r,e,t){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",n&&(this.code=n),r&&(this.config=r),e&&(this.request=e),t&&(this.response=t,this.status=t.status?t.status:null)}N.inherits(vo,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:N.toJSONObject(this.config),code:this.code,status:this.status}}});var pS=vo.prototype,fS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{fS[a]={value:a}});Object.defineProperties(vo,fS);Object.defineProperty(pS,"isAxiosError",{value:!0});vo.from=(a,n,r,e,t,i)=>{let o=Object.create(pS);N.toFlatObject(a,o,function(d){return d!==Error.prototype},l=>l!=="isAxiosError");let s=a&&a.message?a.message:"Error",c=n==null&&a?a.code:n;return vo.call(o,s,c,r,e,t),a&&o.cause==null&&Object.defineProperty(o,"cause",{value:a,configurable:!0}),o.name=a&&a.name||"Error",i&&Object.assign(o,i),o};var de=vo;var ES=Me(gS()),Iu=ES.default;function gh(a){return N.isPlainObject(a)||N.isArray(a)}function _S(a){return N.endsWith(a,"[]")?a.slice(0,-2):a}function yS(a,n,r){return a?a.concat(n).map(function(t,i){return t=_S(t),!r&&i?"["+t+"]":t}).join(r?".":""):n}function BP(a){return N.isArray(a)&&!a.some(gh)}var xP=N.toFlatObject(N,{},null,function(n){return/^is[A-Z]/.test(n)});function FP(a,n,r){if(!N.isObject(a))throw new TypeError("target must be an object");n=n||new(Iu||FormData),r=N.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,I){return!N.isUndefined(I[T])});let e=r.metaTokens,t=r.visitor||d,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&N.isSpecCompliantForm(n);if(!N.isFunction(t))throw new TypeError("visitor must be a function");function l(y){if(y===null)return"";if(N.isDate(y))return y.toISOString();if(N.isBoolean(y))return y.toString();if(!c&&N.isBlob(y))throw new de("Blob is not supported. Use a Buffer instead.");return N.isArrayBuffer(y)||N.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,T,I){let O=y;if(y&&!I&&typeof y=="object"){if(N.endsWith(T,"{}"))T=e?T:T.slice(0,-2),y=JSON.stringify(y);else if(N.isArray(y)&&BP(y)||(N.isFileList(y)||N.endsWith(T,"[]"))&&(O=N.toArray(y)))return T=_S(T),O.forEach(function(M,v){!(N.isUndefined(M)||M===null)&&n.append(o===!0?yS([T],v,i):o===null?T:T+"[]",l(M))}),!1}return gh(y)?!0:(n.append(yS(I,T,i),l(y)),!1)}let f=[],g=Object.assign(xP,{defaultVisitor:d,convertValue:l,isVisitable:gh});function _(y,T){if(!N.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+T.join("."));f.push(y),N.forEach(y,function(O,R){(!(N.isUndefined(O)||O===null)&&t.call(n,O,N.isString(R)?R.trim():R,T,g))===!0&&_(O,T?T.concat(R):[R])}),f.pop()}}if(!N.isObject(a))throw new TypeError("data must be an object");return _(a),n}var ra=FP;function TS(a){let n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(e){return n[e]})}function IS(a,n){this._pairs=[],a&&ra(a,this,n)}var OS=IS.prototype;OS.append=function(n,r){this._pairs.push([n,r])};OS.toString=function(n){let r=n?function(e){return n.call(this,e,TS)}:TS;return this._pairs.map(function(t){return r(t[0])+"="+r(t[1])},"").join("&")};var SS=IS;function jP(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Na(a,n,r){if(!n)return a;let e=r&&r.encode||jP;N.isFunction(r)&&(r={serialize:r});let t=r&&r.serialize,i;if(t?i=t(n,r):i=N.isURLSearchParams(n)?n.toString():new SS(n,r).toString(e),i){let o=a.indexOf("#");o!==-1&&(a=a.slice(0,o)),a+=(a.indexOf("?")===-1?"?":"&")+i}return a}var Eh=class{constructor(){this.handlers=[]}use(n,r,e){return this.handlers.push({fulfilled:n,rejected:r,synchronous:e?e.synchronous:!1,runWhen:e?e.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){N.forEach(this.handlers,function(e){e!==null&&n(e)})}},yh=Eh;var Uo={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};import HP from"node:crypto";import KP from"node:url";var AS=KP.URLSearchParams;var _h="abcdefghijklmnopqrstuvwxyz",mS="0123456789",bS={DIGIT:mS,ALPHA:_h,ALPHA_DIGIT:_h+_h.toUpperCase()+mS},GP=(a=16,n=bS.ALPHA_DIGIT)=>{let r="",{length:e}=n,t=new Uint32Array(a);HP.randomFillSync(t);for(let i=0;i<a;i++)r+=n[t[i]%e];return r},RS={isNode:!0,classes:{URLSearchParams:AS,FormData:Iu,Blob:typeof Blob<"u"&&Blob||null},ALPHABET:bS,generateString:GP,protocols:["http","https","file","data"]};var Oh={};tn(Oh,{hasBrowserEnv:()=>Ih,hasStandardBrowserEnv:()=>VP,hasStandardBrowserWebWorkerEnv:()=>WP,navigator:()=>Th,origin:()=>YP});var Ih=typeof window<"u"&&typeof document<"u",Th=typeof navigator=="object"&&navigator||void 0,VP=Ih&&(!Th||["ReactNative","NativeScript","NS"].indexOf(Th.product)<0),WP=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",YP=Ih&&window.location.href||"http://localhost";var It={...Oh,...RS};function Sh(a,n){return ra(a,new It.classes.URLSearchParams,{visitor:function(r,e,t,i){return It.isNode&&N.isBuffer(r)?(this.append(e,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...n})}function zP(a){return N.matchAll(/\w+|\[(\w*)]/g,a).map(n=>n[0]==="[]"?"":n[1]||n[0])}function qP(a){let n={},r=Object.keys(a),e,t=r.length,i;for(e=0;e<t;e++)i=r[e],n[i]=a[i];return n}function $P(a){function n(r,e,t,i){let o=r[i++];if(o==="__proto__")return!0;let s=Number.isFinite(+o),c=i>=r.length;return o=!o&&N.isArray(t)?t.length:o,c?(N.hasOwnProp(t,o)?t[o]=[t[o],e]:t[o]=e,!s):((!t[o]||!N.isObject(t[o]))&&(t[o]=[]),n(r,e,t[o],i)&&N.isArray(t[o])&&(t[o]=qP(t[o])),!s)}if(N.isFormData(a)&&N.isFunction(a.entries)){let r={};return N.forEachEntry(a,(e,t)=>{n(zP(e),t,r,0)}),r}return null}var Ou=$P;function XP(a,n,r){if(N.isString(a))try{return(n||JSON.parse)(a),N.trim(a)}catch(e){if(e.name!=="SyntaxError")throw e}return(r||JSON.stringify)(a)}var Ah={transitional:Uo,adapter:["xhr","http","fetch"],transformRequest:[function(n,r){let e=r.getContentType()||"",t=e.indexOf("application/json")>-1,i=N.isObject(n);if(i&&N.isHTMLForm(n)&&(n=new FormData(n)),N.isFormData(n))return t?JSON.stringify(Ou(n)):n;if(N.isArrayBuffer(n)||N.isBuffer(n)||N.isStream(n)||N.isFile(n)||N.isBlob(n)||N.isReadableStream(n))return n;if(N.isArrayBufferView(n))return n.buffer;if(N.isURLSearchParams(n))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let s;if(i){if(e.indexOf("application/x-www-form-urlencoded")>-1)return Sh(n,this.formSerializer).toString();if((s=N.isFileList(n))||e.indexOf("multipart/form-data")>-1){let c=this.env&&this.env.FormData;return ra(s?{"files[]":n}:n,c&&new c,this.formSerializer)}}return i||t?(r.setContentType("application/json",!1),XP(n)):n}],transformResponse:[function(n){let r=this.transitional||Ah.transitional,e=r&&r.forcedJSONParsing,t=this.responseType==="json";if(N.isResponse(n)||N.isReadableStream(n))return n;if(n&&N.isString(n)&&(e&&!this.responseType||t)){let o=!(r&&r.silentJSONParsing)&&t;try{return JSON.parse(n,this.parseReviver)}catch(s){if(o)throw s.name==="SyntaxError"?de.from(s,de.ERR_BAD_RESPONSE,this,null,this.response):s}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:It.classes.FormData,Blob:It.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};N.forEach(["delete","get","head","post","put","patch"],a=>{Ah.headers[a]={}});var Bo=Ah;var JP=N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),CS=a=>{let n={},r,e,t;return a&&a.split(`
`).forEach(function(o){t=o.indexOf(":"),r=o.substring(0,t).trim().toLowerCase(),e=o.substring(t+1).trim(),!(!r||n[r]&&JP[r])&&(r==="set-cookie"?n[r]?n[r].push(e):n[r]=[e]:n[r]=n[r]?n[r]+", "+e:e)}),n};var NS=Symbol("internals");function Tc(a){return a&&String(a).trim().toLowerCase()}function Su(a){return a===!1||a==null?a:N.isArray(a)?a.map(Su):String(a)}function QP(a){let n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,e;for(;e=r.exec(a);)n[e[1]]=e[2];return n}var ZP=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function mh(a,n,r,e,t){if(N.isFunction(e))return e.call(this,n,r);if(t&&(n=r),!!N.isString(n)){if(N.isString(e))return n.indexOf(e)!==-1;if(N.isRegExp(e))return e.test(n)}}function e3(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,r,e)=>r.toUpperCase()+e)}function t3(a,n){let r=N.toCamelCase(" "+n);["get","set","has"].forEach(e=>{Object.defineProperty(a,e+r,{value:function(t,i,o){return this[e].call(this,n,t,i,o)},configurable:!0})})}var xo=class{constructor(n){n&&this.set(n)}set(n,r,e){let t=this;function i(s,c,l){let d=Tc(c);if(!d)throw new Error("header name must be a non-empty string");let f=N.findKey(t,d);(!f||t[f]===void 0||l===!0||l===void 0&&t[f]!==!1)&&(t[f||c]=Su(s))}let o=(s,c)=>N.forEach(s,(l,d)=>i(l,d,c));if(N.isPlainObject(n)||n instanceof this.constructor)o(n,r);else if(N.isString(n)&&(n=n.trim())&&!ZP(n))o(CS(n),r);else if(N.isObject(n)&&N.isIterable(n)){let s={},c,l;for(let d of n){if(!N.isArray(d))throw TypeError("Object iterator must return a key-value pair");s[l=d[0]]=(c=s[l])?N.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(s,r)}else n!=null&&i(r,n,e);return this}get(n,r){if(n=Tc(n),n){let e=N.findKey(this,n);if(e){let t=this[e];if(!r)return t;if(r===!0)return QP(t);if(N.isFunction(r))return r.call(this,t,e);if(N.isRegExp(r))return r.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,r){if(n=Tc(n),n){let e=N.findKey(this,n);return!!(e&&this[e]!==void 0&&(!r||mh(this,this[e],e,r)))}return!1}delete(n,r){let e=this,t=!1;function i(o){if(o=Tc(o),o){let s=N.findKey(e,o);s&&(!r||mh(e,e[s],s,r))&&(delete e[s],t=!0)}}return N.isArray(n)?n.forEach(i):i(n),t}clear(n){let r=Object.keys(this),e=r.length,t=!1;for(;e--;){let i=r[e];(!n||mh(this,this[i],i,n,!0))&&(delete this[i],t=!0)}return t}normalize(n){let r=this,e={};return N.forEach(this,(t,i)=>{let o=N.findKey(e,i);if(o){r[o]=Su(t),delete r[i];return}let s=n?e3(i):String(i).trim();s!==i&&delete r[i],r[s]=Su(t),e[s]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){let r=Object.create(null);return N.forEach(this,(e,t)=>{e!=null&&e!==!1&&(r[t]=n&&N.isArray(e)?e.join(", "):e)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,r])=>n+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...r){let e=new this(n);return r.forEach(t=>e.set(t)),e}static accessor(n){let e=(this[NS]=this[NS]={accessors:{}}).accessors,t=this.prototype;function i(o){let s=Tc(o);e[s]||(t3(t,o),e[s]=!0)}return N.isArray(n)?n.forEach(i):i(n),this}};xo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);N.reduceDescriptors(xo.prototype,({value:a},n)=>{let r=n[0].toUpperCase()+n.slice(1);return{get:()=>a,set(e){this[r]=e}}});N.freezeMethods(xo);var Dt=xo;function Ic(a,n){let r=this||Bo,e=n||r,t=Dt.from(e.headers),i=e.data;return N.forEach(a,function(s){i=s.call(r,i,t.normalize(),n?n.status:void 0)}),t.normalize(),i}function Oc(a){return!!(a&&a.__CANCEL__)}function MS(a,n,r){de.call(this,a??"canceled",de.ERR_CANCELED,n,r),this.name="CanceledError"}N.inherits(MS,de,{__CANCEL__:!0});var zn=MS;function Vr(a,n,r){let e=r.config.validateStatus;!r.status||!e||e(r.status)?a(r):n(new de("Request failed with status code "+r.status,[de.ERR_BAD_REQUEST,de.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function bh(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function Rh(a,n){return n?a.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):a}function Ma(a,n,r){let e=!bh(n);return a&&(e||r==!1)?Rh(a,n):n}var eA=Me(LS()),tA=Me(HS());import G3 from"node:http";import V3 from"node:https";import W3 from"node:util";import ia from"node:zlib";var wa="1.12.2";function Rc(a){let n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return n&&n[1]||""}var P3=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function Fh(a,n,r){let e=r&&r.Blob||It.classes.Blob,t=Rc(a);if(n===void 0&&e&&(n=!0),t==="data"){a=t.length?a.slice(t.length+1):a;let i=P3.exec(a);if(!i)throw new de("Invalid URL",de.ERR_INVALID_URL);let o=i[1],s=i[2],c=i[3],l=Buffer.from(decodeURIComponent(c),s?"base64":"utf8");if(n){if(!e)throw new de("Blob is not supported",de.ERR_NOT_SUPPORT);return new e([l],{type:o})}return l}throw new de("Unsupported protocol "+t,de.ERR_NOT_SUPPORT)}import Wo from"node:stream";import L3 from"node:stream";var jh=Symbol("internals"),Kh=class extends L3.Transform{constructor(n){n=N.toFlatObject(n,{maxRate:0,chunkSize:64*1024,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(e,t)=>!N.isUndefined(t[e])),super({readableHighWaterMark:n.chunkSize});let r=this[jh]={timeWindow:n.timeWindow,chunkSize:n.chunkSize,maxRate:n.maxRate,minChunkSize:n.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null};this.on("newListener",e=>{e==="progress"&&(r.isCaptured||(r.isCaptured=!0))})}_read(n){let r=this[jh];return r.onReadCallback&&r.onReadCallback(),super._read(n)}_transform(n,r,e){let t=this[jh],i=t.maxRate,o=this.readableHighWaterMark,s=t.timeWindow,c=1e3/s,l=i/c,d=t.minChunkSize!==!1?Math.max(t.minChunkSize,l*.01):0,f=(_,y)=>{let T=Buffer.byteLength(_);t.bytesSeen+=T,t.bytes+=T,t.isCaptured&&this.emit("progress",t.bytesSeen),this.push(_)?process.nextTick(y):t.onReadCallback=()=>{t.onReadCallback=null,process.nextTick(y)}},g=(_,y)=>{let T=Buffer.byteLength(_),I=null,O=o,R,M=0;if(i){let v=Date.now();(!t.ts||(M=v-t.ts)>=s)&&(t.ts=v,R=l-t.bytes,t.bytes=R<0?-R:0,M=0),R=l-t.bytes}if(i){if(R<=0)return setTimeout(()=>{y(null,_)},s-M);R<O&&(O=R)}O&&T>O&&T-O>d&&(I=_.subarray(O),_=_.subarray(0,O)),f(_,I?()=>{process.nextTick(y,null,I)}:y)};g(n,function _(y,T){if(y)return e(y);T?g(T,_):e(null)})}},Hh=Kh;import{EventEmitter as Y3}from"node:events";import w3 from"node:util";import{Readable as k3}from"node:stream";var{asyncIterator:GS}=Symbol,D3=async function*(a){a.stream?yield*a.stream():a.arrayBuffer?yield await a.arrayBuffer():a[GS]?yield*a[GS]():yield a},bu=D3;var v3=It.ALPHABET.ALPHA_DIGIT+"-_",Cc=typeof TextEncoder=="function"?new TextEncoder:new w3.TextEncoder,ka=`\r
`,U3=Cc.encode(ka),B3=2,Gh=class{constructor(n,r){let{escapeName:e}=this.constructor,t=N.isString(r),i=`Content-Disposition: form-data; name="${e(n)}"${!t&&r.name?`; filename="${e(r.name)}"`:""}${ka}`;t?r=Cc.encode(String(r).replace(/\r?\n|\r\n?/g,ka)):i+=`Content-Type: ${r.type||"application/octet-stream"}${ka}`,this.headers=Cc.encode(i+ka),this.contentLength=t?r.byteLength:r.size,this.size=this.headers.byteLength+this.contentLength+B3,this.name=n,this.value=r}async*encode(){yield this.headers;let{value:n}=this;N.isTypedArray(n)?yield n:yield*bu(n),yield U3}static escapeName(n){return String(n).replace(/[\r\n"]/g,r=>({"\r":"%0D","\n":"%0A",'"':"%22"})[r])}},x3=(a,n,r)=>{let{tag:e="form-data-boundary",size:t=25,boundary:i=e+"-"+It.generateString(t,v3)}=r||{};if(!N.isFormData(a))throw TypeError("FormData instance required");if(i.length<1||i.length>70)throw Error("boundary must be 10-70 characters long");let o=Cc.encode("--"+i+ka),s=Cc.encode("--"+i+"--"+ka),c=s.byteLength,l=Array.from(a.entries()).map(([f,g])=>{let _=new Gh(f,g);return c+=_.size,_});c+=o.byteLength*l.length,c=N.toFiniteNumber(c);let d={"Content-Type":`multipart/form-data; boundary=${i}`};return Number.isFinite(c)&&(d["Content-Length"]=c),n&&n(d),k3.from(async function*(){for(let f of l)yield o,yield*f.encode();yield s}())},VS=x3;import F3 from"node:stream";var Vh=class extends F3.Transform{__transform(n,r,e){this.push(n),e()}_transform(n,r,e){if(n.length!==0&&(this._transform=this.__transform,n[0]!==120)){let t=Buffer.alloc(2);t[0]=120,t[1]=156,this.push(t,r)}this.__transform(n,r,e)}},WS=Vh;var j3=(a,n)=>N.isAsyncFn(a)?function(...r){let e=r.pop();a.apply(this,r).then(t=>{try{n?e(null,...n(t)):e(null,t)}catch(i){e(i)}},e)}:a,YS=j3;function K3(a,n){a=a||10;let r=new Array(a),e=new Array(a),t=0,i=0,o;return n=n!==void 0?n:1e3,function(c){let l=Date.now(),d=e[i];o||(o=l),r[t]=c,e[t]=l;let f=i,g=0;for(;f!==t;)g+=r[f++],f=f%a;if(t=(t+1)%a,t===i&&(i=(i+1)%a),l-o<n)return;let _=d&&l-d;return _?Math.round(g*1e3/_):void 0}}var zS=K3;function H3(a,n){let r=0,e=1e3/n,t,i,o=(l,d=Date.now())=>{r=d,t=null,i&&(clearTimeout(i),i=null),a(...l)};return[(...l)=>{let d=Date.now(),f=d-r;f>=e?o(l,d):(t=l,i||(i=setTimeout(()=>{i=null,o(t)},e-f)))},()=>t&&o(t)]}var qS=H3;var Si=(a,n,r=3)=>{let e=0,t=zS(50,250);return qS(i=>{let o=i.loaded,s=i.lengthComputable?i.total:void 0,c=o-e,l=t(c),d=o<=s;e=o;let f={loaded:o,total:s,progress:s?o/s:void 0,bytes:c,rate:l||void 0,estimated:l&&s&&d?(s-o)/l:void 0,event:i,lengthComputable:s!=null,[n?"download":"upload"]:!0};a(f)},r)},Go=(a,n)=>{let r=a!=null;return[e=>n[0]({lengthComputable:r,total:a,loaded:e}),n[1]]},Vo=a=>(...n)=>N.asap(()=>a(...n));function Wh(a){if(!a||typeof a!="string"||!a.startsWith("data:"))return 0;let n=a.indexOf(",");if(n<0)return 0;let r=a.slice(5,n),e=a.slice(n+1);if(/;base64/i.test(r)){let i=e.length,o=e.length;for(let g=0;g<o;g++)if(e.charCodeAt(g)===37&&g+2<o){let _=e.charCodeAt(g+1),y=e.charCodeAt(g+2);(_>=48&&_<=57||_>=65&&_<=70||_>=97&&_<=102)&&(y>=48&&y<=57||y>=65&&y<=70||y>=97&&y<=102)&&(i-=2,g+=2)}let s=0,c=o-1,l=g=>g>=2&&e.charCodeAt(g-2)===37&&e.charCodeAt(g-1)===51&&(e.charCodeAt(g)===68||e.charCodeAt(g)===100);c>=0&&(e.charCodeAt(c)===61?(s++,c--):l(c)&&(s++,c-=3)),s===1&&c>=0&&(e.charCodeAt(c)===61||l(c))&&s++;let f=Math.floor(i/4)*3-(s||0);return f>0?f:0}return Buffer.byteLength(e,"utf8")}var $S={flush:ia.constants.Z_SYNC_FLUSH,finishFlush:ia.constants.Z_SYNC_FLUSH},z3={flush:ia.constants.BROTLI_OPERATION_FLUSH,finishFlush:ia.constants.BROTLI_OPERATION_FLUSH},XS=N.isFunction(ia.createBrotliDecompress),{http:q3,https:$3}=tA.default,X3=/https:?/,JS=It.protocols.map(a=>a+":"),QS=(a,[n,r])=>(a.on("end",r).on("error",r),n);function J3(a,n){a.beforeRedirects.proxy&&a.beforeRedirects.proxy(a),a.beforeRedirects.config&&a.beforeRedirects.config(a,n)}function nA(a,n,r){let e=n;if(!e&&e!==!1){let t=eA.default.getProxyForUrl(r);t&&(e=new URL(t))}if(e){if(e.username&&(e.auth=(e.username||"")+":"+(e.password||"")),e.auth){(e.auth.username||e.auth.password)&&(e.auth=(e.auth.username||"")+":"+(e.auth.password||""));let i=Buffer.from(e.auth,"utf8").toString("base64");a.headers["Proxy-Authorization"]="Basic "+i}a.headers.host=a.hostname+(a.port?":"+a.port:"");let t=e.hostname||e.host;a.hostname=t,a.host=t,a.port=e.port,a.path=r,e.protocol&&(a.protocol=e.protocol.includes(":")?e.protocol:`${e.protocol}:`)}a.beforeRedirects.proxy=function(i){nA(i,n,i.href)}}var Q3=typeof process<"u"&&N.kindOf(process)==="process",Z3=a=>new Promise((n,r)=>{let e,t,i=(c,l)=>{t||(t=!0,e&&e(c,l))},o=c=>{i(c),n(c)},s=c=>{i(c,!0),r(c)};a(o,s,c=>e=c).catch(s)}),eL=({address:a,family:n})=>{if(!N.isString(a))throw TypeError("address must be a string");return{address:a,family:n||(a.indexOf(".")<0?6:4)}},ZS=(a,n)=>eL(N.isObject(a)?a:{address:a,family:n}),rA=Q3&&function(n){return Z3(async function(e,t,i){let{data:o,lookup:s,family:c}=n,{responseType:l,responseEncoding:d}=n,f=n.method.toUpperCase(),g,_=!1,y;if(s){let se=YS(s,pe=>N.isArray(pe)?pe:[pe]);s=(pe,We,je)=>{se(pe,We,(Pe,Be,Ye)=>{if(Pe)return je(Pe);let Ce=N.isArray(Be)?Be.map(W=>ZS(W)):[ZS(Be,Ye)];We.all?je(Pe,Ce):je(Pe,Ce[0].address,Ce[0].family)})}}let T=new Y3,I=()=>{n.cancelToken&&n.cancelToken.unsubscribe(O),n.signal&&n.signal.removeEventListener("abort",O),T.removeAllListeners()};i((se,pe)=>{g=!0,pe&&(_=!0,I())});function O(se){T.emit("abort",!se||se.type?new zn(null,n,y):se)}T.once("abort",t),(n.cancelToken||n.signal)&&(n.cancelToken&&n.cancelToken.subscribe(O),n.signal&&(n.signal.aborted?O():n.signal.addEventListener("abort",O)));let R=Ma(n.baseURL,n.url,n.allowAbsoluteUrls),M=new URL(R,It.hasBrowserEnv?It.origin:void 0),v=M.protocol||JS[0];if(v==="data:"){if(n.maxContentLength>-1){let pe=String(n.url||R||"");if(Wh(pe)>n.maxContentLength)return t(new de("maxContentLength size of "+n.maxContentLength+" exceeded",de.ERR_BAD_RESPONSE,n))}let se;if(f!=="GET")return Vr(e,t,{status:405,statusText:"method not allowed",headers:{},config:n});try{se=Fh(n.url,l==="blob",{Blob:n.env&&n.env.Blob})}catch(pe){throw de.from(pe,de.ERR_BAD_REQUEST,n)}return l==="text"?(se=se.toString(d),(!d||d==="utf8")&&(se=N.stripBOM(se))):l==="stream"&&(se=Wo.Readable.from(se)),Vr(e,t,{data:se,status:200,statusText:"OK",headers:new Dt,config:n})}if(JS.indexOf(v)===-1)return t(new de("Unsupported protocol "+v,de.ERR_BAD_REQUEST,n));let D=Dt.from(n.headers).normalize();D.set("User-Agent","axios/"+wa,!1);let{onUploadProgress:k,onDownloadProgress:b}=n,j=n.maxRate,H,L;if(N.isSpecCompliantForm(o)){let se=D.getContentType(/boundary=([-_\w\d]{10,70})/i);o=VS(o,pe=>{D.set(pe)},{tag:`axios-${wa}-boundary`,boundary:se&&se[1]||void 0})}else if(N.isFormData(o)&&N.isFunction(o.getHeaders)){if(D.set(o.getHeaders()),!D.hasContentLength())try{let se=await W3.promisify(o.getLength).call(o);Number.isFinite(se)&&se>=0&&D.setContentLength(se)}catch{}}else if(N.isBlob(o)||N.isFile(o))o.size&&D.setContentType(o.type||"application/octet-stream"),D.setContentLength(o.size||0),o=Wo.Readable.from(bu(o));else if(o&&!N.isStream(o)){if(!Buffer.isBuffer(o))if(N.isArrayBuffer(o))o=Buffer.from(new Uint8Array(o));else if(N.isString(o))o=Buffer.from(o,"utf-8");else return t(new de("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",de.ERR_BAD_REQUEST,n));if(D.setContentLength(o.length,!1),n.maxBodyLength>-1&&o.length>n.maxBodyLength)return t(new de("Request body larger than maxBodyLength limit",de.ERR_BAD_REQUEST,n))}let U=N.toFiniteNumber(D.getContentLength());N.isArray(j)?(H=j[0],L=j[1]):H=L=j,o&&(k||H)&&(N.isStream(o)||(o=Wo.Readable.from(o,{objectMode:!1})),o=Wo.pipeline([o,new Hh({maxRate:N.toFiniteNumber(H)})],N.noop),k&&o.on("progress",QS(o,Go(U,Si(Vo(k),!1,3)))));let X;if(n.auth){let se=n.auth.username||"",pe=n.auth.password||"";X=se+":"+pe}if(!X&&M.username){let se=M.username,pe=M.password;X=se+":"+pe}X&&D.delete("authorization");let w;try{w=Na(M.pathname+M.search,n.params,n.paramsSerializer).replace(/^\?/,"")}catch(se){let pe=new Error(se.message);return pe.config=n,pe.url=n.url,pe.exists=!0,t(pe)}D.set("Accept-Encoding","gzip, compress, deflate"+(XS?", br":""),!1);let K={path:w,method:f,headers:D.toJSON(),agents:{http:n.httpAgent,https:n.httpsAgent},auth:X,protocol:v,family:c,beforeRedirect:J3,beforeRedirects:{}};!N.isUndefined(s)&&(K.lookup=s),n.socketPath?K.socketPath=n.socketPath:(K.hostname=M.hostname.startsWith("[")?M.hostname.slice(1,-1):M.hostname,K.port=M.port,nA(K,n.proxy,v+"//"+M.hostname+(M.port?":"+M.port:"")+K.path));let ee,Ae=X3.test(K.protocol);if(K.agent=Ae?n.httpsAgent:n.httpAgent,n.transport?ee=n.transport:n.maxRedirects===0?ee=Ae?V3:G3:(n.maxRedirects&&(K.maxRedirects=n.maxRedirects),n.beforeRedirect&&(K.beforeRedirects.config=n.beforeRedirect),ee=Ae?$3:q3),n.maxBodyLength>-1?K.maxBodyLength=n.maxBodyLength:K.maxBodyLength=1/0,n.insecureHTTPParser&&(K.insecureHTTPParser=n.insecureHTTPParser),y=ee.request(K,function(pe){if(y.destroyed)return;let We=[pe],je=+pe.headers["content-length"];if(b||L){let W=new Hh({maxRate:N.toFiniteNumber(L)});b&&W.on("progress",QS(W,Go(je,Si(Vo(b),!0,3)))),We.push(W)}let Pe=pe,Be=pe.req||y;if(n.decompress!==!1&&pe.headers["content-encoding"])switch((f==="HEAD"||pe.statusCode===204)&&delete pe.headers["content-encoding"],(pe.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":We.push(ia.createUnzip($S)),delete pe.headers["content-encoding"];break;case"deflate":We.push(new WS),We.push(ia.createUnzip($S)),delete pe.headers["content-encoding"];break;case"br":XS&&(We.push(ia.createBrotliDecompress(z3)),delete pe.headers["content-encoding"])}Pe=We.length>1?Wo.pipeline(We,N.noop):We[0];let Ye=Wo.finished(Pe,()=>{Ye(),I()}),Ce={status:pe.statusCode,statusText:pe.statusMessage,headers:new Dt(pe.headers),config:n,request:Be};if(l==="stream")Ce.data=Pe,Vr(e,t,Ce);else{let W=[],Z=0;Pe.on("data",function(q){W.push(q),Z+=q.length,n.maxContentLength>-1&&Z>n.maxContentLength&&(_=!0,Pe.destroy(),t(new de("maxContentLength size of "+n.maxContentLength+" exceeded",de.ERR_BAD_RESPONSE,n,Be)))}),Pe.on("aborted",function(){if(_)return;let q=new de("stream has been aborted",de.ERR_BAD_RESPONSE,n,Be);Pe.destroy(q),t(q)}),Pe.on("error",function(q){y.destroyed||t(de.from(q,null,n,Be))}),Pe.on("end",function(){try{let q=W.length===1?W[0]:Buffer.concat(W);l!=="arraybuffer"&&(q=q.toString(d),(!d||d==="utf8")&&(q=N.stripBOM(q))),Ce.data=q}catch(q){return t(de.from(q,null,n,Ce.request,Ce))}Vr(e,t,Ce)})}T.once("abort",W=>{Pe.destroyed||(Pe.emit("error",W),Pe.destroy())})}),T.once("abort",se=>{t(se),y.destroy(se)}),y.on("error",function(pe){t(de.from(pe,null,n,y))}),y.on("socket",function(pe){pe.setKeepAlive(!0,1e3*60)}),n.timeout){let se=parseInt(n.timeout,10);if(Number.isNaN(se)){t(new de("error trying to parse `config.timeout` to int",de.ERR_BAD_OPTION_VALUE,n,y));return}y.setTimeout(se,function(){if(g)return;let We=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded",je=n.transitional||Uo;n.timeoutErrorMessage&&(We=n.timeoutErrorMessage),t(new de(We,je.clarifyTimeoutError?de.ETIMEDOUT:de.ECONNABORTED,n,y)),O()})}if(N.isStream(o)){let se=!1,pe=!1;o.on("end",()=>{se=!0}),o.once("error",We=>{pe=!0,y.destroy(We)}),o.on("close",()=>{!se&&!pe&&O(new zn("Request stream has been aborted",n,y))}),o.pipe(y)}else y.end(o)})};var iA=It.hasStandardBrowserEnv?((a,n)=>r=>(r=new URL(r,It.origin),a.protocol===r.protocol&&a.host===r.host&&(n||a.port===r.port)))(new URL(It.origin),It.navigator&&/(msie|trident)/i.test(It.navigator.userAgent)):()=>!0;var aA=It.hasStandardBrowserEnv?{write(a,n,r,e,t,i){let o=[a+"="+encodeURIComponent(n)];N.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),N.isString(e)&&o.push("path="+e),N.isString(t)&&o.push("domain="+t),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(a){let n=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(a){this.write(a,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};var oA=a=>a instanceof Dt?{...a}:a;function Lr(a,n){n=n||{};let r={};function e(l,d,f,g){return N.isPlainObject(l)&&N.isPlainObject(d)?N.merge.call({caseless:g},l,d):N.isPlainObject(d)?N.merge({},d):N.isArray(d)?d.slice():d}function t(l,d,f,g){if(N.isUndefined(d)){if(!N.isUndefined(l))return e(void 0,l,f,g)}else return e(l,d,f,g)}function i(l,d){if(!N.isUndefined(d))return e(void 0,d)}function o(l,d){if(N.isUndefined(d)){if(!N.isUndefined(l))return e(void 0,l)}else return e(void 0,d)}function s(l,d,f){if(f in n)return e(l,d);if(f in a)return e(void 0,l)}let c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(l,d,f)=>t(oA(l),oA(d),f,!0)};return N.forEach(Object.keys({...a,...n}),function(d){let f=c[d]||t,g=f(a[d],n[d],d);N.isUndefined(g)&&f!==s||(r[d]=g)}),r}var Ru=a=>{let n=Lr({},a),{data:r,withXSRFToken:e,xsrfHeaderName:t,xsrfCookieName:i,headers:o,auth:s}=n;if(n.headers=o=Dt.from(o),n.url=Na(Ma(n.baseURL,n.url,n.allowAbsoluteUrls),a.params,a.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),N.isFormData(r)){if(It.hasStandardBrowserEnv||It.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(N.isFunction(r.getHeaders)){let c=r.getHeaders(),l=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{l.includes(d.toLowerCase())&&o.set(d,f)})}}if(It.hasStandardBrowserEnv&&(e&&N.isFunction(e)&&(e=e(n)),e||e!==!1&&iA(n.url))){let c=t&&i&&aA.read(i);c&&o.set(t,c)}return n};var tL=typeof XMLHttpRequest<"u",sA=tL&&function(a){return new Promise(function(r,e){let t=Ru(a),i=t.data,o=Dt.from(t.headers).normalize(),{responseType:s,onUploadProgress:c,onDownloadProgress:l}=t,d,f,g,_,y;function T(){_&&_(),y&&y(),t.cancelToken&&t.cancelToken.unsubscribe(d),t.signal&&t.signal.removeEventListener("abort",d)}let I=new XMLHttpRequest;I.open(t.method.toUpperCase(),t.url,!0),I.timeout=t.timeout;function O(){if(!I)return;let M=Dt.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),D={data:!s||s==="text"||s==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:M,config:a,request:I};Vr(function(b){r(b),T()},function(b){e(b),T()},D),I=null}"onloadend"in I?I.onloadend=O:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(O)},I.onabort=function(){I&&(e(new de("Request aborted",de.ECONNABORTED,a,I)),I=null)},I.onerror=function(v){let D=v&&v.message?v.message:"Network Error",k=new de(D,de.ERR_NETWORK,a,I);k.event=v||null,e(k),I=null},I.ontimeout=function(){let v=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",D=t.transitional||Uo;t.timeoutErrorMessage&&(v=t.timeoutErrorMessage),e(new de(v,D.clarifyTimeoutError?de.ETIMEDOUT:de.ECONNABORTED,a,I)),I=null},i===void 0&&o.setContentType(null),"setRequestHeader"in I&&N.forEach(o.toJSON(),function(v,D){I.setRequestHeader(D,v)}),N.isUndefined(t.withCredentials)||(I.withCredentials=!!t.withCredentials),s&&s!=="json"&&(I.responseType=t.responseType),l&&([g,y]=Si(l,!0),I.addEventListener("progress",g)),c&&I.upload&&([f,_]=Si(c),I.upload.addEventListener("progress",f),I.upload.addEventListener("loadend",_)),(t.cancelToken||t.signal)&&(d=M=>{I&&(e(!M||M.type?new zn(null,a,I):M),I.abort(),I=null)},t.cancelToken&&t.cancelToken.subscribe(d),t.signal&&(t.signal.aborted?d():t.signal.addEventListener("abort",d)));let R=Rc(t.url);if(R&&It.protocols.indexOf(R)===-1){e(new de("Unsupported protocol "+R+":",de.ERR_BAD_REQUEST,a));return}I.send(i||null)})};var nL=(a,n)=>{let{length:r}=a=a?a.filter(Boolean):[];if(n||r){let e=new AbortController,t,i=function(l){if(!t){t=!0,s();let d=l instanceof Error?l:this.reason;e.abort(d instanceof de?d:new zn(d instanceof Error?d.message:d))}},o=n&&setTimeout(()=>{o=null,i(new de(`timeout ${n} of ms exceeded`,de.ETIMEDOUT))},n),s=()=>{a&&(o&&clearTimeout(o),o=null,a.forEach(l=>{l.unsubscribe?l.unsubscribe(i):l.removeEventListener("abort",i)}),a=null)};a.forEach(l=>l.addEventListener("abort",i));let{signal:c}=e;return c.unsubscribe=()=>N.asap(s),c}},cA=nL;var rL=function*(a,n){let r=a.byteLength;if(!n||r<n){yield a;return}let e=0,t;for(;e<r;)t=e+n,yield a.slice(e,t),e=t},iL=async function*(a,n){for await(let r of aL(a))yield*rL(r,n)},aL=async function*(a){if(a[Symbol.asyncIterator]){yield*a;return}let n=a.getReader();try{for(;;){let{done:r,value:e}=await n.read();if(r)break;yield e}}finally{await n.cancel()}},Yh=(a,n,r,e)=>{let t=iL(a,n),i=0,o,s=c=>{o||(o=!0,e&&e(c))};return new ReadableStream({async pull(c){try{let{done:l,value:d}=await t.next();if(l){s(),c.close();return}let f=d.byteLength;if(r){let g=i+=f;r(g)}c.enqueue(new Uint8Array(d))}catch(l){throw s(l),l}},cancel(c){return s(c),t.return()}},{highWaterMark:2})};var lA=64*1024,{isFunction:Cu}=N,oL=(({Request:a,Response:n})=>({Request:a,Response:n}))(N.global),{ReadableStream:uA,TextEncoder:dA}=N.global,pA=(a,...n)=>{try{return!!a(...n)}catch{return!1}},sL=a=>{a=N.merge.call({skipUndefined:!0},oL,a);let{fetch:n,Request:r,Response:e}=a,t=n?Cu(n):typeof fetch=="function",i=Cu(r),o=Cu(e);if(!t)return!1;let s=t&&Cu(uA),c=t&&(typeof dA=="function"?(y=>T=>y.encode(T))(new dA):async y=>new Uint8Array(await new r(y).arrayBuffer())),l=i&&s&&pA(()=>{let y=!1,T=new r(It.origin,{body:new uA,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!T}),d=o&&s&&pA(()=>N.isReadableStream(new e("").body)),f={stream:d&&(y=>y.body)};t&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!f[y]&&(f[y]=(T,I)=>{let O=T&&T[y];if(O)return O.call(T);throw new de(`Response type '${y}' is not supported`,de.ERR_NOT_SUPPORT,I)})});let g=async y=>{if(y==null)return 0;if(N.isBlob(y))return y.size;if(N.isSpecCompliantForm(y))return(await new r(It.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(N.isArrayBufferView(y)||N.isArrayBuffer(y))return y.byteLength;if(N.isURLSearchParams(y)&&(y=y+""),N.isString(y))return(await c(y)).byteLength},_=async(y,T)=>{let I=N.toFiniteNumber(y.getContentLength());return I??g(T)};return async y=>{let{url:T,method:I,data:O,signal:R,cancelToken:M,timeout:v,onDownloadProgress:D,onUploadProgress:k,responseType:b,headers:j,withCredentials:H="same-origin",fetchOptions:L}=Ru(y),U=n||fetch;b=b?(b+"").toLowerCase():"text";let X=cA([R,M&&M.toAbortSignal()],v),w=null,K=X&&X.unsubscribe&&(()=>{X.unsubscribe()}),ee;try{if(k&&l&&I!=="get"&&I!=="head"&&(ee=await _(j,O))!==0){let Pe=new r(T,{method:"POST",body:O,duplex:"half"}),Be;if(N.isFormData(O)&&(Be=Pe.headers.get("content-type"))&&j.setContentType(Be),Pe.body){let[Ye,Ce]=Go(ee,Si(Vo(k)));O=Yh(Pe.body,lA,Ye,Ce)}}N.isString(H)||(H=H?"include":"omit");let Ae=i&&"credentials"in r.prototype,se={...L,signal:X,method:I.toUpperCase(),headers:j.normalize().toJSON(),body:O,duplex:"half",credentials:Ae?H:void 0};w=i&&new r(T,se);let pe=await(i?U(w,L):U(T,se)),We=d&&(b==="stream"||b==="response");if(d&&(D||We&&K)){let Pe={};["status","statusText","headers"].forEach(W=>{Pe[W]=pe[W]});let Be=N.toFiniteNumber(pe.headers.get("content-length")),[Ye,Ce]=D&&Go(Be,Si(Vo(D),!0))||[];pe=new e(Yh(pe.body,lA,Ye,()=>{Ce&&Ce(),K&&K()}),Pe)}b=b||"text";let je=await f[N.findKey(f,b)||"text"](pe,y);return!We&&K&&K(),await new Promise((Pe,Be)=>{Vr(Pe,Be,{data:je,headers:Dt.from(pe.headers),status:pe.status,statusText:pe.statusText,config:y,request:w})})}catch(Ae){throw K&&K(),Ae&&Ae.name==="TypeError"&&/Load failed|fetch/i.test(Ae.message)?Object.assign(new de("Network Error",de.ERR_NETWORK,y,w),{cause:Ae.cause||Ae}):de.from(Ae,Ae&&Ae.code,y,w)}}},cL=new Map,zh=a=>{let n=a?a.env:{},{fetch:r,Request:e,Response:t}=n,i=[e,t,r],o=i.length,s=o,c,l,d=cL;for(;s--;)c=i[s],l=d.get(c),l===void 0&&d.set(c,l=s?new Map:sL(n)),d=l;return l},a8=zh();var qh={http:rA,xhr:sA,fetch:{get:zh}};N.forEach(qh,(a,n)=>{if(a){try{Object.defineProperty(a,"name",{value:n})}catch{}Object.defineProperty(a,"adapterName",{value:n})}});var fA=a=>`- ${a}`,uL=a=>N.isFunction(a)||a===null||a===!1,Nu={getAdapter:(a,n)=>{a=N.isArray(a)?a:[a];let{length:r}=a,e,t,i={};for(let o=0;o<r;o++){e=a[o];let s;if(t=e,!uL(e)&&(t=qh[(s=String(e)).toLowerCase()],t===void 0))throw new de(`Unknown adapter '${s}'`);if(t&&(N.isFunction(t)||(t=t.get(n))))break;i[s||"#"+o]=t}if(!t){let o=Object.entries(i).map(([c,l])=>`adapter ${c} `+(l===!1?"is not supported by the environment":"is not available in the build")),s=r?o.length>1?`since :
`+o.map(fA).join(`
`):" "+fA(o[0]):"as no adapter specified";throw new de("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return t},adapters:qh};function $h(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new zn(null,a)}function Mu(a){return $h(a),a.headers=Dt.from(a.headers),a.data=Ic.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),Nu.getAdapter(a.adapter||Bo.adapter,a)(a).then(function(e){return $h(a),e.data=Ic.call(a,a.transformResponse,e),e.headers=Dt.from(e.headers),e},function(e){return Oc(e)||($h(a),e&&e.response&&(e.response.data=Ic.call(a,a.transformResponse,e.response),e.response.headers=Dt.from(e.response.headers))),Promise.reject(e)})}var Pu={};["object","boolean","number","function","string","symbol"].forEach((a,n)=>{Pu[a]=function(e){return typeof e===a||"a"+(n<1?"n ":" ")+a}});var hA={};Pu.transitional=function(n,r,e){function t(i,o){return"[Axios v"+wa+"] Transitional option '"+i+"'"+o+(e?". "+e:"")}return(i,o,s)=>{if(n===!1)throw new de(t(o," has been removed"+(r?" in "+r:"")),de.ERR_DEPRECATED);return r&&!hA[o]&&(hA[o]=!0,console.warn(t(o," has been deprecated since v"+r+" and will be removed in the near future"))),n?n(i,o,s):!0}};Pu.spelling=function(n){return(r,e)=>(console.warn(`${e} is likely a misspelling of ${n}`),!0)};function dL(a,n,r){if(typeof a!="object")throw new de("options must be an object",de.ERR_BAD_OPTION_VALUE);let e=Object.keys(a),t=e.length;for(;t-- >0;){let i=e[t],o=n[i];if(o){let s=a[i],c=s===void 0||o(s,i,a);if(c!==!0)throw new de("option "+i+" must be "+c,de.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new de("Unknown option "+i,de.ERR_BAD_OPTION)}}var Nc={assertOptions:dL,validators:Pu};var Wr=Nc.validators,Yo=class{constructor(n){this.defaults=n||{},this.interceptors={request:new yh,response:new yh}}async request(n,r){try{return await this._request(n,r)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;let i=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?i&&!String(e.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(e.stack+=`
`+i):e.stack=i}catch{}}throw e}}_request(n,r){typeof n=="string"?(r=r||{},r.url=n):r=n||{},r=Lr(this.defaults,r);let{transitional:e,paramsSerializer:t,headers:i}=r;e!==void 0&&Nc.assertOptions(e,{silentJSONParsing:Wr.transitional(Wr.boolean),forcedJSONParsing:Wr.transitional(Wr.boolean),clarifyTimeoutError:Wr.transitional(Wr.boolean)},!1),t!=null&&(N.isFunction(t)?r.paramsSerializer={serialize:t}:Nc.assertOptions(t,{encode:Wr.function,serialize:Wr.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Nc.assertOptions(r,{baseUrl:Wr.spelling("baseURL"),withXsrfToken:Wr.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&N.merge(i.common,i[r.method]);i&&N.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),r.headers=Dt.concat(o,i);let s=[],c=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(r)===!1||(c=c&&T.synchronous,s.unshift(T.fulfilled,T.rejected))});let l=[];this.interceptors.response.forEach(function(T){l.push(T.fulfilled,T.rejected)});let d,f=0,g;if(!c){let y=[Mu.bind(this),void 0];for(y.unshift(...s),y.push(...l),g=y.length,d=Promise.resolve(r);f<g;)d=d.then(y[f++],y[f++]);return d}g=s.length;let _=r;for(;f<g;){let y=s[f++],T=s[f++];try{_=y(_)}catch(I){T.call(this,I);break}}try{d=Mu.call(this,_)}catch(y){return Promise.reject(y)}for(f=0,g=l.length;f<g;)d=d.then(l[f++],l[f++]);return d}getUri(n){n=Lr(this.defaults,n);let r=Ma(n.baseURL,n.url,n.allowAbsoluteUrls);return Na(r,n.params,n.paramsSerializer)}};N.forEach(["delete","get","head","options"],function(n){Yo.prototype[n]=function(r,e){return this.request(Lr(e||{},{method:n,url:r,data:(e||{}).data}))}});N.forEach(["post","put","patch"],function(n){function r(e){return function(i,o,s){return this.request(Lr(s||{},{method:n,headers:e?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Yo.prototype[n]=r(),Yo.prototype[n+"Form"]=r(!0)});var Mc=Yo;var Xh=class a{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});let e=this;this.promise.then(t=>{if(!e._listeners)return;let i=e._listeners.length;for(;i-- >0;)e._listeners[i](t);e._listeners=null}),this.promise.then=t=>{let i,o=new Promise(s=>{e.subscribe(s),i=s}).then(t);return o.cancel=function(){e.unsubscribe(i)},o},n(function(i,o,s){e.reason||(e.reason=new zn(i,o,s),r(e.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;let r=this._listeners.indexOf(n);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){let n=new AbortController,r=e=>{n.abort(e)};return this.subscribe(r),n.signal.unsubscribe=()=>this.unsubscribe(r),n.signal}static source(){let n;return{token:new a(function(t){n=t}),cancel:n}}},gA=Xh;function Jh(a){return function(r){return a.apply(null,r)}}function Qh(a){return N.isObject(a)&&a.isAxiosError===!0}var Zh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zh).forEach(([a,n])=>{Zh[n]=a});var EA=Zh;function yA(a){let n=new Mc(a),r=gc(Mc.prototype.request,n);return N.extend(r,Mc.prototype,n,{allOwnKeys:!0}),N.extend(r,n,null,{allOwnKeys:!0}),r.create=function(t){return yA(Lr(a,t))},r}var Wt=yA(Bo);Wt.Axios=Mc;Wt.CanceledError=zn;Wt.CancelToken=gA;Wt.isCancel=Oc;Wt.VERSION=wa;Wt.toFormData=ra;Wt.AxiosError=de;Wt.Cancel=Wt.CanceledError;Wt.all=function(n){return Promise.all(n)};Wt.spread=Jh;Wt.isAxiosError=Qh;Wt.mergeConfig=Lr;Wt.AxiosHeaders=Dt;Wt.formToJSON=a=>Ou(N.isHTMLForm(a)?new FormData(a):a);Wt.getAdapter=Nu.getAdapter;Wt.HttpStatusCode=EA;Wt.default=Wt;var pr=Wt;var{Axios:tH,AxiosError:nH,CanceledError:rH,isCancel:iH,CancelToken:aH,VERSION:oH,all:sH,Cancel:cH,isAxiosError:lH,spread:uH,toFormData:dH,AxiosHeaders:pH,HttpStatusCode:fH,formToJSON:hH,getAdapter:gH,mergeConfig:EH}=pr;import{createHash as ML,randomBytes as Dc}from"node:crypto";var eg=["critical_block","critical_unblock_low","regular_high","regular_low","regular"];var TH=Me(fn()),hn;(function(a){a[a.Connecting=0]="Connecting",a[a.AwaitingInitialSync=1]="AwaitingInitialSync",a[a.Syncing=2]="Syncing",a[a.Online=3]="Online"})(hn||(hn={}));var He=x.WebMessageInfo.StubType,va=x.WebMessageInfo.Status,Ai;(function(a){a.PN="pn",a.LID="lid"})(Ai||(Ai={}));var In;(function(a){a.xwa2_newsletter_create="xwa2_newsletter_create",a.xwa2_newsletter_subscribers="xwa2_newsletter_subscribers",a.xwa2_newsletter_view="xwa2_newsletter_view",a.xwa2_newsletter_metadata="xwa2_newsletter",a.xwa2_newsletter_admin_count="xwa2_newsletter_admin",a.xwa2_newsletter_mute_v2="xwa2_newsletter_mute_v2",a.xwa2_newsletter_unmute_v2="xwa2_newsletter_unmute_v2",a.xwa2_newsletter_follow="xwa2_newsletter_follow",a.xwa2_newsletter_unfollow="xwa2_newsletter_unfollow",a.xwa2_newsletter_change_owner="xwa2_newsletter_change_owner",a.xwa2_newsletter_demote="xwa2_newsletter_demote",a.xwa2_newsletter_delete_v2="xwa2_newsletter_delete_v2"})(In||(In={}));var gn;(function(a){a.CREATE="8823471724422422",a.UPDATE_METADATA="24250201037901610",a.METADATA="6563316087068696",a.SUBSCRIBERS="9783111038412085",a.FOLLOW="7871414976211147",a.UNFOLLOW="7238632346214362",a.MUTE="29766401636284406",a.UNMUTE="9864994326891137",a.ADMIN_COUNT="7130823597031706",a.CHANGE_OWNER="7341777602580933",a.DEMOTE="6551828931592903",a.DELETE="30062808666639665"})(gn||(gn={}));var xt;(function(a){a[a.connectionClosed=428]="connectionClosed",a[a.connectionLost=408]="connectionLost",a[a.connectionReplaced=440]="connectionReplaced",a[a.timedOut=408]="timedOut",a[a.loggedOut=401]="loggedOut",a[a.badSession=500]="badSession",a[a.restartRequired=515]="restartRequired",a[a.multideviceMismatch=411]="multideviceMismatch",a[a.forbidden=403]="forbidden",a[a.unavailableService=503]="unavailableService"})(xt||(xt={}));var Pc={};tn(Pc,{DOUBLE_BYTE_TOKENS:()=>_A,SINGLE_BYTE_TOKENS:()=>TA,TAGS:()=>pL,TOKEN_MAP:()=>tg});var pL={LIST_EMPTY:0,DICTIONARY_0:236,DICTIONARY_1:237,DICTIONARY_2:238,DICTIONARY_3:239,INTEROP_JID:245,FB_JID:246,AD_JID:247,LIST_8:248,LIST_16:249,JID_PAIR:250,HEX_8:251,BINARY_8:252,BINARY_20:253,BINARY_32:254,NIBBLE_8:255,PACKED_MAX:127},_A=[["read-self","active","fbns","protocol","reaction","screen_width","heartbeat","deviceid","2:47DEQpj8","uploadfieldstat","voip_settings","retry","priority","longitude","conflict","false","ig_professional","replaced","preaccept","cover_photo","uncompressed","encopt","ppic","04","passive","status-revoke-drop","keygen","540","offer","rate","opus","latitude","w:gp2","ver","4","business_profile","medium","sender","prev_v_id","email","website","invited","sign_credential","05","transport","skey","reason","peer_abtest_bucket","America/Sao_Paulo","appid","refresh","100","06","404","101","104","107","102","109","103","member_add_mode","105","transaction-id","110","106","outgoing","108","111","tokens","followers","ig_handle","self_pid","tue","dec","thu","joinable","peer_pid","mon","features","wed","peer_device_presence","pn","delete","07","fri","audio_duration","admin","connected","delta","rcat","disable","collection","08","480","sat","phash","all","invite","accept","critical_unblock_low","group_update","signed_credential","blinded_credential","eph_setting","net","09","background_location","refresh_id","Asia/Kolkata","privacy_mode_ts","account_sync","voip_payload_type","service_areas","acs_public_key","v_id","0a","fallback_class","relay","actual_actors","metadata","w:biz","5","connected-limit","notice","0b","host_storage","fb_page","subject","privatestats","invis","groupadd","010","note.m4r","uuid","0c","8000","sun","372","1020","stage","1200","720","canonical","fb","011","video_duration","0d","1140","superadmin","012","Opening.m4r","keystore_attestation","dleq_proof","013","timestamp","ab_key","w:sync:app:state","0e","vertical","600","p_v_id","6","likes","014","500","1260","creator","0f","rte","destination","group","group_info","syncd_anti_tampering_fatal_exception_enabled","015","dl_bw","Asia/Jakarta","vp8/h.264","online","1320","fb:multiway","10","timeout","016","nse_retry","urn:xmpp:whatsapp:dirty","017","a_v_id","web_shops_chat_header_button_enabled","nse_call","inactive-upgrade","none","web","groups","2250","mms_hot_content_timespan_in_seconds","contact_blacklist","nse_read","suspended_group_deletion_notification","binary_version","018","https://www.whatsapp.com/otp/copy/","reg_push","shops_hide_catalog_attachment_entrypoint","server_sync",".","ephemeral_messages_allowed_values","019","mms_vcache_aggregation_enabled","iphone","America/Argentina/Buenos_Aires","01a","mms_vcard_autodownload_size_kb","nse_ver","shops_header_dropdown_menu_item","dhash","catalog_status","communities_mvp_new_iqs_serverprop","blocklist","default","11","ephemeral_messages_enabled","01b","original_dimensions","8","mms4_media_retry_notification_encryption_enabled","mms4_server_error_receipt_encryption_enabled","original_image_url","sync","multiway","420","companion_enc_static","shops_profile_drawer_entrypoint","01c","vcard_as_document_size_kb","status_video_max_duration","request_image_url","01d","regular_high","s_t","abt","share_ext_min_preliminary_image_quality","01e","32","syncd_key_rotation_enabled","data_namespace","md_downgrade_read_receipts2","patch","polltype","ephemeral_messages_setting","userrate","15","partial_pjpeg_bw_threshold","played-self","catalog_exists","01f","mute_v2"],["reject","dirty","announcement","020","13","9","status_video_max_bitrate","fb:thrift_iq","offline_batch","022","full","ctwa_first_business_reply_logging","h.264","smax_id","group_description_length","https://www.whatsapp.com/otp/code","status_image_max_edge","smb_upsell_business_profile_enabled","021","web_upgrade_to_md_modal","14","023","s_o","smaller_video_thumbs_status_enabled","media_max_autodownload","960","blocking_status","peer_msg","joinable_group_call_client_version","group_call_video_maximization_enabled","return_snapshot","high","America/Mexico_City","entry_point_block_logging_enabled","pop","024","1050","16","1380","one_tap_calling_in_group_chat_size","regular_low","inline_joinable_education_enabled","hq_image_max_edge","locked","America/Bogota","smb_biztools_deeplink_enabled","status_image_quality","1088","025","payments_upi_intent_transaction_limit","voip","w:g2","027","md_pin_chat_enabled","026","multi_scan_pjpeg_download_enabled","shops_product_grid","transaction_id","ctwa_context_enabled","20","fna","hq_image_quality","alt_jpeg_doc_detection_quality","group_call_max_participants","pkey","America/Belem","image_max_kbytes","web_cart_v1_1_order_message_changes_enabled","ctwa_context_enterprise_enabled","urn:xmpp:whatsapp:account","840","Asia/Kuala_Lumpur","max_participants","video_remux_after_repair_enabled","stella_addressbook_restriction_type","660","900","780","context_menu_ios13_enabled","mute-state","ref","payments_request_messages","029","frskmsg","vcard_max_size_kb","sample_buffer_gif_player_enabled","match_last_seen","510","4983","video_max_bitrate","028","w:comms:chat","17","frequently_forwarded_max","groups_privacy_blacklist","Asia/Karachi","02a","web_download_document_thumb_mms_enabled","02b","hist_sync","biz_block_reasons_version","1024","18","web_is_direct_connection_for_plm_transparent","view_once_write","file_max_size","paid_convo_id","online_privacy_setting","video_max_edge","view_once_read","enhanced_storage_management","multi_scan_pjpeg_encoding_enabled","ctwa_context_forward_enabled","video_transcode_downgrade_enable","template_doc_mime_types","hq_image_bw_threshold","30","body","u_aud_limit_sil_restarts_ctrl","other","participating","w:biz:directory","1110","vp8","4018","meta","doc_detection_image_max_edge","image_quality","1170","02c","smb_upsell_chat_banner_enabled","key_expiry_time_second","pid","stella_interop_enabled","19","linked_device_max_count","md_device_sync_enabled","02d","02e","360","enhanced_block_enabled","ephemeral_icon_in_forwarding","paid_convo_status","gif_provider","project_name","server-error","canonical_url_validation_enabled","wallpapers_v2","syncd_clear_chat_delete_chat_enabled","medianotify","02f","shops_required_tos_version","vote","reset_skey_on_id_change","030","image_max_edge","multicast_limit_global","ul_bw","21","25","5000","poll","570","22","031","1280","WhatsApp","032","bloks_shops_enabled","50","upload_host_switching_enabled","web_ctwa_context_compose_enabled","ptt_forwarded_features_enabled","unblocked","partial_pjpeg_enabled","fbid:devices","height","ephemeral_group_query_ts","group_join_permissions","order","033","alt_jpeg_status_quality","migrate","popular-bank","win_uwp_deprecation_killswitch_enabled","web_download_status_thumb_mms_enabled","blocking","url_text","035","web_forwarding_limit_to_groups","1600","val","1000","syncd_msg_date_enabled","bank-ref-id","max_subject","payments_web_enabled","web_upload_document_thumb_mms_enabled","size","request","ephemeral","24","receipt_agg","ptt_remember_play_position","sampling_weight","enc_rekey","mute_always","037","034","23","036","action","click_to_chat_qr_enabled","width","disabled","038","md_blocklist_v2","played_self_enabled","web_buttons_message_enabled","flow_id","clear","450","fbid:thread","bloks_session_state","America/Lima","attachment_picker_refresh","download_host_switching_enabled","1792","u_aud_limit_sil_restarts_test2","custom_urls","device_fanout","optimistic_upload","2000","key_cipher_suite","web_smb_upsell_in_biz_profile_enabled","e","039","siri_post_status_shortcut","pair-device","lg","lc","stream_attribution_url","model","mspjpeg_phash_gen","catalog_send_all","new_multi_vcards_ui","share_biz_vcard_enabled","-","clean","200","md_blocklist_v2_server","03b","03a","web_md_migration_experience","ptt_conversation_waveform","u_aud_limit_sil_restarts_test1"],["64","ptt_playback_speed_enabled","web_product_list_message_enabled","paid_convo_ts","27","manufacturer","psp-routing","grp_uii_cleanup","ptt_draft_enabled","03c","business_initiated","web_catalog_products_onoff","web_upload_link_thumb_mms_enabled","03e","mediaretry","35","hfm_string_changes","28","America/Fortaleza","max_keys","md_mhfs_days","streaming_upload_chunk_size","5541","040","03d","2675","03f","...","512","mute","48","041","alt_jpeg_quality","60","042","md_smb_quick_reply","5183","c","1343","40","1230","043","044","mms_cat_v1_forward_hot_override_enabled","user_notice","ptt_waveform_send","047","Asia/Calcutta","250","md_privacy_v2","31","29","128","md_messaging_enabled","046","crypto","690","045","enc_iv","75","failure","ptt_oot_playback","AIzaSyDR5yfaG7OG8sMTUj8kfQEb8T9pN8BM6Lk","w","048","2201","web_large_files_ui","Asia/Makassar","812","status_collapse_muted","1334","257","2HP4dm","049","patches","1290","43cY6T","America/Caracas","web_sticker_maker","campaign","ptt_pausable_enabled","33","42","attestation","biz","04b","query_linked","s","125","04a","810","availability","1411","responsiveness_v2_m1","catalog_not_created","34","America/Santiago","1465","enc_p","04d","status_info","04f","key_version","..","04c","04e","md_group_notification","1598","1215","web_cart_enabled","37","630","1920","2394","-1","vcard","38","elapsed","36","828","peer","pricing_category","1245","invalid","stella_ios_enabled","2687","45","1528","39","u_is_redial_audio_1104_ctrl","1025","1455","58","2524","2603","054","bsp_system_message_enabled","web_pip_redesign","051","verify_apps","1974","1272","1322","1755","052","70","050","1063","1135","1361","80","1096","1828","1851","1251","1921","key_config_id","1254","1566","1252","2525","critical_block","1669","max_available","w:auth:backup:token","product","2530","870","1022","participant_uuid","web_cart_on_off","1255","1432","1867","41","1415","1440","240","1204","1608","1690","1846","1483","1687","1749","69","url_number","053","1325","1040","365","59","Asia/Riyadh","1177","test_recommended","057","1612","43","1061","1518","1635","055","1034","1375","750","1430","event_code","1682","503","55","865","78","1309","1365","44","America/Guayaquil","535","LIMITED","1377","1613","1420","1599","1822","05a","1681","password","1111","1214","1376","1478","47","1082","4282","Europe/Istanbul","1307","46","058","1124","256","rate-overlimit","retail","u_a_socket_err_fix_succ_test","1292","1370","1388","520","861","psa","regular","1181","1766","05b","1183","1213","1304","1537"],["1724","profile_picture","1071","1314","1605","407","990","1710","746","pricing_model","056","059","061","1119","6027","65","877","1607","05d","917","seen","1516","49","470","973","1037","1350","1394","1480","1796","keys","794","1536","1594","2378","1333","1524","1825","116","309","52","808","827","909","495","1660","361","957","google","1357","1565","1967","996","1775","586","736","1052","1670","bank","177","1416","2194","2222","1454","1839","1275","53","997","1629","6028","smba","1378","1410","05c","1849","727","create","1559","536","1106","1310","1944","670","1297","1316","1762","en","1148","1295","1551","1853","1890","1208","1784","7200","05f","178","1283","1332","381","643","1056","1238","2024","2387","179","981","1547","1705","05e","290","903","1069","1285","2436","062","251","560","582","719","56","1700","2321","325","448","613","777","791","51","488","902","Asia/Almaty","is_hidden","1398","1527","1893","1999","2367","2642","237","busy","065","067","233","590","993","1511","54","723","860","363","487","522","605","995","1321","1691","1865","2447","2462","NON_TRANSACTIONAL","433","871","432","1004","1207","2032","2050","2379","2446","279","636","703","904","248","370","691","700","1068","1655","2334","060","063","364","533","534","567","1191","1210","1473","1827","069","701","2531","514","prev_dhash","064","496","790","1046","1139","1505","1521","1108","207","544","637","final","1173","1293","1694","1939","1951","1993","2353","2515","504","601","857","modify","spam_request","p_121_aa_1101_test4","866","1427","1502","1638","1744","2153","068","382","725","1704","1864","1990","2003","Asia/Dubai","508","531","1387","1474","1632","2307","2386","819","2014","066","387","1468","1706","2186","2261","471","728","1147","1372","1961"]],TA=["","xmlstreamstart","xmlstreamend","s.whatsapp.net","type","participant","from","receipt","id","notification","disappearing_mode","status","jid","broadcast","user","devices","device_hash","to","offline","message","result","class","xmlns","duration","notify","iq","t","ack","g.us","enc","urn:xmpp:whatsapp:push","presence","config_value","picture","verified_name","config_code","key-index-list","contact","mediatype","routing_info","edge_routing","get","read","urn:xmpp:ping","fallback_hostname","0","chatstate","business_hours_config","unavailable","download_buckets","skmsg","verified_level","composing","handshake","device-list","media","text","fallback_ip4","media_conn","device","creation","location","config","item","fallback_ip6","count","w:profile:picture","image","business","2","hostname","call-creator","display_name","relaylatency","platform","abprops","success","msg","offline_preview","prop","key-index","v","day_of_week","pkmsg","version","1","ping","w:p","download","video","set","specific_hours","props","primary","unknown","hash","commerce_experience","last","subscribe","max_buckets","call","profile","member_since_text","close_time","call-id","sticker","mode","participants","value","query","profile_options","open_time","code","list","host","ts","contacts","upload","lid","preview","update","usync","w:stats","delivery","auth_ttl","context","fail","cart_enabled","appdata","category","atn","direct_connection","decrypt-fail","relay_id","mmg-fallback.whatsapp.net","target","available","name","last_id","mmg.whatsapp.net","categories","401","is_new","index","tctoken","ip4","token_id","latency","recipient","edit","ip6","add","thumbnail-document","26","paused","true","identity","stream:error","key","sidelist","background","audio","3","thumbnail-image","biz-cover-photo","cat","gcm","thumbnail-video","error","auth","deny","serial","in","registration","thumbnail-link","remove","00","gif","thumbnail-gif","tag","capability","multicast","item-not-found","description","business_hours","config_expo_key","md-app-state","expiration","fallback","ttl","300","md-msg-hist","device_orientation","out","w:m","open_24h","side_list","token","inactive","01","document","te2","played","encrypt","msgr","hide","direct_path","12","state","not-authorized","url","terminate","signature","status-revoke-delay","02","te","linked_accounts","trusted_contact","timezone","ptt","kyc-id","privacy_token","readreceipts","appointment_only","address","expected_ts","privacy","7","android","interactive","device-identity","enabled","attribute_padding","1080","03","screen_height"],tg={};for(let[a,n]of TA.entries())tg[n]={index:a};for(let[a,n]of _A.entries())for(let[r,e]of n.entries())tg[e]={dict:a,index:r};var ze="@s.whatsapp.net",fL="16505361212@c.us",hL="server@c.us",gL="0@c.us",EL="status@broadcast",yL="13135550002@c.us",Yt=(a,n,r,e)=>`${a||""}${e?`_${e}`:""}${r?`:${r}`:""}@${n}`,Ge=a=>{let n=typeof a=="string"?a.indexOf("@"):-1;if(n<0)return;let r=a.slice(n+1),e=a.slice(0,n),[t,i]=e.split(":"),o=t.split("_")[0];return{server:r,user:o,domainType:r==="lid"?1:0,device:i?+i:void 0}},ln=(a,n)=>Ge(a)?.user===Ge(n)?.user,ng=a=>a?.endsWith("@bot"),On=a=>a?.endsWith("@s.whatsapp.net"),an=a=>a?.endsWith("@lid"),zo=a=>a?.endsWith("@broadcast"),on=a=>a?.endsWith("@g.us"),mi=a=>a==="status@broadcast",Ua=a=>a?.endsWith("@newsletter"),_L=/^1313555\d{4}$|^131655500\d{2}$/,TL=a=>a&&_L.test(a.split("@")[0])&&a.endsWith("@c.us"),nt=a=>{let n=Ge(a);if(!n)return"";let{user:r,server:e}=n;return Yt(r,e==="c.us"?"s.whatsapp.net":e)},qo=(a,n)=>{let e=Ge(a)?.device||0,{server:t,user:i}=Ge(n);return Yt(i,t,e)};var rg=(a,n=Pc,r=[0])=>{let e=IA(a,n,r);return Buffer.from(e)},IA=({tag:a,attrs:n,content:r},e,t)=>{let{TAGS:i,TOKEN_MAP:o}=e,s=b=>t.push(b&255),c=(b,j,H=!1)=>{for(let L=0;L<j;L++){let U=H?L:j-1-L;t.push(b>>U*8&255)}},l=b=>{for(let j of b)t.push(j)},d=b=>{l([b>>8&255,b&255])},f=b=>l([b>>16&15,b>>8&255,b&255]),g=b=>{if(b>=4294967296)throw new Error("string too large to encode: "+b);b>=1<<20?(s(i.BINARY_32),c(b,4)):b>=256?(s(i.BINARY_20),f(b)):(s(i.BINARY_8),s(b))},_=b=>{let j=Buffer.from(b,"utf-8");g(j.length),l(j)},y=({domainType:b,device:j,user:H,server:L})=>{typeof j<"u"?(s(i.AD_JID),s(b||0),s(j||0),v(H)):(s(i.JID_PAIR),H.length?v(H):s(i.LIST_EMPTY),v(L))},T=b=>{switch(b){case"-":return 10;case".":return 11;case"\0":return 15;default:if(b>="0"&&b<="9")return b.charCodeAt(0)-48;throw new Error(`invalid byte for nibble "${b}"`)}},I=b=>{if(b>="0"&&b<="9")return b.charCodeAt(0)-48;if(b>="A"&&b<="F")return 10+b.charCodeAt(0)-65;if(b>="a"&&b<="f")return 10+b.charCodeAt(0)-97;if(b==="\0")return 15;throw new Error(`Invalid hex char "${b}"`)},O=(b,j)=>{if(b.length>i.PACKED_MAX)throw new Error("Too many bytes to pack");s(j==="nibble"?i.NIBBLE_8:i.HEX_8);let H=Math.ceil(b.length/2);b.length%2!==0&&(H|=128),s(H);let L=j==="nibble"?T:I,U=(w,K)=>L(w)<<4|L(K),X=Math.floor(b.length/2);for(let w=0;w<X;w++)s(U(b[2*w],b[2*w+1]));b.length%2!==0&&s(U(b[b.length-1],"\0"))},R=b=>{if(!b||b.length>i.PACKED_MAX)return!1;for(let j of b)if(!(j>="0"&&j<="9")&&j!=="-"&&j!==".")return!1;return!0},M=b=>{if(!b||b.length>i.PACKED_MAX)return!1;for(let j of b)if(!(j>="0"&&j<="9")&&!(j>="A"&&j<="F"))return!1;return!0},v=b=>{if(b==null){s(i.LIST_EMPTY);return}let j=o[b];if(j)typeof j.dict=="number"&&s(i.DICTIONARY_0+j.dict),s(j.index);else if(R(b))O(b,"nibble");else if(M(b))O(b,"hex");else if(b){let H=Ge(b);H?y(H):_(b)}},D=b=>{b===0?s(i.LIST_EMPTY):b<256?l([i.LIST_8,b]):(s(i.LIST_16),d(b))};if(!a)throw new Error("Invalid node: tag cannot be undefined");let k=Object.keys(n||{}).filter(b=>typeof n[b]<"u"&&n[b]!==null);D(2*k.length+1+(typeof r<"u"?1:0)),v(a);for(let b of k)typeof n[b]=="string"&&(v(b),v(n[b]));if(typeof r=="string")v(r);else if(Buffer.isBuffer(r)||r instanceof Uint8Array)g(r.length),l(r);else if(Array.isArray(r)){let b=r.filter(j=>j&&(j.tag||Buffer.isBuffer(j)||j instanceof Uint8Array||typeof j=="string"));D(b.length);for(let j of b)IA(j,e,t)}else if(!(typeof r>"u"))throw new Error(`invalid children for header "${a}": ${r} (${typeof r})`);return t};import{promisify as IL}from"node:util";import{inflate as OL}from"node:zlib";var SL=IL(OL),OA=async a=>(2&a.readUInt8()?a=await SL(a.slice(1)):a=a.slice(1),a),ig=(a,n,r={index:0})=>{let{DOUBLE_BYTE_TOKENS:e,SINGLE_BYTE_TOKENS:t,TAGS:i}=n,o=w=>{if(r.index+w>a.length)throw new Error("end of stream")},s=()=>{let w=a[r.index];return r.index+=1,w},c=()=>(o(1),s()),l=w=>{o(w);let K=a.slice(r.index,r.index+w);return r.index+=w,K},d=w=>l(w).toString("utf-8"),f=(w,K=!1)=>{o(w);let ee=0;for(let Ae=0;Ae<w;Ae++){let se=K?Ae:w-1-Ae;ee|=s()<<se*8}return ee},g=()=>(o(3),((s()&15)<<16)+(s()<<8)+s()),_=w=>{if(w>=0&&w<16)return w<10?48+w:65+w-10;throw new Error("invalid hex: "+w)},y=w=>{if(w>=0&&w<=9)return 48+w;switch(w){case 10:return 45;case 11:return 46;case 15:return 0;default:throw new Error("invalid nibble: "+w)}},T=(w,K)=>{if(w===i.NIBBLE_8)return y(K);if(w===i.HEX_8)return _(K);throw new Error("unknown tag: "+w)},I=w=>{let K=c(),ee="";for(let Ae=0;Ae<(K&127);Ae++){let se=c();ee+=String.fromCharCode(T(w,(se&240)>>4)),ee+=String.fromCharCode(T(w,se&15))}return K>>7!==0&&(ee=ee.slice(0,-1)),ee},O=w=>w===i.LIST_EMPTY||w===i.LIST_8||w===i.LIST_16,R=w=>{switch(w){case i.LIST_EMPTY:return 0;case i.LIST_8:return c();case i.LIST_16:return f(2);default:throw new Error("invalid tag for list size: "+w)}},M=()=>{let w=D(c()),K=D(c());if(K)return(w||"")+"@"+K;throw new Error("invalid jid pair: "+w+", "+K)},v=()=>{let w=c(),K=Number(w),ee=c(),Ae=D(c());return Yt(Ae,K===0||K===128?"s.whatsapp.net":"lid",ee)},D=w=>{if(w>=1&&w<t.length)return t[w]||"";switch(w){case i.DICTIONARY_0:case i.DICTIONARY_1:case i.DICTIONARY_2:case i.DICTIONARY_3:return b(w-i.DICTIONARY_0,c());case i.LIST_EMPTY:return"";case i.BINARY_8:return d(c());case i.BINARY_20:return d(g());case i.BINARY_32:return d(f(4));case i.JID_PAIR:return M();case i.AD_JID:return v();case i.HEX_8:case i.NIBBLE_8:return I(w);default:throw new Error("invalid string with tag: "+w)}},k=w=>{let K=[],ee=R(w);for(let Ae=0;Ae<ee;Ae++)K.push(ig(a,n,r));return K},b=(w,K)=>{let ee=e[w];if(!ee)throw new Error(`Invalid double token dict (${w})`);let Ae=ee[K];if(typeof Ae>"u")throw new Error(`Invalid double token (${K})`);return Ae},j=R(c()),H=D(c());if(!j||!H.length)throw new Error("invalid node");let L={},U;if(j===0||!H)throw new Error("invalid node");let X=j-1>>1;for(let w=0;w<X;w++){let K=D(c()),ee=D(c());L[K]=ee}if(j%2===0){let w=c();if(O(w))U=k(w);else{let K;switch(w){case i.BINARY_8:K=l(c());break;case i.BINARY_20:K=l(g());break;case i.BINARY_32:K=l(f(4));break;default:K=D(w);break}U=K}}return{tag:H,attrs:L,content:U}},ag=async a=>{let n=await OA(a);return ig(n,Pc)};var SA=Me(fn());function dt(a,n){let r=a.decode(n);return JSON.parse(JSON.stringify(r,bi.replacer),bi.reviver)}var qe=(a,n)=>Array.isArray(a?.content)?a.content.filter(r=>r.tag===n):[],Ba=({content:a})=>Array.isArray(a)?a:[],G=(a,n)=>{if(Array.isArray(a?.content))return a?.content.find(r=>r.tag===n)},qn=(a,n)=>{let r=G(a,n)?.content;if(Buffer.isBuffer(r)||r instanceof Uint8Array)return r},Je=(a,n)=>{let r=G(a,n)?.content;if(Buffer.isBuffer(r)||r instanceof Uint8Array)return Buffer.from(r).toString("utf-8");if(typeof r=="string")return r},Du=(a,n,r)=>{let e=qn(a,n);if(e)return mL(e,r)},$n=a=>{let n=G(a,"error");if(n)throw new SA.Boom(n.attrs.text||"Unknown error",{data:+n.attrs.code})},wu=(a,n)=>qe(a,n).reduce((t,{attrs:i})=>(typeof i.name=="string"?t[i.name]=i.value||i.config_value:t[i.config_code]=i.value||i.config_value,t),{}),AL=({content:a})=>{let n=[];if(Array.isArray(a))for(let r of a)r.tag==="message"&&n.push(dt(x.WebMessageInfo,r.content));return n};function mL(a,n){let r=0;for(let e=0;e<n;e++)r=256*r+a[e];return r}var Lu=a=>"	".repeat(a);function $o(a,n=0){if(!a)return a;if(typeof a=="string")return Lu(n)+a;if(a instanceof Uint8Array)return Lu(n)+Buffer.from(a).toString("hex");if(Array.isArray(a))return a.map(i=>Lu(n+1)+$o(i,n+1)).join(`
`);let r=$o(a.content,n+1),e=`<${a.tag} ${Object.entries(a.attrs||{}).filter(([,i])=>i!==void 0).map(([i,o])=>`${i}='${o}'`).join(" ")}`,t=r?`>
${r}
${Lu(n)}</${a.tag}>`:"/>";return e+t}var aa=Me($i());import{createCipheriv as vu,createDecipheriv as og,createHash as mA,createHmac as bL,randomBytes as RL}from"node:crypto";var{subtle:ku}=globalThis.crypto,Yr=a=>a.length===33?a:Buffer.concat([Ri,a]),Gt={generateKeyPair:()=>{let{pubKey:a,privKey:n}=aa.generateKeyPair();return{private:Buffer.from(n),public:Buffer.from(a.slice(1))}},sharedKey:(a,n)=>{let r=aa.calculateAgreement(Yr(n),a);return Buffer.from(r)},sign:(a,n)=>aa.calculateSignature(a,n),verify:(a,n,r)=>{try{return aa.verifySignature(Yr(a),n,r),!0}catch{return!1}}},sg=(a,n)=>{let r=Gt.generateKeyPair(),e=Yr(r.public),t=Gt.sign(a.private,e);return{keyPair:r,signature:t,keyId:n}},AA=16;function xa(a,n,r,e){let t=vu("aes-256-gcm",n,r);return t.setAAD(e),Buffer.concat([t.update(a),t.final(),t.getAuthTag()])}function Fa(a,n,r,e){let t=og("aes-256-gcm",n,r),i=a.slice(0,a.length-AA),o=a.slice(a.length-AA);return t.setAAD(e),t.setAuthTag(o),Buffer.concat([t.update(i),t.final()])}function cg(a,n,r){let e=vu("aes-256-ctr",n,r);return Buffer.concat([e.update(a),e.final()])}function lg(a,n,r){let e=og("aes-256-ctr",n,r);return Buffer.concat([e.update(a),e.final()])}function ug(a,n){return bA(a.slice(16,a.length),n,a.slice(0,16))}function bA(a,n,r){let e=og("aes-256-cbc",n,r);return Buffer.concat([e.update(a),e.final()])}function dg(a,n){let r=RL(16),e=vu("aes-256-cbc",n,r);return Buffer.concat([r,e.update(a),e.final()])}function CL(a,n,r){let e=vu("aes-256-cbc",n,r);return Buffer.concat([e.update(a),e.final()])}function fr(a,n,r="sha256"){return bL(r,n).update(a).digest()}function oa(a){return mA("sha256").update(a).digest()}function NL(a){return mA("md5").update(a).digest()}async function Un(a,n,r){let e=new Uint8Array(a instanceof Uint8Array?a:new Uint8Array(a)),t=r.salt?new Uint8Array(r.salt):new Uint8Array(0),i=r.info?new TextEncoder().encode(r.info):new Uint8Array(0),o=await ku.importKey("raw",e,{name:"HKDF"},!1,["deriveBits"]),s=await ku.deriveBits({name:"HKDF",hash:"SHA-256",salt:t,info:i},o,n*8);return Buffer.from(s)}async function Lc(a,n){let e=new TextEncoder().encode(a),t=new Uint8Array(n instanceof Uint8Array?n:new Uint8Array(n)),i=await ku.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]),o=await ku.deriveBits({name:"PBKDF2",salt:t,iterations:2<<16,hash:"SHA-256"},i,32*8);return Buffer.from(o)}var pg=[2,3e3,1023223821],bi={replacer:(a,n)=>Buffer.isBuffer(n)||n instanceof Uint8Array||n?.type==="Buffer"?{type:"Buffer",data:Buffer.from(n?.data||n).toString("base64")}:n,reviver:(a,n)=>{if(typeof n=="object"&&n!==null&&n.type==="Buffer"&&typeof n.data=="string")return Buffer.from(n.data,"base64");if(typeof n=="object"&&n!==null&&!Array.isArray(n)){let r=Object.keys(n);if(r.length>0&&r.every(e=>!isNaN(parseInt(e,10)))){let e=Object.values(n);if(e.every(t=>typeof t=="number"))return Buffer.from(e)}}return n}},ja=(a,n="me")=>(a?.fromMe?n:a?.participant||a?.remoteJid)||"",NA=a=>{let r=(Dc(1)[0]&15)+1;return Buffer.concat([a,Buffer.alloc(r,r)])},fg=a=>{let n=new Uint8Array(a);if(n.length===0)throw new Error("unpadPkcs7 given empty bytes");var r=n[n.length-1];if(r>n.length)throw new Error(`unpad given ${n.length} bytes, but pad is ${r}`);return new Uint8Array(n.buffer,n.byteOffset,n.length-r)},hg=a=>(a.sort(),"2:"+oa(Buffer.from(a.join(""))).toString("base64").slice(0,6)),Bu=a=>NA(x.Message.encode(a).finish()),gg=()=>Uint16Array.from(Dc(2))[0]&16383,zr=(a,n=4)=>{let r=a,e=new Uint8Array(n);for(let t=n-1;t>=0;t--)e[t]=255&r,r>>>=8;return e},Bn=a=>typeof a=="object"&&a?"toNumber"in a?a.toNumber():a.low:a||0,Xn=(a=new Date)=>Math.floor(a.getTime()/1e3),PL=(a=1e3,n)=>{let r;return{start:(e,t)=>{n=t||n,a=e||a,r&&clearTimeout(r),r=setTimeout(()=>n?.(),a)},cancel:()=>{r&&clearTimeout(r),r=void 0},setTask:e=>n=e,setInterval:e=>a=e}},Ci=a=>Eg(a).delay,Eg=a=>{let n=new Error().stack,r,e;return{delay:new Promise((o,s)=>{r=setTimeout(o,a),e=s}),cancel:()=>{clearTimeout(r),e(new Uu.Boom("Cancelled",{statusCode:500,data:{stack:n}}))}}};async function Ka(a,n){if(!a)return new Promise(n);let r=new Error().stack,{delay:e,cancel:t}=Eg(a);return new Promise((o,s)=>{e.then(()=>s(new Uu.Boom("Timed Out",{statusCode:xt.timedOut,data:{stack:r}}))).catch(c=>s(c)),n(o,s)}).finally(t)}var zt=a=>{let n=Buffer.alloc(44);if(n.writeBigUInt64BE(BigInt(Math.floor(Date.now()/1e3))),a){let t=Ge(a);t?.user&&(n.write(t.user,8),n.write("@c.us",8+t.user.length))}return Dc(16).copy(n,28),"3EB0"+ML("sha256").update(n).digest().toString("hex").toUpperCase().substring(0,18)},xu=()=>"3EB0"+Dc(18).toString("hex").toUpperCase();function Fu(a,n){return async(r,e)=>{let t,i;await Ka(e,(o,s)=>{i=({connection:c,lastDisconnect:l})=>{c==="close"&&s(l?.error||new Uu.Boom("Connection Closed",{statusCode:xt.connectionClosed}))},a.on("connection.update",i),t=async c=>{await r(c)&&o()},a.on(n,t)}).finally(()=>{a.off(n,t),a.off("connection.update",i)})}}var yg=a=>Fu(a,"connection.update"),LL=async(a={})=>{let n="https://raw.githubusercontent.com/WhiskeySockets/Baileys/master/src/Defaults/index.ts";try{let i=(await pr.get(n,{...a,responseType:"text"})).data.split(`
`)[6].match(/const version = \[(\d+),\s*(\d+),\s*(\d+)\]/);if(i)return{version:[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],isLatest:!0};throw new Error("Could not parse version from Defaults/index.ts")}catch(r){return{version:pg,isLatest:!1,error:r}}},DL=async a=>{try{let{data:n}=await pr.get("https://web.whatsapp.com/sw.js",{...a,responseType:"json"}),r=/\\?"client_revision\\?":\s*(\d+)/,e=n.match(r);return e?.[1]?{version:[2,3e3,+e[1]],isLatest:!0}:{version:pg,isLatest:!1,error:{message:"Could not find client revision in the fetched content"}}}catch(n){return{version:pg,isLatest:!1,error:n}}},_g=()=>{let a=Dc(4);return`${a.readUInt16BE()}.${a.readUInt16BE(2)}-`},wL={sender:x.WebMessageInfo.Status.SERVER_ACK,played:x.WebMessageInfo.Status.PLAYED,read:x.WebMessageInfo.Status.READ,"read-self":x.WebMessageInfo.Status.READ},Tg=a=>{let n=wL[a];return typeof a>"u"?x.WebMessageInfo.Status.DELIVERY_ACK:n},kL={conflict:xt.connectionReplaced},Ig=a=>{let[n]=Ba(a),r=n?.tag||"unknown",e=+(a.attrs.code||kL[r]||xt.badSession);return e===xt.restartRequired&&(r="restart required"),{reason:r,statusCode:e}},Og=({tag:a,attrs:n})=>{let r;switch(a){case"offer":case"offer_notice":r="offer";break;case"terminate":n.reason==="timeout"?r="timeout":r="terminate";break;case"reject":r="reject";break;case"accept":r="accept";break;default:r="ringing";break}return r},RA="Unexpected server response: ",Sg=a=>{let n=500;if(a?.message?.includes(RA)){let r=+a?.message.slice(RA.length);!Number.isNaN(r)&&r>=400&&(n=r)}else(a?.code?.startsWith("E")||a?.message?.includes("timed out"))&&(n=408);return n},vL=a=>a==="smbi"||a==="smba";function wc(a){for(let n in a)typeof a[n]>"u"&&delete a[n];return a}var CA="123456789ABCDEFGHJKLMNPQRSTVWXYZ";function Ag(a){let n=0,r=0,e=[];for(let t of a)for(n=n<<8|t&255,r+=8;r>=5;)e.push(CA.charAt(n>>>r-5&31)),r-=5;return r>0&&e.push(CA.charAt(n<<5-r&31)),e.join("")}function mg(a){return x.Message.encode(a).finish()}var kc=Me(fn());var UL=async(a,n)=>a.includes("@s.whatsapp.net")&&await n.lidMapping.getLIDForPN(a)||a,BL=async(a,n,r,e,t)=>{let{senderAlt:i}=Rg(a);if(i&&an(i)&&On(n)&&e===n)try{await r.lidMapping.storeLIDPNMappings([{lid:i,pn:n}]),await r.migrateSession(n,i),t.debug({sender:n,senderAlt:i},"Stored LID mapping from envelope")}catch(o){t.warn({sender:n,senderAlt:i,error:o},"Failed to store LID mapping")}},MA="Message absent from node",bg="Key used already or never filled",PA={maxRetries:3,baseDelayMs:100,sessionRecordErrors:["No session record","SessionError: No session record"]},ju={ParsingError:487,UnrecognizedStanza:488,UnrecognizedStanzaClass:489,UnrecognizedStanzaType:490,InvalidProtobuf:491,InvalidHostedCompanionStanza:493,MissingMessageSecret:495,SignalErrorOldCounter:496,MessageDeletedOnPeer:499,UnhandledError:500,UnsupportedAdminRevoke:550,UnsupportedLIDGroup:551,DBOperationFailed:552},Rg=a=>{let n,r,e=a.attrs.participant||a.attrs.from,t=a.attrs.addressing_mode||(e?.endsWith("lid")?"lid":"pn");return t==="lid"?(n=a.attrs.participant_pn||a.attrs.sender_pn||a.attrs.peer_recipient_pn,r=a.attrs.recipient_pn,e&&n&&(n=qo(e,n))):(n=a.attrs.participant_lid||a.attrs.sender_lid||a.attrs.peer_recipient_lid,r=a.attrs.recipient_lid,e&&n&&(n=qo(e,n))),{addressingMode:t,senderAlt:n,recipientAlt:r}};function Ku(a,n,r){let e,t,i,o=a.attrs.id,s=a.attrs.from,c=a.attrs.participant,l=a.attrs.recipient,d=Rg(a),f=O=>ln(O,n),g=O=>ln(O,r);if(On(s)||an(s)){if(l&&!ng(l)){if(!f(s)&&!g(s))throw new kc.Boom("receipient present, but msg not from me",{data:a});t=l}else t=s;e="chat",i=s}else if(on(s)){if(!c)throw new kc.Boom("No participant in group message");e="group",i=c,t=s}else if(zo(s)){if(!c)throw new kc.Boom("No participant in group message");let O=f(c);mi(s)?e=O?"direct_peer_status":"other_status":e=O?"peer_broadcast":"other_broadcast",t=s,i=c}else if(Ua(s))e="newsletter",t=s,i=s;else throw new kc.Boom("Unknown message type",{data:a});let _=(an(s)?g:f)(a.attrs.participant||a.attrs.from),y=a?.attrs?.notify,T={remoteJid:t,remoteJidAlt:on(t)?void 0:d.senderAlt,fromMe:_,id:o,participant:c,participantAlt:on(t)?d.senderAlt:void 0,addressingMode:d.addressingMode,...e==="newsletter"&&a.attrs.server_id?{server_id:a.attrs.server_id}:{}},I={key:T,messageTimestamp:+a.attrs.t,pushName:y,broadcast:zo(s)};return T.fromMe&&(I.status=x.WebMessageInfo.Status.SERVER_ACK),{fullMessage:I,author:i,sender:e==="chat"?i:t}}var Cg=(a,n,r,e,t)=>{let{fullMessage:i,author:o,sender:s}=Ku(a,n,r);return{fullMessage:i,category:a.attrs.category,author:o,async decrypt(){let c=0;if(Array.isArray(a.content))for(let{tag:l,attrs:d,content:f}of a.content){if(l==="verified_name"&&f instanceof Uint8Array){let T=dt(x.VerifiedNameCertificate,f),I=x.VerifiedNameCertificate.Details.decode(T.details);i.verifiedBizName=I.verifiedName}if(l==="unavailable"&&d.type==="view_once"&&(i.key.isViewOnce=!0),l!=="enc"&&l!=="plaintext"||!(f instanceof Uint8Array))continue;c+=1;let g,_=On(s)?s:o,y=await UL(_,e);l!=="plaintext"&&await BL(a,_,e,y,t);try{let T=l==="plaintext"?"plaintext":d.type;switch(T){case"skmsg":g=await e.decryptGroupMessage({group:s,authorJid:o,msg:f});break;case"pkmsg":case"msg":g=await e.decryptMessage({jid:y,type:T,ciphertext:f});break;case"plaintext":g=f;break;default:throw new Error(`Unknown e2e type: ${T}`)}let I=dt(x.Message,T!=="plaintext"?fg(g):g);if(I=I.deviceSentMessage?.message||I,I.senderKeyDistributionMessage)try{await e.processSenderKeyDistributionMessage({authorJid:o,item:I.senderKeyDistributionMessage})}catch(O){t.error({key:i.key,err:O},"failed to process sender key distribution message")}i.message?Object.assign(i.message,I):i.message=I}catch(T){let I={key:i.key,err:T,messageType:l==="plaintext"?"plaintext":d.type,sender:s,author:o,isSessionRecordError:xL(T)};t.error(I,"failed to decrypt message"),i.messageStubType=x.WebMessageInfo.StubType.CIPHERTEXT,i.messageStubParameters=[T.message.toString()]}}c||(i.messageStubType=x.WebMessageInfo.StubType.CIPHERTEXT,i.messageStubParameters=[MA])}}};function xL(a){let n=a?.message||a?.toString()||"";return PA.sessionRecordErrors.some(r=>n.includes(r))}var Fi=Me(fn());import{randomBytes as aN}from"node:crypto";import{promises as Dy}from"node:fs";import"node:stream";var ui=Me(fn());import{exec as m4}from"node:child_process";import*as ir from"node:crypto";import{once as yy}from"node:events";import{createReadStream as Oy,createWriteStream as _y,promises as Tl}from"node:fs";import{tmpdir as Q0}from"node:os";import{join as Rp}from"node:path";import{Readable as Z0,Transform as b4}from"node:stream";import"node:url";var Ty=()=>Q0(),eN=async()=>{let[a,n]=await Promise.all([import("jimp").catch(()=>{}),Promise.resolve().then(()=>Me($b())).catch(()=>{})]);if(n)return{sharp:n};if(a)return{jimp:a};throw new ui.Boom("No image processing library available")},tN=a=>`WhatsApp ${Ly[a]} Keys`,Ol=async(a,n,r)=>{let{stream:e}=await Bs(a);r?.debug("got stream for raw upload");let t=ir.createHash("sha256"),i=Rp(Q0(),n+zt()),o=_y(i),s=0;try{for await(let l of e)s+=l.length,t.update(l),o.write(l)||await yy(o,"drain");o.end(),await yy(o,"finish"),e.destroy();let c=t.digest();return r?.debug("hashed data for raw upload"),{filePath:i,fileSha256:c,fileLength:s}}catch(c){o.destroy(),e.destroy();try{await Tl.unlink(i)}catch{}throw c}};async function Sy(a,n){if(!a)throw new ui.Boom("Cannot derive from empty media key");typeof a=="string"&&(a=Buffer.from(a.replace("data:;base64,",""),"base64"));let r=await Un(a,112,{info:tN(n)});return{iv:r.slice(0,16),cipherKey:r.slice(16,48),macKey:r.slice(48,80)}}var R4=async(a,n,r,e)=>new Promise((t,i)=>{let o=`ffmpeg -ss ${r} -i ${a} -y -vf scale=${e.width}:-1 -vframes 1 -f image2 ${n}`;m4(o,s=>{s?i(s):t()})}),Cp=async(a,n=32)=>{a instanceof Z0&&(a=await Il(a));let r=await eN();if("sharp"in r&&typeof r.sharp?.default=="function"){let e=r.sharp.default(a),t=await e.metadata();return{buffer:await e.resize(n).jpeg({quality:50}).toBuffer(),original:{width:t.width,height:t.height}}}else if("jimp"in r&&typeof r.jimp?.Jimp=="object"){let e=await r.jimp.Jimp.read(a),t={width:e.width,height:e.height};return{buffer:await e.resize({w:n,mode:r.jimp.ResizeStrategy.BILINEAR}).getBuffer("image/jpeg",{quality:50}),original:t}}else throw new ui.Boom("No image processing library available")},nN=a=>encodeURIComponent(a.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")),Sl=async(a,n)=>{let r,{width:e=640,height:t=640}=n||{};if(Buffer.isBuffer(a))r=a;else{let{stream:s}=await Bs(a);r=await Il(s)}let i=await eN(),o;if("sharp"in i&&typeof i.sharp?.default=="function")o=i.sharp.default(r).resize(e,t).jpeg({quality:50}).toBuffer();else if("jimp"in i&&typeof i.jimp?.Jimp=="object"){let s=await i.jimp.Jimp.read(r),c=Math.min(s.width,s.height);o=s.crop({x:0,y:0,w:c,h:c}).resize({w:e,h:t,mode:i.jimp.ResizeStrategy.BILINEAR}).getBuffer("image/jpeg",{quality:50})}else throw new ui.Boom("No image processing library available");return{img:await o}},C4=a=>{let n=Object.values(a)[0];return n?.fileSha256&&Buffer.from(n.fileSha256).toString("base64")};async function Ay(a){let n=await Promise.resolve().then(()=>(gy(),J0)),r,e={duration:!0};return Buffer.isBuffer(a)?r=await n.parseBuffer(a,void 0,e):typeof a=="string"?r=await n.parseFile(a,e):r=await n.parseStream(a,void 0,e),r.format.duration}async function my(a,n){try{let{default:r}=await import("audio-decode"),e;if(Buffer.isBuffer(a))e=a;else if(typeof a=="string"){let g=Oy(a);e=await Il(g)}else e=await Il(a);let i=(await r(e)).getChannelData(0),o=64,s=Math.floor(i.length/o),c=[];for(let g=0;g<o;g++){let _=s*g,y=0;for(let T=0;T<s;T++)y=y+Math.abs(i[_+T]);c.push(y/s)}let l=Math.pow(Math.max(...c),-1),d=c.map(g=>g*l);return new Uint8Array(d.map(g=>Math.floor(100*g)))}catch(r){n?.debug("Failed to generate waveform: "+r)}}var Iy=a=>{let n=new Z0({read:()=>{}});return n.push(a),n.push(null),n},Il=async a=>{let n=[];for await(let r of a)n.push(r);return a.destroy(),Buffer.concat(n)},Bs=async(a,n)=>{if(Buffer.isBuffer(a))return{stream:Iy(a),type:"buffer"};if("stream"in a)return{stream:a.stream,type:"readable"};let r=a.url.toString();if(r.startsWith("data:")){let e=Buffer.from(r.split(",")[1],"base64");return{stream:Iy(e),type:"buffer"}}return r.startsWith("http://")||r.startsWith("https://")?{stream:await Al(a.url,n),type:"remote"}:{stream:Oy(a.url),type:"file"}};async function by(a,n,r){let e,t;if(n==="image"){let{buffer:i,original:o}=await Cp(a);e=i.toString("base64"),o.width&&o.height&&(t={width:o.width,height:o.height})}else if(n==="video"){let i=Rp(Ty(),zt()+".jpg");try{await R4(a,i,"00:00:00",{width:32,height:32}),e=(await Tl.readFile(i)).toString("base64"),await Tl.unlink(i)}catch(o){r.logger?.debug("could not generate video thumb: "+o)}}return{thumbnail:e,originalImageDimensions:t}}var Al=async(a,n={})=>(await pr.get(a.toString(),{...n,responseType:"stream"})).data,Ry=async(a,n,{logger:r,saveOriginalFileIfRequired:e,opts:t}={})=>{let{stream:i,type:o}=await Bs(a,t);r?.debug("fetched media stream");let s=ir.randomBytes(32),{cipherKey:c,iv:l,macKey:d}=await Sy(s,n),f=Rp(Ty(),n+zt()+"-enc"),g=_y(f),_,y;e&&(y=Rp(Ty(),n+zt()+"-original"),_=_y(y));let T=0,I=ir.createCipheriv("aes-256-cbc",c,l),O=ir.createHmac("sha256",d).update(l),R=ir.createHash("sha256"),M=ir.createHash("sha256"),v=D=>{M.update(D),O.update(D),g.write(D)};try{for await(let j of i){if(T+=j.length,o==="remote"&&t?.maxContentLength&&T+j.length>t.maxContentLength)throw new ui.Boom(`content length exceeded when encrypting "${o}"`,{data:{media:a,type:o}});_&&(_.write(j)||await yy(_,"drain")),R.update(j),v(I.update(j))}v(I.final());let D=O.digest().slice(0,10);M.update(D);let k=R.digest(),b=M.digest();return g.write(D),g.end(),_?.end?.(),i.destroy(),r?.debug("encrypted data successfully"),{mediaKey:s,originalFilePath:y,encFilePath:f,mac:D,fileEncSha256:b,fileSha256:k,fileLength:T}}catch(D){g.destroy(),_?.destroy?.(),I.destroy(),O.destroy(),R.destroy(),M.destroy(),i.destroy();try{await Tl.unlink(f),y&&await Tl.unlink(y)}catch(k){r?.error({err:k},"failed deleting tmp files")}throw D}},N4="mmg.whatsapp.net",Us=16,Ey=a=>Math.floor(a/Us)*Us,xs=a=>`https://${N4}${a}`,fo=async({mediaKey:a,directPath:n,url:r},e,t={})=>{let o=r?.startsWith("https://mmg.whatsapp.net/")?r:xs(n);if(!o)throw new ui.Boom("No valid media URL or directPath present in message",{statusCode:400});let s=await Sy(a,e);return rN(o,s,t)},rN=async(a,{cipherKey:n,iv:r},{startByte:e,endByte:t,options:i}={})=>{let o=0,s=0,c=!1;if(e){let I=Ey(e||0);I&&(s=I-Us,o=I,c=!0)}let l=t?Ey(t||0)+Us:void 0,d={...i?.headers||{},Origin:Fs};(s||l)&&(d.Range=`bytes=${s}-`,l&&(d.Range+=l));let f=await Al(a,{...i||{},headers:d,maxBodyLength:1/0,maxContentLength:1/0}),g=Buffer.from([]),_,y=(I,O)=>{if(e||t){let R=o>=e?void 0:Math.max(e-o,0),M=o+I.length<t?void 0:Math.max(t-o,0);O(I.slice(R,M)),o+=I.length}else O(I)},T=new b4({transform(I,O,R){let M=Buffer.concat([g,I]),v=Ey(M.length);if(g=M.slice(v),M=M.slice(0,v),!_){let D=r;c&&(D=M.slice(0,Us),M=M.slice(Us)),_=ir.createDecipheriv("aes-256-cbc",n,D),t&&_.setAutoPadding(!1)}try{y(_.update(M),D=>this.push(D)),R()}catch(D){R(D)}},final(I){try{y(_.final(),O=>this.push(O)),I()}catch(O){I(O)}}});return f.pipe(T,{end:!0})};function M4(a){let n=t=>t.split(";")[0]?.split("/")[1],r=Object.keys(a)[0],e;if(r==="locationMessage"||r==="liveLocationMessage"||r==="productMessage")e=".jpeg";else{let t=a[r];e=n(t.mimetype)}return e}var Cy=({customUploadHosts:a,fetchAgent:n,logger:r,options:e},t)=>async(i,{mediaType:o,fileEncSha256B64:s,timeoutMs:c})=>{let l=await t(!1),d,f=[...a,...l.hosts];s=nN(s);for(let{hostname:g}of f){r.debug(`uploading to "${g}"`);let _=encodeURIComponent(l.auth),y=`https://${g}${Mp[o]}/${s}?auth=${_}&token=${s}`,T;try{if(T=(await pr.post(y,Oy(i),{...e,maxRedirects:0,headers:{...e.headers||{},"Content-Type":"application/octet-stream",Origin:Fs},httpsAgent:n,timeout:c,responseType:"json",maxBodyLength:1/0,maxContentLength:1/0})).data,T?.url||T?.directPath){d={mediaUrl:T.url,directPath:T.direct_path,meta_hmac:T.meta_hmac,fbid:T.fbid,ts:T.ts};break}else throw l=await t(!0),new Error(`upload failed, reason: ${JSON.stringify(T)}`)}catch(I){pr.isAxiosError(I)&&(T=I.response?.data);let O=g===f[l.hosts.length-1]?.hostname;r.warn({trace:I.stack,uploadResult:T},`Error in uploading to ${g} ${O?"":", retrying..."}`)}}if(!d)throw new ui.Boom("Media upload failed on all hosts",{statusCode:500});return d},iN=a=>Un(a,32,{info:"WhatsApp Media Retry Notification"}),Ny=async(a,n,r)=>{let e={stanzaId:a.id},t=x.ServerErrorReceipt.encode(e).finish(),i=ir.randomBytes(12),o=await iN(n),s=xa(t,o,i,Buffer.from(a.id));return{tag:"receipt",attrs:{id:a.id,to:nt(r),type:"server-error"},content:[{tag:"encrypt",attrs:{},content:[{tag:"enc_p",attrs:{},content:s},{tag:"enc_iv",attrs:{},content:i}]},{tag:"rmr",attrs:{jid:a.remoteJid,from_me:(!!a.fromMe).toString(),participant:a.participant||void 0}}]}},My=a=>{let n=G(a,"rmr"),r={key:{id:a.attrs.id,remoteJid:n.attrs.jid,fromMe:n.attrs.from_me==="true",participant:n.attrs.participant}},e=G(a,"error");if(e){let t=+e.attrs.code;r.error=new ui.Boom(`Failed to re-upload media (${t})`,{data:e.attrs,statusCode:Np(t)})}else{let t=G(a,"encrypt"),i=qn(t,"enc_p"),o=qn(t,"enc_iv");i&&o?r.media={ciphertext:i,iv:o}:r.error=new ui.Boom("Failed to re-upload media (missing ciphertext)",{statusCode:404})}return r},Py=async({ciphertext:a,iv:n},r,e)=>{let t=await iN(r),i=Fa(a,t,n,Buffer.from(e));return dt(x.MediaRetryNotification,i)},Np=a=>P4[a],P4={[x.MediaRetryNotification.ResultType.SUCCESS]:200,[x.MediaRetryNotification.ResultType.DECRYPTION_ERROR]:412,[x.MediaRetryNotification.ResultType.NOT_FOUND]:404,[x.MediaRetryNotification.ResultType.GENERAL_ERROR]:418};var L4={image:"image/jpeg",video:"video/mp4",document:"application/pdf",audio:"audio/ogg; codecs=opus",sticker:"image/webp","product-catalog-image":"image/jpeg"},oN={image:x.Message.ImageMessage,video:x.Message.VideoMessage,audio:x.Message.AudioMessage,sticker:x.Message.StickerMessage,document:x.Message.DocumentMessage},sN=a=>a.match(Fy)?.[0],cN=async(a,n,r)=>{let e=sN(a);if(n&&e)try{return await n(e)}catch(t){r?.warn({trace:t.stack},"url generation failed")}},lN=async a=>{let n;if(typeof a=="number")n=a>0?a:4294967295+Number(a)+1;else{let r=a.trim().replace("#","");return r.length<=6&&(r="FF"+r.padStart(6,"0")),n=parseInt(r,16),n}},js=async(a,n)=>{let r=n.logger,e;for(let k of jy)k in a&&(e=k);if(!e)throw new Fi.Boom("Invalid media type",{statusCode:400});let t={...a,media:a[e]};delete t[e];let i=typeof t.media=="object"&&"url"in t.media&&!!t.media.url&&!!n.mediaCache&&e+":"+t.media.url.toString();if(e==="document"&&!t.fileName&&(t.fileName="file"),t.mimetype||(t.mimetype=L4[e]),i){let k=await n.mediaCache.get(i);if(k){r?.debug({cacheableKey:i},"got media cache hit");let b=dt(x.Message,k),j=`${e}Message`;return Object.assign(b[j],{...t,media:void 0}),b}}if(!!n.jid&&Ua(n.jid)){r?.info({key:i},"Preparing raw media for newsletter");let{filePath:k,fileSha256:b,fileLength:j}=await Ol(t.media,n.mediaTypeOverride||e,r),H=b.toString("base64"),{mediaUrl:L,directPath:U}=await n.upload(k,{fileEncSha256B64:H,mediaType:e,timeoutMs:n.mediaUploadTimeoutMs});await Dy.unlink(k);let X=x.Message.create({[`${e}Message`]:oN[e].create({url:L,directPath:U,fileSha256:b,fileLength:j,...t,media:void 0})});return t.ptv&&(X.ptvMessage=X.videoMessage,delete X.videoMessage),X.stickerMessage&&(X.stickerMessage.stickerSentTs=Date.now()),i&&(r?.debug({cacheableKey:i},"set cache"),await n.mediaCache.set(i,x.Message.encode(X).finish())),X}let s=e==="audio"&&typeof t.seconds>"u",c=(e==="image"||e==="video")&&typeof t.jpegThumbnail>"u",l=e==="audio"&&t.ptt===!0,d=n.backgroundColor&&e==="audio"&&t.ptt===!0,f=s||c,{mediaKey:g,encFilePath:_,originalFilePath:y,fileEncSha256:T,fileSha256:I,fileLength:O}=await Ry(t.media,n.mediaTypeOverride||e,{logger:r,saveOriginalFileIfRequired:f,opts:n.options}),R=T.toString("base64"),[{mediaUrl:M,directPath:v}]=await Promise.all([(async()=>{let k=await n.upload(_,{fileEncSha256B64:R,mediaType:e,timeoutMs:n.mediaUploadTimeoutMs});return r?.debug({mediaType:e,cacheableKey:i},"uploaded media"),k})(),(async()=>{try{if(c){let{thumbnail:k,originalImageDimensions:b}=await by(y,e,n);t.jpegThumbnail=k,!t.width&&b&&(t.width=b.width,t.height=b.height,r?.debug("set dimensions")),r?.debug("generated thumbnail")}s&&(t.seconds=await Ay(y),r?.debug("computed audio duration")),l&&(t.waveform=await my(y,r),r?.debug("processed waveform")),d&&(t.backgroundArgb=await lN(n.backgroundColor),r?.debug("computed backgroundColor audio status"))}catch(k){r?.warn({trace:k.stack},"failed to obtain extra info")}})()]).finally(async()=>{try{await Dy.unlink(_),y&&await Dy.unlink(y),r?.debug("removed tmp files")}catch{r?.warn("failed to remove tmp file")}}),D=x.Message.create({[`${e}Message`]:oN[e].create({url:M,directPath:v,mediaKey:g,fileEncSha256:T,fileSha256:I,fileLength:O,mediaKeyTimestamp:Xn(),...t,media:void 0})});return t.ptv&&(D.ptvMessage=D.videoMessage,delete D.videoMessage),i&&(r?.debug({cacheableKey:i},"set cache"),await n.mediaCache.set(i,x.Message.encode(D).finish())),D},uN=a=>{a=a||0;let n={ephemeralMessage:{message:{protocolMessage:{type:x.Message.ProtocolMessage.Type.EPHEMERAL_SETTING,ephemeralExpiration:a}}}};return x.Message.create(n)},dN=(a,n)=>{let r=a.message;if(!r)throw new Fi.Boom("no content in message",{statusCode:400});r=ar(r),r=dt(x.Message,x.Message.encode(r).finish());let e=Object.keys(r)[0],t=r?.[e]?.contextInfo?.forwardingScore||0;t+=a.key.fromMe&&!n?0:1,e==="conversation"&&(r.extendedTextMessage={text:r[e]},delete r.conversation,e="extendedTextMessage");let i=r?.[e];return t>0?i.contextInfo={forwardingScore:t,isForwarded:!0}:i.contextInfo={},r},pN=async(a,n)=>{var r,e;let t={};if("text"in a){let i={text:a.text},o=a.linkPreview;if(typeof o>"u"&&(o=await cN(a.text,n.getUrlInfo,n.logger)),o){i.matchedText=o["matched-text"],i.jpegThumbnail=o.jpegThumbnail,i.description=o.description,i.title=o.title,i.previewType=0;let s=o.highQualityThumbnail;s&&(i.thumbnailDirectPath=s.directPath,i.mediaKey=s.mediaKey,i.mediaKeyTimestamp=s.mediaKeyTimestamp,i.thumbnailWidth=s.width,i.thumbnailHeight=s.height,i.thumbnailSha256=s.fileSha256,i.thumbnailEncSha256=s.fileEncSha256)}n.backgroundColor&&(i.backgroundArgb=await lN(n.backgroundColor)),n.font&&(i.font=n.font),t.extendedTextMessage=i}else if("contacts"in a){let i=a.contacts.contacts.length;if(!i)throw new Fi.Boom("require atleast 1 contact",{statusCode:400});i===1?t.contactMessage=x.Message.ContactMessage.create(a.contacts.contacts[0]):t.contactsArrayMessage=x.Message.ContactsArrayMessage.create(a.contacts)}else if("location"in a)t.locationMessage=x.Message.LocationMessage.create(a.location);else if("react"in a)a.react.senderTimestampMs||(a.react.senderTimestampMs=Date.now()),t.reactionMessage=x.Message.ReactionMessage.create(a.react);else if("delete"in a)t.protocolMessage={key:a.delete,type:x.Message.ProtocolMessage.Type.REVOKE};else if("forward"in a)t=dN(a.forward,a.force);else if("disappearingMessagesInChat"in a){let i=typeof a.disappearingMessagesInChat=="boolean"?a.disappearingMessagesInChat?Hs:0:a.disappearingMessagesInChat;t=uN(i)}else if("groupInvite"in a){if(t.groupInviteMessage={},t.groupInviteMessage.inviteCode=a.groupInvite.inviteCode,t.groupInviteMessage.inviteExpiration=a.groupInvite.inviteExpiration,t.groupInviteMessage.caption=a.groupInvite.text,t.groupInviteMessage.groupJid=a.groupInvite.jid,t.groupInviteMessage.groupName=a.groupInvite.subject,n.getProfilePicUrl){let i=await n.getProfilePicUrl(a.groupInvite.jid,"preview");if(i){let o=await pr.get(i,{responseType:"arraybuffer"});o.status===200&&(t.groupInviteMessage.jpegThumbnail=o.data)}}}else if("pin"in a)t.pinInChatMessage={},t.messageContextInfo={},t.pinInChatMessage.key=a.pin,t.pinInChatMessage.type=a.type,t.pinInChatMessage.senderTimestampMs=Date.now(),t.messageContextInfo.messageAddOnDurationInSecs=a.type===1?a.time||86400:0;else if("buttonReply"in a)switch(a.type){case"template":t.templateButtonReplyMessage={selectedDisplayText:a.buttonReply.displayText,selectedId:a.buttonReply.id,selectedIndex:a.buttonReply.index};break;case"plain":t.buttonsResponseMessage={selectedButtonId:a.buttonReply.id,selectedDisplayText:a.buttonReply.displayText,type:x.Message.ButtonsResponseMessage.Type.DISPLAY_TEXT};break}else if("ptv"in a&&a.ptv){let{videoMessage:i}=await js({video:a.video},n);t.ptvMessage=i}else if("product"in a){let{imageMessage:i}=await js({image:a.product.productImage},n);t.productMessage=x.Message.ProductMessage.create({...a,product:{...a.product,productImage:i}})}else if("listReply"in a)t.listResponseMessage={...a.listReply};else if("event"in a){t.eventMessage={};let i=Math.floor(a.event.startDate.getTime()/1e3);if(a.event.call&&n.getCallLink){let o=await n.getCallLink(a.event.call,{startTime:i});t.eventMessage.joinLink=(a.event.call==="audio"?xy:By)+o}t.messageContextInfo={messageSecret:a.event.messageSecret||aN(32)},t.eventMessage.name=a.event.name,t.eventMessage.description=a.event.description,t.eventMessage.startTime=i,t.eventMessage.endTime=a.event.endDate?a.event.endDate.getTime()/1e3:void 0,t.eventMessage.isCanceled=a.event.isCancelled??!1,t.eventMessage.extraGuestsAllowed=a.event.extraGuestsAllowed,t.eventMessage.isScheduleCall=a.event.isScheduleCall??!1,t.eventMessage.location=a.event.location}else if("poll"in a){if((r=a.poll).selectableCount||(r.selectableCount=0),(e=a.poll).toAnnouncementGroup||(e.toAnnouncementGroup=!1),!Array.isArray(a.poll.values))throw new Fi.Boom("Invalid poll values",{statusCode:400});if(a.poll.selectableCount<0||a.poll.selectableCount>a.poll.values.length)throw new Fi.Boom(`poll.selectableCount in poll should be >= 0 and <= ${a.poll.values.length}`,{statusCode:400});t.messageContextInfo={messageSecret:a.poll.messageSecret||aN(32)};let i={name:a.poll.name,selectableOptionsCount:a.poll.selectableCount,options:a.poll.values.map(o=>({optionName:o}))};a.poll.toAnnouncementGroup?t.pollCreationMessageV2=i:a.poll.selectableCount===1?t.pollCreationMessageV3=i:t.pollCreationMessage=i}else"sharePhoneNumber"in a?t.protocolMessage={type:x.Message.ProtocolMessage.Type.SHARE_PHONE_NUMBER}:"requestPhoneNumber"in a?t.requestPhoneNumberMessage={}:t=await js(a,n);if("viewOnce"in a&&a.viewOnce&&(t={viewOnceMessage:{message:t}}),"mentions"in a&&a.mentions?.length){let i=Object.keys(t)[0],o=t[i];"contextInfo"in o&&o.contextInfo?o.contextInfo.mentionedJid=a.mentions:o&&(o.contextInfo={mentionedJid:a.mentions})}if("edit"in a&&(t={protocolMessage:{key:a.edit,editedMessage:t,timestampMs:Date.now(),type:x.Message.ProtocolMessage.Type.MESSAGE_EDIT}}),"contextInfo"in a&&a.contextInfo){let i=Object.keys(t)[0],o=t[i];"contextInfo"in o&&o.contextInfo?o.contextInfo={...o.contextInfo,...a.contextInfo}:o&&(o.contextInfo=a.contextInfo)}return x.Message.create(t)},fN=(a,n,r)=>{r.timestamp||(r.timestamp=new Date);let e=ar(n),t=Ks(e),i=Xn(r.timestamp),{quoted:o,userJid:s}=r;if(o&&!Ua(a)){let l=o.key.fromMe?s:o.participant||o.key.participant||o.key.remoteJid,d=ar(o.message),f=Ks(d);d=x.Message.create({[f]:d[f]});let g=d[f];typeof g=="object"&&g&&"contextInfo"in g&&delete g.contextInfo;let _="contextInfo"in e[t]&&e[t]?.contextInfo||{};_.participant=nt(l),_.stanzaId=o.key.id,_.quotedMessage=d,a!==o.key.remoteJid&&(_.remoteJid=o.key.remoteJid),_&&e[t]&&(e[t].contextInfo=_)}r?.ephemeralExpiration&&t!=="protocolMessage"&&t!=="ephemeralMessage"&&!Ua(a)&&(e[t].contextInfo={...e[t].contextInfo||{},expiration:r.ephemeralExpiration||Hs}),n=x.Message.create(n);let c={key:{remoteJid:a,fromMe:!0,id:r?.messageId||zt()},message:n,messageTimestamp:i,messageStubParameters:[],participant:on(a)||mi(a)?s:void 0,status:va.PENDING};return x.WebMessageInfo.create(c)},wy=async(a,n,r)=>(r.logger=r?.logger?.child({msgId:r.messageId}),fN(a,await pN(n,{...r,jid:a}),r)),Ks=a=>{if(a)return Object.keys(a).find(e=>(e==="conversation"||e.includes("Message"))&&e!=="senderKeyDistributionMessage")},ar=a=>{if(!a)return;for(let r=0;r<5;r++){let e=n(a);if(!e)break;a=e.message}return a;function n(r){return r?.ephemeralMessage||r?.viewOnceMessage||r?.documentWithCaptionMessage||r?.viewOnceMessageV2||r?.viewOnceMessageV2Extension||r?.editedMessage}},ky=a=>{let n=r=>r.imageMessage?{imageMessage:r.imageMessage}:r.documentMessage?{documentMessage:r.documentMessage}:r.videoMessage?{videoMessage:r.videoMessage}:r.locationMessage?{locationMessage:r.locationMessage}:{conversation:"contentText"in r?r.contentText:"hydratedContentText"in r?r.hydratedContentText:""};return a=ar(a),a?.buttonsMessage?n(a.buttonsMessage):a?.templateMessage?.hydratedFourRowTemplate?n(a?.templateMessage?.hydratedFourRowTemplate):a?.templateMessage?.hydratedTemplate?n(a?.templateMessage?.hydratedTemplate):a?.templateMessage?.fourRowTemplate?n(a?.templateMessage?.fourRowTemplate):a},D4=a=>/^3A.{18}$/.test(a)?"ios":/^3E.{20}$/.test(a)?"web":/^(.{21}|.{32})$/.test(a)?"android":/^(3F|.{18}$)/.test(a)?"desktop":"unknown",Pp=(a,n)=>{a.userReceipt=a.userReceipt||[];let r=a.userReceipt.find(e=>e.userJid===n.userJid);r?Object.assign(r,n):a.userReceipt.push(n)},Lp=(a,n)=>{let r=ja(n.key),e=(a.reactions||[]).filter(t=>ja(t.key)!==r);n.text=n.text||"",e.push(n),a.reactions=e},w4=(a,n)=>{let r=ja(n.pollUpdateMessageKey),e=(a.pollUpdates||[]).filter(t=>ja(t.pollUpdateMessageKey)!==r);n.vote?.selectedOptions?.length&&e.push(n),a.pollUpdates=e};function k4({message:a,pollUpdates:n},r){let t=(a?.pollCreationMessage?.options||a?.pollCreationMessageV2?.options||a?.pollCreationMessageV3?.options||[]).reduce((i,o)=>{let s=oa(Buffer.from(o.optionName||"")).toString();return i[s]={name:o.optionName||"",voters:[]},i},{});for(let i of n||[]){let{vote:o}=i;if(o)for(let s of o.selectedOptions||[]){let c=s.toString(),l=t[c];l||(t[c]={name:"Unknown",voters:[]},l=t[c]),t[c].voters.push(ja(i.pollUpdateMessageKey,r))}}return Object.values(t)}var vy=a=>{let n={};for(let{remoteJid:r,id:e,participant:t,fromMe:i}of a)if(!i){let o=`${r}:${t||""}`;n[o]||(n[o]={jid:r,participant:t,messageIds:[]}),n[o].messageIds.push(e)}return Object.values(n)},v4=[410,404],U4=async(a,n,r,e)=>{return await i().catch(async o=>{if(e&&pr.isAxiosError(o)&&v4.includes(o.response?.status))return e.logger.info({key:a.key},"sending reupload media request..."),a=await e.reuploadRequest(a),await i();throw o});async function i(){let o=ky(a.message);if(!o)throw new Fi.Boom("No message present",{statusCode:400,data:a});let s=Ks(o),c=s?.replace("Message",""),l=o[s];if(!l||typeof l!="object"||!("url"in l)&&!("thumbnailDirectPath"in l))throw new Fi.Boom(`"${s}" message is not a media message`);let d;"thumbnailDirectPath"in l&&!("url"in l)?(d={directPath:l.thumbnailDirectPath,mediaKey:l.mediaKey},c="thumbnail-link"):d=l;let f=await fo(d,c,r);if(n==="buffer"){let g=[];for await(let _ of f)g.push(_);return Buffer.concat(g)}return f}},Uy=a=>{a=ky(a);let n=a?.documentMessage||a?.imageMessage||a?.videoMessage||a?.audioMessage||a?.stickerMessage;if(!n)throw new Fi.Boom("given message is not a media message",{statusCode:400,data:a});return n};var vp=Me(fn());import{createHash as x4}from"node:crypto";function B4(a,n){let r=[];for(let e=0;e<a.length;e+=n)r.push(a.slice(e,e+n));return r}var Ky=(a,n)=>({identifier:{name:a,deviceId:0},identifierKey:Yr(n)}),hN=async({get:a},n,r)=>{let e=[];for(let t=n;t<r;t++)e.push(t.toString());return a("pre-key",e)},gN=(a,n)=>{let r=a.nextPreKeyId-a.firstUnuploadedPreKeyId,e=n-r,t=a.nextPreKeyId+e-1,i={};if(e>0)for(let o=a.nextPreKeyId;o<=t;o++)i[o]=Gt.generateKeyPair();return{newPreKeys:i,lastPreKeyId:t,preKeysRange:[a.firstUnuploadedPreKeyId,n]}},Dp=a=>({tag:"skey",attrs:{},content:[{tag:"id",attrs:{},content:zr(a.keyId,3)},{tag:"value",attrs:{},content:a.keyPair.public},{tag:"signature",attrs:{},content:a.signature}]}),wp=(a,n)=>({tag:"key",attrs:{},content:[{tag:"id",attrs:{},content:zr(n,3)},{tag:"value",attrs:{},content:a.public}]}),Hy=async(a,n)=>{let r=o=>o?{keyId:Du(o,"id",3),publicKey:Yr(qn(o,"value")),signature:qn(o,"signature")}:void 0,e=qe(G(a,"list"),"user");for(let o of e)$n(o);let i=B4(e,100);for(let o of i)await Promise.all(o.map(async s=>{let c=G(s,"skey"),l=G(s,"key"),d=qn(s,"identity"),f=s.attrs.jid,g=Du(s,"registration",4);await n.injectE2ESession({jid:f,session:{registrationId:g,identityKey:Yr(d),signedPreKey:r(c),preKey:r(l)}})}))},Gy=(a,n,r)=>{let{user:e,device:t}=Ge(n),i=[];for(let o of a){let{devices:s,id:c}=o,{user:l}=Ge(c),d=s?.deviceList;if(Array.isArray(d))for(let{id:f,keyIndex:g}of d)(!r||f!==0)&&(e!==l||t!==f)&&(f===0||g)&&i.push({user:l,device:f})}return i},kp=async({creds:a,keys:n},r)=>{let{newPreKeys:e,lastPreKeyId:t,preKeysRange:i}=gN(a,r),o={nextPreKeyId:Math.max(t+1,a.nextPreKeyId),firstUnuploadedPreKeyId:Math.max(a.firstUnuploadedPreKeyId,t+1)};await n.set({"pre-key":e});let s=await hN(n,i[0],i[0]+i[1]);return{update:o,preKeys:s}},Vy=async(a,n)=>{let{creds:r}=a,{update:e,preKeys:t}=await kp(a,n),i={tag:"iq",attrs:{xmlns:"encrypt",type:"set",to:ze},content:[{tag:"registration",attrs:{},content:zr(r.registrationId)},{tag:"type",attrs:{},content:Ri},{tag:"identity",attrs:{},content:r.signedIdentityKey.public},{tag:"list",attrs:{},content:Object.keys(t).map(o=>wp(t[+o],+o))},Dp(r.signedPreKey)]};return{update:e,node:i}};var F4=a=>({appVersion:{primary:a.version[0],secondary:a.version[1],tertiary:a.version[2]},platform:x.ClientPayload.UserAgent.Platform.WEB,releaseChannel:x.ClientPayload.UserAgent.ReleaseChannel.RELEASE,osVersion:"0.1",device:"Desktop",osBuildNumber:"0.1",localeLanguageIso6391:"en",mnc:"000",mcc:"000",localeCountryIso31661Alpha2:a.countryCode}),EN={"Mac OS":x.ClientPayload.WebInfo.WebSubPlatform.DARWIN,Windows:x.ClientPayload.WebInfo.WebSubPlatform.WIN32},j4=a=>{let n=x.ClientPayload.WebInfo.WebSubPlatform.WEB_BROWSER;return a.syncFullHistory&&EN[a.browser[0]]&&(n=EN[a.browser[0]]),{webSubPlatform:n}},yN=a=>{let n={connectType:x.ClientPayload.ConnectType.WIFI_UNKNOWN,connectReason:x.ClientPayload.ConnectReason.USER_ACTIVATED,userAgent:F4(a)};return n.webInfo=j4(a),n},Wy=(a,n)=>{let{user:r,device:e}=Ge(a),t={...yN(n),passive:!1,pull:!0,username:+r,device:e};return x.ClientPayload.create(t)},K4=a=>{let n=a.toUpperCase();return x.DeviceProps.PlatformType[n]||x.DeviceProps.PlatformType.DESKTOP},Yy=({registrationId:a,signedPreKey:n,signedIdentityKey:r},e)=>{let t=x4("md5").update(e.version.join(".")).digest(),i={os:e.browser[0],platformType:K4(e.browser[1]),requireFullSync:e.syncFullHistory},o=x.DeviceProps.encode(i).finish(),s={...yN(e),passive:!1,pull:!1,devicePairingData:{buildHash:t,deviceProps:o,eRegid:zr(a),eKeytype:Ri,eIdent:r.public,eSkeyId:zr(n.keyId,3),eSkeyVal:n.keyPair.public,eSkeySig:n.signature}};return x.ClientPayload.create(s)},zy=(a,{advSecretKey:n,signedIdentityKey:r,signalIdentities:e})=>{let t=a.attrs.id,i=G(a,"pair-success"),o=G(i,"device-identity"),s=G(i,"platform"),c=G(i,"device"),l=G(i,"biz");if(!o||!c)throw new vp.Boom("Missing device-identity or device in pair success node",{data:a});let d=l?.attrs.name,f=c.attrs.jid,g=c.attrs.lid,{details:_,hmac:y,accountType:T}=dt(x.ADVSignedDeviceIdentityHMAC,o.content),I=T!==void 0&&T===x.ADVEncryptionType.HOSTED,O=I?Buffer.from([6,5]):Buffer.alloc(0),R=fr(Buffer.concat([O,_]),Buffer.from(n,"base64"));if(Buffer.compare(y,R)!==0)throw new vp.Boom("Invalid account signature");let M=dt(x.ADVSignedDeviceIdentity,_),{accountSignatureKey:v,accountSignature:D,details:k}=M,b=Buffer.concat([Buffer.from([6,0]),k,r.public]);if(!Gt.verify(v,b,D))throw new vp.Boom("Failed to verify account signature");let j=I?Buffer.from([6,6]):Buffer.from([6,1]),H=Buffer.concat([j,k,r.public,v]);M.deviceSignature=Gt.sign(r.private,H);let L=Ky(g,v),U=Gs(M,!1),X=dt(x.ADVDeviceIdentity,M.details),w={tag:"iq",attrs:{to:ze,type:"result",id:t},content:[{tag:"pair-device-sign",attrs:{},content:[{tag:"device-identity",attrs:{"key-index":X.keyIndex.toString()},content:U}]}]};return{creds:{account:M,me:{id:f,name:d,lid:g},signalIdentities:[...e||[],L],platform:s?.attrs.name},reply:w}},Gs=(a,n)=>(a={...a},(!n||!a.accountSignatureKey?.length)&&(a.accountSignatureKey=null),x.ADVSignedDeviceIdentity.encode(a).finish());var TN=Me(fn());var _N=a=>{let n=new ArrayBuffer(12);return new DataView(n).setUint32(8,a),new Uint8Array(n)},qy=({keyPair:{private:a,public:n},NOISE_HEADER:r,logger:e,routingInfo:t})=>{e=e.child({class:"ns"});let i=D=>{R||(g=oa(Buffer.concat([g,D])))},o=D=>{let k=xa(D,y,_N(O),g);return O+=1,i(k),k},s=D=>{let k=_N(R?I:O),b=Fa(D,T,k,g);return R?I+=1:O+=1,i(D),b},c=async D=>{let k=await Un(Buffer.from(D),64,{salt:_,info:""});return[k.slice(0,32),k.slice(32)]},l=async D=>{let[k,b]=await c(D);_=k,y=b,T=b,I=0,O=0},d=async()=>{let[D,k]=await c(new Uint8Array(0));y=D,T=k,g=Buffer.from([]),I=0,O=0,R=!0},f=Buffer.from($y),g=f.byteLength===32?f:oa(f),_=g,y=g,T=g,I=0,O=0,R=!1,M=!1,v=Buffer.alloc(0);return i(r),i(n),{encrypt:o,decrypt:s,authenticate:i,mixIntoKey:l,finishInit:d,processHandshake:async({serverHello:D},k)=>{i(D.ephemeral),await l(Gt.sharedKey(a,D.ephemeral));let b=s(D.static);await l(Gt.sharedKey(a,b));let j=s(D.payload),{intermediate:H}=dt(x.CertChain,j),{issuerSerial:L}=x.CertChain.NoiseCertificate.Details.decode(H.details);if(L!==Xy.SERIAL)throw new TN.Boom("certification match failed",{statusCode:400});let U=o(k.public);return await l(Gt.sharedKey(k.private,D.ephemeral)),U},encodeFrame:D=>{R&&(D=o(D));let k;t?(k=Buffer.alloc(7),k.write("ED",0,"utf8"),k.writeUint8(0,2),k.writeUint8(1,3),k.writeUint8(t.byteLength>>16,4),k.writeUint16BE(t.byteLength&65535,5),k=Buffer.concat([k,t,r])):k=Buffer.from(r);let b=M?0:k.length,j=Buffer.alloc(b+3+D.byteLength);return M||(j.set(k),M=!0),j.writeUInt8(D.byteLength>>16,b),j.writeUInt16BE(65535&D.byteLength,b+1),j.set(D,b+3),j},decodeFrame:async(D,k)=>{let b=()=>{if(v.length>=3)return v.readUInt8()<<16|v.readUInt16BE(1)};v=Buffer.concat([v,D]),e.trace(`recv ${D.length} bytes, total recv ${v.length} bytes`);let j=b();for(;j&&v.length>=j+3;){let H=v.slice(3,j+3);if(v=v.slice(j+3),R){let L=s(H);H=await ag(L)}e.trace({msg:H?.attrs?.id},"recv frame"),k(H),j=b()}}}};import{promisify as H4}from"node:util";import{inflate as G4}from"node:zlib";var V4=H4(G4),IN=async(a,n)=>{let r=await fo(a,"md-msg-hist",{options:n}),e=[];for await(let o of r)e.push(o);let t=Buffer.concat(e);return t=await V4(t),dt(x.HistorySync,t)},ON=a=>{let n=[],r=[],e=[];switch(a.syncType){case x.HistorySync.HistorySyncType.INITIAL_BOOTSTRAP:case x.HistorySync.HistorySyncType.RECENT:case x.HistorySync.HistorySyncType.FULL:case x.HistorySync.HistorySyncType.ON_DEMAND:for(let t of a.conversations){r.push({id:t.id,name:t.name||void 0,lid:t.lidJid||void 0,phoneNumber:t.pnJid||void 0});let i=t.messages||[];delete t.messages;for(let o of i){let s=o.message;n.push(s),t.messages?.length||(t.messages=[{message:s}]),!s.key.fromMe&&!t.lastMessageRecvTimestamp&&(t.lastMessageRecvTimestamp=Bn(s.messageTimestamp)),(s.messageStubType===He.BIZ_PRIVACY_MODE_TO_BSP||s.messageStubType===He.BIZ_PRIVACY_MODE_TO_FB)&&s.messageStubParameters?.[0]&&r.push({id:s.key.participant||s.key.remoteJid,verifiedName:s.messageStubParameters?.[0]})}e.push({...t})}break;case x.HistorySync.HistorySyncType.PUSH_NAME:for(let t of a.pushnames)r.push({id:t.id,notify:t.pushname});break}return{chats:e,contacts:r,messages:n,syncType:a.syncType,progress:a.progress}},Jy=async(a,n)=>{let r=await IN(a,n);return ON(r)},ml=a=>(a?ar(a):void 0)?.protocolMessage?.historySyncNotification;var yn=Me(fn());var di;(function(a){a.Chat="label_jid",a.Message="label_message"})(di||(di={}));var SN=128,Qy=class{constructor(n){this.salt=n}async add(n,r){for(let e of r)n=await this._addSingle(n,e);return n}async subtract(n,r){for(let e of r)n=await this._subtractSingle(n,e);return n}async subtractThenAdd(n,r,e){let t=await this.subtract(n,e);return this.add(t,r)}async _addSingle(n,r){let e=new Uint8Array(await Un(Buffer.from(r),SN,{info:this.salt})).buffer;return this.performPointwiseWithOverflow(n,e,(t,i)=>t+i)}async _subtractSingle(n,r){let e=new Uint8Array(await Un(Buffer.from(r),SN,{info:this.salt})).buffer;return this.performPointwiseWithOverflow(n,e,(t,i)=>t-i)}performPointwiseWithOverflow(n,r,e){let t=new DataView(n),i=new DataView(r),o=new ArrayBuffer(t.byteLength),s=new DataView(o);for(let c=0;c<t.byteLength;c+=2)s.setUint16(c,e(t.getUint16(c,!0),i.getUint16(c,!0)),!0);return o}},Zy=new Qy("WhatsApp Patch Integrity");var bl=async a=>{let n=await Un(a,160,{info:"WhatsApp Mutation Keys"});return{indexKey:n.slice(0,32),valueEncryptionKey:n.slice(32,64),valueMacKey:n.slice(64,96),snapshotMacKey:n.slice(96,128),patchMacKey:n.slice(128,160)}},AN=(a,n,r,e)=>{let i=(()=>{let l;switch(a){case x.SyncdMutation.SyncdOperation.SET:l=1;break;case x.SyncdMutation.SyncdOperation.REMOVE:l=2;break}let d=Buffer.from([l]);return Buffer.concat([d,Buffer.from(r,"base64")])})(),o=Buffer.alloc(8);o.set([i.length],o.length-1);let s=Buffer.concat([i,n,o]);return fr(s,e,"sha512").slice(0,32)},mN=a=>{let n=Buffer.alloc(8);return n.writeUint32BE(a,4),n},bN=({indexValueMap:a,hash:n})=>{a={...a};let r=[],e=[];return{mix:({indexMac:t,valueMac:i,operation:o})=>{let s=Buffer.from(t).toString("base64"),c=a[s];if(o===x.SyncdMutation.SyncdOperation.REMOVE){if(!c)throw new yn.Boom("tried remove, but no previous op",{data:{indexMac:t,valueMac:i}});delete a[s]}else r.push(new Uint8Array(i).buffer),a[s]={valueMac:i};c&&e.push(new Uint8Array(c.valueMac).buffer)},finish:async()=>{let t=new Uint8Array(n).buffer,i=await Zy.subtractThenAdd(t,r,e);return{hash:Buffer.from(i),indexValueMap:a}}}},e_=(a,n,r,e)=>{let t=Buffer.concat([a,mN(n),Buffer.from(r,"utf-8")]);return fr(t,e,"sha256")},RN=(a,n,r,e,t)=>{let i=Buffer.concat([a,...n,mN(r),Buffer.from(e,"utf-8")]);return fr(i,t)},Rl=()=>({version:0,hash:Buffer.alloc(128),indexValueMap:{}}),t_=async({type:a,index:n,syncAction:r,apiVersion:e,operation:t},i,o,s)=>{let c=i?await s(i):void 0;if(!c)throw new yn.Boom(`myAppStateKey ("${i}") not present`,{statusCode:404});let l=Buffer.from(i,"base64");o={...o,indexValueMap:{...o.indexValueMap}};let d=Buffer.from(JSON.stringify(n)),f=x.SyncActionData.create({index:d,value:r,padding:new Uint8Array(0),version:e}),g=x.SyncActionData.encode(f).finish(),_=await bl(c.keyData),y=dg(g,_.valueEncryptionKey),T=AN(t,y,l,_.valueMacKey),I=fr(d,_.indexKey),O=bN(o);O.mix({indexMac:I,valueMac:T,operation:t}),Object.assign(o,await O.finish()),o.version+=1;let R=e_(o.hash,o.version,a,_.snapshotMacKey),M={patchMac:RN(R,[T],o.version,a,_.patchMacKey),snapshotMac:R,keyId:{id:l},mutations:[{operation:t,record:{index:{blob:I},value:{blob:Buffer.concat([y,T])},keyId:{id:l}}}]},v=I.toString("base64");return o.indexValueMap[v]={valueMac:T},{patch:M,state:o}},n_=async(a,n,r,e,t)=>{let i=bN(n);for(let s of a){let c="operation"in s?s.operation:x.SyncdMutation.SyncdOperation.SET,l="record"in s&&s.record?s.record:s,d=await o(l.keyId.id),f=Buffer.from(l.value.blob),g=f.slice(0,-32),_=f.slice(-32);if(t){let O=AN(c,g,l.keyId.id,d.valueMacKey);if(Buffer.compare(O,_)!==0)throw new yn.Boom("HMAC content verification failed")}let y=ug(g,d.valueEncryptionKey),T=dt(x.SyncActionData,y);if(t){let O=fr(T.index,d.indexKey);if(Buffer.compare(O,l.index.blob)!==0)throw new yn.Boom("HMAC index verification failed")}let I=Buffer.from(T.index).toString();e({syncAction:T,index:JSON.parse(I)}),i.mix({indexMac:l.index.blob,valueMac:_,operation:c})}return await i.finish();async function o(s){let c=Buffer.from(s).toString("base64"),l=await r(c);if(!l)throw new yn.Boom(`failed to find key "${c}" to decode mutation`,{statusCode:404,data:{msgMutations:a}});return bl(l.keyData)}},CN=async(a,n,r,e,t,i)=>{if(i){let s=Buffer.from(a.keyId.id).toString("base64"),c=await e(s);if(!c)throw new yn.Boom(`failed to find key "${s}" to decode patch`,{statusCode:404,data:{msg:a}});let l=await bl(c.keyData),d=a.mutations.map(g=>g.record.value.blob.slice(-32)),f=RN(a.snapshotMac,d,Bn(a.version.version),n,l.patchMacKey);if(Buffer.compare(f,a.patchMac)!==0)throw new yn.Boom("Invalid patch mac")}return await n_(a.mutations,r,e,t,i)},r_=async(a,n)=>{let r=G(a,"sync"),e=qe(r,"collection"),t={};return await Promise.all(e.map(async i=>{let o=G(i,"patches"),s=qe(o||i,"patch"),c=G(i,"snapshot"),l=[],d=i.attrs.name,f=i.attrs.has_more_patches==="true",g;if(c&&c.content){Buffer.isBuffer(c)||(c.content=Buffer.from(Object.values(c.content)));let _=dt(x.ExternalBlobReference,c.content),y=await i_(_,n);g=dt(x.SyncdSnapshot,y)}for(let{content:_}of s)if(_){Buffer.isBuffer(_)||(_=Buffer.from(Object.values(_)));let y=dt(x.SyncdPatch,_);y.version||(y.version={version:+i.attrs.version+1}),l.push(y)}t[d]={patches:l,hasMorePatches:f,snapshot:g}})),t},i_=async(a,n)=>{let r=await fo(a,"md-app-state",{options:n}),e=[];for await(let t of r)e.push(t);return Buffer.concat(e)},NN=async(a,n)=>{let r=await i_(a,n);return dt(x.SyncdMutations,r)},a_=async(a,n,r,e,t=!0)=>{let i=Rl();i.version=Bn(n.version.version);let o={},s=typeof e>"u"||i.version>e,{hash:c,indexValueMap:l}=await n_(n.records,i,r,s?d=>{let f=d.syncAction.index?.toString();o[f]=d}:()=>{},t);if(i.hash=c,i.indexValueMap=l,t){let d=Buffer.from(n.keyId.id).toString("base64"),f=await r(d);if(!f)throw new yn.Boom(`failed to find key "${d}" to decode mutation`);let g=await bl(f.keyData),_=e_(i.hash,i.version,a,g.snapshotMacKey);if(Buffer.compare(n.mac,_)!==0)throw new yn.Boom(`failed to verify LTHash at ${i.version} of ${a} from snapshot`)}return{state:i,mutationMap:o}},Up=async(a,n,r,e,t,i,o,s=!0)=>{let c={...r,indexValueMap:{...r.indexValueMap}},l={};for(let d of n){let{version:f,keyId:g,snapshotMac:_}=d;if(d.externalMutations){o?.trace({name:a,version:f},"downloading external patch");let O=await NN(d.externalMutations,t);o?.debug({name:a,version:f,mutations:O.mutations.length},"downloaded external patch"),d.mutations?.push(...O.mutations)}let y=Bn(f.version);c.version=y;let T=typeof i>"u"||y>i,I=await CN(d,a,c,e,T?O=>{let R=O.syncAction.index?.toString();l[R]=O}:()=>{},!0);if(c.hash=I.hash,c.indexValueMap=I.indexValueMap,s){let O=Buffer.from(g.id).toString("base64"),R=await e(O);if(!R)throw new yn.Boom(`failed to find key "${O}" to decode mutation`);let M=await bl(R.keyData),v=e_(c.hash,c.version,a,M.snapshotMacKey);if(Buffer.compare(_,v)!==0)throw new yn.Boom(`failed to verify LTHash at ${c.version} of ${a}`)}d.mutations=[]}return{state:c,mutationMap:l}},o_=(a,n)=>{let r=x.SyncdMutation.SyncdOperation,e=i=>{let o;return Array.isArray(i)?o={lastMessageTimestamp:i[i.length-1]?.messageTimestamp,messages:i?.length?i.map(c=>{if(!c.key?.id||!c.key?.remoteJid)throw new yn.Boom("Incomplete key",{statusCode:400,data:c});if(on(c.key.remoteJid)&&!c.key.fromMe&&!c.key.participant)throw new yn.Boom("Expected not from me message to have participant",{statusCode:400,data:c});if(!c.messageTimestamp||!Bn(c.messageTimestamp))throw new yn.Boom("Missing timestamp in last message list",{statusCode:400,data:c});return c.key.participant&&(c.key.participant=nt(c.key.participant)),c}):void 0}:o=i,o},t;if("mute"in a)t={syncAction:{muteAction:{muted:!!a.mute,muteEndTimestamp:a.mute||void 0}},index:["mute",n],type:"regular_high",apiVersion:2,operation:r.SET};else if("archive"in a)t={syncAction:{archiveChatAction:{archived:!!a.archive,messageRange:e(a.lastMessages)}},index:["archive",n],type:"regular_low",apiVersion:3,operation:r.SET};else if("markRead"in a)t={syncAction:{markChatAsReadAction:{read:a.markRead,messageRange:e(a.lastMessages)}},index:["markChatAsRead",n],type:"regular_low",apiVersion:3,operation:r.SET};else if("deleteForMe"in a){let{timestamp:i,key:o,deleteMedia:s}=a.deleteForMe;t={syncAction:{deleteMessageForMeAction:{deleteMedia:s,messageTimestamp:i}},index:["deleteMessageForMe",n,o.id,o.fromMe?"1":"0","0"],type:"regular_high",apiVersion:3,operation:r.SET}}else if("clear"in a)t={syncAction:{clearChatAction:{messageRange:e(a.lastMessages)}},index:["clearChat",n,"1","0"],type:"regular_high",apiVersion:6,operation:r.SET};else if("pin"in a)t={syncAction:{pinAction:{pinned:!!a.pin}},index:["pin_v1",n],type:"regular_low",apiVersion:5,operation:r.SET};else if("contact"in a)t={syncAction:{contactAction:a.contact||{}},index:["contact",n],type:"critical_unblock_low",apiVersion:2,operation:a.contact?r.SET:r.REMOVE};else if("disableLinkPreviews"in a)t={syncAction:{privacySettingDisableLinkPreviewsAction:a.disableLinkPreviews||{}},index:["setting_disableLinkPreviews"],type:"regular",apiVersion:8,operation:r.SET};else if("star"in a){let i=a.star.messages[0];t={syncAction:{starAction:{starred:!!a.star.star}},index:["star",n,i.id,i.fromMe?"1":"0","0"],type:"regular_low",apiVersion:2,operation:r.SET}}else if("delete"in a)t={syncAction:{deleteChatAction:{messageRange:e(a.lastMessages)}},index:["deleteChat",n,"1"],type:"regular_high",apiVersion:6,operation:r.SET};else if("pushNameSetting"in a)t={syncAction:{pushNameSetting:{name:a.pushNameSetting}},index:["setting_pushName"],type:"critical_block",apiVersion:1,operation:r.SET};else if("quickReply"in a)t={syncAction:{quickReplyAction:{count:0,deleted:a.quickReply.deleted||!1,keywords:[],message:a.quickReply.message||"",shortcut:a.quickReply.shortcut||""}},index:["quick_reply",a.quickReply.timestamp||String(Math.floor(Date.now()/1e3))],type:"regular",apiVersion:2,operation:r.SET};else if("addLabel"in a)t={syncAction:{labelEditAction:{name:a.addLabel.name,color:a.addLabel.color,predefinedId:a.addLabel.predefinedId,deleted:a.addLabel.deleted}},index:["label_edit",a.addLabel.id],type:"regular",apiVersion:3,operation:r.SET};else if("addChatLabel"in a)t={syncAction:{labelAssociationAction:{labeled:!0}},index:[di.Chat,a.addChatLabel.labelId,n],type:"regular",apiVersion:3,operation:r.SET};else if("removeChatLabel"in a)t={syncAction:{labelAssociationAction:{labeled:!1}},index:[di.Chat,a.removeChatLabel.labelId,n],type:"regular",apiVersion:3,operation:r.SET};else if("addMessageLabel"in a)t={syncAction:{labelAssociationAction:{labeled:!0}},index:[di.Message,a.addMessageLabel.labelId,n,a.addMessageLabel.messageId,"0","0"],type:"regular",apiVersion:3,operation:r.SET};else if("removeMessageLabel"in a)t={syncAction:{labelAssociationAction:{labeled:!1}},index:[di.Message,a.removeMessageLabel.labelId,n,a.removeMessageLabel.messageId,"0","0"],type:"regular",apiVersion:3,operation:r.SET};else throw new yn.Boom("not supported");return t.syncAction.timestamp=Date.now(),t},s_=(a,n,r,e,t)=>{let i=!!e,o=e?.accountSettings;t?.trace({syncAction:a,initialSync:!!e},"processing sync action");let{syncAction:{value:s},index:[c,l,d,f]}=a;if(s?.muteAction)n.emit("chats.update",[{id:l,muteEndTime:s.muteAction?.muted?Bn(s.muteAction.muteEndTimestamp):null,conditional:g(l,void 0)}]);else if(s?.archiveChatAction||c==="archive"||c==="unarchive"){let y=s?.archiveChatAction,T=y?y.archived:c==="archive",I=o?.unarchiveChats?y?.messageRange:void 0;n.emit("chats.update",[{id:l,archived:T,conditional:g(l,I)}])}else if(s?.markChatAsReadAction){let y=s.markChatAsReadAction,T=i&&y.read;n.emit("chats.update",[{id:l,unreadCount:T?null:y?.read?0:-1,conditional:g(l,y?.messageRange)}])}else if(s?.deleteMessageForMeAction||c==="deleteMessageForMe")n.emit("messages.delete",{keys:[{remoteJid:l,id:d,fromMe:f==="1"}]});else if(s?.contactAction)n.emit("contacts.upsert",[{id:l,name:s.contactAction.fullName,lid:s.contactAction.lidJid||void 0,phoneNumber:s.contactAction.pnJid||void 0}]);else if(s?.pushNameSetting){let y=s?.pushNameSetting?.name;y&&r?.name!==y&&n.emit("creds.update",{me:{...r,name:y}})}else if(s?.pinAction)n.emit("chats.update",[{id:l,pinned:s.pinAction?.pinned?Bn(s.timestamp):null,conditional:g(l,void 0)}]);else if(s?.unarchiveChatsSetting){let y=!!s.unarchiveChatsSetting.unarchiveChats;n.emit("creds.update",{accountSettings:{unarchiveChats:y}}),t?.info(`archive setting updated => '${s.unarchiveChatsSetting.unarchiveChats}'`),o&&(o.unarchiveChats=y)}else if(s?.starAction||c==="star"){let y=s?.starAction?.starred;typeof y!="boolean"&&(y=a.index[a.index.length-1]==="1"),n.emit("messages.update",[{key:{remoteJid:l,id:d,fromMe:f==="1"},update:{starred:y}}])}else if(s?.deleteChatAction||c==="deleteChat")i||n.emit("chats.delete",[l]);else if(s?.labelEditAction){let{name:y,color:T,deleted:I,predefinedId:O}=s.labelEditAction;n.emit("labels.edit",{id:l,name:y,color:T,deleted:I,predefinedId:O?String(O):void 0})}else s?.labelAssociationAction?n.emit("labels.association",{type:s.labelAssociationAction.labeled?"add":"remove",association:c===di.Chat?{type:di.Chat,chatId:a.index[2],labelId:a.index[1]}:{type:di.Message,chatId:a.index[2],messageId:a.index[3],labelId:a.index[1]}}):t?.debug({syncAction:a,id:l},"unprocessable update");function g(y,T){return i?I=>{let O=I.historySets.chats[y]||I.chatUpserts[y];if(O)return T?_(O,T):!0}:void 0}function _(y,T){let I=Number(T?.lastMessageTimestamp||T?.lastSystemMessageTimestamp||0),O=Number(y?.lastMessageRecvTimestamp||0);return I>=O}};import*as Bp from"node:crypto";var c_=a=>{let n;if(a!==void 0){if(typeof a=="number")n=a;else if(typeof a=="string")if(a=a.trim(),Number.isNaN(Number(a))){let r=/^([\d.]+)\s*(ms|s|m|h|hr|d)$/i.exec(a);if(!r)throw new Error(`Unsupported time format: "${a}". Use 'ms', 's', 'm', 'h', 'hr', or 'd'.`);let[,e,t]=r,i=Number.parseFloat(e);switch(t.toLowerCase()){case"ms":{n=i;break}case"s":{n=i*1e3;break}case"m":{n=i*1e3*60;break}case"h":{n=i*1e3*60*60;break}case"hr":{n=i*1e3*60*60;break}case"d":{n=i*1e3*60*60*24;break}default:n=Number(a)}}else n=Number(a);else throw new TypeError("Time must be a string or a number.");return n}},Vs=(a,n)=>{n??=new Date;let r=c_(a);return r===void 0?n.getTime():n.getTime()+r};var Ws=(a=>(a.SHA256="sha256",a.SHA512="sha512",a.MD5="md5",a.DJB2="djb2",a))(Ws||{});function ho(a,n={algorithm:"sha256",serialize:JSON.stringify}){n?.algorithm||(n.algorithm="sha256"),n?.serialize||(n.serialize=JSON.stringify);let r=n.serialize(a);if(n?.algorithm==="djb2")return W4(r);if(!Bp.getHashes().includes(n.algorithm))throw new Error(`Unsupported hash algorithm: '${n?.algorithm}'`);let e=Bp.createHash(n.algorithm);return e.update(r),e.digest("hex")}function l_(a,n={min:0,max:10,algorithm:"sha256",serialize:JSON.stringify}){let r=n?.min??0,e=n?.max??10;if(r>=e)throw new Error(`Invalid range: min (${r}) must be less than max (${e})`);n?.algorithm||(n.algorithm="sha256"),n?.serialize||(n.serialize=JSON.stringify);let t=ho(a,n),i=Number.parseInt(t,16),o=e-r+1,s=r+i%o;return s<r?r:s>e?e:s}function W4(a){let n=5381;for(let r=0;r<a.length;r++)n=n*33^a.charCodeAt(r);return n.toString()}var Cl=class{_hits=0;_misses=0;_gets=0;_sets=0;_deletes=0;_clears=0;_vsize=0;_ksize=0;_count=0;_enabled=!1;constructor(a){a?.enabled&&(this._enabled=a.enabled)}get enabled(){return this._enabled}set enabled(a){this._enabled=a}get hits(){return this._hits}get misses(){return this._misses}get gets(){return this._gets}get sets(){return this._sets}get deletes(){return this._deletes}get clears(){return this._clears}get vsize(){return this._vsize}get ksize(){return this._ksize}get count(){return this._count}incrementHits(){this._enabled&&this._hits++}incrementMisses(){this._enabled&&this._misses++}incrementGets(){this._enabled&&this._gets++}incrementSets(){this._enabled&&this._sets++}incrementDeletes(){this._enabled&&this._deletes++}incrementClears(){this._enabled&&this._clears++}incrementVSize(a){this._enabled&&(this._vsize+=this.roughSizeOfObject(a))}decreaseVSize(a){this._enabled&&(this._vsize-=this.roughSizeOfObject(a))}incrementKSize(a){this._enabled&&(this._ksize+=this.roughSizeOfString(a))}decreaseKSize(a){this._enabled&&(this._ksize-=this.roughSizeOfString(a))}incrementCount(){this._enabled&&this._count++}decreaseCount(){this._enabled&&this._count--}setCount(a){this._enabled&&(this._count=a)}roughSizeOfString(a){return a.length*2}roughSizeOfObject(a){let n=[],r=[a],e=0;for(;r.length>0;){let t=r.pop();if(typeof t=="boolean")e+=4;else if(typeof t=="string")e+=t.length*2;else if(typeof t=="number")e+=8;else if(typeof t=="object"&&t!==null&&!n.includes(t)){n.push(t);for(let i in t)e+=i.length*2,r.push(t[i])}}return e}reset(){this._hits=0,this._misses=0,this._gets=0,this._sets=0,this._deletes=0,this._clears=0,this._vsize=0,this._ksize=0,this._count=0}resetStoreValues(){this._vsize=0,this._ksize=0,this._count=0}};function u_(a,n){let{ttl:r,keyPrefix:e,cache:t,serialize:i}=n;return(...o)=>{let s=Y4(a,o,{keyPrefix:e,serialize:i});n.createKey&&(s=n.createKey(a,o,n));let c=t.get(s);if(c===void 0)try{c=a(...o),t.set(s,c,r)}catch(l){t.emit("error",l),n.cacheErrors&&t.set(s,l,r)}return c}}function Y4(a,n,r){let{keyPrefix:e,serialize:t}=r||{};return e?`${e}::${a.name}::${ho(n,{serialize:t})}`:`${a.name}::${ho(n,{serialize:t})}`}var z4=class{_eventListeners;_maxListeners;_logger;_throwOnEmitError=!1;constructor(a){this._eventListeners=new Map,this._maxListeners=100,this._logger=a?.logger,a?.throwOnEmitError!==void 0&&(this._throwOnEmitError=a.throwOnEmitError)}get logger(){return this._logger}set logger(a){this._logger=a}get throwOnEmitError(){return this._throwOnEmitError}set throwOnEmitError(a){this._throwOnEmitError=a}once(a,n){let r=(...e)=>{this.off(a,r),n(...e)};return this.on(a,r),this}listenerCount(a){if(a===void 0)return this.getAllListeners().length;let n=this._eventListeners.get(a);return n?n.length:0}eventNames(){return[...this._eventListeners.keys()]}rawListeners(a){return a===void 0?this.getAllListeners():this._eventListeners.get(a)??[]}prependListener(a,n){let r=this._eventListeners.get(a)??[];return r.unshift(n),this._eventListeners.set(a,r),this}prependOnceListener(a,n){let r=(...e)=>{this.off(a,r),n(...e)};return this.prependListener(a,r),this}maxListeners(){return this._maxListeners}addListener(a,n){return this.on(a,n),this}on(a,n){this._eventListeners.has(a)||this._eventListeners.set(a,[]);let r=this._eventListeners.get(a);return r&&(r.length>=this._maxListeners&&console.warn(`MaxListenersExceededWarning: Possible event memory leak detected. ${r.length+1} ${a} listeners added. Use setMaxListeners() to increase limit.`),r.push(n)),this}removeListener(a,n){return this.off(a,n),this}off(a,n){let r=this._eventListeners.get(a)??[],e=r.indexOf(n);return e!==-1&&r.splice(e,1),r.length===0&&this._eventListeners.delete(a),this}emit(a,...n){let r=!1,e=this._eventListeners.get(a);if(e&&e.length>0)for(let t of e)t(...n),r=!0;if(a==="error"){let t=n[0]instanceof Error?n[0]:new Error(`${n[0]}`);if(this._throwOnEmitError&&!r)throw t}return r}listeners(a){return this._eventListeners.get(a)??[]}removeAllListeners(a){return a!==void 0?this._eventListeners.delete(a):this._eventListeners.clear(),this}setMaxListeners(a){this._maxListeners=a;for(let n of this._eventListeners.values())n.length>a&&n.splice(a)}getAllListeners(){let a=[];for(let n of this._eventListeners.values())a=[...a,...n];return a}},Ys=class extends z4{_hooks;_throwHookErrors=!1;_enforceBeforeAfter=!1;_deprecatedHooks;_allowDeprecated=!0;constructor(a){super({logger:a?.logger}),this._hooks=new Map,this._deprecatedHooks=a?.deprecatedHooks?new Map(a.deprecatedHooks):new Map,a?.throwHookErrors!==void 0&&(this._throwHookErrors=a.throwHookErrors),a?.enforceBeforeAfter!==void 0&&(this._enforceBeforeAfter=a.enforceBeforeAfter),a?.allowDeprecated!==void 0&&(this._allowDeprecated=a.allowDeprecated)}get hooks(){return this._hooks}get throwHookErrors(){return this._throwHookErrors}set throwHookErrors(a){this._throwHookErrors=a}get enforceBeforeAfter(){return this._enforceBeforeAfter}set enforceBeforeAfter(a){this._enforceBeforeAfter=a}get deprecatedHooks(){return this._deprecatedHooks}set deprecatedHooks(a){this._deprecatedHooks=a}get allowDeprecated(){return this._allowDeprecated}set allowDeprecated(a){this._allowDeprecated=a}validateHookName(a){if(this._enforceBeforeAfter){let n=a.trim().toLocaleLowerCase();if(!n.startsWith("before")&&!n.startsWith("after"))throw new Error(`Hook event "${a}" must start with "before" or "after" when enforceBeforeAfter is enabled`)}}checkDeprecatedHook(a){if(this._deprecatedHooks.has(a)){let n=this._deprecatedHooks.get(a),r=`Hook "${a}" is deprecated${n?`: ${n}`:""}`;return this.emit("warn",{hook:a,message:r}),this.logger?.warn&&this.logger.warn(r),this._allowDeprecated}return!0}onHook(a,n){if(this.validateHookName(a),!this.checkDeprecatedHook(a))return;let r=this._hooks.get(a);r?r.push(n):this._hooks.set(a,[n])}onHookEntry(a){this.onHook(a.event,a.handler)}addHook(a,n){this.onHook(a,n)}onHooks(a){for(let n of a)this.onHook(n.event,n.handler)}prependHook(a,n){if(this.validateHookName(a),!this.checkDeprecatedHook(a))return;let r=this._hooks.get(a);r?r.unshift(n):this._hooks.set(a,[n])}prependOnceHook(a,n){if(this.validateHookName(a),!this.checkDeprecatedHook(a))return;let r=async(...e)=>(this.removeHook(a,r),n(...e));this.prependHook(a,r)}onceHook(a,n){if(this.validateHookName(a),!this.checkDeprecatedHook(a))return;let r=async(...e)=>(this.removeHook(a,r),n(...e));this.onHook(a,r)}removeHook(a,n){if(this.validateHookName(a),!this.checkDeprecatedHook(a))return;let r=this._hooks.get(a);if(r){let e=r.indexOf(n);e!==-1&&r.splice(e,1)}}removeHooks(a){for(let n of a)this.removeHook(n.event,n.handler)}async hook(a,...n){if(this.validateHookName(a),!this.checkDeprecatedHook(a))return;let r=this._hooks.get(a);if(r)for(let e of r)try{await e(...n)}catch(t){let i=`${a}: ${t.message}`;if(this.emit("error",new Error(i)),this.logger&&this.logger.error(i),this._throwHookErrors)throw new Error(i)}}async beforeHook(a,...n){await this.hook(`before:${a}`,...n)}async afterHook(a,...n){await this.hook(`after:${a}`,...n)}async callHook(a,...n){await this.hook(a,...n)}getHooks(a){if(this.validateHookName(a),!!this.checkDeprecatedHook(a))return this._hooks.get(a)}clearHooks(){this._hooks.clear()}};import{Buffer as tX}from"node:buffer";var q4=class{value;prev=void 0;next=void 0;constructor(a){this.value=a}},d_=class{head=void 0;tail=void 0;nodesMap=new Map;addToFront(a){let n=new q4(a);this.head?(n.next=this.head,this.head.prev=n,this.head=n):this.head=this.tail=n,this.nodesMap.set(a,n)}moveToFront(a){let n=this.nodesMap.get(a);!n||this.head===n||(n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),n===this.tail&&(this.tail=n.prev),n.prev=void 0,n.next=this.head,this.head&&(this.head.prev=n),this.head=n,this.tail??=n)}getOldest(){return this.tail?this.tail.value:void 0}removeOldest(){if(!this.tail)return;let a=this.tail.value;return this.tail.prev?(this.tail=this.tail.prev,this.tail.next=void 0):this.head=this.tail=void 0,this.nodesMap.delete(a),a}get size(){return this.nodesMap.size}};var $4=16,xp=16777216,p_=class extends Ys{_lru=new d_;_storeHashSize=$4;_storeHashAlgorithm=Ws.DJB2;_store=Array.from({length:this._storeHashSize},()=>new Map);_ttl;_useClone=!0;_lruSize=0;_checkInterval=0;_interval=0;constructor(a){super(),a?.ttl&&this.setTtl(a.ttl),a?.useClone!==void 0&&(this._useClone=a.useClone),a?.storeHashSize&&a.storeHashSize>0&&(this._storeHashSize=a.storeHashSize),a?.lruSize&&(a.lruSize>xp?this.emit("error",new Error(`LRU size cannot be larger than ${xp} due to Map limitations.`)):this._lruSize=a.lruSize),a?.checkInterval&&(this._checkInterval=a.checkInterval),a?.storeHashAlgorithm&&(this._storeHashAlgorithm=a.storeHashAlgorithm),this._store=Array.from({length:this._storeHashSize},()=>new Map),this.startIntervalCheck()}get ttl(){return this._ttl}set ttl(a){this.setTtl(a)}get useClone(){return this._useClone}set useClone(a){this._useClone=a}get lruSize(){return this._lruSize}set lruSize(a){if(a>xp){this.emit("error",new Error(`LRU size cannot be larger than ${xp} due to Map limitations.`));return}if(this._lruSize=a,this._lruSize===0){this._lru=new d_;return}this.lruResize()}get checkInterval(){return this._checkInterval}set checkInterval(a){this._checkInterval=a}get size(){let a=0;for(let n of this._store)a+=n.size;return a}get storeHashSize(){return this._storeHashSize}set storeHashSize(a){a!==this._storeHashSize&&(this._storeHashSize=a,this._store=Array.from({length:this._storeHashSize},()=>new Map))}get storeHashAlgorithm(){return this._storeHashAlgorithm}set storeHashAlgorithm(a){this._storeHashAlgorithm=a}get keys(){let a=[];for(let n of this._store)for(let r of n.keys()){let e=n.get(r);if(e&&this.hasExpired(e)){n.delete(r);continue}a.push(r)}return a.values()}get items(){let a=[];for(let n of this._store)for(let r of n.values()){if(this.hasExpired(r)){n.delete(r.key);continue}a.push(r)}return a.values()}get store(){return this._store}get(a){let n=this.getStore(a),r=n.get(a);if(r){if(r.expires&&Date.now()>r.expires){n.delete(a);return}return this.lruMoveToFront(a),this._useClone?this.clone(r.value):r.value}}getMany(a){let n=[];for(let r of a)n.push(this.get(r));return n}getRaw(a){let n=this.getStore(a),r=n.get(a);if(r){if(r.expires&&r.expires&&Date.now()>r.expires){n.delete(a);return}return this.lruMoveToFront(a),r}}getManyRaw(a){let n=[];for(let r of a)n.push(this.getRaw(r));return n}set(a,n,r){let e=this.getStore(a),t;if(r!==void 0||this._ttl!==void 0)if(typeof r=="object"){if(r.expire&&(t=typeof r.expire=="number"?r.expire:r.expire.getTime()),r.ttl){let o=Vs(r.ttl);o!==void 0&&(t=o)}}else{let o=Vs(r??this._ttl);o!==void 0&&(t=o)}if(this._lruSize>0){if(e.has(a))this.lruMoveToFront(a);else if(this.lruAddToFront(a),this._lru.size>this._lruSize){let o=this._lru.getOldest();o&&(this._lru.removeOldest(),this.delete(o))}}let i={key:a,value:n,expires:t};e.set(a,i)}setMany(a){for(let n of a)this.set(n.key,n.value,n.ttl)}has(a){return!!this.get(a)}hasMany(a){let n=[];for(let r of a){let e=this.get(r);n.push(!!e)}return n}take(a){let n=this.get(a);if(n)return this.delete(a),n}takeMany(a){let n=[];for(let r of a)n.push(this.take(r));return n}delete(a){this.getStore(a).delete(a)}deleteMany(a){for(let n of a)this.delete(n)}clear(){this._store=Array.from({length:this._storeHashSize},()=>new Map),this._lru=new d_}getStore(a){let n=this.getKeyStoreHash(a);return this._store[n]||=new Map,this._store[n]}getKeyStoreHash(a){if(this._store.length===1)return 0;if(typeof this._storeHashAlgorithm=="function")return this._storeHashAlgorithm(a,this._storeHashSize);let n=this._storeHashSize-1;return l_(a,{min:0,max:n,algorithm:this._storeHashAlgorithm})}clone(a){return this.isPrimitive(a)?a:structuredClone(a)}lruAddToFront(a){this._lruSize!==0&&this._lru.addToFront(a)}lruMoveToFront(a){this._lruSize!==0&&this._lru.moveToFront(a)}lruResize(){for(;this._lru.size>this._lruSize;){let a=this._lru.getOldest();a&&(this._lru.removeOldest(),this.delete(a))}}checkExpiration(){for(let a of this._store)for(let n of a.values())n.expires&&Date.now()>n.expires&&a.delete(n.key)}startIntervalCheck(){this._checkInterval>0&&(this._interval&&clearInterval(this._interval),this._interval=setInterval(()=>{this.checkExpiration()},this._checkInterval).unref())}stopIntervalCheck(){this._interval&&clearInterval(this._interval),this._interval=0,this._checkInterval=0}wrap(a,n){let r={ttl:n?.ttl??this._ttl,keyPrefix:n?.keyPrefix,createKey:n?.createKey,cache:this};return u_(a,r)}isPrimitive(a){return a==null||typeof a=="string"||typeof a=="number"||typeof a=="boolean"}setTtl(a){typeof a=="string"||a===void 0?this._ttl=a:a>0?this._ttl=a:this._ttl=void 0}hasExpired(a){return!!(a.expires&&Date.now()>a.expires)}};var tx=class extends Ys{options={stdTTL:0,checkperiod:600,useClones:!0,deleteOnExpire:!0,maxKeys:-1};store=new Map;_stats=new Cl({enabled:!0});_cacheable=new p_;intervalId=0;constructor(a){super(),a&&(this.options={...this.options,...a}),this.startInterval()}set(a,n,r=0){if(typeof a!="string"&&typeof a!="number")throw this.createError("The key argument has to be of type `string` or `number`. Found: `__key`",a);if(r&&typeof r!="number"&&typeof r!="string")throw this.createError("The ttl argument has to be a number or a string for shorthand ttl.",this.formatKey(a));let e=this.formatKey(a),t=0;this.options.stdTTL&&(t=this.getExpirationTimestamp(this.options.stdTTL)),r&&(t=this.getExpirationTimestamp(r));let i=0;if(t&&t>0&&(i=t),this.options.maxKeys){let{maxKeys:o}=this.options;if(o>-1&&this.store.size>=o)throw this.createError("Cache max keys amount exceeded",this.formatKey(a))}return this.store.set(e,{key:e,value:n,ttl:i}),this.emit("set",e,n,t),this._stats.incrementKSize(e),this._stats.incrementVSize(n),this._stats.setCount(this.store.size),!0}mset(a){if(!Array.isArray(a))throw this.createError("The keys argument has to be an array.");for(let n of a)this.set(n.key,n.value,n.ttl);return!0}get(a){let n=this.store.get(this.formatKey(a));if(n){if(n.ttl>0){if(n.ttl<Date.now()){this.options.deleteOnExpire&&this.del(a),this._stats.incrementMisses(),this.emit("expired",this.formatKey(a),n.value);return}return this._stats.incrementHits(),this.options.useClones?this._cacheable.clone(n.value):n.value}return this._stats.incrementHits(),this.options.useClones?this._cacheable.clone(n.value):n.value}this._stats.incrementMisses()}mget(a){let n={};for(let r of a){let e=this.get(r);e&&(n[this.formatKey(r)]=e)}return n}take(a){let n=this.get(a);if(n)return this.del(a),this.options.useClones?this._cacheable.clone(n):n}del(a){if(Array.isArray(a))return this.mdel(a);let n=this.store.get(this.formatKey(a));if(n){let r=this.formatKey(a);return this.store.delete(r),this.emit("del",r,n.value),this._stats.decreaseKSize(r),this._stats.decreaseVSize(n.value),this._stats.setCount(this.store.size),1}return 0}mdel(a){let n=0;for(let r of a)n+=this.del(r);return n}ttl(a,n){let r=this.store.get(this.formatKey(a));if(r){let e=n??this.options.stdTTL;return r.ttl=this.getExpirationTimestamp(e),this.store.set(this.formatKey(a),r),!0}return!1}getTtl(a){let n=this.store.get(this.formatKey(a));if(n)return n.ttl===0?0:n.ttl}keys(){let a=[];for(let n of this.store.keys())a.push(n);return a}has(a){return this.store.has(this.formatKey(a))}getStats(){return{keys:this._stats.count,hits:this._stats.hits,misses:this._stats.misses,ksize:this._stats.ksize,vsize:this._stats.vsize}}flushAll(){this.store.clear(),this.flushStats(),this.emit("flush")}flushStats(){this._stats=new Cl({enabled:!0}),this.emit("flush_stats")}close(){this.stopInterval()}getIntervalId(){return this.intervalId}formatKey(a){return a.toString()}getExpirationTimestamp(a){if(typeof a=="string")return Vs(a);let n=Date.now(),r=a*1e3;return n+r}startInterval(){if(this.options.checkperiod&&this.options.checkperiod>0){let a=this.options.checkperiod*1e3;this.intervalId=setInterval(()=>{this.checkData()},a).unref();return}this.intervalId=0}checkData(){for(let[a,n]of this.store.entries())n.ttl>0&&n.ttl<Date.now()&&(this.options.deleteOnExpire&&this.del(a),this.emit("expired",this.formatKey(a),n.value))}stopInterval(){this.intervalId!==0&&(clearInterval(this.intervalId),this.intervalId=0)}createError(a,n){let r=a;return n&&(r=r.replace("__key",n)),new Error(r)}},Ur=tx;var vX=new Error("timeout while waiting for mutex to become available"),UX=new Error("mutex already locked"),nx=new Error("request for lock canceled"),rx=function(a,n,r,e){function t(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{l(e.next(d))}catch(f){o(f)}}function c(d){try{l(e.throw(d))}catch(f){o(f)}}function l(d){d.done?i(d.value):t(d.value).then(s,c)}l((e=e.apply(a,n||[])).next())})},f_=class{constructor(n,r=nx){this._value=n,this._cancelError=r,this._queue=[],this._weightedWaiters=[]}acquire(n=1,r=0){if(n<=0)throw new Error(`invalid weight ${n}: must be positive`);return new Promise((e,t)=>{let i={resolve:e,reject:t,weight:n,priority:r},o=PN(this._queue,s=>r<=s.priority);o===-1&&n<=this._value?this._dispatchItem(i):this._queue.splice(o+1,0,i)})}runExclusive(n){return rx(this,arguments,void 0,function*(r,e=1,t=0){let[i,o]=yield this.acquire(e,t);try{return yield r(i)}finally{o()}})}waitForUnlock(n=1,r=0){if(n<=0)throw new Error(`invalid weight ${n}: must be positive`);return this._couldLockImmediately(n,r)?Promise.resolve():new Promise(e=>{this._weightedWaiters[n-1]||(this._weightedWaiters[n-1]=[]),ix(this._weightedWaiters[n-1],{resolve:e,priority:r})})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(n){this._value=n,this._dispatchQueue()}release(n=1){if(n<=0)throw new Error(`invalid weight ${n}: must be positive`);this._value+=n,this._dispatchQueue()}cancel(){this._queue.forEach(n=>n.reject(this._cancelError)),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(n){let r=this._value;this._value-=n.weight,n.resolve([r,this._newReleaser(n.weight)])}_newReleaser(n){let r=!1;return()=>{r||(r=!0,this.release(n))}}_drainUnlockWaiters(){if(this._queue.length===0)for(let n=this._value;n>0;n--){let r=this._weightedWaiters[n-1];r&&(r.forEach(e=>e.resolve()),this._weightedWaiters[n-1]=[])}else{let n=this._queue[0].priority;for(let r=this._value;r>0;r--){let e=this._weightedWaiters[r-1];if(!e)continue;let t=e.findIndex(i=>i.priority<=n);(t===-1?e:e.splice(0,t)).forEach(i=>i.resolve())}}}_couldLockImmediately(n,r){return(this._queue.length===0||this._queue[0].priority<r)&&n<=this._value}};function ix(a,n){let r=PN(a,e=>n.priority<=e.priority);a.splice(r+1,0,n)}function PN(a,n){for(let r=a.length-1;r>=0;r--)if(n(a[r]))return r;return-1}var ax=function(a,n,r,e){function t(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{l(e.next(d))}catch(f){o(f)}}function c(d){try{l(e.throw(d))}catch(f){o(f)}}function l(d){d.done?i(d.value):t(d.value).then(s,c)}l((e=e.apply(a,n||[])).next())})},ji=class{constructor(n){this._semaphore=new f_(1,n)}acquire(){return ax(this,arguments,void 0,function*(n=0){let[,r]=yield this._semaphore.acquire(1,n);return r})}runExclusive(n,r=0){return this._semaphore.runExclusive(()=>n(),1,r)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(n=0){return this._semaphore.waitForUnlock(1,n)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}};import{randomBytes as ox}from"node:crypto";function sx(a,n,r){let e=r||new Ur({stdTTL:_r.SIGNAL_STORE,useClones:!1,deleteOnExpire:!0}),t=new ji;function i(o,s){return`${o}.${s}`}return{async get(o,s){return t.runExclusive(async()=>{let c={},l=[];for(let d of s){let f=await e.get(i(o,d));typeof f<"u"?c[d]=f:l.push(d)}if(l.length){n?.trace({items:l.length},"loading from store");let d=await a.get(o,l);for(let f of l){let g=d[f];g&&(c[f]=g,e.set(i(o,f),g))}}return c})},async set(o){return t.runExclusive(async()=>{let s=0;for(let c in o)for(let l in o[c])await e.set(i(c,l),o[c][l]),s+=1;n?.trace({keys:s},"updated cache"),await a.set(o)})},async clear(){await e.flushAll(),await a.clear?.()}}}var cx=new ji,lx=new ji,wN=a=>a==="signed-pre-key"?lx:cx;async function ux(a,n,r,e,t,i,o){await wN(n).runExclusive(async()=>{let c=a[n];if(!c)return;r[n]=r[n]||{},e[n]=e[n]||{};let l=[],d=[];for(let g in c)c[g]===null?l.push(g):d.push(g);for(let g of d)r[n]&&(r[n][g]=c[g]),e[n]&&(e[n][g]=c[g]);if(l.length===0)return;if(i){for(let g of l)r[n]?(r[n][g]=null,e[n]&&(e[n][g]=null)):t.warn(`Skipping deletion of non-existent ${n} in transaction: ${g}`);return}if(!o)return;let f=await o.get(n,l);for(let g of l)f[g]?(r[n]&&(r[n][g]=null),e[n]&&(e[n][g]=null)):t.warn(`Skipping deletion of non-existent ${n}: ${g}`)})}function dx(a,n,r,e){Object.assign(r[n],a[n]),e[n]=e[n]||{},Object.assign(e[n],a[n])}async function LN(a,n,r,e){await wN(n).runExclusive(async()=>{let i=a[n];if(i)for(let o in i)i[o]===null&&((await r.get(n,[o]))[o]||(e.warn(`Skipping deletion of non-existent ${n}: ${o}`),a[n]&&delete a[n][o]))})}async function DN(a,n,r){if(a.length===0)return r();if(a.length===1)return n(a[0]).runExclusive(r);let t=[...a].sort().map(n),i=[];try{for(let o of t)i.push(await o.acquire());return await r()}finally{for(;i.length>0;){let o=i.pop();o&&o()}}}var h_=(a,n,{maxCommitRetries:r,delayBetweenTriesMs:e})=>{let t=0,i={},o={},s=new dr({ttl:60*60*1e3,ttlAutopurge:!0,updateAgeOnGet:!0}),c=0;function l(R){return g(`keytype:${R}`)}function d(R){return g(`senderkey:${R}`)}function f(R){return g(`transaction:${R}`)}function g(R){let M=s.get(R);return M||(M=new ji,s.set(R,M),n.info({key:R},"created new mutex")),M}function _(R,M){return d(R).runExclusive(M)}function y(){return c>0}async function T(){if(!Object.keys(o).length){n.trace("no mutations in transaction");return}n.trace("committing transaction");let R=r;for(;R>0;){R-=1;try{await a.set(o),n.trace({dbQueriesInTransaction:t},"committed transaction");return}catch{n.warn(`failed to commit ${Object.keys(o).length} mutations, tries left=${R}`),R>0&&await Ci(e)}}}function I(){c-=1,c===0&&(i={},o={},t=0)}async function O(R){let M=await R();return c===1&&await T(),M}return{get:async(R,M)=>{if(y()){let v=i[R],D=v?M.filter(k=>typeof v[k]>"u"):M;if(D.length)if(t+=1,R==="sender-key"){n.info({idsRequiringFetch:D},"processing sender keys in transaction");for(let k of D)await _(k,async()=>{n.info({senderKeyName:k},"fetching sender key in transaction");let b=await a.get(R,[k]);i[R]||(i[R]={}),Object.assign(i[R],b),n.info({senderKeyName:k,hasResult:!!b[k]},"sender key fetch complete")})}else await l(R).runExclusive(async()=>{let k=await a.get(R,D);i[R]||(i[R]={}),Object.assign(i[R],k)});return M.reduce((k,b)=>{let j=i[R]?.[b];return j&&(k[b]=j),k},{})}else if(R==="sender-key"){let v={};for(let D of M){let k=await _(D,async()=>await a.get(R,[D]));Object.assign(v,k)}return v}else return await l(R).runExclusive(()=>a.get(R,M))},set:async R=>{if(y()){n.trace({types:Object.keys(R)},"caching in transaction");for(let M in R){let v=M;i[v]=i[v]||{},v==="pre-key"?await ux(R,v,i,o,n,!0):dx(R,v,i,o)}}else{let M="sender-key"in R,v=M?Object.keys(R["sender-key"]||{}):[];if(M){n.info({senderKeyNames:v},"processing sender key set operations");for(let k of v)await _(k,async()=>{let b={"sender-key":{[k]:R["sender-key"][k]}};n.trace({senderKeyName:k},"storing sender key"),await a.set(b),n.trace({senderKeyName:k},"sender key stored")});let D={...R};delete D["sender-key"],Object.keys(D).length>0&&await DN(Object.keys(D),l,async()=>{for(let k in D){let b=k;b==="pre-key"&&await LN(D,b,a,n)}await a.set(D)})}else await DN(Object.keys(R),l,async()=>{for(let D in R){let k=D;k==="pre-key"&&await LN(R,k,a,n)}await a.set(R)})}},isInTransaction:y,async transaction(R,M){let v=await f(M).acquire();try{c+=1,c===1&&n.trace("entering transaction"),v();try{return await O(R)}finally{I()}}catch(D){throw v(),D}}}},g_=()=>{let a=Gt.generateKeyPair();return{noiseKey:Gt.generateKeyPair(),pairingEphemeralKeyPair:Gt.generateKeyPair(),signedIdentityKey:a,signedPreKey:sg(a,1),registrationId:gg(),advSecretKey:ox(32).toString("base64"),processedHistoryMessages:[],nextPreKeyId:1,firstUnuploadedPreKeyId:1,accountSyncCounter:0,accountSettings:{unarchiveChats:!1},registered:!1,pairingCode:void 0,lastPropHash:void 0,routingInfo:void 0}};import px from"node:events";import{createReadStream as fx}from"node:fs";import{writeFile as hx}from"node:fs/promises";import{createInterface as gx}from"node:readline";var go=()=>{let a=Promise.resolve(),n;return{mutex(r){return a=(async()=>{try{await a}catch{}try{return await r()}finally{clearTimeout(n)}})(),a}}},kN=()=>{let a={};return{mutex(n,r){return a[n]||(a[n]=go()),a[n].mutex(r)}}};var Ex=(a,n)=>{let r=a.emit,e=go();a.emit=function(...t){let i=JSON.stringify({timestamp:Date.now(),event:t[0],data:t[1]})+`
`,o=r.apply(a,t);return e.mutex(async()=>{await hx(n,i,{flag:"a"})}),o}},yx=(a,n=0)=>{let r=new px;return{ev:r,task:(async()=>{let t=fx(a),i=gx({input:t,crlfDelay:1/0});for await(let o of i)if(o){let{event:s,data:c}=JSON.parse(o);r.emit(s,c),n&&await Ci(n)}t.close()})()}};import{mkdir as _x,readFile as Tx,stat as Ix,unlink as Ox,writeFile as Sx}from"node:fs/promises";import{join as E_}from"node:path";var vN=new Map,y_=a=>{let n=vN.get(a);return n||(n=new ji,vN.set(a,n)),n},Ax=async a=>{let n=async(s,c)=>{let l=E_(a,i(c));return y_(l).acquire().then(async f=>{try{await Sx(l,JSON.stringify(s,bi.replacer))}finally{f()}})},r=async s=>{try{let c=E_(a,i(s));return await y_(c).acquire().then(async d=>{try{let f=await Tx(c,{encoding:"utf-8"});return JSON.parse(f,bi.reviver)}finally{d()}})}catch{return null}},e=async s=>{try{let c=E_(a,i(s));return y_(c).acquire().then(async d=>{try{await Ox(c)}catch{}finally{d()}})}catch{}},t=await Ix(a).catch(()=>{});if(t){if(!t.isDirectory())throw new Error(`found something that is not a directory at ${a}, either delete it or specify a different location`)}else await _x(a,{recursive:!0});let i=s=>s?.replace(/\//g,"__")?.replace(/:/g,"-"),o=await r("creds.json")||g_();return{state:{creds:o,keys:{get:async(s,c)=>{let l={};return await Promise.all(c.map(async d=>{let f=await r(`${s}-${d}.json`);s==="app-state-sync-key"&&f&&(f=x.Message.AppStateSyncKeyData.create(f)),l[d]=f})),l},set:async s=>{let c=[];for(let l in s)for(let d in s[l]){let f=s[l][d],g=`${l}-${d}.json`;c.push(f?n(f,g):e(g))}await Promise.all(c)}}},saveCreds:async()=>n(o,"creds.json")}};var mx=192,bx=async(a,{thumbnailWidth:n,fetchOpts:r})=>{let e=await Al(a,r);return await Cp(e,n)},__=async(a,n={thumbnailWidth:mx,fetchOpts:{timeout:3e3}})=>{try{let{getLinkPreview:t}=await import("link-preview-js"),i=a;!a.startsWith("https://")&&!a.startsWith("http://")&&(i="https://"+i);let o=await t(i,{...n.fetchOpts,followRedirects:"follow",handleRedirects:(s,c)=>{let l=new URL(s),d=new URL(c);return d.hostname===l.hostname||d.hostname==="www."+l.hostname||"www."+d.hostname===l.hostname},headers:n.fetchOpts});if(o&&"title"in o&&o.title){let[s]=o.images,c={"canonical-url":o.url,"matched-text":a,title:o.title,description:o.description,originalThumbnailUrl:s};if(n.uploadImage){let{imageMessage:l}=await js({image:{url:s}},{upload:n.uploadImage,mediaTypeOverride:"thumbnail-link",options:n.fetchOpts});c.jpegThumbnail=l?.jpegThumbnail?Buffer.from(l.jpegThumbnail):void 0,c.highQualityThumbnail=l||void 0}else try{c.jpegThumbnail=s?(await bx(s,n)).buffer:void 0}catch(l){n.logger?.debug({err:l.stack,url:i},"error in generating thumbnail")}return c}}catch(r){if(!r.message.includes("receive a valid"))throw r}};import Px from"node:events";var Rx=new Set([He.CALL_MISSED_GROUP_VIDEO,He.CALL_MISSED_GROUP_VOICE,He.CALL_MISSED_VIDEO,He.CALL_MISSED_VOICE]),Cx=new Set([He.GROUP_PARTICIPANT_ADD]),T_=(a,n)=>{a.key.remoteJid=nt(a.key.remoteJid),a.key.participant=a.key.participant?nt(a.key.participant):void 0;let r=ar(a.message);r?.reactionMessage&&e(r.reactionMessage.key),r?.pollUpdateMessage&&e(r.pollUpdateMessage.pollCreationMessageKey);function e(t){a.key.fromMe||(t.fromMe=t.fromMe?!1:ln(t.participant||t.remoteJid,n),t.remoteJid=a.key.remoteJid,t.participant=t.participant||a.key.participant)}},Fp=(a,n)=>{let r=ar(a.message),e=!!Ks(r);return(!!r||Rx.has(a.messageStubType)||Cx.has(a.messageStubType)&&a.messageStubParameters?.some(t=>ln(n,t)))&&e&&!r?.protocolMessage&&!r?.reactionMessage&&!r?.pollUpdateMessage},jp=a=>!a.key.fromMe&&!a.messageStubType,UN=({remoteJid:a,participant:n,fromMe:r})=>zo(a)&&!mi(a)&&!r?n:a;function Nx({encPayload:a,encIv:n},{pollCreatorJid:r,pollMsgId:e,pollEncKey:t,voterJid:i}){let o=Buffer.concat([f(e),f(r),f(i),f("Poll Vote"),new Uint8Array([1])]),s=fr(t,new Uint8Array(32),"sha256"),c=fr(o,s,"sha256"),l=f(`${e}\0${i}`),d=Fa(a,c,n,l);return x.Message.PollVoteMessage.decode(d);function f(g){return Buffer.from(g)}}var Mx=async(a,{shouldProcessHistoryMsg:n,placeholderResendCache:r,ev:e,creds:t,signalRepository:i,keyStore:o,logger:s,options:c})=>{let l=t.me.id,{accountSettings:d}=t,f={id:nt(UN(a.key))},g=Fp(a,l);g&&(f.messages=[{message:a}],f.conversationTimestamp=Bn(a.messageTimestamp),jp(a)&&(f.unreadCount=(f.unreadCount||0)+1));let _=ar(a.message);(g||_?.reactionMessage?.key?.fromMe)&&d?.unarchiveChats&&(f.archived=!1,f.readOnly=!1);let y=_?.protocolMessage;if(y)switch(y.type){case x.Message.ProtocolMessage.Type.HISTORY_SYNC_NOTIFICATION:let T=y.historySyncNotification,I=n,O=!t.processedHistoryMessages?.length;if(s?.info({histNotification:T,process:I,id:a.key.id,isLatest:O},"got history notification"),I){T.syncType!==x.HistorySync.HistorySyncType.ON_DEMAND&&e.emit("creds.update",{processedHistoryMessages:[...t.processedHistoryMessages||[],{key:a.key,messageTimestamp:a.messageTimestamp}]});let j=await Jy(T,c);e.emit("messaging-history.set",{...j,isLatest:T.syncType!==x.HistorySync.HistorySyncType.ON_DEMAND?O:void 0,peerDataRequestSessionId:T.peerDataRequestSessionId})}break;case x.Message.ProtocolMessage.Type.APP_STATE_SYNC_KEY_SHARE:let R=y.appStateSyncKeyShare.keys;if(R?.length){let j="";await o.transaction(async()=>{let H=[];for(let{keyData:L,keyId:U}of R){let X=Buffer.from(U.keyId).toString("base64");H.push(X),await o.set({"app-state-sync-key":{[X]:L}}),j=X}s?.info({newAppStateSyncKeyId:j,newKeys:H},"injecting new app state sync keys")},l),e.emit("creds.update",{myAppStateKeyId:j})}else s?.info({protocolMsg:y},"recv app state sync with 0 keys");break;case x.Message.ProtocolMessage.Type.REVOKE:e.emit("messages.update",[{key:{...a.key,id:y.key.id},update:{message:null,messageStubType:He.REVOKE,key:a.key}}]);break;case x.Message.ProtocolMessage.Type.EPHEMERAL_SETTING:Object.assign(f,{ephemeralSettingTimestamp:Bn(a.messageTimestamp),ephemeralExpiration:y.ephemeralExpiration||null});break;case x.Message.ProtocolMessage.Type.PEER_DATA_OPERATION_REQUEST_RESPONSE_MESSAGE:let M=y.peerDataOperationRequestResponseMessage;if(M){await r?.del(M.stanzaId);let{peerDataOperationResult:j}=M;for(let H of j){let{placeholderMessageResendResponse:L}=H;if(L){let U=dt(x.WebMessageInfo,L.webMessageInfoBytes);setTimeout(()=>{e.emit("messages.upsert",{messages:[U],type:"notify",requestId:M.stanzaId})},500)}}}break;case x.Message.ProtocolMessage.Type.MESSAGE_EDIT:e.emit("messages.update",[{key:{...a.key,id:y.key?.id},update:{message:{editedMessage:{message:y.editedMessage}},messageTimestamp:y.timestampMs?Math.floor(Bn(y.timestampMs)/1e3):a.messageTimestamp}}]);break;case x.Message.ProtocolMessage.Type.LID_MIGRATION_MAPPING_SYNC:let v=y.lidMigrationMappingSyncMessage?.encodedMappingPayload,{pnToLidMappings:D,chatDbMigrationTimestamp:k}=dt(x.LIDMigrationMappingSyncPayload,v);s?.debug({pnToLidMappings:D,chatDbMigrationTimestamp:k},"got lid mappings and chat db migration timestamp");let b=[];for(let{pn:j,latestLid:H,assignedLid:L}of D){let U=H||L;b.push({lid:`${U}@lid`,pn:`${j}@s.whatsapp.net`})}if(await i.lidMapping.storeLIDPNMappings(b),b.length)for(let{pn:j,lid:H}of b)await i.migrateSession(j,H)}else if(_?.reactionMessage){let T={..._.reactionMessage,key:a.key};e.emit("messages.reaction",[{reaction:T,key:_.reactionMessage?.key}])}else if(a.messageStubType){let T=a.key?.remoteJid,I,O=D=>e.emit("group-participants.update",{id:T,author:a.participant,participants:I,action:D}),R=D=>{e.emit("groups.update",[{id:T,...D,author:a.participant??void 0}])},M=(D,k,b)=>{e.emit("group.join-request",{id:T,author:a.participant,participant:D,action:k,method:b})},v=()=>I.find(D=>ln(l,D));switch(a.messageStubType){case He.GROUP_PARTICIPANT_CHANGE_NUMBER:I=a.messageStubParameters||[],O("modify");break;case He.GROUP_PARTICIPANT_LEAVE:case He.GROUP_PARTICIPANT_REMOVE:I=a.messageStubParameters||[],O("remove"),v()&&(f.readOnly=!0);break;case He.GROUP_PARTICIPANT_ADD:case He.GROUP_PARTICIPANT_INVITE:case He.GROUP_PARTICIPANT_ADD_REQUEST_JOIN:I=a.messageStubParameters||[],v()&&(f.readOnly=!1),O("add");break;case He.GROUP_PARTICIPANT_DEMOTE:I=a.messageStubParameters||[],O("demote");break;case He.GROUP_PARTICIPANT_PROMOTE:I=a.messageStubParameters||[],O("promote");break;case He.GROUP_CHANGE_ANNOUNCE:let D=a.messageStubParameters?.[0];R({announce:D==="true"||D==="on"});break;case He.GROUP_CHANGE_RESTRICT:let k=a.messageStubParameters?.[0];R({restrict:k==="true"||k==="on"});break;case He.GROUP_CHANGE_SUBJECT:let b=a.messageStubParameters?.[0];f.name=b,R({subject:b});break;case He.GROUP_CHANGE_DESCRIPTION:let j=a.messageStubParameters?.[0];f.description=j,R({desc:j});break;case He.GROUP_CHANGE_INVITE_LINK:let H=a.messageStubParameters?.[0];R({inviteCode:H});break;case He.GROUP_MEMBER_ADD_MODE:let L=a.messageStubParameters?.[0];R({memberAddMode:L==="all_member_add"});break;case He.GROUP_MEMBERSHIP_JOIN_APPROVAL_MODE:let U=a.messageStubParameters?.[0];R({joinApprovalMode:U==="on"});break;case He.GROUP_MEMBERSHIP_JOIN_APPROVAL_REQUEST_NON_ADMIN_ADD:let X=a.messageStubParameters?.[0],w=a.messageStubParameters?.[1],K=a.messageStubParameters?.[2];M(X,w,K);break}}Object.keys(f).length>1&&e.emit("chats.update",[f])},BN=Mx;var Lx=["messaging-history.set","chats.upsert","chats.update","chats.delete","contacts.upsert","contacts.update","messages.upsert","messages.update","messages.delete","messages.reaction","message-receipt.update","groups.update"],Dx=new Set(Lx),I_=a=>{let n=new Px,r=new Set,e=xN(),t=!1,i=null,o=0,s=1e4,c=3e4;n.on("event",f=>{for(let g in f)n.emit(g,f[g])});function l(){t?o++:(a.debug("Event buffer activated"),t=!0,o++,i&&clearTimeout(i),i=setTimeout(()=>{t&&(a.warn("Buffer timeout reached, auto-flushing"),d())},c))}function d(){if(!t)return!1;a.debug({bufferCount:o},"Flushing event buffer"),t=!1,o=0,i&&(clearTimeout(i),i=null),r.size>s&&(a.debug({cacheSize:r.size},"Clearing history cache"),r.clear());let f=xN(),g=Object.values(e.chatUpdates),_=0;for(let T of g)T.conditional&&(_+=1,f.chatUpdates[T.id]=T,delete e.chatUpdates[T.id]);let y=kx(e);return Object.keys(y).length&&n.emit("event",y),e=f,a.trace({conditionalChatUpdatesLeft:_},"released buffered events"),!0}return{process(f){let g=_=>{f(_)};return n.on("event",g),()=>{n.off("event",g)}},emit(f,g){return t&&Dx.has(f)?(wx(e,r,f,g,a),!0):n.emit("event",{[f]:g})},isBuffering(){return t},buffer:l,flush:d,createBufferedFunction(f){return async(...g)=>{l();try{let _=await f(...g);return o===1&&setTimeout(()=>{t&&o===1&&d()},100),_}catch(_){throw _}finally{o=Math.max(0,o-1),o===0&&setTimeout(d,100)}}},on:(...f)=>n.on(...f),off:(...f)=>n.off(...f),removeAllListeners:(...f)=>n.removeAllListeners(...f)}},xN=()=>({historySets:{chats:{},messages:{},contacts:{},isLatest:!1,empty:!0},chatUpserts:{},chatUpdates:{},chatDeletes:new Set,contactUpserts:{},contactUpdates:{},messageUpserts:{},messageUpdates:{},messageReactions:{},messageDeletes:{},messageReceipts:{},groupUpdates:{}});function wx(a,n,r,e,t){switch(r){case"messaging-history.set":for(let T of e.chats){let I=a.historySets.chats[T.id];I&&(I.endOfHistoryTransferType=T.endOfHistoryTransferType),!I&&!n.has(T.id)&&(a.historySets.chats[T.id]=T,n.add(T.id),i(T))}for(let T of e.contacts){let I=a.historySets.contacts[T.id];if(I)Object.assign(I,wc(T));else{let O=`c:${T.id}`,R=T.notify||T.name||T.verifiedName;(!n.has(O)||R)&&(a.historySets.contacts[T.id]=T,n.add(O))}}for(let T of e.messages){let I=zs(T.key);!a.historySets.messages[I]&&!n.has(I)&&(a.historySets.messages[I]=T,n.add(I))}a.historySets.empty=!1,a.historySets.syncType=e.syncType,a.historySets.progress=e.progress,a.historySets.peerDataRequestSessionId=e.peerDataRequestSessionId,a.historySets.isLatest=e.isLatest||a.historySets.isLatest;break;case"chats.upsert":for(let T of e){let I=a.chatUpserts[T.id];I||(I=a.historySets.chats[T.id],I&&t.debug({chatId:T.id},"absorbed chat upsert in chat set")),I?I=Kp(I,T):(I=T,a.chatUpserts[T.id]=I),i(I),a.chatDeletes.has(T.id)&&a.chatDeletes.delete(T.id)}break;case"chats.update":for(let T of e){let I=T.id,O=T.conditional?T.conditional(a):!0;if(O){delete T.conditional;let R=a.historySets.chats[I]||a.chatUpserts[I];if(R)Kp(R,T);else{let M=a.chatUpdates[I]||{};a.chatUpdates[I]=Kp(M,T)}}else O===void 0&&(a.chatUpdates[I]=T);a.chatDeletes.has(I)&&a.chatDeletes.delete(I)}break;case"chats.delete":for(let T of e)a.chatDeletes.has(T)||a.chatDeletes.add(T),a.chatUpdates[T]&&delete a.chatUpdates[T],a.chatUpserts[T]&&delete a.chatUpserts[T],a.historySets.chats[T]&&delete a.historySets.chats[T];break;case"contacts.upsert":for(let T of e){let I=a.contactUpserts[T.id];I||(I=a.historySets.contacts[T.id],I&&t.debug({contactId:T.id},"absorbed contact upsert in contact set")),I?I=Object.assign(I,wc(T)):(I=T,a.contactUpserts[T.id]=I),a.contactUpdates[T.id]&&(I=Object.assign(a.contactUpdates[T.id],wc(T)),delete a.contactUpdates[T.id])}break;case"contacts.update":let s=e;for(let T of s){let I=T.id,O=a.historySets.contacts[I]||a.contactUpserts[I];if(O)Object.assign(O,T);else{let R=a.contactUpdates[I]||{};a.contactUpdates[I]=Object.assign(R,T)}}break;case"messages.upsert":let{messages:c,type:l}=e;for(let T of c){let I=zs(T.key),O=a.messageUpserts[I]?.message;O||(O=a.historySets.messages[I],O&&t.debug({messageId:I},"absorbed message upsert in message set")),O&&(T.messageTimestamp=O.messageTimestamp),a.messageUpdates[I]&&(t.debug("absorbed prior message update in message upsert"),Object.assign(T,a.messageUpdates[I].update),delete a.messageUpdates[I]),a.historySets.messages[I]?a.historySets.messages[I]=T:a.messageUpserts[I]={message:T,type:l==="notify"||a.messageUpserts[I]?.type==="notify"?"notify":l}}break;case"messages.update":let d=e;for(let{key:T,update:I}of d){let O=zs(T),R=a.historySets.messages[O]||a.messageUpserts[O]?.message;if(R)Object.assign(R,I),I.status===va.READ&&!T.fromMe&&o(R);else{let M=a.messageUpdates[O]||{key:T,update:{}};Object.assign(M.update,I),a.messageUpdates[O]=M}}break;case"messages.delete":let f=e;if("keys"in f){let{keys:T}=f;for(let I of T){let O=zs(I);a.messageDeletes[O]||(a.messageDeletes[O]=I),a.messageUpserts[O]&&delete a.messageUpserts[O],a.messageUpdates[O]&&delete a.messageUpdates[O]}}break;case"messages.reaction":let g=e;for(let{key:T,reaction:I}of g){let O=zs(T),R=a.messageUpserts[O];R?Lp(R.message,I):(a.messageReactions[O]=a.messageReactions[O]||{key:T,reactions:[]},Lp(a.messageReactions[O],I))}break;case"message-receipt.update":let _=e;for(let{key:T,receipt:I}of _){let O=zs(T),R=a.messageUpserts[O];R?Pp(R.message,I):(a.messageReceipts[O]=a.messageReceipts[O]||{key:T,userReceipt:[]},Pp(a.messageReceipts[O],I))}break;case"groups.update":let y=e;for(let T of y){let I=T.id,O=a.groupUpdates[I]||{};a.groupUpdates[I]||(a.groupUpdates[I]=Object.assign(O,T))}break;default:throw new Error(`"${r}" cannot be buffered`)}function i(s){let c=s.id,l=a.chatUpdates[c];if(l){let d=l.conditional?l.conditional(a):!0;d?(delete l.conditional,t.debug({chatId:c},"absorbed chat update in existing chat"),Object.assign(s,Kp(l,s)),delete a.chatUpdates[c]):d===!1&&(t.debug({chatId:c},"chat update condition fail, removing"),delete a.chatUpdates[c])}}function o(s){let c=s.key.remoteJid,l=a.chatUpdates[c]||a.chatUpserts[c];Fp(s,"")&&jp(s)&&typeof l?.unreadCount=="number"&&l.unreadCount>0&&(t.debug({chatId:l.id},"decrementing chat counter"),l.unreadCount-=1,l.unreadCount===0&&delete l.unreadCount)}}function kx(a){let n={};a.historySets.empty||(n["messaging-history.set"]={chats:Object.values(a.historySets.chats),messages:Object.values(a.historySets.messages),contacts:Object.values(a.historySets.contacts),syncType:a.historySets.syncType,progress:a.historySets.progress,isLatest:a.historySets.isLatest,peerDataRequestSessionId:a.historySets.peerDataRequestSessionId});let r=Object.values(a.chatUpserts);r.length&&(n["chats.upsert"]=r);let e=Object.values(a.chatUpdates);e.length&&(n["chats.update"]=e);let t=Array.from(a.chatDeletes);t.length&&(n["chats.delete"]=t);let i=Object.values(a.messageUpserts);if(i.length){let _=i[0].type;n["messages.upsert"]={messages:i.map(y=>y.message),type:_}}let o=Object.values(a.messageUpdates);o.length&&(n["messages.update"]=o);let s=Object.values(a.messageDeletes);s.length&&(n["messages.delete"]={keys:s});let c=Object.values(a.messageReactions).flatMap(({key:_,reactions:y})=>y.flatMap(T=>({key:_,reaction:T})));c.length&&(n["messages.reaction"]=c);let l=Object.values(a.messageReceipts).flatMap(({key:_,userReceipt:y})=>y.flatMap(T=>({key:_,receipt:T})));l.length&&(n["message-receipt.update"]=l);let d=Object.values(a.contactUpserts);d.length&&(n["contacts.upsert"]=d);let f=Object.values(a.contactUpdates);f.length&&(n["contacts.update"]=f);let g=Object.values(a.groupUpdates);return g.length&&(n["groups.update"]=g),n}function Kp(a,n){return n.unreadCount===null&&a.unreadCount<0&&(a.unreadCount=void 0,n.unreadCount=void 0),typeof a.unreadCount=="number"&&typeof n.unreadCount=="number"&&(n={...n},n.unreadCount>=0&&(n.unreadCount=Math.max(n.unreadCount,0)+Math.max(a.unreadCount,0))),Object.assign(a,n)}var zs=a=>`${a.remoteJid},${a.id},${a.fromMe?"1":"0"}`;var vx=512,FN=60*60*1e3,Ux=3e3,Nl=class{constructor(n,r){this.logger=n,this.recentMessagesMap=new dr({max:vx}),this.sessionRecreateHistory=new dr({ttl:FN*2,ttlAutopurge:!0}),this.retryCounters=new dr({ttl:15*60*1e3,ttlAutopurge:!0,updateAgeOnGet:!0}),this.pendingPhoneRequests={},this.maxMsgRetryCount=5,this.statistics={totalRetries:0,successfulRetries:0,failedRetries:0,mediaRetries:0,sessionRecreations:0,phoneRequests:0},this.maxMsgRetryCount=r}addRecentMessage(n,r,e){let t={to:n,id:r},i=this.keyToString(t);this.recentMessagesMap.set(i,{message:e,timestamp:Date.now()}),this.logger.debug(`Added message to retry cache: ${n}/${r}`)}getRecentMessage(n,r){let e={to:n,id:r},t=this.keyToString(e);return this.recentMessagesMap.get(t)}shouldRecreateSession(n,r,e){if(!e)return this.sessionRecreateHistory.set(n,Date.now()),this.statistics.sessionRecreations++,{reason:"we don't have a Signal session with them",recreate:!0};if(r<2)return{reason:"",recreate:!1};let t=Date.now(),i=this.sessionRecreateHistory.get(n);return!i||t-i>FN?(this.sessionRecreateHistory.set(n,t),this.statistics.sessionRecreations++,{reason:"retry count > 1 and over an hour since last recreation",recreate:!0}):{reason:"",recreate:!1}}incrementRetryCount(n){return this.retryCounters.set(n,(this.retryCounters.get(n)||0)+1),this.statistics.totalRetries++,this.retryCounters.get(n)}getRetryCount(n){return this.retryCounters.get(n)||0}hasExceededMaxRetries(n){return this.getRetryCount(n)>=this.maxMsgRetryCount}markRetrySuccess(n){this.statistics.successfulRetries++,this.retryCounters.delete(n),this.cancelPendingPhoneRequest(n)}markRetryFailed(n){this.statistics.failedRetries++,this.retryCounters.delete(n)}schedulePhoneRequest(n,r,e=Ux){this.cancelPendingPhoneRequest(n),this.pendingPhoneRequests[n]=setTimeout(()=>{delete this.pendingPhoneRequests[n],this.statistics.phoneRequests++,r()},e),this.logger.debug(`Scheduled phone request for message ${n} with ${e}ms delay`)}cancelPendingPhoneRequest(n){let r=this.pendingPhoneRequests[n];r&&(clearTimeout(r),delete this.pendingPhoneRequests[n],this.logger.debug(`Cancelled pending phone request for message ${n}`))}keyToString(n){return`${n.to}:${n.id}`}};import{platform as Bx,release as xx}from"node:os";var Fx={aix:"AIX",darwin:"Mac OS",win32:"Windows",android:"Android",freebsd:"FreeBSD",openbsd:"OpenBSD",sunos:"Solaris",linux:void 0,haiku:void 0,cygwin:void 0,netbsd:void 0},O_={ubuntu:a=>["Ubuntu",a,"22.04.4"],macOS:a=>["Mac OS",a,"14.4.1"],baileys:a=>["Baileys",a,"6.5.0"],windows:a=>["Windows",a,"10.0.22631"],appropriate:a=>[Fx[Bx()]||"Ubuntu",a,xx()]},S_=a=>{let n=x.DeviceProps.PlatformType[a.toUpperCase()];return n?n.toString():"1"};function jx(a){return a===null||a===""}function Kx(a){return a>2147483647||a<-2147483648?a&4294967295:a}function jN(a){let n=0;if(!jx(a))for(let r=0;r<a.length;r++)n=n*31+a.charCodeAt(r),n=Kx(n);return n}var Ml=class{constructor(n,r){this.groupId=n,this.sender=r}getGroupId(){return this.groupId}getSender(){return this.sender}serialize(){return`${this.groupId}::${this.sender.id}::${this.sender.deviceId}`}toString(){return this.serialize()}equals(n){return n===null?!1:this.groupId===n.groupId&&this.sender.toString()===n.sender.toString()}hashCode(){return jN(this.groupId)^jN(this.sender.toString())}};var HN=Me(Sa());var KN=Me(Sa()),Eo=class{constructor(n,r){let e=(0,KN.deriveSecrets)(r,Buffer.alloc(32),Buffer.from("WhisperGroup")),t=new Uint8Array(32);t.set(new Uint8Array(e[0].slice(16))),t.set(new Uint8Array(e[1].slice(0,16)),16),this.iv=Buffer.from(e[0].slice(0,16)),this.cipherKey=Buffer.from(t.buffer),this.iteration=n,this.seed=r}getIteration(){return this.iteration}getIv(){return this.iv}getCipherKey(){return this.cipherKey}getSeed(){return this.seed}};var Pl=class a{constructor(n,r){this.MESSAGE_KEY_SEED=Buffer.from([1]),this.CHAIN_KEY_SEED=Buffer.from([2]),this.iteration=n,this.chainKey=Buffer.from(r)}getIteration(){return this.iteration}getSenderMessageKey(){return new Eo(this.iteration,this.getDerivative(this.MESSAGE_KEY_SEED,this.chainKey))}getNext(){return new a(this.iteration+1,this.getDerivative(this.CHAIN_KEY_SEED,this.chainKey))}getSeed(){return this.chainKey}getDerivative(n,r){return(0,HN.calculateMAC)(r,n)}};var yo=class{constructor(n,r,e,t,i,o,s){this.MAX_MESSAGE_KEYS=2e3,s?this.senderKeyStateStructure={...s,senderMessageKeys:Array.isArray(s.senderMessageKeys)?s.senderMessageKeys:[]}:(t&&(i=t.public,o=t.private),this.senderKeyStateStructure={senderKeyId:n||0,senderChainKey:{iteration:r||0,seed:Buffer.from(e||[])},senderSigningKey:{public:Buffer.from(i||[]),private:Buffer.from(o||[])},senderMessageKeys:[]})}getKeyId(){return this.senderKeyStateStructure.senderKeyId}getSenderChainKey(){return new Pl(this.senderKeyStateStructure.senderChainKey.iteration,this.senderKeyStateStructure.senderChainKey.seed)}setSenderChainKey(n){this.senderKeyStateStructure.senderChainKey={iteration:n.getIteration(),seed:n.getSeed()}}getSigningKeyPublic(){let n=Buffer.from(this.senderKeyStateStructure.senderSigningKey.public);if(n.length===32){let r=Buffer.alloc(33);return r[0]=5,n.copy(r,1),r}return n}getSigningKeyPrivate(){let n=this.senderKeyStateStructure.senderSigningKey.private;return Buffer.from(n||[])}hasSenderMessageKey(n){return this.senderKeyStateStructure.senderMessageKeys.some(r=>r.iteration===n)}addSenderMessageKey(n){this.senderKeyStateStructure.senderMessageKeys.push({iteration:n.getIteration(),seed:n.getSeed()}),this.senderKeyStateStructure.senderMessageKeys.length>this.MAX_MESSAGE_KEYS&&this.senderKeyStateStructure.senderMessageKeys.shift()}removeSenderMessageKey(n){let r=this.senderKeyStateStructure.senderMessageKeys.findIndex(e=>e.iteration===n);if(r!==-1){let e=this.senderKeyStateStructure.senderMessageKeys[r];return this.senderKeyStateStructure.senderMessageKeys.splice(r,1),new Eo(e.iteration,e.seed)}return null}getStructure(){return this.senderKeyStateStructure}};var Ki=class a{constructor(n){if(this.MAX_STATES=5,this.senderKeyStates=[],n)for(let r of n)this.senderKeyStates.push(new yo(null,null,null,null,null,null,r))}isEmpty(){return this.senderKeyStates.length===0}getSenderKeyState(n){return n===void 0&&this.senderKeyStates.length?this.senderKeyStates[this.senderKeyStates.length-1]:this.senderKeyStates.find(r=>r.getKeyId()===n)}addSenderKeyState(n,r,e,t){this.senderKeyStates.push(new yo(n,r,e,null,t)),this.senderKeyStates.length>this.MAX_STATES&&this.senderKeyStates.shift()}setSenderKeyState(n,r,e,t){this.senderKeyStates.length=0,this.senderKeyStates.push(new yo(n,r,e,t))}serialize(){return this.senderKeyStates.map(n=>n.getStructure())}static deserialize(n){let r=Buffer.from(n).toString("utf-8"),e=JSON.parse(r,bi.reviver);return new a(e)}};var GN=Me($i());import*as Hp from"node:crypto";function VN(){return Hp.randomBytes(32)}function WN(){return Hp.randomInt(2147483647)}function YN(a){return a||(a=(0,GN.generateKeyPair)()),{public:Buffer.from(a.pubKey),private:Buffer.from(a.privKey)}}var _o=class{constructor(){this.UNSUPPORTED_VERSION=1,this.CURRENT_VERSION=3,this.WHISPER_TYPE=2,this.PREKEY_TYPE=3,this.SENDERKEY_TYPE=4,this.SENDERKEY_DISTRIBUTION_TYPE=5,this.ENCRYPTED_MESSAGE_OVERHEAD=53}};var To=class extends _o{constructor(n,r,e,t,i){if(super(),i)try{let o=i.slice(1),s=dt(x.SenderKeyDistributionMessage,o);this.serialized=i,this.id=s.id,this.iteration=s.iteration,this.chainKey=s.chainKey,this.signatureKey=s.signingKey}catch(o){throw new Error(String(o))}else{let o=this.intsToByteHighAndLow(this.CURRENT_VERSION,this.CURRENT_VERSION);this.id=n,this.iteration=r,this.chainKey=e,this.signatureKey=t;let s=x.SenderKeyDistributionMessage.encode(x.SenderKeyDistributionMessage.create({id:n,iteration:r,chainKey:e,signingKey:this.signatureKey})).finish();this.serialized=Buffer.concat([Buffer.from([o]),s])}}intsToByteHighAndLow(n,r){return((n<<4|r)&255)%256}serialize(){return this.serialized}getType(){return this.SENDERKEY_DISTRIBUTION_TYPE}getIteration(){return this.iteration}getChainKey(){return this.chainKey}getSignatureKey(){return this.signatureKey}getId(){return this.id}};var qs=class{constructor(n){this.senderKeyStore=n}async process(n,r){let e=await this.senderKeyStore.loadSenderKey(n);e.addSenderKeyState(r.getId(),r.getIteration(),r.getChainKey(),r.getSignatureKey()),await this.senderKeyStore.storeSenderKey(n,e)}async create(n){let r=await this.senderKeyStore.loadSenderKey(n);if(r.isEmpty()){let t=WN(),i=VN(),o=YN();r.setSenderKeyState(t,0,i,o),await this.senderKeyStore.storeSenderKey(n,r)}let e=r.getSenderKeyState();if(!e)throw new Error("No session state available");return new To(e.getKeyId(),e.getSenderChainKey().getIteration(),e.getSenderChainKey().getSeed(),e.getSigningKeyPublic())}};var Vp=Me(Sa());var Gp=Me($i());var $s=class extends _o{constructor(n,r,e,t,i){if(super(),this.SIGNATURE_LENGTH=64,i){let o=i[0],s=i.slice(1,i.length-this.SIGNATURE_LENGTH),c=i.slice(-1*this.SIGNATURE_LENGTH),l=dt(x.SenderKeyMessage,s);this.serialized=i,this.messageVersion=(o&255)>>4,this.keyId=l.id,this.iteration=l.iteration,this.ciphertext=l.ciphertext,this.signature=c}else{let o=((this.CURRENT_VERSION<<4|this.CURRENT_VERSION)&255)%256,s=Buffer.from(e),c=x.SenderKeyMessage.encode(x.SenderKeyMessage.create({id:n,iteration:r,ciphertext:s})).finish(),l=this.getSignature(t,Buffer.concat([Buffer.from([o]),c]));this.serialized=Buffer.concat([Buffer.from([o]),c,Buffer.from(l)]),this.messageVersion=this.CURRENT_VERSION,this.keyId=n,this.iteration=r,this.ciphertext=s,this.signature=l}}getKeyId(){return this.keyId}getIteration(){return this.iteration}getCipherText(){return this.ciphertext}verifySignature(n){let r=this.serialized.slice(0,this.serialized.length-this.SIGNATURE_LENGTH),e=this.serialized.slice(-1*this.SIGNATURE_LENGTH);if(!(0,Gp.verifySignature)(n,r,e))throw new Error("Invalid signature!")}getSignature(n,r){return Buffer.from((0,Gp.calculateSignature)(n,r))}serialize(){return this.serialized}getType(){return 4}};var Xs=class{constructor(n,r){this.senderKeyStore=n,this.senderKeyName=r}async encrypt(n){let r=await this.senderKeyStore.loadSenderKey(this.senderKeyName);if(!r)throw new Error("No SenderKeyRecord found for encryption");let e=r.getSenderKeyState();if(!e)throw new Error("No session to encrypt message");let t=e.getSenderChainKey().getIteration(),i=this.getSenderKey(e,t===0?0:t+1),o=await this.getCipherText(i.getIv(),i.getCipherKey(),n),s=new $s(e.getKeyId(),i.getIteration(),o,e.getSigningKeyPrivate());return await this.senderKeyStore.storeSenderKey(this.senderKeyName,r),s.serialize()}async decrypt(n){let r=await this.senderKeyStore.loadSenderKey(this.senderKeyName);if(!r)throw new Error("No SenderKeyRecord found for decryption");let e=new $s(null,null,null,null,n),t=r.getSenderKeyState(e.getKeyId());if(!t)throw new Error("No session found to decrypt message");e.verifySignature(t.getSigningKeyPublic());let i=this.getSenderKey(t,e.getIteration()),o=await this.getPlainText(i.getIv(),i.getCipherKey(),e.getCipherText());return await this.senderKeyStore.storeSenderKey(this.senderKeyName,r),o}getSenderKey(n,r){let e=n.getSenderChainKey();if(e.getIteration()>r){if(n.hasSenderMessageKey(r)){let t=n.removeSenderMessageKey(r);if(!t)throw new Error("No sender message key found for iteration");return t}throw new Error(`Received message with old counter: ${e.getIteration()}, ${r}`)}if(r-e.getIteration()>2e3)throw new Error("Over 2000 messages into the future!");for(;e.getIteration()<r;)n.addSenderMessageKey(e.getSenderMessageKey()),e=e.getNext();return n.setSenderChainKey(e.getNext()),e.getSenderMessageKey()}async getPlainText(n,r,e){try{return(0,Vp.decrypt)(r,e,n)}catch{throw new Error("InvalidMessageException")}}async getCipherText(n,r,e){try{return(0,Vp.encrypt)(r,e,n)}catch{throw new Error("InvalidMessageException")}}};var Wp=class{constructor(n,r){this.mappingCache=new dr({ttl:7*24*60*60*1e3,ttlAutopurge:!0,updateAgeOnGet:!0}),this.keys=n,this.logger=r}async storeLIDPNMappings(n){let r={};for(let{lid:e,pn:t}of n){if(!(an(e)&&On(t)||On(e)&&an(t))){this.logger.warn(`Invalid LID-PN mapping: ${e}, ${t}`);continue}let i=Ge(e),o=Ge(t);if(!i||!o)return;let s=o.user,c=i.user,l=this.mappingCache.get(`pn:${s}`);if(l||(this.logger.trace(`Cache miss for PN user ${s}; checking database`),l=(await this.keys.get("lid-mapping",[s]))[s],l&&(this.mappingCache.set(`pn:${s}`,l),this.mappingCache.set(`lid:${l}`,s))),l===c){this.logger.debug({pnUser:s,lidUser:c},"LID mapping already exists, skipping");continue}r[s]=c}this.logger.trace({pairMap:r},`Storing ${Object.keys(r).length} pn mappings`),await this.keys.transaction(async()=>{for(let[e,t]of Object.entries(r))await this.keys.set({"lid-mapping":{[e]:t,[`${t}_reverse`]:e}}),this.mappingCache.set(`pn:${e}`,t),this.mappingCache.set(`lid:${t}`,e)},"lid-mapping")}async getLIDForPN(n){if(!On(n))return null;let r=Ge(n);if(!r)return null;let e=r.user,t=this.mappingCache.get(`pn:${e}`);if(!t)if(t=(await this.keys.get("lid-mapping",[e]))[e],t)this.mappingCache.set(`pn:${e}`,t),this.mappingCache.set(`lid:${t}`,e);else return this.logger.trace(`No LID mapping found for PN user ${e}`),null;if(t=t.toString(),!t)return this.logger.warn(`Invalid or empty LID user for PN ${n}: lidUser = "${t}"`),null;let i=r.device!==void 0?r.device:0,o=`${t}:${i}@lid`;return this.logger.trace(`getLIDForPN: ${n} \u2192 ${o} (user mapping with device ${i})`),o}async getPNForLID(n){if(!an(n))return null;let r=Ge(n);if(!r)return null;let e=r.user,t=this.mappingCache.get(`lid:${e}`);if(!t||typeof t!="string"){if(t=(await this.keys.get("lid-mapping",[`${e}_reverse`]))[`${e}_reverse`],!t||typeof t!="string")return this.logger.trace(`No reverse mapping found for LID user: ${e}`),null;this.mappingCache.set(`lid:${e}`,t)}let i=r.device!==void 0?r.device:0,o=`${t}:${i}@s.whatsapp.net`;return this.logger.trace(`Found reverse mapping: ${n} \u2192 ${o}`),o}};function qN(a,n){let r=new Wp(a.keys,n),e=Hx(a,r),t=a.keys,i=new dr({ttl:7*24*60*60*1e3,ttlAutopurge:!0,updateAgeOnGet:!0});function o(c){let l=c.toString();return l.includes("@lid.whatsapp.net")||l.includes("@broadcast")||l.includes("@newsletter")}return{decryptGroupMessage({group:c,authorJid:l,msg:d}){let f=A_(c,l),g=new Xs(e,f);return t.transaction(async()=>g.decrypt(d),c)},async processSenderKeyDistributionMessage({item:c,authorJid:l}){let d=new qs(e);if(!c.groupId)throw new Error("Group ID is required for sender key distribution message");let f=A_(c.groupId,l),g=new To(null,null,null,null,c.axolotlSenderKeyDistributionMessage),_=f.toString(),{[_]:y}=await a.keys.get("sender-key",[_]);return y||await e.storeSenderKey(f,new Ki),t.transaction(async()=>{let{[_]:T}=await a.keys.get("sender-key",[_]);T||await e.storeSenderKey(f,new Ki),await d.process(f,g)},c.groupId)},async decryptMessage({jid:c,type:l,ciphertext:d}){let f=pi(c),g=new fi.SessionCipher(e,f);async function _(){let y;switch(l){case"pkmsg":y=await g.decryptPreKeyWhisperMessage(d);break;case"msg":y=await g.decryptWhisperMessage(d);break}return y}return o(f)?await _():t.transaction(async()=>await _(),c)},async encryptMessage({jid:c,data:l}){let d=pi(c),f=new fi.SessionCipher(e,d);return t.transaction(async()=>{let{type:g,body:_}=await f.encrypt(l);return{type:g===3?"pkmsg":"msg",ciphertext:Buffer.from(_,"binary")}},c)},async encryptGroupMessage({group:c,meId:l,data:d}){let f=A_(c,l),g=new qs(e),_=f.toString();return t.transaction(async()=>{let{[_]:y}=await a.keys.get("sender-key",[_]);y||await e.storeSenderKey(f,new Ki);let T=await g.create(f);return{ciphertext:await new Xs(e,f).encrypt(d),senderKeyDistributionMessage:T.serialize()}},c)},async injectE2ESession({jid:c,session:l}){let d=new fi.SessionBuilder(e,pi(c));return t.transaction(async()=>{await d.initOutgoing(l)},c)},jidToSignalProtocolAddress(c){return pi(c).toString()},lidMapping:r,async validateSession(c){try{let l=pi(c),d=await e.loadSession(l.toString());return d?d.haveOpenSession()?{exists:!0}:{exists:!1,reason:"no open session"}:{exists:!1,reason:"no session"}}catch{return{exists:!1,reason:"validation error"}}},async deleteSession(c){if(!c.length)return;let l={};return c.forEach(d=>{let f=pi(d);l[f.toString()]=null}),t.transaction(async()=>{await a.keys.set({session:l})},`delete-${c.length}-sessions`)},async migrateSession(c,l){if(!c||!l.includes("@lid"))return{migrated:0,skipped:0,total:0};if(!c.includes("@s.whatsapp.net"))return{migrated:0,skipped:0,total:1};let{user:d}=Ge(c);n.debug({fromJid:c},"bulk device migration - loading all user devices");let{[d]:f}=await t.get("device-list",[d]);if(!f)return{migrated:0,skipped:0,total:0};let{device:g}=Ge(c),_=g?.toString()||"0";f.includes(_)||f.push(_);let T=f.filter(R=>{let M=`${d}.${R}`;return!i.has(M)}).map(R=>`${d}.${R}`),I=await t.get("session",T),O=[];for(let[R,M]of Object.entries(I))if(M){let v=R.split(".")[1];if(!v)continue;let D=parseInt(v),k=D===0?`${d}@s.whatsapp.net`:`${d}:${D}@s.whatsapp.net`;O.push(k)}return n.info({fromJid:c,totalDevices:f.length,devicesWithSessions:O.length,devices:O},"bulk device migration complete - all user devices processed"),t.transaction(async()=>{let R=O.map(H=>{let L=qo(H,l),U=Ge(H),X=Ge(L);return{fromJid:H,toJid:L,pnUser:U.user,lidUser:X.user,deviceId:U.device||0,fromAddr:pi(H),toAddr:pi(L)}}),M=R.length,v=0,D=Array.from(new Set(R.map(H=>H.fromAddr.toString()))),k=await t.get("session",D),b={};for(let H of R){let L=H.fromAddr.toString(),U=H.toAddr.toString(),X=k[L];if(X){let w=fi.SessionRecord.deserialize(X);w.haveOpenSession()&&(b[U]=w.serialize(),b[L]=null,v++)}}if(Object.keys(b).length>0){await t.set({session:b}),n.debug({migratedSessions:v},"bulk session migration complete");for(let H of R)if(b[H.toAddr.toString()]){let L=`${H.pnUser}.${H.deviceId}`;i.set(L,!0)}}let j=M-v;return{migrated:v,skipped:j,total:M}},`migrate-${O.length}-sessions-${Ge(l)?.user}`)}}}var pi=a=>{let n=Ge(a),{user:r,device:e,server:t}=n;if(!r)throw new Error(`JID decoded but user is empty: "${a}" -> user: "${r}", server: "${t}", device: ${e}`);let i=t==="lid"?`${r}_1`:r,o=e||0;return new fi.ProtocolAddress(i,o)},A_=(a,n)=>new Ml(a,pi(n));function Hx({creds:a,keys:n},r){let e=async t=>{if(t.includes(".")&&!t.includes("_1")){let i=t.split("."),o=i[1]||"0",s=o==="0"?`${i[0]}@s.whatsapp.net`:`${i[0]}:${o}@s.whatsapp.net`,c=await r.getLIDForPN(s);if(c?.includes("@lid"))return pi(c).toString()}return t};return{loadSession:async t=>{try{let i=await e(t),{[i]:o}=await n.get("session",[i]);if(o)return fi.SessionRecord.deserialize(o)}catch{return null}return null},storeSession:async(t,i)=>{let o=await e(t);await n.set({session:{[o]:i.serialize()}})},isTrustedIdentity:()=>!0,loadPreKey:async t=>{let i=t.toString(),{[i]:o}=await n.get("pre-key",[i]);if(o)return{privKey:Buffer.from(o.private),pubKey:Buffer.from(o.public)}},removePreKey:t=>n.set({"pre-key":{[t]:null}}),loadSignedPreKey:()=>{let t=a.signedPreKey;return{privKey:Buffer.from(t.keyPair.private),pubKey:Buffer.from(t.keyPair.public)}},loadSenderKey:async t=>{let i=t.toString(),{[i]:o}=await n.get("sender-key",[i]);return o?Ki.deserialize(o):new Ki},storeSenderKey:async(t,i)=>{let o=t.toString(),s=JSON.stringify(i.serialize());await n.set({"sender-key":{[o]:Buffer.from(s,"utf-8")}})},getOurRegistrationId:()=>a.registrationId,getOurIdentity:()=>{let{signedIdentityKey:t}=a;return{privKey:Buffer.from(t.private),pubKey:Buffer.from(Yr(t.public))}}}}var r1=Me(n1()),Dl=(0,r1.default)({timestamp:()=>`,"time":"${new Date().toJSON()}"`});var o6=[2,3e3,1023223821],s6=[401,403,419],Fs="https://web.whatsapp.com",By="https://call.whatsapp.com/video/",xy="https://call.whatsapp.com/voice/",Oo="CB:",M_="TAG:",c6="CB:Pong",Hs=7*24*60*60,$y="Noise_XX_25519_AESGCM_SHA256\0\0\0\0",i1=3,Ri=Buffer.from([5]),P_=Buffer.from([87,65,6,i1]),Fy=/https:\/\/(?![^:@\/\s]+:[^:@\/\s]+@)[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}(:\d+)?(\/[^\s]*)?/g,Xy={SERIAL:0},L_=[x.Message.HistorySyncNotification.HistorySyncType.INITIAL_BOOTSTRAP,x.Message.HistorySyncNotification.HistorySyncType.PUSH_NAME,x.Message.HistorySyncNotification.HistorySyncType.RECENT,x.Message.HistorySyncNotification.HistorySyncType.FULL,x.Message.HistorySyncNotification.HistorySyncType.ON_DEMAND],D_={version:o6,browser:O_.ubuntu("Chrome"),waWebSocketUrl:"wss://web.whatsapp.com/ws/chat",connectTimeoutMs:2e4,keepAliveIntervalMs:3e4,logger:Dl.child({class:"baileys"}),emitOwnEvents:!0,defaultQueryTimeoutMs:6e4,customUploadHosts:[],retryRequestDelayMs:250,maxMsgRetryCount:5,fireInitQueries:!0,auth:void 0,markOnlineOnConnect:!0,syncFullHistory:!1,patchMessageBeforeSending:a=>a,shouldSyncHistoryMessage:()=>!0,shouldIgnoreJid:()=>!1,linkPreviewImageThumbnailWidth:192,transactionOpts:{maxCommitRetries:10,delayBetweenTriesMs:3e3},generateHighQualityLinkPreview:!1,enableAutoSessionRecreation:!0,enableRecentMessageCache:!0,options:{},appStateMacVerification:{patch:!1,snapshot:!1},countryCode:"US",getMessage:async()=>{},cachedGroupMetadata:async()=>{},makeSignalRepository:qN},Mp={image:"/mms/image",video:"/mms/video",document:"/mms/document",audio:"/mms/audio",sticker:"/mms/image","thumbnail-link":"/mms/image","product-catalog-image":"/product/image","md-app-state":"","md-msg-hist":"/mms/md-app-state","biz-cover-photo":"/pps/biz-cover-photo"},Ly={audio:"Audio",document:"Document",gif:"Video",image:"Image",ppic:"",product:"Image",ptt:"Audio",sticker:"Image",video:"Video","thumbnail-document":"Document Thumbnail","thumbnail-image":"Image Thumbnail","thumbnail-video":"Video Thumbnail","thumbnail-link":"Link Thumbnail","md-msg-hist":"History","md-app-state":"App State","product-catalog-image":"","payment-bg-image":"Payment Background",ptv:"Video","biz-cover-photo":"Image"},jy=Object.keys(Mp),wl=5,w_=30,k_=3e4,v_=5e3,_r={SIGNAL_STORE:5*60,MSG_RETRY:60*60,CALL_OFFER:5*60,USER_DEVICES:5*60};var a1=Me(fn());import{createHash as l6}from"node:crypto";import{createWriteStream as u6,promises as d6}from"node:fs";import{tmpdir as p6}from"node:os";import{join as f6}from"node:path";var o1=a=>{let n=G(a,"product_catalog"),r=qe(n,"product").map(kl),e=G(n,"paging");return{products:r,nextPageCursor:e?Je(e,"after"):void 0}},s1=a=>{let n=G(a,"collections");return{collections:qe(n,"collection").map(e=>{let t=Je(e,"id"),i=Je(e,"name"),o=qe(e,"product").map(kl);return{id:t,name:i,products:o,status:E6(e)}})}},c1=a=>{let n=G(a,"order"),r=qe(n,"product").map(i=>{let o=G(i,"image");return{id:Je(i,"id"),name:Je(i,"name"),imageUrl:Je(o,"url"),price:+Je(i,"price"),currency:Je(i,"currency"),quantity:+Je(i,"quantity")}}),e=G(n,"price");return{price:{total:+Je(e,"total"),currency:Je(e,"currency")},products:r}},U_=(a,n)=>{let r={},e=[];return typeof a<"u"&&e.push({tag:"id",attrs:{},content:Buffer.from(a)}),typeof n.name<"u"&&e.push({tag:"name",attrs:{},content:Buffer.from(n.name)}),typeof n.description<"u"&&e.push({tag:"description",attrs:{},content:Buffer.from(n.description)}),typeof n.retailerId<"u"&&e.push({tag:"retailer_id",attrs:{},content:Buffer.from(n.retailerId)}),n.images.length&&e.push({tag:"media",attrs:{},content:n.images.map(i=>{if(!("url"in i))throw new a1.Boom("Expected img for product to already be uploaded",{statusCode:400});return{tag:"image",attrs:{},content:[{tag:"url",attrs:{},content:Buffer.from(i.url.toString())}]}})}),typeof n.price<"u"&&e.push({tag:"price",attrs:{},content:Buffer.from(n.price.toString())}),typeof n.currency<"u"&&e.push({tag:"currency",attrs:{},content:Buffer.from(n.currency)}),"originCountryCode"in n&&(typeof n.originCountryCode>"u"?r.compliance_category="COUNTRY_ORIGIN_EXEMPT":e.push({tag:"compliance_info",attrs:{},content:[{tag:"country_code_origin",attrs:{},content:Buffer.from(n.originCountryCode)}]})),typeof n.isHidden<"u"&&(r.is_hidden=n.isHidden.toString()),{tag:"product",attrs:r,content:e}},kl=a=>{let n=a.attrs.is_hidden==="true",r=Je(a,"id"),e=G(a,"media"),t=G(a,"status_info");return{id:r,imageUrls:g6(e),reviewStatus:{whatsapp:Je(t,"status")},availability:"in stock",name:Je(a,"name"),retailerId:Je(a,"retailer_id"),url:Je(a,"url"),description:Je(a,"description"),price:+Je(a,"price"),currency:Je(a,"currency"),isHidden:n}};async function B_(a,n,r=3e4){return a={...a,images:a.images?await h6(a.images,n,r):a.images},a}var h6=async(a,n,r=3e4)=>await Promise.all(a.map(async t=>{if("url"in t){let f=t.url.toString();if(f.includes(".whatsapp.net"))return{url:f}}let{stream:i}=await Bs(t),o=l6("sha256"),s=f6(p6(),"img"+zt()),c=u6(s);for await(let f of i)o.update(f),c.write(f);let l=o.digest("base64"),{directPath:d}=await n(s,{mediaType:"product-catalog-image",fileEncSha256B64:l,timeoutMs:r});return await d6.unlink(s).catch(f=>console.log("Error deleting temp file ",f)),{url:xs(d)}})),g6=a=>{let n=G(a,"image");return{requested:Je(n,"request_image_url"),original:Je(n,"original_image_url")}},E6=a=>{let n=G(a,"status_info");return{status:Je(n,"status"),canAppeal:Je(n,"can_appeal")==="true"}};var jl=Me(fn());import{randomBytes as G_}from"node:crypto";var Tr=null;try{Tr=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Rt(a,n,r){this.low=a|0,this.high=n|0,this.unsigned=!!r}Rt.prototype.__isLong__;Object.defineProperty(Rt.prototype,"__isLong__",{value:!0});function _n(a){return(a&&a.__isLong__)===!0}function l1(a){var n=Math.clz32(a&-a);return a?31-n:n}Rt.isLong=_n;var u1={},d1={};function So(a,n){var r,e,t;return n?(a>>>=0,(t=0<=a&&a<256)&&(e=d1[a],e)?e:(r=yt(a,0,!0),t&&(d1[a]=r),r)):(a|=0,(t=-128<=a&&a<128)&&(e=u1[a],e)?e:(r=yt(a,a<0?-1:0,!1),t&&(u1[a]=r),r))}Rt.fromInt=So;function Ir(a,n){if(isNaN(a))return n?Gi:Br;if(n){if(a<0)return Gi;if(a>=g1)return _1}else{if(a<=-f1)return Hn;if(a+1>=f1)return y1}return a<0?Ir(-a,n).neg():yt(a%Zs|0,a/Zs|0,n)}Rt.fromNumber=Ir;function yt(a,n,r){return new Rt(a,n,r)}Rt.fromBits=yt;var qp=Math.pow;function F_(a,n,r){if(a.length===0)throw Error("empty string");if(typeof n=="number"?(r=n,n=!1):n=!!n,a==="NaN"||a==="Infinity"||a==="+Infinity"||a==="-Infinity")return n?Gi:Br;if(r=r||10,r<2||36<r)throw RangeError("radix");var e;if((e=a.indexOf("-"))>0)throw Error("interior hyphen");if(e===0)return F_(a.substring(1),n,r).neg();for(var t=Ir(qp(r,8)),i=Br,o=0;o<a.length;o+=8){var s=Math.min(8,a.length-o),c=parseInt(a.substring(o,o+s),r);if(s<8){var l=Ir(qp(r,s));i=i.mul(l).add(Ir(c))}else i=i.mul(t),i=i.add(Ir(c))}return i.unsigned=n,i}Rt.fromString=F_;function Or(a,n){return typeof a=="number"?Ir(a,n):typeof a=="string"?F_(a,n):yt(a.low,a.high,typeof n=="boolean"?n:a.unsigned)}Rt.fromValue=Or;var p1=65536,y6=1<<24,Zs=p1*p1,g1=Zs*Zs,f1=g1/2,h1=So(y6),Br=So(0);Rt.ZERO=Br;var Gi=So(0,!0);Rt.UZERO=Gi;var Qs=So(1);Rt.ONE=Qs;var E1=So(1,!0);Rt.UONE=E1;var x_=So(-1);Rt.NEG_ONE=x_;var y1=yt(-1,2147483647,!1);Rt.MAX_VALUE=y1;var _1=yt(-1,-1,!0);Rt.MAX_UNSIGNED_VALUE=_1;var Hn=yt(0,-2147483648,!1);Rt.MIN_VALUE=Hn;var re=Rt.prototype;re.toInt=function(){return this.unsigned?this.low>>>0:this.low};re.toNumber=function(){return this.unsigned?(this.high>>>0)*Zs+(this.low>>>0):this.high*Zs+(this.low>>>0)};re.toString=function(n){if(n=n||10,n<2||36<n)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Hn)){var r=Ir(n),e=this.div(r),t=e.mul(r).sub(this);return e.toString(n)+t.toInt().toString(n)}else return"-"+this.neg().toString(n);for(var i=Ir(qp(n,6),this.unsigned),o=this,s="";;){var c=o.div(i),l=o.sub(c.mul(i)).toInt()>>>0,d=l.toString(n);if(o=c,o.isZero())return d+s;for(;d.length<6;)d="0"+d;s=""+d+s}};re.getHighBits=function(){return this.high};re.getHighBitsUnsigned=function(){return this.high>>>0};re.getLowBits=function(){return this.low};re.getLowBitsUnsigned=function(){return this.low>>>0};re.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Hn)?64:this.neg().getNumBitsAbs();for(var n=this.high!=0?this.high:this.low,r=31;r>0&&(n&1<<r)==0;r--);return this.high!=0?r+33:r+1};re.isSafeInteger=function(){var n=this.high>>21;return n?this.unsigned?!1:n===-1&&!(this.low===0&&this.high===-2097152):!0};re.isZero=function(){return this.high===0&&this.low===0};re.eqz=re.isZero;re.isNegative=function(){return!this.unsigned&&this.high<0};re.isPositive=function(){return this.unsigned||this.high>=0};re.isOdd=function(){return(this.low&1)===1};re.isEven=function(){return(this.low&1)===0};re.equals=function(n){return _n(n)||(n=Or(n)),this.unsigned!==n.unsigned&&this.high>>>31===1&&n.high>>>31===1?!1:this.high===n.high&&this.low===n.low};re.eq=re.equals;re.notEquals=function(n){return!this.eq(n)};re.neq=re.notEquals;re.ne=re.notEquals;re.lessThan=function(n){return this.comp(n)<0};re.lt=re.lessThan;re.lessThanOrEqual=function(n){return this.comp(n)<=0};re.lte=re.lessThanOrEqual;re.le=re.lessThanOrEqual;re.greaterThan=function(n){return this.comp(n)>0};re.gt=re.greaterThan;re.greaterThanOrEqual=function(n){return this.comp(n)>=0};re.gte=re.greaterThanOrEqual;re.ge=re.greaterThanOrEqual;re.compare=function(n){if(_n(n)||(n=Or(n)),this.eq(n))return 0;var r=this.isNegative(),e=n.isNegative();return r&&!e?-1:!r&&e?1:this.unsigned?n.high>>>0>this.high>>>0||n.high===this.high&&n.low>>>0>this.low>>>0?-1:1:this.sub(n).isNegative()?-1:1};re.comp=re.compare;re.negate=function(){return!this.unsigned&&this.eq(Hn)?Hn:this.not().add(Qs)};re.neg=re.negate;re.add=function(n){_n(n)||(n=Or(n));var r=this.high>>>16,e=this.high&65535,t=this.low>>>16,i=this.low&65535,o=n.high>>>16,s=n.high&65535,c=n.low>>>16,l=n.low&65535,d=0,f=0,g=0,_=0;return _+=i+l,g+=_>>>16,_&=65535,g+=t+c,f+=g>>>16,g&=65535,f+=e+s,d+=f>>>16,f&=65535,d+=r+o,d&=65535,yt(g<<16|_,d<<16|f,this.unsigned)};re.subtract=function(n){return _n(n)||(n=Or(n)),this.add(n.neg())};re.sub=re.subtract;re.multiply=function(n){if(this.isZero())return this;if(_n(n)||(n=Or(n)),Tr){var r=Tr.mul(this.low,this.high,n.low,n.high);return yt(r,Tr.get_high(),this.unsigned)}if(n.isZero())return this.unsigned?Gi:Br;if(this.eq(Hn))return n.isOdd()?Hn:Br;if(n.eq(Hn))return this.isOdd()?Hn:Br;if(this.isNegative())return n.isNegative()?this.neg().mul(n.neg()):this.neg().mul(n).neg();if(n.isNegative())return this.mul(n.neg()).neg();if(this.lt(h1)&&n.lt(h1))return Ir(this.toNumber()*n.toNumber(),this.unsigned);var e=this.high>>>16,t=this.high&65535,i=this.low>>>16,o=this.low&65535,s=n.high>>>16,c=n.high&65535,l=n.low>>>16,d=n.low&65535,f=0,g=0,_=0,y=0;return y+=o*d,_+=y>>>16,y&=65535,_+=i*d,g+=_>>>16,_&=65535,_+=o*l,g+=_>>>16,_&=65535,g+=t*d,f+=g>>>16,g&=65535,g+=i*l,f+=g>>>16,g&=65535,g+=o*c,f+=g>>>16,g&=65535,f+=e*d+t*l+i*c+o*s,f&=65535,yt(_<<16|y,f<<16|g,this.unsigned)};re.mul=re.multiply;re.divide=function(n){if(_n(n)||(n=Or(n)),n.isZero())throw Error("division by zero");if(Tr){if(!this.unsigned&&this.high===-2147483648&&n.low===-1&&n.high===-1)return this;var r=(this.unsigned?Tr.div_u:Tr.div_s)(this.low,this.high,n.low,n.high);return yt(r,Tr.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Gi:Br;var e,t,i;if(this.unsigned){if(n.unsigned||(n=n.toUnsigned()),n.gt(this))return Gi;if(n.gt(this.shru(1)))return E1;i=Gi}else{if(this.eq(Hn)){if(n.eq(Qs)||n.eq(x_))return Hn;if(n.eq(Hn))return Qs;var o=this.shr(1);return e=o.div(n).shl(1),e.eq(Br)?n.isNegative()?Qs:x_:(t=this.sub(n.mul(e)),i=e.add(t.div(n)),i)}else if(n.eq(Hn))return this.unsigned?Gi:Br;if(this.isNegative())return n.isNegative()?this.neg().div(n.neg()):this.neg().div(n).neg();if(n.isNegative())return this.div(n.neg()).neg();i=Br}for(t=this;t.gte(n);){e=Math.max(1,Math.floor(t.toNumber()/n.toNumber()));for(var s=Math.ceil(Math.log(e)/Math.LN2),c=s<=48?1:qp(2,s-48),l=Ir(e),d=l.mul(n);d.isNegative()||d.gt(t);)e-=c,l=Ir(e,this.unsigned),d=l.mul(n);l.isZero()&&(l=Qs),i=i.add(l),t=t.sub(d)}return i};re.div=re.divide;re.modulo=function(n){if(_n(n)||(n=Or(n)),Tr){var r=(this.unsigned?Tr.rem_u:Tr.rem_s)(this.low,this.high,n.low,n.high);return yt(r,Tr.get_high(),this.unsigned)}return this.sub(this.div(n).mul(n))};re.mod=re.modulo;re.rem=re.modulo;re.not=function(){return yt(~this.low,~this.high,this.unsigned)};re.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};re.clz=re.countLeadingZeros;re.countTrailingZeros=function(){return this.low?l1(this.low):l1(this.high)+32};re.ctz=re.countTrailingZeros;re.and=function(n){return _n(n)||(n=Or(n)),yt(this.low&n.low,this.high&n.high,this.unsigned)};re.or=function(n){return _n(n)||(n=Or(n)),yt(this.low|n.low,this.high|n.high,this.unsigned)};re.xor=function(n){return _n(n)||(n=Or(n)),yt(this.low^n.low,this.high^n.high,this.unsigned)};re.shiftLeft=function(n){return _n(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?yt(this.low<<n,this.high<<n|this.low>>>32-n,this.unsigned):yt(0,this.low<<n-32,this.unsigned)};re.shl=re.shiftLeft;re.shiftRight=function(n){return _n(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?yt(this.low>>>n|this.high<<32-n,this.high>>n,this.unsigned):yt(this.high>>n-32,this.high>=0?0:-1,this.unsigned)};re.shr=re.shiftRight;re.shiftRightUnsigned=function(n){return _n(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?yt(this.low>>>n|this.high<<32-n,this.high>>>n,this.unsigned):n===32?yt(this.high,0,this.unsigned):yt(this.high>>>n-32,0,this.unsigned)};re.shru=re.shiftRightUnsigned;re.shr_u=re.shiftRightUnsigned;re.rotateLeft=function(n){var r;return _n(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?yt(this.high,this.low,this.unsigned):n<32?(r=32-n,yt(this.low<<n|this.high>>>r,this.high<<n|this.low>>>r,this.unsigned)):(n-=32,r=32-n,yt(this.high<<n|this.low>>>r,this.low<<n|this.high>>>r,this.unsigned))};re.rotl=re.rotateLeft;re.rotateRight=function(n){var r;return _n(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?yt(this.high,this.low,this.unsigned):n<32?(r=32-n,yt(this.high<<r|this.low>>>n,this.low<<r|this.high>>>n,this.unsigned)):(n-=32,r=32-n,yt(this.low<<r|this.high>>>n,this.high<<r|this.low>>>n,this.unsigned))};re.rotr=re.rotateRight;re.toSigned=function(){return this.unsigned?yt(this.low,this.high,!1):this};re.toUnsigned=function(){return this.unsigned?this:yt(this.low,this.high,!0)};re.toBytes=function(n){return n?this.toBytesLE():this.toBytesBE()};re.toBytesLE=function(){var n=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,n&255,n>>>8&255,n>>>16&255,n>>>24]};re.toBytesBE=function(){var n=this.high,r=this.low;return[n>>>24,n>>>16&255,n>>>8&255,n&255,r>>>24,r>>>16&255,r>>>8&255,r&255]};Rt.fromBytes=function(n,r,e){return e?Rt.fromBytesLE(n,r):Rt.fromBytesBE(n,r)};Rt.fromBytesLE=function(n,r){return new Rt(n[0]|n[1]<<8|n[2]<<16|n[3]<<24,n[4]|n[5]<<8|n[6]<<16|n[7]<<24,r)};Rt.fromBytesBE=function(n,r){return new Rt(n[4]<<24|n[5]<<16|n[6]<<8|n[7],n[0]<<24|n[1]<<16|n[2]<<8|n[3],r)};typeof BigInt=="function"&&(Rt.fromBigInt=function(n,r){var e=Number(BigInt.asIntN(32,n)),t=Number(BigInt.asIntN(32,n>>BigInt(32)));return yt(e,t,r)},Rt.fromValue=function(n,r){return typeof n=="bigint"?Rt.fromBigInt(n,r):Or(n,r)},re.toBigInt=function(){var n=BigInt(this.low>>>0),r=BigInt(this.unsigned?this.high>>>0:this.high);return r<<BigInt(32)|n});var Zp=Me(fn());var vl=class{constructor(){this.name="devices"}getQueryElement(){return{tag:"devices",attrs:{version:"2"}}}getUserElement(){return null}parser(n){let r=[],e;if(n.tag==="devices"){$n(n);let t=G(n,"device-list"),i=G(n,"key-index-list");if(Array.isArray(t?.content))for(let{tag:o,attrs:s}of t.content){let c=+s.id,l=+s["key-index"];o==="device"&&r.push({id:c,keyIndex:l,isHosted:!!(s.is_hosted&&s.is_hosted==="true")})}i?.tag==="key-index-list"&&(e={timestamp:+i.attrs.ts,signedKeyIndex:i?.content,expectedTimestamp:i.attrs.expected_ts?+i.attrs.expected_ts:void 0})}return{deviceList:r,keyIndex:e}}};var hi=class{withId(n){return this.id=n,this}withLid(n){return this.lid=n,this}withPhone(n){return this.phone=n,this}withType(n){return this.type=n,this}withPersonaId(n){return this.personaId=n,this}};var Ul=class{constructor(){this.name="contact"}getQueryElement(){return{tag:"contact",attrs:{}}}getUserElement(n){return{tag:"contact",attrs:{},content:n.phone}}parser(n){return n.tag==="contact"?($n(n),n?.attrs?.type==="in"):!1}};var Bl=class{constructor(){this.name="status"}getQueryElement(){return{tag:"status",attrs:{}}}getUserElement(){return null}parser(n){if(n.tag==="status"){$n(n);let r=n?.content?.toString()??null,e=new Date(+(n?.attrs.t||0)*1e3);return r?typeof r=="string"&&r.length===0&&(r=null):n.attrs?.code&&+n.attrs.code==401?r="":r=null,{status:r,setAt:e}}}};var xl=class{constructor(){this.name="disappearing_mode"}getQueryElement(){return{tag:"disappearing_mode",attrs:{}}}getUserElement(){return null}parser(n){if(n.tag==="disappearing_mode"){$n(n);let r=+n?.attrs.duration,e=new Date(+(n?.attrs.t||0)*1e3);return{duration:r,setAt:e}}}};var $p=class{constructor(){this.name="bot"}getQueryElement(){return{tag:"bot",attrs:{},content:[{tag:"profile",attrs:{v:"1"}}]}}getUserElement(n){return{tag:"bot",attrs:{},content:[{tag:"profile",attrs:{persona_id:n.personaId}}]}}parser(n){let r=G(n,"bot"),e=G(r,"profile"),t=G(e,"commands"),i=G(e,"prompts"),o=[],s=[];for(let c of qe(t,"command"))o.push({name:Je(c,"name"),description:Je(c,"description")});for(let c of qe(i,"prompt"))s.push(`${Je(c,"emoji")} ${Je(c,"text")}`);return{isDefault:!!G(e,"default"),jid:n.attrs.jid,name:Je(e,"name"),attributes:Je(e,"attributes"),description:Je(e,"description"),category:Je(e,"category"),personaId:e.attrs.persona_id,commandsDescription:Je(t,"description"),commands:o,prompts:s}}};var Xp=class{constructor(){this.name="lid"}getQueryElement(){return{tag:"lid",attrs:{}}}getUserElement(n){return n.lid?{tag:"lid",attrs:{jid:n.lid}}:null}parser(n){return n.tag==="lid"?n.attrs.val:null}};var gi=class{constructor(){this.protocols=[],this.users=[],this.context="interactive",this.mode="query"}withMode(n){return this.mode=n,this}withContext(n){return this.context=n,this}withUser(n){return this.users.push(n),this}parseUSyncQueryResult(n){if(n.attrs.type!=="result")return;let r=Object.fromEntries(this.protocols.map(o=>[o.name,o.parser])),e={list:[],sideList:[]},t=G(n,"usync"),i=G(t,"list");return Array.isArray(i?.content)&&typeof i<"u"&&(e.list=i.content.map(o=>{let s=o?.attrs.jid;return{...Array.isArray(o?.content)?Object.fromEntries(o.content.map(l=>{let d=l.tag,f=r[d];return f?[d,f(l)]:[d,null]}).filter(([,l])=>l!==null)):{},id:s}})),e}withDeviceProtocol(){return this.protocols.push(new vl),this}withContactProtocol(){return this.protocols.push(new Ul),this}withStatusProtocol(){return this.protocols.push(new Bl),this}withDisappearingModeProtocol(){return this.protocols.push(new xl),this}withBotProfileProtocol(){return this.protocols.push(new $p),this}withLIDProtocol(){return this.protocols.push(new Xp),this}};var en=Me(fn());import{randomBytes as j_}from"node:crypto";import{URL as T6}from"node:url";import{promisify as I6}from"node:util";import{EventEmitter as _6}from"node:events";import"node:url";var Jp=class extends _6{constructor(n,r){super(),this.url=n,this.config=r,this.setMaxListeners(0)}};var ec=Me(I1());var Qp=class extends Jp{constructor(){super(...arguments),this.socket=null}get isOpen(){return this.socket?.readyState===ec.default.OPEN}get isClosed(){return this.socket===null||this.socket?.readyState===ec.default.CLOSED}get isClosing(){return this.socket===null||this.socket?.readyState===ec.default.CLOSING}get isConnecting(){return this.socket?.readyState===ec.default.CONNECTING}async connect(){if(this.socket)return;this.socket=new ec.default(this.url,{origin:Fs,headers:this.config.options?.headers,handshakeTimeout:this.config.connectTimeoutMs,timeout:this.config.connectTimeoutMs,agent:this.config.agent}),this.socket.setMaxListeners(0);let n=["close","error","upgrade","message","open","ping","pong","unexpected-response"];for(let r of n)this.socket?.on(r,(...e)=>this.emit(r,...e))}async close(){this.socket&&(this.socket.close(),this.socket=null)}send(n,r){return this.socket?.send(n,r),!!this.socket}};var O1=a=>{let{waWebSocketUrl:n,connectTimeoutMs:r,logger:e,keepAliveIntervalMs:t,browser:i,auth:o,printQRInTerminal:s,defaultQueryTimeoutMs:c,transactionOpts:l,qrTimeout:d,makeSignalRepository:f}=a,g=_g(),_=()=>`${g}${K++}`;s&&console.warn("\u26A0\uFE0F The printQRInTerminal option has been deprecated. You will no longer receive QR codes in the terminal automatically. Please listen to the connection.update event yourself and handle the QR your way. You can remove this message by removing this opttion. This message will be removed in a future version.");let y=typeof n=="string"?new T6(n):n;if(a.mobile||y.protocol==="tcp:")throw new en.Boom("Mobile API is not supported anymore",{statusCode:xt.loggedOut});y.protocol==="wss"&&o?.creds?.routingInfo&&y.searchParams.append("ED",o.creds.routingInfo.toString("base64url"));let T=Gt.generateKeyPair(),I=qy({keyPair:T,NOISE_HEADER:P_,logger:e,routingInfo:o?.creds?.routingInfo}),O=new Qp(y,a);O.connect();let R=I6(O.send),M=async A=>{if(!O.isOpen)throw new en.Boom("Connection Closed",{statusCode:xt.connectionClosed});let m=I.encodeFrame(A);await Ka(r,async(C,Y)=>{try{await R.call(O,m),C()}catch(V){Y(V)}})},v=A=>{e.level==="trace"&&e.trace({xml:$o(A),msg:"xml send"});let m=rg(A);return M(m)},D=async(A,m=c)=>{let C,Y;try{return await Ka(m,(ie,_e)=>(C=ce=>{ie(ce)},Y=ce=>{_e(ce||new en.Boom("Connection Closed",{statusCode:xt.connectionClosed}))},O.on(`TAG:${A}`,C),O.on("close",Y),O.on("error",Y),()=>_e(new en.Boom("Query Cancelled"))))}catch(V){if(V instanceof en.Boom&&V.output?.statusCode===xt.timedOut){e?.warn?.({msgId:A},"timed out waiting for message");return}throw V}finally{C&&O.off(`TAG:${A}`,C),Y&&(O.off("close",Y),O.off("error",Y))}},k=async(A,m)=>{A.attrs.id||(A.attrs.id=_());let C=A.attrs.id,Y=await Ka(m,async(V,ie)=>{let _e=D(C,m).catch(ie);v(A).then(async()=>V(await _e)).catch(ie)});return Y&&"tag"in Y&&$n(Y),Y},b=async A=>{if(A.protocols.length===0)throw new en.Boom("USyncQuery must have at least one protocol");let C=A.users.map(ce=>({tag:"user",attrs:{jid:ce.phone?void 0:ce.id},content:A.protocols.map(Ne=>Ne.getUserElement(ce)).filter(Ne=>Ne!==null)})),Y={tag:"list",attrs:{},content:C},V={tag:"query",attrs:{},content:A.protocols.map(ce=>ce.getQueryElement())},ie={tag:"iq",attrs:{to:ze,type:"get",xmlns:"usync"},content:[{tag:"usync",attrs:{context:A.context,mode:A.mode,sid:_(),last:"true",index:"0"},content:[V,Y]}]},_e=await k(ie);return A.parseUSyncQueryResult(_e)},j=async(...A)=>{let m=new gi().withLIDProtocol(),C=!1;for(let V of A)if(!an(V)){C||(C=!0,m=m.withContactProtocol());let ie=`+${V.replace("+","").split("@")[0]?.split(":")[0]}`;m.withUser(new hi().withPhone(ie))}if(m.users.length===0)return[];let Y=await b(m);if(Y){let V=Y.list.filter(ie=>!!ie.lid);if(V.length>0){let ie=V.map(_e=>({pn:_e.id,lid:_e.lid}));await X.lidMapping.storeLIDPNMappings(ie);for(let{pn:_e,lid:ce}of ie)await X.migrateSession(_e,ce)}return Y.list.filter(ie=>!!ie.contact).map(({contact:ie,id:_e,lid:ce})=>({jid:_e,exists:ie,lid:ce}))}},H=I_(e),{creds:L}=o,U=h_(o.keys,e,l),X=f({creds:L,keys:U},e,j),w,K=1,ee,Ae,se=!1,pe=(A,m)=>{e.error({err:A},`unexpected error in '${m}'`)},We=async A=>{if(!O.isOpen)throw new en.Boom("Connection Closed",{statusCode:xt.connectionClosed});let m,C,Y=Ka(r,(V,ie)=>{m=V,C=K_(ie),O.on("frame",m),O.on("close",C),O.on("error",C)}).finally(()=>{O.off("frame",m),O.off("close",C),O.off("error",C)});return A&&M(A).catch(C),Y},je=async()=>{let A={clientHello:{ephemeral:T.public}};A=x.HandshakeMessage.create(A),e.info({browser:i,helloMsg:A},"connected to WA");let m=x.HandshakeMessage.encode(A).finish(),C=await We(m),Y=dt(x.HandshakeMessage,C);e.trace({handshake:Y},"handshake recv from WA");let V=await I.processHandshake(Y,L.noiseKey),ie;L.me?(ie=Wy(L.me.id,a),e.info({node:ie},"logging in...")):(ie=Yy(L,a),e.info({node:ie},"not logged in, attempting registration..."));let _e=I.encrypt(x.ClientPayload.encode(ie).finish());await M(x.HandshakeMessage.encode({clientFinish:{static:V,payload:_e}}).finish()),I.finishInit(),ye()},Pe=async()=>{let A=await k({tag:"iq",attrs:{id:_(),xmlns:"encrypt",type:"get",to:ze},content:[{tag:"count",attrs:{}}]});return+G(A,"count").attrs.value},Be=null,Ye=0,Ce=async(A=w_,m=0)=>{if(m===0){let Y=Date.now()-Ye;if(Y<v_){e.debug(`Skipping upload, only ${Y}ms since last upload`);return}}if(Be)return e.debug("Pre-key upload already in progress, waiting for completion"),Be;let C=async()=>{e.info({count:A,retryCount:m},"uploading pre-keys");let Y=await U.transaction(async()=>{e.debug({requestedCount:A},"generating pre-keys with requested count");let{update:V,node:ie}=await Vy({creds:L,keys:U},A);return H.emit("creds.update",V),ie},L?.me?.id||"upload-pre-keys");try{await k(Y),e.info({count:A},"uploaded pre-keys successfully"),Ye=Date.now()}catch(V){if(e.error({uploadError:V,count:A},"Failed to upload pre-keys to server"),m<3){let ie=Math.min(1e3*Math.pow(2,m),1e4);return e.info(`Retrying pre-key upload in ${ie}ms`),await new Promise(_e=>setTimeout(_e,ie)),Ce(A,m+1)}throw V}};Be=Promise.race([C(),new Promise((Y,V)=>setTimeout(()=>V(new en.Boom("Pre-key upload timeout",{statusCode:408})),k_))]);try{await Be}finally{Be=null}},W=async()=>{let A=L.nextPreKeyId-1;return A<=0?{exists:!1,currentPreKeyId:0}:{exists:!!(await U.get("pre-key",[A.toString()]))[A.toString()],currentPreKeyId:A}},Z=async()=>{try{let A=await Pe(),{exists:m,currentPreKeyId:C}=await W();e.info(`${A} pre-keys found on server`),e.info(`Current prekey ID: ${C}, exists in storage: ${m}`);let Y=A<=wl,V=!m&&C>0;if(Y||V){let _e=[];Y&&_e.push(`server count low (${A})`),V&&_e.push(`current prekey ${C} missing from storage`),e.info(`Uploading PreKeys due to: ${_e.join(", ")}`),await Ce()}else e.info(`PreKey validation passed - Server: ${A}, Current prekey ${C} exists`)}catch(A){e.error({error:A},"Failed to check/upload pre-keys during initialization")}},ue=A=>{I.decodeFrame(A,m=>{w=new Date;let C=!1;if(C=O.emit("frame",m),!(m instanceof Uint8Array)){let Y=m.attrs.id;e.level==="trace"&&e.trace({xml:$o(m),msg:"recv xml"}),C=O.emit(`${M_}${Y}`,m)||C;let V=m.tag,ie=m.attrs||{},_e=Array.isArray(m.content)?m.content[0]?.tag:"";for(let ce of Object.keys(ie))C=O.emit(`${Oo}${V},${ce}:${ie[ce]},${_e}`,m)||C,C=O.emit(`${Oo}${V},${ce}:${ie[ce]}`,m)||C,C=O.emit(`${Oo}${V},${ce}`,m)||C;C=O.emit(`${Oo}${V},,${_e}`,m)||C,C=O.emit(`${Oo}${V}`,m)||C,!C&&e.level==="debug"&&e.debug({unhandled:!0,msgId:Y,fromMe:!1,frame:m},"communication recv")}})},q=A=>{if(se){e.trace({trace:A?.stack},"connection already closed");return}if(se=!0,e.info({trace:A?.stack},A?"connection errored":"connection closed"),clearInterval(ee),clearTimeout(Ae),O.removeAllListeners("close"),O.removeAllListeners("open"),O.removeAllListeners("message"),!O.isClosed&&!O.isClosing)try{O.close()}catch{}H.emit("connection.update",{connection:"close",lastDisconnect:{error:A,date:new Date}}),H.removeAllListeners("connection.update")},ne=async()=>{if(O.isOpen)return;if(O.isClosed||O.isClosing)throw new en.Boom("Connection Closed",{statusCode:xt.connectionClosed});let A,m;await new Promise((C,Y)=>{A=()=>C(void 0),m=K_(Y),O.on("open",A),O.on("close",m),O.on("error",m)}).finally(()=>{O.off("open",A),O.off("close",m),O.off("error",m)})},ye=()=>ee=setInterval(()=>{w||(w=new Date),Date.now()-w.getTime()>t+5e3?q(new en.Boom("Connection was lost",{statusCode:xt.connectionLost})):O.isOpen?k({tag:"iq",attrs:{id:_(),to:ze,type:"get",xmlns:"w:p"},content:[{tag:"ping",attrs:{}}]}).catch(m=>{e.error({trace:m.stack},"error in sending keep alive")}):e.warn("keep alive called when WS not open")},t),xe=A=>k({tag:"iq",attrs:{to:ze,xmlns:"passive",type:"set"},content:[{tag:A,attrs:{}}]}),Fe=async A=>{let m=o.creds.me?.id;m&&await v({tag:"iq",attrs:{to:ze,type:"set",id:_(),xmlns:"md"},content:[{tag:"remove-companion-device",attrs:{jid:m,reason:"user_initiated"}}]}),q(new en.Boom(A||"Intentional Logout",{statusCode:xt.loggedOut}))},Ke=async(A,m)=>{let C=m??Ag(j_(5));if(m&&m?.length!==8)throw new Error("Custom pairing code must be exactly 8 chars");return o.creds.pairingCode=C,o.creds.me={id:Yt(A,"s.whatsapp.net"),name:"~"},H.emit("creds.update",o.creds),await v({tag:"iq",attrs:{to:ze,type:"set",id:_(),xmlns:"md"},content:[{tag:"link_code_companion_reg",attrs:{jid:o.creds.me.id,stage:"companion_hello",should_show_push_notification:"true"},content:[{tag:"link_code_pairing_wrapped_companion_ephemeral_pub",attrs:{},content:await $e()},{tag:"companion_server_auth_key_pub",attrs:{},content:o.creds.noiseKey.public},{tag:"companion_platform_id",attrs:{},content:S_(i[1])},{tag:"companion_platform_display",attrs:{},content:`${i[1]} (${i[0]})`},{tag:"link_code_pairing_nonce",attrs:{},content:"0"}]}]}),o.creds.pairingCode};async function $e(){let A=j_(32),m=j_(16),C=await Lc(o.creds.pairingCode,A),Y=cg(o.creds.pairingEphemeralKeyPair.public,C,m);return Buffer.concat([A,m,Y])}let me=A=>k({tag:"iq",attrs:{to:ze,id:_(),xmlns:"w:stats"},content:[{tag:"add",attrs:{},content:A}]});O.on("message",ue),O.on("open",async()=>{try{await je()}catch(A){e.error({err:A},"error in validating connection"),q(A)}}),O.on("error",K_(q)),O.on("close",()=>q(new en.Boom("Connection Terminated",{statusCode:xt.connectionClosed}))),O.on("CB:xmlstreamend",()=>q(new en.Boom("Connection Terminated by Server",{statusCode:xt.connectionClosed}))),O.on("CB:iq,type:set,pair-device",async A=>{let m={tag:"iq",attrs:{to:ze,type:"result",id:A.attrs.id}};await v(m);let C=G(A,"pair-device"),Y=qe(C,"ref"),V=Buffer.from(L.noiseKey.public).toString("base64"),ie=Buffer.from(L.signedIdentityKey.public).toString("base64"),_e=L.advSecretKey,ce=d||6e4,Ne=()=>{if(!O.isOpen)return;let Ue=Y.shift();if(!Ue){q(new en.Boom("QR refs attempts ended",{statusCode:xt.timedOut}));return}let et=[Ue.content.toString("utf-8"),V,ie,_e].join(",");H.emit("connection.update",{qr:et}),Ae=setTimeout(Ne,ce),ce=d||2e4};Ne()}),O.on("CB:iq,,pair-success",async A=>{e.debug("pair success recv");try{let{reply:m,creds:C}=zy(A,L);e.info({me:C.me,platform:C.platform},"pairing configured successfully, expect to restart the connection..."),H.emit("creds.update",C),H.emit("connection.update",{isNewLogin:!0,qr:void 0}),await v(m)}catch(m){e.info({trace:m.stack},"error in pairing"),q(m)}}),O.on("CB:success",async A=>{try{await Z(),await xe("active")}catch(m){e.warn({err:m},"failed to send initial passive iq")}if(e.info("opened connection to WA"),clearTimeout(Ae),H.emit("creds.update",{me:{...o.creds.me,lid:A.attrs.lid}}),H.emit("connection.update",{connection:"open"}),A.attrs.lid&&o.creds.me?.id){let m=A.attrs.lid;process.nextTick(async()=>{try{let C=o.creds.me.id;await X.lidMapping.storeLIDPNMappings([{lid:m,pn:C}]);let{user:Y,device:V}=Ge(C);await o.keys.set({"device-list":{[Y]:[V?.toString()||"0"]}}),await X.migrateSession(C,m),e.info({myPN:C,myLID:m},"Own LID session created successfully")}catch(C){e.error({error:C,lid:m},"Failed to create own LID session")}})}}),O.on("CB:stream:error",A=>{e.error({node:A},"stream errored out");let{reason:m,statusCode:C}=Ig(A);q(new en.Boom(`Stream Errored (${m})`,{statusCode:C,data:A}))}),O.on("CB:failure",A=>{let m=+(A.attrs.reason||500);q(new en.Boom("Connection Failure",{statusCode:m,data:A.attrs}))}),O.on("CB:ib,,downgrade_webclient",()=>{q(new en.Boom("Multi-device beta not joined",{statusCode:xt.multideviceMismatch}))}),O.on("CB:ib,,offline_preview",A=>{e.info("offline preview received",JSON.stringify(A)),v({tag:"ib",attrs:{},content:[{tag:"offline_batch",attrs:{count:"100"}}]})}),O.on("CB:ib,,edge_routing",A=>{let m=G(A,"edge_routing"),C=G(m,"routing_info");C?.content&&(o.creds.routingInfo=Buffer.from(C?.content),H.emit("creds.update",o.creds))});let Qe=!1;return process.nextTick(()=>{L.me?.id&&(H.buffer(),Qe=!0),H.emit("connection.update",{connection:"connecting",receivedPendingNotifications:!1,qr:void 0})}),O.on("CB:ib,,offline",A=>{let C=+(G(A,"offline")?.attrs.count||0);e.info(`handled ${C} offline messages/notifications`),Qe&&(H.flush(),e.trace("flushed events for initial buffer")),H.emit("connection.update",{receivedPendingNotifications:!0})}),H.on("creds.update",A=>{let m=A.me?.name;L.me?.name!==m&&(e.debug({name:m},"updated pushName"),v({tag:"presence",attrs:{name:m}}).catch(C=>{e.warn({trace:C.stack},"error in sending presence update on name change")})),Object.assign(L,A)}),{type:"md",ws:O,ev:H,authState:{creds:L,keys:U},signalRepository:X,get user(){return o.creds.me},generateMessageTag:_,query:k,waitForMessage:D,waitForSocketOpen:ne,sendRawMessage:M,sendNode:v,logout:Fe,end:q,onUnexpectedError:pe,uploadPreKeys:Ce,uploadPreKeysToServerIfRequired:Z,requestPairingCode:Ke,waitForConnectionUpdate:yg(H),sendWAMBuffer:me,executeUSyncQuery:b,onWhatsApp:j}};function K_(a){return n=>{a(new en.Boom(`WebSocket Error (${n?.message})`,{statusCode:Sg(n),data:n}))}}var O6=2,S1=a=>{let{logger:n,markOnlineOnConnect:r,fireInitQueries:e,appStateMacVerification:t,shouldIgnoreJid:i,shouldSyncHistoryMessage:o}=a,s=O1(a),{ev:c,ws:l,authState:d,generateMessageTag:f,sendNode:g,query:_,signalRepository:y,onUnexpectedError:T}=s,I,O=hn.Connecting,R=go(),M,v=a.placeholderResendCache||new Ur({stdTTL:_r.MSG_RETRY,useClones:!1});a.placeholderResendCache||(a.placeholderResendCache=v);let D=async F=>{let{[F]:Q}=await d.keys.get("app-state-sync-key",[F]);return Q},k=async(F=!1)=>{if(!I||F){let{content:Q}=await _({tag:"iq",attrs:{xmlns:"privacy",to:ze,type:"get"},content:[{tag:"privacy",attrs:{}}]});I=wu(Q?.[0],"category")}return I},b=async(F,Q)=>{await _({tag:"iq",attrs:{xmlns:"privacy",to:ze,type:"set"},content:[{tag:"privacy",attrs:{},content:[{tag:"category",attrs:{name:F,value:Q}}]}]})},j=async F=>{await b("messages",F)},H=async F=>{await b("calladd",F)},L=async F=>{await b("last",F)},U=async F=>{await b("online",F)},X=async F=>{await b("profile",F)},w=async F=>{await b("status",F)},K=async F=>{await b("readreceipts",F)},ee=async F=>{await b("groupadd",F)},Ae=async F=>{await _({tag:"iq",attrs:{xmlns:"disappearing_mode",to:ze,type:"set"},content:[{tag:"disappearing_mode",attrs:{duration:F.toString()}}]})},se=async()=>{let F=await _({tag:"iq",attrs:{xmlns:"bot",to:ze,type:"get"},content:[{tag:"bot",attrs:{v:"2"}}]}),Q=G(F,"bot"),he=[];for(let Ee of qe(Q,"section"))if(Ee.attrs.type==="all")for(let ut of qe(Ee,"bot"))he.push({jid:ut.attrs.jid,personaId:ut.attrs.persona_id});return he},pe=async(...F)=>{let Q=new gi().withStatusProtocol();for(let Ee of F)Q.withUser(new hi().withId(Ee));let he=await s.executeUSyncQuery(Q);if(he)return he.list},We=async(...F)=>{let Q=new gi().withDisappearingModeProtocol();for(let Ee of F)Q.withUser(new hi().withId(Ee));let he=await s.executeUSyncQuery(Q);if(he)return he.list},je=async(F,Q,he)=>{let Ee;if(!F)throw new Zp.Boom("Illegal no-jid profile update. Please specify either your ID or the ID of the chat you wish to update");nt(F)!==nt(d.creds.me.id)?Ee=nt(F):Ee=void 0;let{img:ut}=await Sl(Q,he);await _({tag:"iq",attrs:{to:ze,type:"set",xmlns:"w:profile:picture",...Ee?{target:Ee}:{}},content:[{tag:"picture",attrs:{type:"image"},content:ut}]})},Pe=async F=>{let Q;if(!F)throw new Zp.Boom("Illegal no-jid profile update. Please specify either your ID or the ID of the chat you wish to update");nt(F)!==nt(d.creds.me.id)?Q=nt(F):Q=void 0,await _({tag:"iq",attrs:{to:ze,type:"set",xmlns:"w:profile:picture",...Q?{target:Q}:{}}})},Be=async F=>{await _({tag:"iq",attrs:{to:ze,type:"set",xmlns:"status"},content:[{tag:"status",attrs:{},content:Buffer.from(F,"utf-8")}]})},Ye=async F=>{await A({pushNameSetting:F},"")},Ce=async()=>{let F=await _({tag:"iq",attrs:{xmlns:"blocklist",to:ze,type:"get"}}),Q=G(F,"list");return qe(Q,"item").map(he=>he.attrs.jid)},W=async(F,Q)=>{await _({tag:"iq",attrs:{xmlns:"blocklist",to:ze,type:"set"},content:[{tag:"item",attrs:{action:Q,jid:F}}]})},Z=async F=>{let Q=await _({tag:"iq",attrs:{to:"s.whatsapp.net",xmlns:"w:biz",type:"get"},content:[{tag:"business_profile",attrs:{v:"244"},content:[{tag:"profile",attrs:{jid:F}}]}]}),he=G(Q,"business_profile"),Ee=G(he,"profile");if(Ee){let ut=G(Ee,"address"),ht=G(Ee,"description"),Ut=G(Ee,"website"),Kt=G(Ee,"email"),Gn=G(G(Ee,"categories"),"category"),Vn=G(Ee,"business_hours"),xr=Vn?qe(Vn,"business_hours_config"):void 0,Xt=Ut?.content?.toString();return{wid:Ee.attrs?.jid,address:ut?.content?.toString(),description:ht?.content?.toString()||"",website:Xt?[Xt]:[],email:Kt?.content?.toString(),category:Gn?.content?.toString(),business_hours:{timezone:Vn?.attrs?.timezone,business_config:xr?.map(({attrs:Xe})=>Xe)}}}},ue=async(F,Q)=>{n.info({fromTimestamp:Q},"clean dirty bits "+F),await g({tag:"iq",attrs:{to:ze,type:"set",xmlns:"urn:xmpp:whatsapp:dirty",id:f()},content:[{tag:"clean",attrs:{type:F,...Q?{timestamp:Q.toString()}:null}}]})},q=F=>({onMutation(Q){s_(Q,c,d.creds.me,F?{accountSettings:d.creds.accountSettings}:void 0,n)}}),ne=c.createBufferedFunction(async(F,Q)=>{let he={},Ee={};await d.keys.transaction(async()=>{let ht=new Set(F),Ut={};for(;ht.size;){let Kt={},Gn=[];for(let Xt of ht){let st=(await d.keys.get("app-state-sync-version",[Xt]))[Xt];st?typeof he[Xt]>"u"&&(he[Xt]=st.version):st=Rl(),Kt[Xt]=st,n.info(`resyncing ${Xt} from v${st.version}`),Gn.push({tag:"collection",attrs:{name:Xt,version:st.version.toString(),return_snapshot:(!st.version).toString()}})}let Vn=await _({tag:"iq",attrs:{to:ze,xmlns:"w:sync:app:state",type:"set"},content:[{tag:"sync",attrs:{},content:Gn}]}),xr=await r_(Vn,a?.options);for(let Xt in xr){let Xe=Xt,{patches:st,hasMorePatches:dn,snapshot:Bt}=xr[Xe];try{if(Bt){let{state:Ct,mutationMap:or}=await a_(Xe,Bt,D,he[Xe],t.snapshot);Kt[Xe]=Ct,Object.assign(Ee,or),n.info(`restored state of ${Xe} from snapshot to v${Ct.version} with mutations`),await d.keys.set({"app-state-sync-version":{[Xe]:Ct}})}if(st.length){let{state:Ct,mutationMap:or}=await Up(Xe,st,Kt[Xe],D,a.options,he[Xe],n,t.patch);await d.keys.set({"app-state-sync-version":{[Xe]:Ct}}),n.info(`synced ${Xe} to v${Ct.version}`),he[Xe]=Ct.version,Object.assign(Ee,or)}dn?n.info(`${Xe} has more patches...`):ht.delete(Xe)}catch(Ct){let or=Ut[Xe]>=O6||Ct.output?.statusCode===404||Ct.name==="TypeError";n.info({name:Xe,error:Ct.stack},`failed to sync state from version${or?"":", removing and trying from scratch"}`),await d.keys.set({"app-state-sync-version":{[Xe]:null}}),Ut[Xe]=(Ut[Xe]||0)+1,or&&ht.delete(Xe)}}}},d?.creds?.me?.id||"resync-app-state");let{onMutation:ut}=q(Q);for(let ht in Ee)ut(Ee[ht])}),ye=async(F,Q="preview",he)=>{F=nt(F);let Ee=await _({tag:"iq",attrs:{target:F,to:ze,type:"get",xmlns:"w:profile:picture"},content:[{tag:"picture",attrs:{type:Q,query:"url"}}]},he);return G(Ee,"picture")?.attrs?.url},xe=async(F,Q,he)=>{let Ee=await _({tag:"call",attrs:{id:f(),to:"@call"},content:[{tag:"link_create",attrs:{media:F},content:Q?[{tag:"event",attrs:{start_time:String(Q.startTime)}}]:void 0}]},he);return G(Ee,"link_create")?.attrs?.token},Fe=async(F,Q)=>{let he=d.creds.me;if(F==="available"||F==="unavailable"){if(!he.name){n.warn("no name present, ignoring presence update request...");return}c.emit("connection.update",{isOnline:F==="available"}),await g({tag:"presence",attrs:{name:he.name.replace(/@/g,""),type:F}})}else{let{server:Ee}=Ge(Q);await g({tag:"chatstate",attrs:{from:Ee==="lid"?he.lid:he.id,to:Q},content:[{tag:F==="recording"?"composing":F,attrs:F==="recording"?{media:"audio"}:{}}]})}},Ke=(F,Q)=>g({tag:"presence",attrs:{to:F,id:f(),type:"subscribe"},content:Q?[{tag:"tctoken",attrs:{},content:Q}]:void 0}),$e=({tag:F,attrs:Q,content:he})=>{let Ee,ut=Q.from,ht=Q.participant||Q.from;if(!(i(ut)&&ut!=="@s.whatsapp.net")){if(F==="presence")Ee={lastKnownPresence:Q.type==="unavailable"?"unavailable":"available",lastSeen:Q.last&&Q.last!=="deny"?+Q.last:void 0};else if(Array.isArray(he)){let[Ut]=he,Kt=Ut.tag;Kt==="paused"&&(Kt="available"),Ut.attrs?.media==="audio"&&(Kt="recording"),Ee={lastKnownPresence:Kt}}else n.error({tag:F,attrs:Q,content:he},"recv invalid presence node");Ee&&c.emit("presence.update",{id:ut,presences:{[ht]:Ee}})}},me=async F=>{let Q=F.type,he=d.creds.myAppStateKeyId;if(!he)throw new Zp.Boom("App state key not present!",{statusCode:400});let Ee,ut;if(await R.mutex(async()=>{await d.keys.transaction(async()=>{n.debug({patch:F},"applying app patch"),await ne([Q],!1);let{[Q]:ht}=await d.keys.get("app-state-sync-version",[Q]);Ee=ht||Rl(),ut=await t_(F,he,Ee,D);let{patch:Ut,state:Kt}=ut,Gn={tag:"iq",attrs:{to:ze,type:"set",xmlns:"w:sync:app:state"},content:[{tag:"sync",attrs:{},content:[{tag:"collection",attrs:{name:Q,version:(Kt.version-1).toString(),return_snapshot:"false"},content:[{tag:"patch",attrs:{},content:x.SyncdPatch.encode(Ut).finish()}]}]}]};await _(Gn),await d.keys.set({"app-state-sync-version":{[Q]:Kt}})},d?.creds?.me?.id||"app-patch")}),a.emitOwnEvents){let{onMutation:ht}=q(!1),{mutationMap:Ut}=await Up(Q,[{...ut.patch,version:{version:ut.state.version}}],Ee,D,a.options,void 0,n);for(let Kt in Ut)ht(Ut[Kt])}},Qe=async()=>{let F=await _({tag:"iq",attrs:{to:ze,xmlns:"w",type:"get"},content:[{tag:"props",attrs:{protocol:"2",hash:d?.creds?.lastPropHash||""}}]}),Q=G(F,"props"),he={};return Q&&(Q.attrs?.hash&&(d.creds.lastPropHash=Q?.attrs?.hash,c.emit("creds.update",d.creds)),he=wu(Q,"prop")),n.debug("fetched props"),he},A=(F,Q)=>{let he=o_(F,Q);return me(he)},m=F=>A({disableLinkPreviews:{isPreviewsDisabled:F}},""),C=(F,Q,he)=>A({star:{messages:Q,star:he}},F),Y=(F,Q)=>A({contact:Q},F),V=F=>A({contact:null},F),ie=(F,Q)=>A({addLabel:{...Q}},F),_e=(F,Q)=>A({addChatLabel:{labelId:Q}},F),ce=(F,Q)=>A({removeChatLabel:{labelId:Q}},F),Ne=(F,Q,he)=>A({addMessageLabel:{messageId:Q,labelId:he}},F),Ue=(F,Q,he)=>A({removeMessageLabel:{messageId:Q,labelId:he}},F),Re=F=>A({quickReply:F},""),et=F=>A({quickReply:{timestamp:F,deleted:!0}},""),ft=async()=>{await Promise.all([Qe(),Ce(),k()])},yi=c.createBufferedFunction(async(F,Q)=>{if(c.emit("messages.upsert",{messages:[F],type:Q}),F.pushName){let ht=F.key.fromMe?d.creds.me.id:F.key.participant||F.key.remoteJid;ht=nt(ht),F.key.fromMe||c.emit("contacts.update",[{id:ht,notify:F.pushName,verifiedName:F.verifiedBizName}]),F.key.fromMe&&F.pushName&&d.creds.me?.name!==F.pushName&&c.emit("creds.update",{me:{...d.creds.me,name:F.pushName}})}let he=ml(F.message),Ee=he?o(he)&&L_.includes(he.syncType):!1;he&&O===hn.AwaitingInitialSync&&(M&&(clearTimeout(M),M=void 0),Ee?(O=hn.Syncing,n.info("Transitioned to Syncing state")):(O=hn.Online,n.info("History sync skipped, transitioning to Online state and flushing buffer"),c.flush()));let ut=async()=>{if(O===hn.Syncing){n.info("Doing app state sync"),await ne(eg,!0),O=hn.Online,n.info("App state sync complete, transitioning to Online state and flushing buffer"),c.flush();let ht=(d.creds.accountSyncCounter||0)+1;c.emit("creds.update",{accountSyncCounter:ht})}};await Promise.all([(async()=>{Ee&&await ut()})(),BN(F,{signalRepository:y,shouldProcessHistoryMsg:Ee,placeholderResendCache:v,ev:c,creds:d.creds,keyStore:d.keys,logger:n,options:a.options})]),F.message?.protocolMessage?.appStateSyncKeyShare&&O===hn.Syncing&&(n.info("App state sync key arrived, triggering app state sync"),await ut())});return l.on("CB:presence",$e),l.on("CB:chatstate",$e),l.on("CB:ib,,dirty",async F=>{let{attrs:Q}=G(F,"dirty");switch(Q.type){case"account_sync":if(Q.timestamp){let{lastAccountSyncTimestamp:Ee}=d.creds;Ee&&await ue("account_sync",Ee),Ee=+Q.timestamp,c.emit("creds.update",{lastAccountSyncTimestamp:Ee})}break;case"groups":break;default:n.info({node:F},"received unknown sync");break}}),c.on("connection.update",({connection:F,receivedPendingNotifications:Q})=>{if(F==="open"&&(e&&ft().catch(Ee=>T(Ee,"init queries")),Fe(r?"available":"unavailable").catch(Ee=>T(Ee,"presence update requests"))),!Q||O!==hn.Connecting)return;if(O=hn.AwaitingInitialSync,n.info("Connection is now AwaitingInitialSync, buffering events"),c.buffer(),!o(x.Message.HistorySyncNotification.create({syncType:x.HistorySync.HistorySyncType.RECENT}))){n.info("History sync is disabled by config, not waiting for notification. Transitioning to Online."),O=hn.Online,setTimeout(()=>c.flush(),0);return}n.info("History sync is enabled, awaiting notification with a 20s timeout."),M&&clearTimeout(M),M=setTimeout(()=>{O===hn.AwaitingInitialSync&&(n.warn("Timeout in AwaitingInitialSync, forcing state to Online and flushing buffer"),O=hn.Online,c.flush())},2e4)}),{...s,createCallLink:xe,getBotListV2:se,processingMutex:R,fetchPrivacySettings:k,upsertMessage:yi,appPatch:me,sendPresenceUpdate:Fe,presenceSubscribe:Ke,profilePictureUrl:ye,fetchBlocklist:Ce,fetchStatus:pe,fetchDisappearingDuration:We,updateProfilePicture:je,removeProfilePicture:Pe,updateProfileStatus:Be,updateProfileName:Ye,updateBlockStatus:W,updateDisableLinkPreviewsPrivacy:m,updateCallPrivacy:H,updateMessagesPrivacy:j,updateLastSeenPrivacy:L,updateOnlinePrivacy:U,updateProfilePicturePrivacy:X,updateStatusPrivacy:w,updateReadReceiptsPrivacy:K,updateGroupsAddPrivacy:ee,updateDefaultDisappearingMode:Ae,getBusinessProfile:Z,resyncAppState:ne,chatModify:A,cleanDirtyBits:ue,addOrEditContact:Y,removeContact:V,addLabel:ie,addChatLabel:_e,removeChatLabel:ce,addMessageLabel:Ne,removeMessageLabel:Ue,star:C,addOrEditQuickReply:Re,removeQuickReply:et}};var A1=a=>{let n=S1(a),{authState:r,ev:e,query:t,upsertMessage:i}=n,o=async(l,d,f)=>t({tag:"iq",attrs:{type:d,xmlns:"w:g2",to:l},content:f}),s=async l=>{let d=await o(l,"get",[{tag:"query",attrs:{request:"interactive"}}]);return tc(d)},c=async()=>{let l=await t({tag:"iq",attrs:{to:"@g.us",xmlns:"w:g2",type:"get"},content:[{tag:"participating",attrs:{},content:[{tag:"participants",attrs:{}},{tag:"description",attrs:{}}]}]}),d={},f=G(l,"groups");if(f){let g=qe(f,"group");for(let _ of g){let y=tc({tag:"result",attrs:{},content:[_]});d[y.id]=y}}return n.ev.emit("groups.update",Object.values(d)),d};return n.ws.on("CB:ib,,dirty",async l=>{let{attrs:d}=G(l,"dirty");d.type==="groups"&&(await c(),await n.cleanDirtyBits("groups"))}),{...n,groupMetadata:s,groupCreate:async(l,d)=>{let f=zt(),g=await o("@g.us","set",[{tag:"create",attrs:{subject:l,key:f},content:d.map(_=>({tag:"participant",attrs:{jid:_}}))}]);return tc(g)},groupLeave:async l=>{await o("@g.us","set",[{tag:"leave",attrs:{},content:[{tag:"group",attrs:{id:l}}]}])},groupUpdateSubject:async(l,d)=>{await o(l,"set",[{tag:"subject",attrs:{},content:Buffer.from(d,"utf-8")}])},groupRequestParticipantsList:async l=>{let d=await o(l,"get",[{tag:"membership_approval_requests",attrs:{}}]),f=G(d,"membership_approval_requests");return qe(f,"membership_approval_request").map(_=>_.attrs)},groupRequestParticipantsUpdate:async(l,d,f)=>{let g=await o(l,"set",[{tag:"membership_requests_action",attrs:{},content:[{tag:f,attrs:{},content:d.map(I=>({tag:"participant",attrs:{jid:I}}))}]}]),_=G(g,"membership_requests_action"),y=G(_,f);return qe(y,"participant").map(I=>({status:I.attrs.error||"200",jid:I.attrs.jid}))},groupParticipantsUpdate:async(l,d,f)=>{let g=await o(l,"set",[{tag:f,attrs:{},content:d.map(T=>({tag:"participant",attrs:{jid:T}}))}]),_=G(g,f);return qe(_,"participant").map(T=>({status:T.attrs.error||"200",jid:T.attrs.jid,content:T}))},groupUpdateDescription:async(l,d)=>{let g=(await s(l)).descId??null;await o(l,"set",[{tag:"description",attrs:{...d?{id:zt()}:{delete:"true"},...g?{prev:g}:{}},content:d?[{tag:"body",attrs:{},content:Buffer.from(d,"utf-8")}]:void 0}])},groupInviteCode:async l=>{let d=await o(l,"get",[{tag:"invite",attrs:{}}]);return G(d,"invite")?.attrs.code},groupRevokeInvite:async l=>{let d=await o(l,"set",[{tag:"invite",attrs:{}}]);return G(d,"invite")?.attrs.code},groupAcceptInvite:async l=>{let d=await o("@g.us","set",[{tag:"invite",attrs:{code:l}}]);return G(d,"group")?.attrs.jid},groupRevokeInviteV4:async(l,d)=>!!await o(l,"set",[{tag:"revoke",attrs:{},content:[{tag:"participant",attrs:{jid:d}}]}]),groupAcceptInviteV4:e.createBufferedFunction(async(l,d)=>{l=typeof l=="string"?{remoteJid:l}:l;let f=await o(d.groupJid,"set",[{tag:"accept",attrs:{code:d.inviteCode,expiration:d.inviteExpiration.toString(),admin:l.remoteJid}}]);return l.id&&(d=x.Message.GroupInviteMessage.create(d),d.inviteExpiration=0,d.inviteCode="",e.emit("messages.update",[{key:l,update:{message:{groupInviteMessage:d}}}])),await i({key:{remoteJid:d.groupJid,id:zt(n.user?.id),fromMe:!1,participant:l.remoteJid},messageStubType:He.GROUP_PARTICIPANT_ADD,messageStubParameters:[r.creds.me.id],participant:l.remoteJid,messageTimestamp:Xn()},"notify"),f.attrs.from}),groupGetInviteInfo:async l=>{let d=await o("@g.us","get",[{tag:"invite",attrs:{code:l}}]);return tc(d)},groupToggleEphemeral:async(l,d)=>{let f=d?{tag:"ephemeral",attrs:{expiration:d.toString()}}:{tag:"not_ephemeral",attrs:{}};await o(l,"set",[f])},groupSettingUpdate:async(l,d)=>{await o(l,"set",[{tag:d,attrs:{}}])},groupMemberAddMode:async(l,d)=>{await o(l,"set",[{tag:"member_add_mode",attrs:{},content:d}])},groupJoinApprovalMode:async(l,d)=>{await o(l,"set",[{tag:"membership_approval_mode",attrs:{},content:[{tag:"group_join",attrs:{state:d}}]}])},groupFetchAllParticipating:c}},tc=a=>{let n=G(a,"group"),r=G(n,"description"),e,t,i,o,s;r&&(e=Je(r,"body"),i=r.attrs.participant?nt(r.attrs.participant):void 0,o=r.attrs.participant_pn?nt(r.attrs.participant_pn):void 0,s=+r.attrs.t,t=r.attrs.id);let c=n.attrs.id.includes("@")?n.attrs.id:Yt(n.attrs.id,"g.us"),l=G(n,"ephemeral")?.attrs.expiration,d=Je(n,"member_add_mode")==="all_member_add";return{id:c,notify:n.attrs.notify,addressingMode:n.attrs.addressing_mode==="lid"?Ai.LID:Ai.PN,subject:n.attrs.subject,subjectOwner:n.attrs.s_o,subjectOwnerPn:n.attrs.s_o_pn,subjectTime:+n.attrs.s_t,size:n.attrs.size?+n.attrs.size:qe(n,"participant").length,creation:+n.attrs.creation,owner:n.attrs.creator?nt(n.attrs.creator):void 0,ownerPn:n.attrs.creator_pn?nt(n.attrs.creator_pn):void 0,owner_country_code:n.attrs.creator_country_code,desc:e,descId:t,descOwner:i,descOwnerPn:o,descTime:s,linkedParent:G(n,"linked_parent")?.attrs.jid||void 0,restrict:!!G(n,"locked"),announce:!!G(n,"announcement"),isCommunity:!!G(n,"parent"),isCommunityAnnounce:!!G(n,"default_sub_group"),joinApprovalMode:!!G(n,"membership_approval_mode"),memberAddMode:d,participants:qe(n,"participant").map(({attrs:g})=>({id:g.jid,phoneNumber:an(g.jid)&&On(g.phone_number)?g.phone_number:void 0,lid:On(g.jid)&&an(g.lid)?g.lid:void 0,admin:g.type||null})),ephemeralDuration:l?+l:void 0}};var Fl=Me(fn());var H_=Me(fn());var S6=(a,n,r,e)=>r({tag:"iq",attrs:{id:e(),type:"get",to:ze,xmlns:"w:mex"},content:[{tag:"query",attrs:{query_id:n},content:Buffer.from(JSON.stringify({variables:a}),"utf-8")}]}),m1=async(a,n,r,e,t)=>{let i=await S6(a,n,e,t),o=G(i,"result");if(o?.content){let c=JSON.parse(o.content.toString());if(c.errors&&c.errors.length>0){let d=c.errors.map(_=>_.message||"Unknown error").join(", "),f=c.errors[0],g=f.extensions?.error_code||400;throw new H_.Boom(`GraphQL server error: ${d}`,{statusCode:g,data:f})}let l=r?c?.data?.[r]:c?.data;if(typeof l<"u")return l}let s=(r||"").startsWith("xwa2_")?r.substring(5).replace(/_/g," "):r?.replace(/_/g," ");throw new H_.Boom(`Failed to ${s}, unexpected response structure.`,{statusCode:400,data:i})};var A6=a=>{let{id:n,thread_metadata:r,viewer_metadata:e}=a;return{id:n,owner:void 0,name:r.name.text,creation_time:parseInt(r.creation_time,10),description:r.description.text,invite:r.invite,subscribers:parseInt(r.subscribers_count,10),verification:r.verification,picture:{id:r.picture.id,directPath:r.picture.direct_path},mute_state:e.mute}},m6=a=>typeof a!="object"||a===null?null:"id"in a&&typeof a.id=="string"?a:"result"in a&&typeof a.result=="object"&&a.result!==null&&"id"in a.result?a.result:null,b1=a=>{let n=A1(a),{query:r,generateMessageTag:e}=n,t=(o,s,c)=>m1(o,s,c,r,e),i=async(o,s)=>{let c={newsletter_id:o,updates:{...s,settings:null}};return t(c,gn.UPDATE_METADATA,"xwa2_newsletter_update")};return{...n,newsletterCreate:async(o,s)=>{let l=await t({input:{name:o,description:s??null}},gn.CREATE,In.xwa2_newsletter_create);return A6(l)},newsletterUpdate:i,newsletterSubscribers:async o=>t({newsletter_id:o},gn.SUBSCRIBERS,In.xwa2_newsletter_subscribers),newsletterMetadata:async(o,s)=>{let c={fetch_creation_time:!0,fetch_full_image:!0,fetch_viewer_metadata:!0,input:{key:s,type:o.toUpperCase()}},l=await t(c,gn.METADATA,In.xwa2_newsletter_metadata);return m6(l)},newsletterFollow:o=>t({newsletter_id:o},gn.FOLLOW,In.xwa2_newsletter_follow),newsletterUnfollow:o=>t({newsletter_id:o},gn.UNFOLLOW,In.xwa2_newsletter_unfollow),newsletterMute:o=>t({newsletter_id:o},gn.MUTE,In.xwa2_newsletter_mute_v2),newsletterUnmute:o=>t({newsletter_id:o},gn.UNMUTE,In.xwa2_newsletter_unmute_v2),newsletterUpdateName:async(o,s)=>await i(o,{name:s}),newsletterUpdateDescription:async(o,s)=>await i(o,{description:s}),newsletterUpdatePicture:async(o,s)=>{let{img:c}=await Sl(s);return await i(o,{picture:c.toString("base64")})},newsletterRemovePicture:async o=>await i(o,{picture:""}),newsletterReactMessage:async(o,s,c)=>{await r({tag:"message",attrs:{to:o,...c?{}:{edit:"7"},type:"reaction",server_id:s,id:e()},content:[{tag:"reaction",attrs:c?{code:c}:{}}]})},newsletterFetchMessages:async(o,s,c,l)=>{let d={count:s.toString()};return typeof c=="number"&&(d.since=c.toString()),l&&(d.after=l.toString()),await r({tag:"iq",attrs:{id:e(),type:"get",xmlns:"newsletter",to:o},content:[{tag:"message_updates",attrs:d}]})},subscribeNewsletterUpdates:async o=>{let s=await r({tag:"iq",attrs:{id:e(),type:"set",xmlns:"newsletter",to:o},content:[{tag:"live_updates",attrs:{},content:[]}]}),l=G(s,"live_updates")?.attrs?.duration;return l?{duration:l}:null},newsletterAdminCount:async o=>(await t({newsletter_id:o},gn.ADMIN_COUNT,In.xwa2_newsletter_admin_count)).admin_count,newsletterChangeOwner:async(o,s)=>{await t({newsletter_id:o,user_id:s},gn.CHANGE_OWNER,In.xwa2_newsletter_change_owner)},newsletterDemote:async(o,s)=>{await t({newsletter_id:o,user_id:s},gn.DEMOTE,In.xwa2_newsletter_demote)},newsletterDelete:async o=>{await t({newsletter_id:o},gn.DELETE,In.xwa2_newsletter_delete_v2)}}};var R1=a=>{let{logger:n,linkPreviewImageThumbnailWidth:r,generateHighQualityLinkPreview:e,options:t,patchMessageBeforeSending:i,cachedGroupMetadata:o,enableRecentMessageCache:s,maxMsgRetryCount:c}=a,l=b1(a),{ev:d,authState:f,processingMutex:g,signalRepository:_,upsertMessage:y,query:T,fetchPrivacySettings:I,sendNode:O,groupMetadata:R,groupToggleEphemeral:M}=l,v=a.userDevicesCache||new Ur({stdTTL:_r.USER_DEVICES,useClones:!1}),D=new Ur({stdTTL:_r.USER_DEVICES,useClones:!1}),k=s?new Nl(n,c):null,b=kN(),j,H=async(W=!1)=>{let Z=await j;return(!Z||W||new Date().getTime()-Z.fetchDate.getTime()>Z.ttl*1e3)&&(j=(async()=>{let ue=await T({tag:"iq",attrs:{type:"set",xmlns:"w:m",to:ze},content:[{tag:"media_conn",attrs:{}}]}),q=G(ue,"media_conn"),ne={hosts:qe(q,"host").map(({attrs:ye})=>({hostname:ye.hostname,maxContentLengthBytes:+ye.maxContentLengthBytes})),auth:q.attrs.auth,ttl:+q.attrs.ttl,fetchDate:new Date};return n.debug("fetched media conn"),ne})()),j},L=async(W,Z,ue,q)=>{if(!ue||ue.length===0)throw new Fl.Boom("missing ids in receipt");let ne={tag:"receipt",attrs:{id:ue[0]}};(q==="read"||q==="read-self")&&(ne.attrs.t=Xn().toString()),q==="sender"&&On(W)?(ne.attrs.recipient=W,ne.attrs.to=Z):(ne.attrs.to=W,Z&&(ne.attrs.participant=Z)),q&&(ne.attrs.type=q);let xe=ue.slice(1);xe.length&&(ne.content=[{tag:"list",attrs:{},content:xe.map(Fe=>({tag:"item",attrs:{id:Fe}}))}]),n.debug({attrs:ne.attrs,messageIds:ue},"sending receipt for messages"),await O(ne)},U=async(W,Z)=>{let ue=vy(W);for(let{jid:q,participant:ne,messageIds:ye}of ue)await L(q,ne,ye,Z)},X=async W=>{let ue=(await I()).readreceipts==="all"?"read":"read-self";await U(W,ue)},w=async W=>{let Z=Array.from(new Set(W.filter(On)));if(!Z.length)return new Map;let ue=await Promise.all(Z.map(async ne=>{try{let ye=await _.lidMapping.getLIDForPN(ne);return ye?[ne,ye]:[ne,ne]}catch(ye){return n.warn({pnJid:ne,error:ye},"Failed to resolve LID mapping for PN JID"),[ne,ne]}})),q=new Map;for(let ne of ue)ne&&q.set(ne[0],ne[1]);return q},K=async(W,Z,ue)=>{let q=[];Z||n.debug("not using cache for devices");let ne=[],ye=W.map(me=>{let Qe=Ge(me),A=Qe?.user,m=Qe?.device;return typeof m=="number"&&m>=0&&A?(q.push({user:A,device:m,wireJid:me}),null):(me=nt(me),{jid:me,user:A})}).filter(me=>me!==null),xe;if(Z&&v.mget){let me=ye.map(Qe=>Qe?.user).filter(Boolean);xe=await v.mget(me)}for(let{jid:me,user:Qe}of ye)if(Z){let A=xe?.[Qe]||(v.mget?void 0:await v.get(Qe));if(A){let m=me.includes("@lid"),C=A.map(Y=>({...Y,wireJid:m?Yt(Y.user,"lid",Y.device):Yt(Y.user,"s.whatsapp.net",Y.device)}));q.push(...C),n.trace({user:Qe},"using cache for devices")}else ne.push(me)}else ne.push(me);if(!ne.length)return q;let Fe=new Set;for(let me of ne)if(me.includes("@lid")){let Qe=Ge(me)?.user;Qe&&Fe.add(Qe)}let Ke=new gi().withContext("message").withDeviceProtocol();for(let me of ne)Ke.withUser(new hi().withId(me));let $e=await l.executeUSyncQuery(Ke);if($e){let me=Gy($e?.list,f.creds.me.id,ue),Qe={};for(let m of me)Qe[m.user]=Qe[m.user]||[],Qe[m.user]?.push(m);for(let[m,C]of Object.entries(Qe)){let Y=Fe.has(m);for(let V of C){let ie=Y?Yt(m,"lid",V.device):Yt(V.user,"s.whatsapp.net",V.device);q.push({...V,wireJid:ie}),n.debug({user:V.user,device:V.device,finalWireJid:ie,usedLid:Y},"Processed device with LID priority")}}if(v.mset)await v.mset(Object.entries(Qe).map(([m,C])=>({key:m,value:C})));else for(let m in Qe)Qe[m]&&await v.set(m,Qe[m]);let A={};for(let[m,C]of Object.entries(Qe))C&&C.length>0&&(A[m]=C.map(Y=>Y.device?.toString()||"0"));if(Object.keys(A).length>0)try{await f.keys.set({"device-list":A}),n.debug({userCount:Object.keys(A).length},"stored user device lists for bulk migration")}catch(m){n.warn({error:m},"failed to store user device lists")}}return q},ee=async W=>{let Z=!1,ue=[...new Set(W)],q=[];for(let ne of ue){let ye=_.jidToSignalProtocolAddress(ne),xe=D.get(ye);if(xe!==void 0){if(xe)continue}else{let Ke=!!(await f.keys.get("session",[ye]))[ye];if(D.set(ye,Ke),Ke)continue}q.push(ne)}if(q.length){n.debug({jidsRequiringFetch:q},"fetching sessions");let ne=await T({tag:"iq",attrs:{xmlns:"encrypt",type:"get",to:ze},content:[{tag:"key",attrs:{},content:q.map(ye=>({tag:"user",attrs:{jid:ye}}))}]});await Hy(ne,_),Z=!0;for(let ye of q){let xe=_.jidToSignalProtocolAddress(ye);D.set(xe,!0)}}return Z},Ae=async W=>{if(!f.creds.me?.id)throw new Fl.Boom("Not authenticated");let Z={protocolMessage:{peerDataOperationRequestMessage:W,type:x.Message.ProtocolMessage.Type.PEER_DATA_OPERATION_REQUEST_MESSAGE}},ue=nt(f.creds.me.id);return await We(ue,Z,{additionalAttributes:{category:"peer",push_priority:"high_force"}})},se=async(W,Z,ue,q,ne)=>{if(!W.length)return{nodes:[],shouldIncludeDeviceIdentity:!1};let ye=await i(ue,W),xe=Array.isArray(ye)?ye:W.map(m=>({recipientJid:m,message:ye})),Fe=!1,Ke=f.creds.me.id,$e=f.creds.me?.lid,me=$e?Ge($e)?.user:null,Qe=xe.map(async({recipientJid:m,message:C})=>{if(!m)return null;m=Z.get(m)??m;let Y=C;if(ne){let{user:ce}=Ge(m),{user:Ne}=Ge(Ke),Ue=me;(ce===Ne||Ue&&ce===Ue)&&!(m===Ke||$e&&m===$e)&&(Y=ne,n.debug({wireJid:m,targetUser:ce},"Using DSM for own device"))}let V=Bu(Y),ie=m;return await b.mutex(ie,async()=>{let{type:ce,ciphertext:Ne}=await _.encryptMessage({jid:m,data:V});return ce==="pkmsg"&&(Fe=!0),{tag:"to",attrs:{jid:m},content:[{tag:"enc",attrs:{v:"2",type:ce,...q||{}},content:Ne}]}})});return{nodes:(await Promise.all(Qe)).filter(m=>m!==null),shouldIncludeDeviceIdentity:Fe}},pe=async(W,Z,ue,q)=>{let ne=await w(W);return se(W,ne,Z,ue,q)},We=async(W,Z,{messageId:ue,participant:q,additionalAttributes:ne,additionalNodes:ye,useUserDevicesCache:xe,useCachedGroupMetadata:Fe,statusJidList:Ke})=>{let $e=f.creds.me.id,me=f.creds.me?.lid,Qe=!1,A="status@broadcast",{user:m,server:C}=Ge(W),Y=C==="g.us",V=W===A,ie=C==="lid",_e=C==="newsletter",ce=W,Ne=$e;ie&&me?(Ne=me,n.debug({to:W,ownId:Ne},"Using LID identity for @lid conversation")):n.debug({to:W,ownId:Ne},"Using PN identity for @s.whatsapp.net conversation"),ue=ue||zt(l.user?.id),xe=xe!==!1,Fe=Fe!==!1&&!V;let Ue=[],Re=V?A:ce,et=[],ft=[],yi={deviceSentMessage:{destinationJid:Re,message:Z},messageContextInfo:Z.messageContextInfo},F={};if(q){!Y&&!V&&(ne={...ne,device_fanout:"false"});let{user:Q,device:he}=Ge(q.jid);ft.push({user:Q,device:he,wireJid:q.jid})}return await f.keys.transaction(async()=>{let Q=Pe(Z);if(Q&&(F.mediatype=Q),_e){let Ee=i?await i(Z,[]):Z,ut=mg(Ee);et.push({tag:"plaintext",attrs:{},content:ut});let ht={tag:"message",attrs:{to:W,id:ue,type:je(Z),...ne||{}},content:et};n.debug({msgId:ue},`sending newsletter message to ${W}`),await O(ht);return}if(ar(Z)?.pinInChatMessage&&(F["decrypt-fail"]="hide"),Y||V){let[Ee,ut]=await Promise.all([(async()=>{let st=Fe&&o?await o(W):void 0;return st&&Array.isArray(st?.participants)?n.trace({jid:W,participants:st.participants.length},"using cached group metadata"):V||(st=await R(W)),st})(),(async()=>!q&&!V?(await f.keys.get("sender-key-memory",[W]))[W]||{}:{})()]);if(!q){let st=Ee&&!V?Ee.participants.map(Bt=>Bt.id):[];if(V&&Ke&&st.push(...Ke),!V){let Bt=Ee?.addressingMode||(ie?Ai.LID:Ai.PN);ne={...ne,addressing_mode:Bt}}let dn=await K(st,!!xe,!1);ft.push(...dn)}let ht=await i(Z);if(Array.isArray(ht))throw new Fl.Boom("Per-jid patching is not supported in groups");let Ut=Bu(ht),Gn=(Ee?.addressingMode||(ie?"lid":"pn"))==="lid"&&me?me:$e,{ciphertext:Vn,senderKeyDistributionMessage:xr}=await _.encryptGroupMessage({group:Re,data:Ut,meId:Gn}),Xt=await w(ft.map(st=>st.wireJid)),Xe=[];for(let st of ft){let dn=st.wireJid;(!!!ut[dn]||q)&&(Xe.push(dn),ut[dn]=!0)}if(Xe.length){n.debug({senderKeyJids:Xe},"sending new sender key");let st={senderKeyDistributionMessage:{axolotlSenderKeyDistributionMessage:xr,groupId:Re}},dn=Xe.map(Ct=>Xt.get(Ct)??Ct);await ee(dn);let Bt=await se(Xe,Xt,st,F);Qe=Qe||Bt.shouldIncludeDeviceIdentity,Ue.push(...Bt.nodes)}et.push({tag:"enc",attrs:{v:"2",type:"skmsg",...F},content:Vn}),await f.keys.set({"sender-key-memory":{[W]:ut}})}else{let{user:Ee}=Ge(Ne);if(!q){let Bt=ie?"lid":"s.whatsapp.net";if(ft.push({user:m,device:0,wireJid:Yt(m,Bt,0)}),m!==Ee){let Ct=ie?"lid":"s.whatsapp.net",or=ie&&me?Ge(me).user:Ge($e).user;ft.push({user:or,device:0,wireJid:Yt(or,Ct,0)})}if(ne?.category!=="peer"){ft.length=0;let Ct=ie&&me?Yt(Ge(me)?.user,"lid",void 0):Yt(Ge($e)?.user,"s.whatsapp.net",void 0),or=await K([Ct,W],!0,!1);ft.push(...or),n.debug({deviceCount:ft.length,devices:ft.map(Hl=>`${Hl.user}:${Hl.device}@${Ge(Hl.wireJid)?.server}`)},"Device enumeration complete with unified addressing")}}let ut=[],ht=[],Ut=[],{user:Kt}=Ge($e),{user:Gn}=me?Ge(me):{user:null};for(let{user:Bt,wireJid:Ct}of ft){if(Ct===$e||me&&Ct===me){n.debug({wireJid:Ct,meId:$e,meLid:me},"Skipping exact sender device (whatsmeow pattern)");continue}Bt===Kt||Gn&&Bt===Gn?ht.push(Ct):Ut.push(Ct),ut.push(Ct)}let Vn=await w(ft.map(Bt=>Bt.wireJid)),xr=ut.map(Bt=>Vn.get(Bt)??Bt);await ee(xr);let[{nodes:Xt,shouldIncludeDeviceIdentity:Xe},{nodes:st,shouldIncludeDeviceIdentity:dn}]=await Promise.all([se(ht,Vn,yi||Z,F),se(Ut,Vn,Z,F,yi)]);Ue.push(...Xt),Ue.push(...st),(ht.length>0||Ut.length>0)&&(F.phash=hg([...ht,...Ut])),Qe=Qe||Xe||dn}if(Ue.length)if(ne?.category==="peer"){let Ee=Ue[0]?.content?.[0];Ee&&et.push(Ee)}else et.push({tag:"participants",attrs:{},content:Ue});let he={tag:"message",attrs:{id:ue,to:Re,type:je(Z),...ne||{}},content:et};q?on(Re)?(he.attrs.to=Re,he.attrs.participant=q.jid):ln(q.jid,$e)?(he.attrs.to=q.jid,he.attrs.recipient=Re):he.attrs.to=q.jid:he.attrs.to=Re,Qe&&(he.content.push({tag:"device-identity",attrs:{},content:Gs(f.creds.account,!0)}),n.debug({jid:W},"adding device identity")),ye&&ye.length>0&&he.content.push(...ye),n.debug({msgId:ue},`sending message to ${Ue.length} devices`),await O(he),k&&!q&&k.addRecentMessage(Re,ue,Z)},$e),ue},je=W=>W.pollCreationMessage||W.pollCreationMessageV2||W.pollCreationMessageV3?"poll":W.eventMessage?"event":Pe(W)!==""?"media":"text",Pe=W=>W.imageMessage?"image":W.videoMessage?W.videoMessage.gifPlayback?"gif":"video":W.audioMessage?W.audioMessage.ptt?"ptt":"audio":W.contactMessage?"vcard":W.documentMessage?"document":W.contactsArrayMessage?"contact_array":W.liveLocationMessage?"livelocation":W.stickerMessage?"sticker":W.listMessage?"list":W.listResponseMessage?"list_response":W.buttonsResponseMessage?"buttons_response":W.orderMessage?"order":W.productMessage?"product":W.interactiveResponseMessage?"native_flow_response":W.groupInviteMessage?"url":"",Be=async W=>{let Z=Xn().toString();return await T({tag:"iq",attrs:{to:ze,type:"set",xmlns:"privacy"},content:[{tag:"tokens",attrs:{},content:W.map(q=>({tag:"token",attrs:{jid:nt(q),t:Z,type:"trusted_contact"}}))}]})},Ye=Cy(a,H),Ce=Fu(d,"messages.media-update");return{...l,getPrivacyTokens:Be,assertSessions:ee,relayMessage:We,sendReceipt:L,sendReceipts:U,readMessages:X,refreshMediaConn:H,waUploadToServer:Ye,fetchPrivacySettings:I,sendPeerDataOperationMessage:Ae,createParticipantNodes:pe,getUSyncDevices:K,messageRetryManager:k,updateMediaMessage:async W=>{let Z=Uy(W.message),ue=Z.mediaKey,q=f.creds.me.id,ne=await Ny(W.key,ue,q),ye;if(await Promise.all([O(ne),Ce(async xe=>{let Fe=xe.find(Ke=>Ke.key.id===W.key.id);if(Fe){if(Fe.error)ye=Fe.error;else try{let Ke=await Py(Fe.media,ue,Fe.key.id);if(Ke.result!==x.MediaRetryNotification.ResultType.SUCCESS){let $e=x.MediaRetryNotification.ResultType[Ke.result];throw new Fl.Boom(`Media re-upload failed by device (${$e})`,{data:Ke,statusCode:Np(Ke.result)||404})}Z.directPath=Ke.directPath,Z.url=xs(Z.directPath),n.debug({directPath:Ke.directPath,key:Fe.key},"media update successful")}catch(Ke){ye=Ke}return!0}})]),ye)throw ye;return d.emit("messages.update",[{key:W.key,update:{message:W.message}}]),W},sendMessage:async(W,Z,ue={})=>{let q=f.creds.me.id;if(typeof Z=="object"&&"disappearingMessagesInChat"in Z&&typeof Z.disappearingMessagesInChat<"u"&&on(W)){let{disappearingMessagesInChat:ne}=Z;await M(W,typeof ne=="boolean"?ne?Hs:0:ne)}else{let ne=await wy(W,Z,{logger:n,userJid:q,getUrlInfo:A=>__(A,{thumbnailWidth:r,fetchOpts:{timeout:3e3,...t||{}},logger:n,uploadImage:e?Ye:void 0}),getProfilePicUrl:l.profilePictureUrl,getCallLink:l.createCallLink,upload:Ye,mediaCache:a.mediaCache,options:a.options,messageId:zt(l.user?.id),...ue}),ye="event"in Z&&!!Z.event,xe="delete"in Z&&!!Z.delete,Fe="edit"in Z&&!!Z.edit,Ke="pin"in Z&&!!Z.pin,$e="poll"in Z&&!!Z.poll,me={},Qe=[];return xe?on(Z.delete?.remoteJid)&&!Z.delete?.fromMe?me.edit="8":me.edit="7":Fe?me.edit="1":Ke?me.edit="2":$e?Qe.push({tag:"meta",attrs:{polltype:"creation"}}):ye&&Qe.push({tag:"meta",attrs:{event_type:"creation"}}),await We(W,ne.message,{messageId:ne.key.id,useCachedGroupMetadata:ue.useCachedGroupMetadata,additionalAttributes:me,statusJidList:ue.statusJidList,additionalNodes:Qe}),a.emitOwnEvents&&process.nextTick(()=>{g.mutex(()=>y(ne,"append"))}),ne}}}};var C1=a=>{let{logger:n,retryRequestDelayMs:r,maxMsgRetryCount:e,getMessage:t,shouldIgnoreJid:i,enableAutoSessionRecreation:o}=a,s=R1(a),{ev:c,authState:l,ws:d,processingMutex:f,signalRepository:g,query:_,upsertMessage:y,resyncAppState:T,onUnexpectedError:I,assertSessions:O,sendNode:R,relayMessage:M,sendReceipt:v,uploadPreKeys:D,sendPeerDataOperationMessage:k,messageRetryManager:b}=s,j=go(),H=a.msgRetryCounterCache||new Ur({stdTTL:_r.MSG_RETRY,useClones:!1}),L=a.callOfferCache||new Ur({stdTTL:_r.CALL_OFFER,useClones:!1}),U=a.placeholderResendCache||new Ur({stdTTL:_r.MSG_RETRY,useClones:!1}),X=!1,w=async(A,m,C)=>{if(!l.creds.me?.id)throw new jl.Boom("Not authenticated");let Y={historySyncOnDemandRequest:{chatJid:m.remoteJid,oldestMsgFromMe:m.fromMe,oldestMsgId:m.id,oldestMsgTimestampMs:C,onDemandMsgCount:A},peerDataOperationRequestType:x.Message.PeerDataOperationRequestType.HISTORY_SYNC_ON_DEMAND};return k(Y)},K=async A=>{if(!l.creds.me?.id)throw new jl.Boom("Not authenticated");if(U.get(A?.id)){n.debug({messageKey:A},"already requested resend");return}else U.set(A?.id,!0);if(await Ci(5e3),!U.get(A?.id))return n.debug({messageKey:A},"message received while resend requested"),"RESOLVED";let m={placeholderMessageResendRequest:[{messageKey:A}],peerDataOperationRequestType:x.Message.PeerDataOperationRequestType.PLACEHOLDER_MESSAGE_RESEND};return setTimeout(()=>{U.get(A?.id)&&(n.debug({messageKey:A},"PDO message without response after 15 seconds. Phone possibly offline"),U.del(A?.id))},15e3),k(m)},ee=async A=>{let m=G(A,"mex");if(!m?.content){n.warn({node:A},"Invalid mex newsletter notification");return}let C;try{C=JSON.parse(m.content.toString())}catch(ie){n.error({err:ie,node:A},"Failed to parse mex newsletter notification");return}let Y=C?.operation,V=C?.updates;if(!V||!Y){n.warn({data:C},"Invalid mex newsletter notification content");return}switch(n.info({operation:Y,updates:V},"got mex newsletter notification"),Y){case"NotificationNewsletterUpdate":for(let ie of V)ie.jid&&ie.settings&&Object.keys(ie.settings).length>0&&c.emit("newsletter-settings.update",{id:ie.jid,update:ie.settings});break;case"NotificationNewsletterAdminPromote":for(let ie of V)ie.jid&&ie.user&&c.emit("newsletter-participants.update",{id:ie.jid,author:A.attrs.from,user:ie.user,new_role:"ADMIN",action:"promote"});break;default:n.info({operation:Y,data:C},"Unhandled mex newsletter notification");break}},Ae=async A=>{let m=A.attrs.from,C=Ba(A)[0],Y=A.attrs.participant;switch(n.info({from:m,child:C},"got newsletter notification"),C.tag){case"reaction":let V={id:m,server_id:C.attrs.message_id,reaction:{code:Je(C,"reaction"),count:1}};c.emit("newsletter.reaction",V);break;case"view":let ie={id:m,server_id:C.attrs.message_id,count:parseInt(C.content?.toString()||"0",10)};c.emit("newsletter.view",ie);break;case"participant":let _e={id:m,author:Y,user:C.attrs.jid,action:C.attrs.action,new_role:C.attrs.role};c.emit("newsletter-participants.update",_e);break;case"update":let ce=G(C,"settings");if(ce){let Ue={},Re=G(ce,"name");Re?.content&&(Ue.name=Re.content.toString());let et=G(ce,"description");et?.content&&(Ue.description=et.content.toString()),c.emit("newsletter-settings.update",{id:m,update:Ue})}break;case"message":let Ne=G(C,"plaintext");if(Ne?.content)try{let Ue=typeof Ne.content=="string"?Buffer.from(Ne.content,"binary"):Buffer.from(Ne.content),Re=dt(x.Message,Ue),et=x.WebMessageInfo.create({key:{remoteJid:m,id:C.attrs.message_id||C.attrs.server_id,fromMe:!1},message:Re,messageTimestamp:+C.attrs.t});await y(et,"append"),n.info("Processed plaintext newsletter message")}catch(Ue){n.error({error:Ue},"Failed to decode plaintext newsletter message")}break;default:n.warn({node:A},"Unknown newsletter notification");break}},se=async({tag:A,attrs:m,content:C},Y)=>{let V={tag:"ack",attrs:{id:m.id,to:m.from,class:A}};Y&&(V.attrs.error=Y.toString()),m.participant&&(V.attrs.participant=m.participant),m.recipient&&(V.attrs.recipient=m.recipient),m.type&&(A!=="message"||G({tag:A,attrs:m,content:C},"unavailable")||Y!==0)&&(V.attrs.type=m.type),A==="message"&&G({tag:A,attrs:m,content:C},"unavailable")&&(V.attrs.from=l.creds.me.id),n.debug({recv:{tag:A,attrs:m},sent:V.attrs},"sent ack"),await R(V)},pe=async(A,m)=>{let C={tag:"call",attrs:{from:l.creds.me.id,to:m},content:[{tag:"reject",attrs:{"call-id":A,"call-creator":m,count:"0"},content:void 0}]};await _(C)},We=async(A,m=!1)=>{let{fullMessage:C}=Ku(A,l.creds.me.id,l.creds.me.lid||""),{key:Y}=C,V=Y.id;if(b){if(b.hasExceededMaxRetries(V)){n.debug({msgId:V},"reached retry limit with new retry manager, clearing"),b.markRetryFailed(V);return}let F=b.incrementRetryCount(V),Q=`${V}:${Y?.participant}`;H.set(Q,F)}else{let F=`${V}:${Y?.participant}`,Q=await H.get(F)||0;if(Q>=e){n.debug({retryCount:Q,msgId:V},"reached retry limit, clearing"),H.del(F);return}Q+=1,await H.set(F,Q)}let ie=`${V}:${Y?.participant}`,_e=await H.get(ie)||1,{account:ce,signedPreKey:Ne,signedIdentityKey:Ue}=l.creds,Re=A.attrs.from,et=!1,ft="";if(o&&b)try{let F=g.jidToSignalProtocolAddress(Re),Q=await g.validateSession(Re),he=b.shouldRecreateSession(Re,_e,Q.exists);et=he.recreate,ft=he.reason,et&&(n.info({fromJid:Re,retryCount:_e,reason:ft},"recreating session for retry"),await l.keys.set({session:{[F]:null}}),m=!0)}catch(F){n.warn({error:F,fromJid:Re},"failed to check session recreation")}if(_e<=2)if(b)b.schedulePhoneRequest(V,async()=>{try{let F=await K(Y);n.debug(`sendRetryRequest: requested placeholder resend for message ${F} (scheduled)`)}catch(F){n.warn({error:F,msgId:V},"failed to send scheduled phone request")}});else{let F=await K(Y);n.debug(`sendRetryRequest: requested placeholder resend for message ${F}`)}let yi=Gs(ce,!0);await l.keys.transaction(async()=>{let F={tag:"receipt",attrs:{id:V,type:"retry",to:A.attrs.from},content:[{tag:"retry",attrs:{count:_e.toString(),id:A.attrs.id,t:A.attrs.t,v:"1"}},{tag:"registration",attrs:{},content:zr(l.creds.registrationId)}]};if(A.attrs.recipient&&(F.attrs.recipient=A.attrs.recipient),A.attrs.participant&&(F.attrs.participant=A.attrs.participant),_e>1||m||et){let{update:Q,preKeys:he}=await kp(l,1),[Ee]=Object.keys(he),ut=he[+Ee];F.content.push({tag:"keys",attrs:{},content:[{tag:"type",attrs:{},content:Buffer.from(Ri)},{tag:"identity",attrs:{},content:Ue.public},wp(ut,+Ee),Dp(Ne),{tag:"device-identity",attrs:{},content:yi}]}),c.emit("creds.update",Q)}await R(F),n.info({msgAttrs:A.attrs,retryCount:_e},"sent retry receipt")},l?.creds?.me?.id||"sendRetryRequest")},je=async A=>{let m=A.attrs.from;if(m===ze){let Y=+G(A,"count").attrs.value,V=Y<wl;n.debug({count:Y,shouldUploadMorePreKeys:V},"recv pre-key count"),V&&await D()}else G(A,"identity")?n.info({jid:m},"identity changed"):n.info({node:A},"unknown encrypt notification")},Pe=(A,m,C)=>{let Y=G(m,"participant")?.attrs?.jid||A;switch(m?.tag){case"create":let V=tc(m);C.messageStubType=He.GROUP_CREATE,C.messageStubParameters=[V.subject],C.key={participant:V.owner},c.emit("chats.upsert",[{id:V.id,name:V.subject,conversationTimestamp:V.creation}]),c.emit("groups.upsert",[{...V,author:A}]);break;case"ephemeral":case"not_ephemeral":C.message={protocolMessage:{type:x.Message.ProtocolMessage.Type.EPHEMERAL_SETTING,ephemeralExpiration:+(m.attrs.expiration||0)}};break;case"modify":let ie=qe(m,"participant").map(ft=>ft.attrs.jid);C.messageStubParameters=ie||[],C.messageStubType=He.GROUP_PARTICIPANT_CHANGE_NUMBER;break;case"promote":case"demote":case"remove":case"add":case"leave":let _e=`GROUP_PARTICIPANT_${m.tag.toUpperCase()}`;C.messageStubType=He[_e];let ce=qe(m,"participant").map(ft=>ft.attrs.jid);ce.length===1&&ln(ce[0],A)&&m.tag==="remove"&&(C.messageStubType=He.GROUP_PARTICIPANT_LEAVE),C.messageStubParameters=ce;break;case"subject":C.messageStubType=He.GROUP_CHANGE_SUBJECT,C.messageStubParameters=[m.attrs.subject];break;case"description":let Ne=G(m,"body")?.content?.toString();C.messageStubType=He.GROUP_CHANGE_DESCRIPTION,C.messageStubParameters=Ne?[Ne]:void 0;break;case"announcement":case"not_announcement":C.messageStubType=He.GROUP_CHANGE_ANNOUNCE,C.messageStubParameters=[m.tag==="announcement"?"on":"off"];break;case"locked":case"unlocked":C.messageStubType=He.GROUP_CHANGE_RESTRICT,C.messageStubParameters=[m.tag==="locked"?"on":"off"];break;case"invite":C.messageStubType=He.GROUP_CHANGE_INVITE_LINK,C.messageStubParameters=[m.attrs.code];break;case"member_add_mode":let Ue=m.content;Ue&&(C.messageStubType=He.GROUP_MEMBER_ADD_MODE,C.messageStubParameters=[Ue.toString()]);break;case"membership_approval_mode":let Re=G(m,"group_join");Re&&(C.messageStubType=He.GROUP_MEMBERSHIP_JOIN_APPROVAL_MODE,C.messageStubParameters=[Re.attrs.state]);break;case"created_membership_requests":C.messageStubType=He.GROUP_MEMBERSHIP_JOIN_APPROVAL_REQUEST_NON_ADMIN_ADD,C.messageStubParameters=[Y,"created",m.attrs.request_method];break;case"revoked_membership_requests":let et=ln(Y,A);C.messageStubType=He.GROUP_MEMBERSHIP_JOIN_APPROVAL_REQUEST_NON_ADMIN_ADD,C.messageStubParameters=[Y,et?"revoked":"rejected"];break}},Be=async A=>{let m={},[C]=Ba(A),Y=A.attrs.type,V=nt(A.attrs.from);switch(Y){case"privacy_token":let ie=qe(C,"token");for(let{attrs:Xe,content:st}of ie){let dn=Xe.jid;c.emit("chats.update",[{id:dn,tcToken:st}]),n.debug({jid:dn},"got privacy token update")}break;case"newsletter":await Ae(A);break;case"mex":await ee(A);break;case"w:gp2":Pe(A.attrs.participant,C,m);break;case"mediaretry":let _e=My(A);c.emit("messages.media-update",[_e]);break;case"encrypt":await je(A);break;case"devices":let ce=qe(C,"device");if(ln(C.attrs.jid,l.creds.me.id)||ln(C.attrs.lid,l.creds.me.lid)){let Xe=ce.map(st=>({id:st.attrs.jid,lid:st.attrs.lid}));n.info({deviceData:Xe},"my own devices changed")}break;case"server_sync":let Ne=G(A,"collection");if(Ne){let Xe=Ne.attrs.name;await T([Xe],!1)}break;case"picture":let Ue=G(A,"set"),Re=G(A,"delete");if(c.emit("contacts.update",[{id:nt(A?.attrs?.from)||(Ue||Re)?.attrs?.hash||"",imgUrl:Ue?"changed":"removed"}]),on(V)){let Xe=Ue||Re;m.messageStubType=He.GROUP_CHANGE_ICON,Ue&&(m.messageStubParameters=[Ue.attrs.id]),m.participant=Xe?.attrs.author,m.key={...m.key||{},participant:Ue?.attrs.author}}break;case"account_sync":if(C.tag==="disappearing_mode"){let Xe=+C.attrs.duration,st=+C.attrs.t;n.info({newDuration:Xe},"updated account disappearing mode"),c.emit("creds.update",{accountSettings:{...l.creds.accountSettings,defaultDisappearingMode:{ephemeralExpiration:Xe,ephemeralSettingTimestamp:st}}})}else if(C.tag==="blocklist"){let Xe=qe(C,"item");for(let{attrs:st}of Xe){let dn=[st.jid],Bt=st.action==="block"?"add":"remove";c.emit("blocklist.update",{blocklist:dn,type:Bt})}}break;case"link_code_companion_reg":let et=G(A,"link_code_companion_reg"),ft=Ce(qn(et,"link_code_pairing_ref")),yi=Ce(qn(et,"primary_identity_pub")),F=Ce(qn(et,"link_code_pairing_wrapped_primary_ephemeral_pub")),Q=await Ye(F),he=Gt.sharedKey(l.creds.pairingEphemeralKeyPair.private,Q),Ee=G_(32),ut=G_(32),ht=await Un(he,32,{salt:ut,info:"link_code_pairing_key_bundle_encryption_key"}),Ut=Buffer.concat([Buffer.from(l.creds.signedIdentityKey.public),yi,Ee]),Kt=G_(12),Gn=xa(Ut,ht,Kt,Buffer.alloc(0)),Vn=Buffer.concat([ut,Kt,Gn]),xr=Gt.sharedKey(l.creds.signedIdentityKey.private,yi),Xt=Buffer.concat([he,xr,Ee]);l.creds.advSecretKey=(await Un(Xt,32,{info:"adv_secret"})).toString("base64"),await _({tag:"iq",attrs:{to:ze,type:"set",id:s.generateMessageTag(),xmlns:"md"},content:[{tag:"link_code_companion_reg",attrs:{jid:l.creds.me.id,stage:"companion_finish"},content:[{tag:"link_code_pairing_wrapped_key_bundle",attrs:{},content:Vn},{tag:"companion_identity_public",attrs:{},content:l.creds.signedIdentityKey.public},{tag:"link_code_pairing_ref",attrs:{},content:ft}]}]}),l.creds.registered=!0,c.emit("creds.update",l.creds)}if(Object.keys(m).length)return m};async function Ye(A){let m=Ce(A),C=m.slice(0,32),Y=await Lc(l.creds.pairingCode,C),V=m.slice(32,48),ie=m.slice(48,80);return lg(ie,Y,V)}function Ce(A){if(A===void 0)throw new jl.Boom("Invalid buffer",{statusCode:400});return A instanceof Buffer?A:Buffer.from(A)}let W=async(A,m)=>{let C=`${A}:${m}`;return(await H.get(C)||0)<e},Z=async(A,m)=>{let C=`${A}:${m}`,Y=(await H.get(C)||0)+1;await H.set(C,Y)},ue=async(A,m,C)=>{let Y=A.remoteJid,V=A.participant||Y,ie=+C.attrs.count||1,_e=[];for(let Re of m){let et;if(b){let ft=b.getRecentMessage(Y,Re);ft&&(et=ft.message,n.debug({jid:Y,id:Re},"found message in retry cache"),b.markRetrySuccess(Re))}et||(et=await t({...A,id:Re}),et&&(n.debug({jid:Y,id:Re},"found message via getMessage"),b&&b.markRetrySuccess(Re))),_e.push(et)}let ce=!Ge(V)?.device,Ne=!1,Ue="";if(o&&b)try{let Re=g.jidToSignalProtocolAddress(V),et=await g.validateSession(V),ft=b.shouldRecreateSession(V,ie,et.exists);Ne=ft.recreate,Ue=ft.reason,Ne&&(n.info({participant:V,retryCount:ie,reason:Ue},"recreating session for outgoing retry"),await l.keys.set({session:{[Re]:null}}))}catch(Re){n.warn({error:Re,participant:V},"failed to check session recreation for outgoing retry")}await O([V]),on(Y)&&await l.keys.set({"sender-key-memory":{[Y]:null}}),n.debug({participant:V,sendToAll:ce,shouldRecreateSession:Ne,recreateReason:Ue},"forced new session for retry recp");for(let[Re,et]of _e.entries())if(m[Re])if(et&&await W(m[Re],V)){Z(m[Re],V);let ft={messageId:m[Re]};ce?ft.useUserDevicesCache=!1:ft.participant={jid:V,count:+C.attrs.count},await M(A.remoteJid,et,ft)}else n.debug({jid:A.remoteJid,id:m[Re]},"recv retry request, but message not available")},q=async A=>{let{attrs:m,content:C}=A,Y=m.from.includes("lid"),V=ln(m.participant||m.from,Y?l.creds.me?.lid:l.creds.me?.id),ie=!V||on(m.from)?m.from:m.recipient,_e=!m.recipient||(m.type==="retry"||m.type==="sender")&&V,ce={remoteJid:ie,id:"",fromMe:_e,participant:m.participant};if(i(ie)&&ie!=="@s.whatsapp.net"){n.debug({remoteJid:ie},"ignoring receipt from jid"),await se(A);return}let Ne=[m.id];if(Array.isArray(C)){let Ue=qe(C[0],"item");Ne.push(...Ue.map(Re=>Re.attrs.id))}try{await Promise.all([f.mutex(async()=>{let Ue=Tg(m.type);if(typeof Ue<"u"&&(Ue>=x.WebMessageInfo.Status.SERVER_ACK||!V))if(on(ie)||mi(ie)){if(m.participant){let Re=Ue===x.WebMessageInfo.Status.DELIVERY_ACK?"receiptTimestamp":"readTimestamp";c.emit("message-receipt.update",Ne.map(et=>({key:{...ce,id:et},receipt:{userJid:nt(m.participant),[Re]:+m.t}})))}}else c.emit("messages.update",Ne.map(Re=>({key:{...ce,id:Re},update:{status:Ue}})));if(m.type==="retry"){ce.participant=ce.participant||m.from;let Re=G(A,"retry");if(Ne[0]&&ce.participant&&await W(Ne[0],ce.participant))if(ce.fromMe)try{Z(Ne[0],ce.participant),n.debug({attrs:m,key:ce},"recv retry request"),await ue(ce,Ne,Re)}catch(et){n.error({key:ce,ids:Ne,trace:et instanceof Error?et.stack:"Unknown error"},"error in sending message again")}else n.info({attrs:m,key:ce},"recv retry for not fromMe message");else n.info({attrs:m,key:ce},"will not send message again, as sent too many times")}})])}finally{await se(A)}},ne=async A=>{let m=A.attrs.from;if(i(m)&&m!=="@s.whatsapp.net"){n.debug({remoteJid:m,id:A.attrs.id},"ignored notification"),await se(A);return}try{await Promise.all([f.mutex(async()=>{let C=await Be(A);if(C){let Y=ln(A.attrs.participant||m,l.creds.me.id);C.key={remoteJid:m,fromMe:Y,participant:A.attrs.participant,id:A.attrs.id,...C.key||{}},C.participant??(C.participant=A.attrs.participant),C.messageTimestamp=+A.attrs.t;let V=x.WebMessageInfo.create(C);await y(V,"append")}})])}finally{await se(A)}},ye=async A=>{if(i(A.attrs.from)&&A.attrs.from!=="@s.whatsapp.net"){n.debug({key:A.attrs.key},"ignored message"),await se(A);return}let m=G(A,"enc");if(m&&m.attrs.type==="msmsg"){n.debug({key:A.attrs.key},"ignored msmsg"),await se(A,ju.MissingMessageSecret);return}let{fullMessage:C,category:Y,author:V,decrypt:ie}=Cg(A,l.creds.me.id,l.creds.me.lid||"",g,n);if(C.message?.protocolMessage?.type===x.Message.ProtocolMessage.Type.SHARE_PHONE_NUMBER&&A.attrs.sender_pn){let ce=nt(A.attrs.from),Ne=nt(A.attrs.sender_pn);c.emit("lid-mapping.update",{lid:ce,pn:Ne}),await g.lidMapping.storeLIDPNMappings([{lid:ce,pn:Ne}]),await g.migrateSession(Ne,ce)}let _e=C.key.participantAlt||C.key.remoteJidAlt;if(_e){let ce=Ge(_e)?.server,Ne=C.key.participant||C.key.remoteJid;ce==="lid"?typeof await g.lidMapping.getPNForLID(_e)=="string"&&(await g.lidMapping.storeLIDPNMappings([{lid:_e,pn:Ne}]),await g.migrateSession(Ne,_e)):typeof await g.lidMapping.getLIDForPN(_e)=="string"&&(await g.lidMapping.storeLIDPNMappings([{lid:Ne,pn:_e}]),await g.migrateSession(_e,Ne))}C.key?.remoteJid&&C.key?.id&&b&&(b.addRecentMessage(C.key.remoteJid,C.key.id,C.message),n.debug({jid:C.key.remoteJid,id:C.key.id},"Added message to recent cache for retry receipts"));try{await Promise.all([f.mutex(async()=>{if(await ie(),C.messageStubType===x.WebMessageInfo.StubType.CIPHERTEXT){if(C?.messageStubParameters?.[0]===bg)return se(A,ju.ParsingError);let ce=C?.messageStubParameters?.[0]||"",Ne=ce.includes("PreKey");n.debug("[handleMessage] Attempting retry request for failed decryption"),j.mutex(async()=>{try{if(!d.isOpen){n.debug({node:A},"Connection closed, skipping retry");return}if(Ne){n.info({error:ce},"PreKey error detected, uploading and retrying");try{n.debug("Uploading pre-keys for error recovery"),await D(5),n.debug("Waiting for server to process new pre-keys"),await Ci(1e3)}catch(Re){n.error({uploadErr:Re},"Pre-key upload failed, proceeding with retry anyway")}}let Ue=G(A,"enc");await We(A,!Ue),r&&await Ci(r)}catch(Ue){n.error({err:Ue,isPreKeyError:Ne},"Failed to handle retry, attempting basic retry");try{let Re=G(A,"enc");await We(A,!Re)}catch(Re){n.error({retryErr:Re},"Failed to send retry after error handling")}}})}else{let ce,Ne=C.key.participant;if(Y==="peer"?ce="peer_msg":C.key.fromMe?(ce="sender",(an(C.key.remoteJid)||an(C.key.remoteJidAlt))&&(Ne=V)):X||(ce="inactive"),await v(C.key.remoteJid,Ne,[C.key.id],ce),ml(C.message)){let Re=nt(C.key.remoteJid);await v(Re,void 0,[C.key.id],"hist_sync")}}T_(C,l.creds.me.id),await se(A),await y(C,A.attrs.offline?"append":"notify")})])}catch(ce){n.error({error:ce,node:A},"error in handling message")}},xe=async A=>{let m,{attrs:C}=A,[Y]=Ba(A);if(!Y)throw new jl.Boom("Missing call info in call node");let V=Y.attrs["call-id"],ie=Y.attrs.from||Y.attrs["call-creator"];if(m=Og(Y),an(ie)&&Y.tag==="relaylatency"&&!await L.get(V)){m="offer";let Ue={chatId:C.from,from:ie,id:V,date:new Date(+C.t*1e3),offline:!!C.offline,status:m};await L.set(V,Ue)}let _e={chatId:C.from,from:ie,id:V,date:new Date(+C.t*1e3),offline:!!C.offline,status:m};m==="offer"&&(_e.isVideo=!!G(Y,"video"),_e.isGroup=Y.attrs.type==="group"||!!Y.attrs["group-jid"],_e.groupJid=Y.attrs["group-jid"],await L.set(_e.id,_e));let ce=await L.get(_e.id);ce&&(_e.isVideo=ce.isVideo,_e.isGroup=ce.isGroup),(m==="reject"||m==="accept"||m==="timeout"||m==="terminate")&&await L.del(_e.id),c.emit("call",[_e]),await se(A)},Fe=async({attrs:A})=>{let m={remoteJid:A.from,fromMe:!0,id:A.id};A.error&&(n.warn({attrs:A},"received error in ack"),c.emit("messages.update",[{key:m,update:{status:va.ERROR,messageStubParameters:[A.error]}}]))},Ke=async(A,m,C)=>{c.buffer(),await Y(),c.flush();function Y(){return C(A,!1).catch(V=>I(V,m))}},me=(()=>{let A=new Map([["message",ye],["call",xe],["receipt",q],["notification",ne]]),m=[],C=!1;return{enqueue:(V,ie)=>{if(m.push({type:V,node:ie}),C)return;C=!0,(async()=>{for(;m.length&&d.isOpen;){let{type:ce,node:Ne}=m.shift(),Ue=A.get(ce);if(!Ue){I(new Error(`unknown offline node type: ${ce}`),"processing offline node");continue}await Ue(Ne)}C=!1})().catch(ce=>I(ce,"processing offline nodes"))}}})(),Qe=(A,m,C,Y)=>{!!m.attrs.offline?me.enqueue(A,m):Ke(m,C,Y)};return d.on("CB:message",A=>{Qe("message",A,"processing message",ye)}),d.on("CB:call",async A=>{Qe("call",A,"handling call",xe)}),d.on("CB:receipt",A=>{Qe("receipt",A,"handling receipt",q)}),d.on("CB:notification",async A=>{Qe("notification",A,"handling notification",ne)}),d.on("CB:ack,class:message",A=>{Fe(A).catch(m=>I(m,"handling bad ack"))}),c.on("call",([A])=>{if(A&&(A.status==="timeout"||A.status==="offer"&&A.isGroup)){let m={key:{remoteJid:A.chatId,id:A.id,fromMe:!1},messageTimestamp:Xn(A.date)};A.status==="timeout"?A.isGroup?m.messageStubType=A.isVideo?He.CALL_MISSED_GROUP_VIDEO:He.CALL_MISSED_GROUP_VOICE:m.messageStubType=A.isVideo?He.CALL_MISSED_VIDEO:He.CALL_MISSED_VOICE:m.message={call:{callKey:Buffer.from(A.id)}};let C=x.WebMessageInfo.create(m);y(C,A.offline?"append":"notify")}}),c.on("connection.update",({isOnline:A})=>{typeof A<"u"&&(X=A,n.trace(`sendActiveReceipts set to "${X}"`))}),{...s,sendMessageAck:se,sendRetryRequest:We,rejectCall:pe,fetchMessageHistory:w,requestPlaceholderResend:K,messageRetryManager:b}};var N1=a=>{let n=C1(a),{authState:r,query:e,waUploadToServer:t}=n,i=async y=>{let T=[],I=["address","email","description"];return T.push(...I.filter(R=>y[R]).map(R=>({tag:R,attrs:{},content:y[R]}))),y.websites&&T.push(...y.websites.map(R=>({tag:"website",attrs:{},content:R}))),y.hours&&T.push({tag:"business_hours",attrs:{timezone:y.hours.timezone},content:y.hours.days.map(R=>{let M={tag:"business_hours_config",attrs:{day_of_week:R.day,mode:R.mode}};return R.mode==="specific_hours"?{...M,attrs:{...M.attrs,open_time:R.openTimeInMinutes,close_time:R.closeTimeInMinutes}}:M})}),await e({tag:"iq",attrs:{to:ze,type:"set",xmlns:"w:biz"},content:[{tag:"business_profile",attrs:{v:"3",mutation_type:"delta"},content:T}]})},o=async y=>{let{fileSha256:T,filePath:I}=await Ol(y,"biz-cover-photo"),O=T.toString("base64"),{meta_hmac:R,fbid:M,ts:v}=await t(I,{fileEncSha256B64:O,mediaType:"biz-cover-photo"});return await e({tag:"iq",attrs:{to:ze,type:"set",xmlns:"w:biz"},content:[{tag:"business_profile",attrs:{v:"3",mutation_type:"delta"},content:[{tag:"cover_photo",attrs:{id:String(M),op:"update",token:R,ts:String(v)}}]}]}),M},s=async y=>await e({tag:"iq",attrs:{to:ze,type:"set",xmlns:"w:biz"},content:[{tag:"business_profile",attrs:{v:"3",mutation_type:"delta"},content:[{tag:"cover_photo",attrs:{op:"delete",id:y}}]}]}),c=async({jid:y,limit:T,cursor:I})=>{y=y||r.creds.me?.id,y=nt(y);let O=[{tag:"limit",attrs:{},content:Buffer.from((T||10).toString())},{tag:"width",attrs:{},content:Buffer.from("100")},{tag:"height",attrs:{},content:Buffer.from("100")}];I&&O.push({tag:"after",attrs:{},content:I});let R=await e({tag:"iq",attrs:{to:ze,type:"get",xmlns:"w:biz:catalog"},content:[{tag:"product_catalog",attrs:{jid:y,allow_shop_source:"true"},content:O}]});return o1(R)},l=async(y,T=51)=>{y=y||r.creds.me?.id,y=nt(y);let I=await e({tag:"iq",attrs:{to:ze,type:"get",xmlns:"w:biz:catalog",smax_id:"35"},content:[{tag:"collections",attrs:{biz_jid:y},content:[{tag:"collection_limit",attrs:{},content:Buffer.from(T.toString())},{tag:"item_limit",attrs:{},content:Buffer.from(T.toString())},{tag:"width",attrs:{},content:Buffer.from("100")},{tag:"height",attrs:{},content:Buffer.from("100")}]}]});return s1(I)},d=async(y,T)=>{let I=await e({tag:"iq",attrs:{to:ze,type:"get",xmlns:"fb:thrift_iq",smax_id:"5"},content:[{tag:"order",attrs:{op:"get",id:y},content:[{tag:"image_dimensions",attrs:{},content:[{tag:"width",attrs:{},content:Buffer.from("100")},{tag:"height",attrs:{},content:Buffer.from("100")}]},{tag:"token",attrs:{},content:Buffer.from(T)}]}]});return c1(I)},f=async(y,T)=>{T=await B_(T,t);let I=U_(y,T),O=await e({tag:"iq",attrs:{to:ze,type:"set",xmlns:"w:biz:catalog"},content:[{tag:"product_catalog_edit",attrs:{v:"1"},content:[I,{tag:"width",attrs:{},content:"100"},{tag:"height",attrs:{},content:"100"}]}]}),R=G(O,"product_catalog_edit"),M=G(R,"product");return kl(M)},g=async y=>{y.isHidden=!!y.isHidden,y=await B_(y,t);let T=U_(void 0,y),I=await e({tag:"iq",attrs:{to:ze,type:"set",xmlns:"w:biz:catalog"},content:[{tag:"product_catalog_add",attrs:{v:"1"},content:[T,{tag:"width",attrs:{},content:"100"},{tag:"height",attrs:{},content:"100"}]}]}),O=G(I,"product_catalog_add"),R=G(O,"product");return kl(R)},_=async y=>{let T=await e({tag:"iq",attrs:{to:ze,type:"set",xmlns:"w:biz:catalog"},content:[{tag:"product_catalog_delete",attrs:{v:"1"},content:y.map(O=>({tag:"product",attrs:{},content:[{tag:"id",attrs:{},content:Buffer.from(O)}]}))}]});return{deleted:+(G(T,"product_catalog_delete")?.attrs.deleted_count||0)}};return{...n,logger:a.logger,getOrderDetails:d,getCatalog:c,getCollections:l,productCreate:g,productDelete:_,productUpdate:f,updateBussinesProfile:i,updateCoverPhoto:o,removeCoverPhoto:s}};var M1=a=>{let n=N1(a),{authState:r,ev:e,query:t,upsertMessage:i}=n,o=async(f,g,_)=>t({tag:"iq",attrs:{type:g,xmlns:"w:g2",to:f},content:_}),s=async f=>{let g=await o(f,"get",[{tag:"query",attrs:{request:"interactive"}}]);return V_(g)},c=async()=>{let f=await t({tag:"iq",attrs:{to:"@g.us",xmlns:"w:g2",type:"get"},content:[{tag:"participating",attrs:{},content:[{tag:"participants",attrs:{}},{tag:"description",attrs:{}}]}]}),g={},_=G(f,"communities");if(_){let y=qe(_,"community");for(let T of y){let I=V_({tag:"result",attrs:{},content:[T]});g[I.id]=I}}return n.ev.emit("groups.update",Object.values(g)),g};async function l(f){Dl.info({node:f},"parseGroupResult");let g=G(f,"group");if(g)try{Dl.info({groupNode:g},"groupNode");let _=await n.groupMetadata(`${g.attrs.id}@g.us`);return _||d.empty()}catch(_){return console.error("Error parsing group metadata:",_),d.empty()}return d.empty()}let d={empty:()=>null,of:f=>f!==null?{value:f}:null};return n.ws.on("CB:ib,,dirty",async f=>{let{attrs:g}=G(f,"dirty");g.type==="communities"&&(await c(),await n.cleanDirtyBits("groups"))}),{...n,communityMetadata:s,communityCreate:async(f,g)=>{let _=xu().substring(0,12),y=await o("@g.us","set",[{tag:"create",attrs:{subject:f},content:[{tag:"description",attrs:{id:_},content:[{tag:"body",attrs:{},content:Buffer.from(g||"","utf-8")}]},{tag:"parent",attrs:{default_membership_approval_mode:"request_required"}},{tag:"allow_non_admin_sub_group_creation",attrs:{}},{tag:"create_general_chat",attrs:{}}]}]);return await l(y)},communityCreateGroup:async(f,g,_)=>{let y=zt(),T=await o("@g.us","set",[{tag:"create",attrs:{subject:f,key:y},content:[...g.map(I=>({tag:"participant",attrs:{jid:I}})),{tag:"linked_parent",attrs:{jid:_}}]}]);return await l(T)},communityLeave:async f=>{await o("@g.us","set",[{tag:"leave",attrs:{},content:[{tag:"community",attrs:{id:f}}]}])},communityUpdateSubject:async(f,g)=>{await o(f,"set",[{tag:"subject",attrs:{},content:Buffer.from(g,"utf-8")}])},communityLinkGroup:async(f,g)=>{await o(g,"set",[{tag:"links",attrs:{},content:[{tag:"link",attrs:{link_type:"sub_group"},content:[{tag:"group",attrs:{jid:f}}]}]}])},communityUnlinkGroup:async(f,g)=>{await o(g,"set",[{tag:"unlink",attrs:{unlink_type:"sub_group"},content:[{tag:"group",attrs:{jid:f}}]}])},communityRequestParticipantsList:async f=>{let g=await o(f,"get",[{tag:"membership_approval_requests",attrs:{}}]),_=G(g,"membership_approval_requests");return qe(_,"membership_approval_request").map(T=>T.attrs)},communityRequestParticipantsUpdate:async(f,g,_)=>{let y=await o(f,"set",[{tag:"membership_requests_action",attrs:{},content:[{tag:_,attrs:{},content:g.map(R=>({tag:"participant",attrs:{jid:R}}))}]}]),T=G(y,"membership_requests_action"),I=G(T,_);return qe(I,"participant").map(R=>({status:R.attrs.error||"200",jid:R.attrs.jid}))},communityParticipantsUpdate:async(f,g,_)=>{let y=await o(f,"set",[{tag:_,attrs:{},content:g.map(O=>({tag:"participant",attrs:{jid:O}}))}]),T=G(y,_);return qe(T,"participant").map(O=>({status:O.attrs.error||"200",jid:O.attrs.jid,content:O}))},communityUpdateDescription:async(f,g)=>{let y=(await s(f)).descId??null;await o(f,"set",[{tag:"description",attrs:{...g?{id:xu()}:{delete:"true"},...y?{prev:y}:{}},content:g?[{tag:"body",attrs:{},content:Buffer.from(g,"utf-8")}]:void 0}])},communityInviteCode:async f=>{let g=await o(f,"get",[{tag:"invite",attrs:{}}]);return G(g,"invite")?.attrs.code},communityRevokeInvite:async f=>{let g=await o(f,"set",[{tag:"invite",attrs:{}}]);return G(g,"invite")?.attrs.code},communityAcceptInvite:async f=>{let g=await o("@g.us","set",[{tag:"invite",attrs:{code:f}}]);return G(g,"community")?.attrs.jid},communityRevokeInviteV4:async(f,g)=>!!await o(f,"set",[{tag:"revoke",attrs:{},content:[{tag:"participant",attrs:{jid:g}}]}]),communityAcceptInviteV4:e.createBufferedFunction(async(f,g)=>{f=typeof f=="string"?{remoteJid:f}:f;let _=await o(g.groupJid,"set",[{tag:"accept",attrs:{code:g.inviteCode,expiration:g.inviteExpiration.toString(),admin:f.remoteJid}}]);return f.id&&(g=x.Message.GroupInviteMessage.create(g),g.inviteExpiration=0,g.inviteCode="",e.emit("messages.update",[{key:f,update:{message:{groupInviteMessage:g}}}])),await i({key:{remoteJid:g.groupJid,id:zt(n.user?.id),fromMe:!1,participant:f.remoteJid},messageStubType:He.GROUP_PARTICIPANT_ADD,messageStubParameters:[r.creds.me.id],participant:f.remoteJid,messageTimestamp:Xn()},"notify"),_.attrs.from}),communityGetInviteInfo:async f=>{let g=await o("@g.us","get",[{tag:"invite",attrs:{code:f}}]);return V_(g)},communityToggleEphemeral:async(f,g)=>{let _=g?{tag:"ephemeral",attrs:{expiration:g.toString()}}:{tag:"not_ephemeral",attrs:{}};await o(f,"set",[_])},communitySettingUpdate:async(f,g)=>{await o(f,"set",[{tag:g,attrs:{}}])},communityMemberAddMode:async(f,g)=>{await o(f,"set",[{tag:"member_add_mode",attrs:{},content:g}])},communityJoinApprovalMode:async(f,g)=>{await o(f,"set",[{tag:"membership_approval_mode",attrs:{},content:[{tag:"community_join",attrs:{state:g}}]}])},communityFetchAllParticipating:c}},V_=a=>{let n=G(a,"community"),r=G(n,"description"),e,t;r&&(e=Je(r,"body"),t=r.attrs.id);let i=n.attrs.id?.includes("@")?n.attrs.id:Yt(n.attrs.id||"","g.us"),o=G(n,"ephemeral")?.attrs.expiration,s=Je(n,"member_add_mode")==="all_member_add";return{id:i,subject:n.attrs.subject||"",subjectOwner:n.attrs.s_o,subjectTime:Number(n.attrs.s_t||0),size:qe(n,"participant").length,creation:Number(n.attrs.creation||0),owner:n.attrs.creator?nt(n.attrs.creator):void 0,desc:e,descId:t,linkedParent:G(n,"linked_parent")?.attrs.jid||void 0,restrict:!!G(n,"locked"),announce:!!G(n,"announcement"),isCommunity:!!G(n,"parent"),isCommunityAnnounce:!!G(n,"default_sub_community"),joinApprovalMode:!!G(n,"membership_approval_mode"),memberAddMode:s,participants:qe(n,"participant").map(({attrs:l})=>({id:l.jid,admin:l.type||null})),ephemeralDuration:o?+o:void 0,addressingMode:Je(n,"addressing_mode")}};var b6=a=>{let n={...D_,...a};return a.shouldSyncHistoryMessage===void 0&&(n.shouldSyncHistoryMessage=()=>!!n.syncFullHistory),M1(n)},W_=b6;var Y_=[{name:"WebcFingerprint",id:1704,props:{webcCanvasFingerprint:[25,"string"],webcDocumentDriverEvaluate:[9,"boolean"],webcDocumentDriverUnwrapped:[7,"boolean"],webcDocumentElementAttrDriver:[14,"boolean"],webcDocumentElementAttrSelenium:[12,"boolean"],webcDocumentElementAttrWebdriver:[13,"boolean"],webcDocumentFxdriverEvaluate:[6,"boolean"],webcDocumentFxdriverUnwrapped:[11,"boolean"],webcDocumentSeleniumEvaluate:[2,"boolean"],webcDocumentSeleniumUnwrapped:[10,"boolean"],webcDocumentWebdriverEvaluate:[1,"boolean"],webcDocumentWebdriverScriptFn:[5,"boolean"],webcDocumentWebdriverScriptFunc:[4,"boolean"],webcDocumentWebdriverScriptFunction:[3,"boolean"],webcDocumentWebdriverUnwrapped:[8,"boolean"],webcWebglFingerprint:[24,"string"],webcWebglRenderer:[23,"string"],webcWebglVendor:[22,"string"],webcWindowSeleniumIdeRecorder:[20,"boolean"],webcWindowCallphantom:[18,"boolean"],webcWindowCallselenium:[19,"boolean"],webcWindowNavigatorWebdriver:[21,{FALSE:0,TRUE:1,UNDEFINED:2}],webcWindowNightmare:[16,"boolean"],webcWindowPhantom:[15,"boolean"],webcWindowSelenium:[17,"boolean"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"Login",id:460,props:{androidKeystoreState:[10,{NOT_AVAILABLE:1,SELF_TEST_FAILURE:2,ENC_KEY_READ_FAILURE:3,ENC_KEY_STORED_USED:4,ENC_KEY_PLAIN_DELETED:5,ENC_KEY_PLAIN_RECOVERED:6}],connectionOrigin:[6,{PERSON:1,PUSH:2,OTHER:3,BACKOFF:4}],connectionSequenceStep:[11,{PUSH_OVERRIDES:1,PRIMARY:2,PUSH_FALLBACKS:4,HOST_FALLBACK:5,NO_DNS:6,SOFTLAYER:7,PRIMARY_HTTP:8,SOFTLAYER_HTTP:9,HOST_FALLBACK_HTTP:10,NO_DNS_HTTP:11}],connectionT:[5,"timer"],dnsResolutionMethod:[12,{SYSTEM:1,GOOGLE:2,HARDCODED:3,NO_DNS:4}],loginDnsResolver:[13,{SYSTEM:1,GOOGLE:2,HARDCODED:3,NO_DNS:4}],loginIpSource:[14,{PUSH_OVERRIDES:1,G_WHATSAPP_NET:2,PUSH_FALLBACKS:3,G_FALLBACK_WHATSAPP_NET:4,HARDCODED_LIST:5,EX_WHATSAPP_NET:6}],loginPort:[15,{P5222:1,P443:2,P80:3,UNKNOWN:4}],loginResult:[1,{OK:1,ERROR_UNKNOWN:2,SERVER_ERROR:3,SERVER_GOAWAY:4,NETWORK_ERROR:5,ANDROID_KEYSTORE_ERROR:6,CERTIFICATE_ERROR:7}],loginT:[3,"timer"],longConnect:[4,"boolean"],noiseProtocolVersion:[16,"integer"],passive:[8,"boolean"],pendingAcksCount:[17,"integer"],retryCount:[2,"integer"],sequenceStep:[7,"integer"],serverErrorCode:[9,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcPageLoad",id:642,props:{webcAppcacheStatus:[29,{UNCACHED:0,IDLE:1,CHECKING:2,DOWNLOADING:3,UPDATEREADY:4,OBSOLETE:5}],webcCached:[30,"boolean"],webcConnectEnd:[10,"timer"],webcConnectStart:[9,"timer"],webcDomComplete:[19,"timer"],webcDomContentLoadedEventEnd:[18,"timer"],webcDomContentLoadedEventStart:[17,"timer"],webcDomInteractive:[16,"timer"],webcDomLoading:[15,"timer"],webcDomainLookupEnd:[8,"timer"],webcDomainLookupStart:[7,"timer"],webcExeDone:[23,"timer"],webcExeStart:[22,"timer"],webcFetchStart:[6,"timer"],webcInitialMountT:[38,"timer"],webcInitialNavMountT:[39,"timer"],webcInitialPanel:[42,"string"],webcInitialPanelMountStartT:[43,"timer"],webcInitialPanelMountT:[40,"timer"],webcInitialPanelRenderT:[46,"timer"],webcJsLoadT:[37,"timer"],webcLoadEventEnd:[21,"timer"],webcLoadEventStart:[20,"timer"],webcLoadInForeground:[53,"boolean"],webcMainScriptEnd:[45,"timer"],webcMainScriptStart:[44,"timer"],webcNativeLoadT:[36,"timer"],webcNavigation:[32,{NAVIGATE_NEXT:0,RELOAD:1,BACK_FORWARD:2,UNDEFINED:255}],webcPageLoadT:[34,"timer"],webcParallellyFetched:[41,"boolean"],webcQrCode:[31,"boolean"],webcRedirectCount:[33,"number"],webcRedirectEnd:[5,"timer"],webcRedirectStart:[4,"timer"],webcRequestStart:[12,"timer"],webcResponseEnd:[14,"timer"],webcResponseStart:[13,"timer"],webcSecureConnectionStart:[11,"timer"],webcUnloadEventEnd:[3,"timer"],webcUnloadEventStart:[2,"timer"],webcWsAttempts:[28,"number"],webcWsNormal:[27,"timer"],webcWsOpening:[24,"timer"],webcWsPairing:[25,"timer"],webcWsSyncing:[26,"timer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"OfflineResume",id:3112,props:{affectedBySleepMode:[35,"boolean"],chatThreadCount:[1,"integer"],expectedOfflineCallCount:[23,"integer"],expectedOfflineMessageCount:[17,"integer"],expectedOfflineNotificationCount:[18,"integer"],expectedOfflineReceiptCount:[19,"integer"],isOfflineCompleteMissed:[2,"boolean"],isResumeInForeground:[13,"boolean"],isRunningFromServiceExtension:[22,"boolean"],lastStanzaT:[3,"timer"],mailboxAge:[14,"integer"],mainScreenLoadT:[4,"timer"],offlineCallCount:[24,"integer"],offlineDecryptErrorCount:[5,"integer"],offlineMessageCount:[6,"integer"],offlineNotificationCount:[7,"integer"],offlinePreviewT:[8,"timer"],offlineProcessingT:[20,"timer"],offlineReceiptCount:[9,"integer"],offlineResumeResult:[21,{COMPLETE:1,INCOMPLETE_UNKNOWN_ERROR:2,INCOMPLETE_DISCONNECT:3,INCOMPLETE_APP_RESTART:4}],offlineSizeBytes:[10,"integer"],onTrickleMode:[15,"boolean"],pageLoadT:[11,"timer"],passiveModeT:[25,"timer"],preackCallCount:[26,"integer"],preackMessageCount:[27,"integer"],preackNotificationCount:[28,"integer"],preackReceiptCount:[29,"integer"],processedCallCount:[30,"integer"],processedMessageCount:[31,"integer"],processedNotificationCount:[32,"integer"],processedReceiptCount:[33,"integer"],socketConnectT:[12,"timer"],transientOfflineSessionId:[34,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcDbOpen",id:1940,props:{webcDbName:[1,"string"],webcDbOpenNumAttempts:[3,"integer"],webcDbOpenWasSuccess:[2,"boolean"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"PsIdUpdate",id:2862,props:{isFromWamsys:[4,"boolean"],psIdAction:[2,{CREATED:1,ROTATED:2,DELETED:3}],psIdKey:[1,"integer"],psIdRotationFrequence:[3,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebDbVersionsSource",id:4784,props:{webDbVersionSource:[1,{KNOB:1,LOCAL:2,STATIC:3,KNOB_WITH_LOCAL_OVERRIDE:4}],webSchemaInitiator:[2,{MAIN:1,WEB_WORKER:2,SERVICE_WORKER:3}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcAssetLoad",id:1358,props:{webcAssetCacheType:[4,{UNCACHED:0,IDB:1,SW:2}],webcAssetFromCache:[2,"boolean"],webcAssetLoadT:[3,"timer"],webcAssetName:[1,"string"],webcAssetSize:[5,"number"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcStorageStat",id:1504,props:{webcAgeOfStorage:[3,"integer"],webcPackingEnabled:[4,"boolean"],webcStorageQuota:[2,"integer"],webcStorageUsage:[1,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"OfflineResumeStage",id:3536,props:{attemptId:[13,"integer"],chatThreadCount:[4,"integer"],currentOfflineStage:[1,{PAGE_LOAD:1,SOCKET_CONNECT:2,PROCESS_COMPLETE:3,SCREEN_LOAD:4,OFFLINE_PREVIEW:5,OFFLINE_COMPLETE_RECEIVED:6,PREACKS_SENT:7}],isResumeInForeground:[5,"boolean"],isResumeStartedInForeground:[14,"boolean"],lastPushTimestampMs:[12,"integer"],mailboxAge:[6,"integer"],offlineCallCount:[15,"integer"],offlineDecryptErrorCount:[7,"integer"],offlineMessageCount:[8,"integer"],offlineNotificationCount:[9,"integer"],offlineReceiptCount:[10,"integer"],offlineResumeMode:[11,{RESUME_FROM_RESTART:1,RESUME_FROM_OPEN_TAB:2,UNKNOWN:3,CONNECT_REASON_USER:4,CONNECT_REASON_PUSH:5,CONNECT_REASON_BACKOFF:6}],offlineSessionId:[2,"string"],offlineSizeBytes:[16,"integer"],offlineStageTimestampMs:[3,"integer"],passiveModeT:[17,"timer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcStreamModeChange",id:770,props:{webcStreamMode:[1,{QR:0,MAIN:1,SYNCING:2,OFFLINE:3,CONFLICT:4,PROXYBLOCK:5,TOS_BLOCK:6,SMB_TOS_BLOCK:7,DEPRECATED_VERSION:8,LOCK:9}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcStatusSync",id:1878,props:{webcStatusMutedItemCount:[4,"integer"],webcStatusMutedRowCount:[7,"integer"],webcStatusRecentItemCount:[2,"integer"],webcStatusRecentRowCount:[5,"integer"],webcStatusSyncT:[1,"timer"],webcStatusViewedItemCount:[3,"integer"],webcStatusViewedRowCount:[6,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"TsNavigation",id:4334,props:{cid:[19,"string"],entryPointConversationInitiated:[23,{BUSINESS_INITIATED:0,CONSUMER_INITIATED:1,NO_MESSAGES_LAST_24H:2}],entryPointConversionApp:[24,"string"],entryPointConversionSource:[25,"string"],groupSize:[1,"integer"],isCatalogVisible:[29,"boolean"],isCloudapi:[26,"boolean"],isOnpremises:[27,"boolean"],isSmb:[28,"boolean"],navigationDestination:[2,{UNKNOWN:1,COMMUNITY_HOME:2,COMMUNITY_TAB:3,CHAT_THREAD:4,CHAT_INFO_PAGE:5,CHAT_LIST:6,COMMUNITY_NAVIGATION:7,BACKGROUND:8,RESIGN:9,SUBGROUP_SWITCHER:10,COMMUNITY_COMPOSER:11,MEDIA_VIEWER:12,ALL_MEDIA:13,STREAMING_MEDIA_VIEWER:14,CALLS_HOME_TAB:15,IN_CALL_UI:16,STATUS_HOME_TAB:17,STATUS_COMPOSER:18,STATUS_VIEW:19,CAMERA:20,PHOTO_VIDEO_LIBRARY:21,SETTINGS_HOME_TAB:22,TOOLS_TAB:23,COMMUNITY_SETTINGS:24,CHANNEL_UPDATES_HOME:25,CHANNEL_THREAD:26,CHANNEL_DIRECTORY:27,CHANNEL_PROFILE:28,CHANNEL_FORWARD:29,CHANNEL_PRODUCER_MEDIA_EDITOR:30,CHANNEL_CREATE:31,CHANNEL_EDIT:32,CHANNEL_DELETE:33,STATUS_COMPOSER_TEXT:34,LIGHTWEIGHT_CALL_UI:35,AI_HOME:36,LIGHTWEIGHT_CALL_BANNER:37,LIGHTWEIGHT_CALL_NUX:38,CALL_INFO_PAGE:39,SMB_CATALOG:40,SMB_CATALOG_SHARE_LINK:41,SMB_CATALOG_SHARE_PRODUCT_LINK:42,SMB_CATALOG_SETTINGS:43,SMB_CATALOG_PRODUCT:44,SMB_CATALOG_NEW_COLLECTION:45,SMB_CATALOG_EDIT_COLLECTION:46,SMB_CATALOG_CREATE_PRODUCT:47,SMB_CATALOG_EDIT_PRODUCT:48,SMB_CATALOG_NEW_COLLECTION_ADD_ITEMS:49,SMB_CATALOG_COLLECTION_UPDATE_ITEMS:50,SMB_CATALOG_COLLECTIONS:51,SMB_CATALOG_COLLECTION_REORDER:52,SMB_CATALOG_COLLECTION_PRODUCTS:53,SMB_CATALOG_COLLECTION_PRODUCTS_REORDER:54,CREATE_EVENT:55,EVENT_PAGE:56,EVENTS_IN_GROUP:57,CATALOG_HOME:59,CATALOG_COLLECTION:60,CATALOG_ITEM:61,CATALOG_CART:62,FLOWS_EXPERIENCE:63,BUSINESS_PROFILE_EDIT:64,BUSINESS_PROFILE_EDIT_NAME:65,BUSINESS_PROFILE_EDIT_CATEGORIES:66,BUSINESS_PROFILE_EDIT_DESCRIPTION:67,BUSINESS_PROFILE_EDIT_WEBSITE:68,BUSINESS_PROFILE_EDIT_EMAIL:69,BUSINESS_PROFILE_EDIT_ADDRESS:70,BUSINESS_PROFILE_EDIT_HOURS:71,BUSINESS_PROFILE_EDIT_COVER_PHOTO:72,BUSINESS_PROFILE_LINK_FB_IG:73,BUSINESS_PROFILE_HELP_PAGE_LINK_FB_IG:74,PAYMENTS_HOME:75,PAYMENTS_HOME_TRANSACTIONS:76,PAYMENTS_HOME_RECENT_MERCHANTS:77,PAYMENTS_HOME_INVITE_OTHERS:78,PAYMENTS_HOME_HELP:79,MESSAGE_MENU:80,PIN_MESSAGE_REPLACEMENT_DIALOG:81,PIN_MESSAGE_EXPIRATION_DIALOG:82,MY_STATUS_LIST:83,ALL_STATUS_LIST:84,PIN_BANNER:85,CALL_BANNER:86,LANDING_SCREEN:87,NEW_CHAT:88,GROUP_MEMBER_ADD_GROUP_CREATION:89,GROUP_MEMBER_ADD_EXISTING_GROUP:90,GROUP_CHAT:91,GROUP_CREATION:92}],navigationSource:[3,{UNKNOWN:1,COMMUNITY_HOME:2,COMMUNITY_TAB:3,CHAT_THREAD:4,CHAT_INFO_PAGE:5,CHAT_LIST:6,COMMUNITY_NAVIGATION:7,BACKGROUND:8,RESIGN:9,SUBGROUP_SWITCHER:10,COMMUNITY_COMPOSER:11,MEDIA_VIEWER:12,ALL_MEDIA:13,STREAMING_MEDIA_VIEWER:14,CALLS_HOME_TAB:15,IN_CALL_UI:16,STATUS_HOME_TAB:17,STATUS_COMPOSER:18,STATUS_VIEW:19,CAMERA:20,PHOTO_VIDEO_LIBRARY:21,SETTINGS_HOME_TAB:22,TOOLS_TAB:23,COMMUNITY_SETTINGS:24,CHANNEL_UPDATES_HOME:25,CHANNEL_THREAD:26,CHANNEL_DIRECTORY:27,CHANNEL_PROFILE:28,CHANNEL_FORWARD:29,CHANNEL_PRODUCER_MEDIA_EDITOR:30,CHANNEL_CREATE:31,CHANNEL_EDIT:32,CHANNEL_DELETE:33,STATUS_COMPOSER_TEXT:34,LIGHTWEIGHT_CALL_UI:35,AI_HOME:36,LIGHTWEIGHT_CALL_BANNER:37,LIGHTWEIGHT_CALL_NUX:38,CALL_INFO_PAGE:39,SMB_CATALOG:40,SMB_CATALOG_SHARE_LINK:41,SMB_CATALOG_SHARE_PRODUCT_LINK:42,SMB_CATALOG_SETTINGS:43,SMB_CATALOG_PRODUCT:44,SMB_CATALOG_NEW_COLLECTION:45,SMB_CATALOG_EDIT_COLLECTION:46,SMB_CATALOG_CREATE_PRODUCT:47,SMB_CATALOG_EDIT_PRODUCT:48,SMB_CATALOG_NEW_COLLECTION_ADD_ITEMS:49,SMB_CATALOG_COLLECTION_UPDATE_ITEMS:50,SMB_CATALOG_COLLECTIONS:51,SMB_CATALOG_COLLECTION_REORDER:52,SMB_CATALOG_COLLECTION_PRODUCTS:53,SMB_CATALOG_COLLECTION_PRODUCTS_REORDER:54,CREATE_EVENT:55,EVENT_PAGE:56,EVENTS_IN_GROUP:57,CATALOG_HOME:59,CATALOG_COLLECTION:60,CATALOG_ITEM:61,CATALOG_CART:62,FLOWS_EXPERIENCE:63,BUSINESS_PROFILE_EDIT:64,BUSINESS_PROFILE_EDIT_NAME:65,BUSINESS_PROFILE_EDIT_CATEGORIES:66,BUSINESS_PROFILE_EDIT_DESCRIPTION:67,BUSINESS_PROFILE_EDIT_WEBSITE:68,BUSINESS_PROFILE_EDIT_EMAIL:69,BUSINESS_PROFILE_EDIT_ADDRESS:70,BUSINESS_PROFILE_EDIT_HOURS:71,BUSINESS_PROFILE_EDIT_COVER_PHOTO:72,BUSINESS_PROFILE_LINK_FB_IG:73,BUSINESS_PROFILE_HELP_PAGE_LINK_FB_IG:74,PAYMENTS_HOME:75,PAYMENTS_HOME_TRANSACTIONS:76,PAYMENTS_HOME_RECENT_MERCHANTS:77,PAYMENTS_HOME_INVITE_OTHERS:78,PAYMENTS_HOME_HELP:79,MESSAGE_MENU:80,PIN_MESSAGE_REPLACEMENT_DIALOG:81,PIN_MESSAGE_EXPIRATION_DIALOG:82,MY_STATUS_LIST:83,ALL_STATUS_LIST:84,PIN_BANNER:85,CALL_BANNER:86,LANDING_SCREEN:87,NEW_CHAT:88,GROUP_MEMBER_ADD_GROUP_CREATION:89,GROUP_MEMBER_ADD_EXISTING_GROUP:90,GROUP_CHAT:91,GROUP_CREATION:92}],relativeTimestampMs:[4,"integer"],smbCatalogBusinessVertical:[20,"string"],smbCatalogIsCatalogVisible:[21,"boolean"],smbCatalogIsToggleCart:[22,"boolean"],threadType:[7,{GROUP:1,BROADCAST:2,INDIVIDUAL:3,STATUS:4,CHANNEL:5,SUB_GROUP:6,DEFAULT_SUB_GROUP:7,PARENT_GROUP:8}],tsSessionId:[5,"integer"],typeOfGroup:[6,{GROUP:1,SUBGROUP:2,DEFAULT_SUBGROUP:3}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"UserActivity",id:1384,props:{userActivityBitmapHigh:[4,"integer"],userActivityBitmapLen:[5,"integer"],userActivityBitmapLow:[3,"integer"],userActivitySessionCum:[7,"integer"],userActivitySessionId:[1,"string"],userActivitySessionSeq:[6,"integer"],userActivityStartTime:[2,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"TsBitArray",id:4332,props:{bitarrayHigh:[1,"integer"],bitarrayLength:[2,"integer"],bitarrayLow:[3,"integer"],cumulativeBits:[4,"integer"],relativeTimestampMs:[5,"integer"],sessionSeq:[6,"integer"],tsSessionId:[7,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcResourceLoad",id:688,props:{webcResourceCached:[3,"boolean"],webcResourceDuration:[2,"timer"],webcResourceName:[1,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MdAppStateMessageRange",id:2522,props:{additionalMessagesCount:[1,"integer"]},weight:1e3,wamChannel:"regular",privateStatsIdInt:-1},{name:"MdBootstrapDataApplied",id:2298,props:{collection:[5,{REGULAR:1,REGULAR_LOW:2,REGULAR_HIGH:3,CRITICAL_BLOCK:4,CRITICAL_UNBLOCK_LOW:5}],historySyncChunkOrder:[14,"integer"],historySyncStageProgress:[11,"integer"],mdBootstrapContactsCount:[8,"integer"],mdBootstrapHistoryPayloadType:[10,{INITIAL:1,RECENT_HISTORY:2,FULL_HISTORY:3,PUSHNAME:4,STATUS_V3:5,NON_BLOCKING_DATA:6,ON_DEMAND:7}],mdBootstrapPayloadType:[3,{CRITICAL:1,NON_CRITICAL:2}],mdBootstrapSource:[2,{APP_STATE:1,HISTORY:2}],mdBootstrapStepDuration:[6,"integer"],mdBootstrapStepResult:[12,{SUCCESS:1,FAILURE:2}],mdRegAttemptId:[9,"string"],mdSessionId:[1,"string"],mdTimestamp:[4,"integer"],sentViaMms:[13,"boolean"],usedSnapshot:[7,"boolean"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MdBootstrapAppStateDataDownloaded",id:2294,props:{mdBootstrapContactsCount:[5,"integer"],mdBootstrapHistoryPayloadType:[11,{INITIAL:1,RECENT_HISTORY:2,FULL_HISTORY:3,PUSHNAME:4,STATUS_V3:5,NON_BLOCKING_DATA:6,ON_DEMAND:7}],mdBootstrapPayloadSize:[4,"integer"],mdBootstrapPayloadType:[2,{CRITICAL:1,NON_CRITICAL:2}],mdBootstrapStepDuration:[6,"integer"],mdBootstrapStepResult:[7,{SUCCESS:1,FAILURE:2}],mdRegAttemptId:[10,"string"],mdSessionId:[1,"string"],mdStorageQuotaBytes:[8,"integer"],mdStorageQuotaUsedBytes:[9,"integer"],mdTimestamp:[3,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MdAppStateKeyRotation",id:2518,props:{mdAppStateKeyRotationReason:[1,{APP_STATE_SYNC_KEY_EXPIRY:1,DEVICE_DEREGISTERATION:2,NO_KEYS:3}]},weight:1e3,wamChannel:"regular",privateStatsIdInt:-1},{name:"MdAppStateSyncDaily",id:2300,props:{crossIndexConflictCount:[11,"integer"],invalidActionCount:[4,"integer"],keyRotationRemoveCount:[12,"integer"],missingKeyCount:[9,"integer"],mutationCount:[1,"integer"],storedMutationCount:[7,"integer"],unsetActionCount:[8,"integer"],unsupportedActionCount:[5,"integer"],uploadConflictCount:[10,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcPwaEvent",id:4116,props:{webcPwaAction:[2,{INSTALL:1}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"DeepLinkClick",id:1156,props:{deepLinkHasPhoneNumber:[2,"boolean"],deepLinkHasText:[1,"boolean"],deepLinkSessionId:[3,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MessageSecretErrors",id:3686,props:{messageMediaType:[3,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],messageSecretAllowedList:[1,{MESSAGE_POLL:0}],messageSecretError:[2,{MISSING_MESSAGE_SECRET:0,WRONG_LENGTH:1,ENCRYPTION_ERROR:2,DECRYPTION_ERROR:3}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"ChatMessageCounts",id:1644,props:{audioMessagesReceived:[149,"integer"],audioMessagesSent:[150,"integer"],awayMsgsSent:[56,"integer"],bizCatalogType:[60,{SHOPS:0,NATIVE:1}],bizConversationDepth:[65,"integer"],blockReason:[33,{OTHER:0,NO_LONGER_NEEDED:1,NO_SIGN_UP:2,SPAM:3,OFFENSIVE_MESSAGES:4,OTP_DID_NOT_REQUEST:5}],broadcastMsgsReceived:[30,"integer"],broadcastMsgsSent:[29,"integer"],callOffersReceived:[27,"integer"],callOffersSent:[26,"integer"],callsResultBusy:[70,"integer"],callsResultCancelled:[71,"integer"],callsResultConnected:[72,"integer"],callsResultError:[78,"integer"],callsResultMissed:[73,"integer"],callsResultRejected:[74,"integer"],canEditDmSettings:[88,"boolean"],cartViews:[86,"integer"],chatEphemeralityDuration:[15,"integer"],chatMuted:[8,{NOT_MUTED:1,MUTED_NO_NOTIFICATIONS:2,MUTED_SILENT_NOTIFICATIONS:3}],chatOrigins:[179,{LID_USERNAME:1,LID_CTWA:2,OTHERS:3}],chatOverflowClicks:[79,"integer"],chatTypeInd:[2,{INDIVIDUAL:1,SMB:2,ENT:3,INTEROP:4}],collectionInquiriesSent:[44,"integer"],commandSheetShow:[174,"integer"],commentsReceived:[126,"integer"],commerceMsgsReceived:[41,"integer"],commerceMsgsSent:[40,"integer"],disappearingChatInitiator:[59,{CHAT:1,INITIATED_BY_ME:2,INITIATED_BY_OTHER:3,CHAT_PICKER:4,BIZ_UPGRADE_FB_HOSTING:5}],documentMessagesReceived:[151,"integer"],documentMessagesSent:[152,"integer"],editedMsgsSent:[100,"integer"],entryPointConversionApp:[47,"string"],entryPointConversionSource:[46,"string"],ephemeralMessagesReceived:[14,"integer"],ephemeralMessagesSent:[13,"integer"],ephemeralMessagesUnreadExpired:[69,"integer"],ephemeralityInitiator:[109,{INITIATED_BY_ME:1,INITIATED_BY_OTHER:2,BIZ_UPGRADE_FB_HOSTING:3}],ephemeralityTriggerAction:[110,{UNKNOWN:0,CHAT_SETTINGS:1,ACCOUNT_SETTINGS:2,BULK_CHANGE:3,BIZ_SUPPORTS_FB_HOSTING:4}],eventCreationMessagesReceived:[142,"integer"],eventCreationMessagesSent:[143,"integer"],eventResponseMessagesReceived:[144,"integer"],eventResponseMessagesSent:[145,"integer"],fbCtaInquiriesSent:[45,"integer"],firstResponseTime:[25,"integer"],forwardAudioMessagesReceived:[153,"integer"],forwardAudioMessagesSent:[154,"integer"],forwardDocumentMessagesReceived:[155,"integer"],forwardDocumentMessagesSent:[156,"integer"],forwardGifMessagesReceived:[157,"integer"],forwardGifMessagesSent:[158,"integer"],forwardMessagesReceived:[89,"integer"],forwardMessagesSent:[90,"integer"],forwardPhotoMessagesReceived:[128,"integer"],forwardPhotoMessagesSent:[129,"integer"],forwardPtvMessagesReceived:[159,"integer"],forwardPtvMessagesSent:[160,"integer"],forwardStatusReplyMessagesReceived:[161,"integer"],forwardStatusReplyMessagesSent:[162,"integer"],forwardStickerMessagesReceived:[163,"integer"],forwardStickerMessagesSent:[164,"integer"],forwardTextMessagesReceived:[130,"integer"],forwardTextMessagesSent:[131,"integer"],forwardUrlMessagesReceived:[132,"integer"],forwardUrlMessagesSent:[133,"integer"],forwardVideoMessagesReceived:[165,"integer"],forwardVideoMessagesSent:[166,"integer"],gaStatus:[22,{NEW:0,RETAINED:1,RESURRECTED:2}],gifMessagesReceived:[167,"integer"],gifMessagesSent:[168,"integer"],greetingMsgsSent:[57,"integer"],groupContainsBiz:[75,"boolean"],groupInfoSetting:[87,{ADMINS_ONLY:1,ALL_PARTICIPANTS:2}],groupMembershipReplies:[51,"integer"],groupPrivateReplies:[52,"integer"],groupSize:[19,"integer"],hasUsername:[180,"boolean"],imagineCommandClick:[175,"integer"],imagineMentionClick:[146,"integer"],imagineMentionShow:[176,"integer"],isAContact:[6,"boolean"],isAGroup:[5,"boolean"],isArchived:[10,"boolean"],isAutoMuted:[108,"boolean"],isBlocked:[32,"boolean"],isCartAddClicked:[36,"boolean"],isCommerceViewed:[35,"boolean"],isCtaOnPdpClicked:[37,"boolean"],isInviteCreatedThread:[106,"boolean"],isLabelled:[54,"boolean"],isMessageYourself:[91,"boolean"],isOppositePartyInitiated:[62,"boolean"],isPinned:[9,"boolean"],isPnhEnabledChat:[92,"boolean"],isUser1pBizBotChat:[141,"boolean"],isUser3pBotChat:[140,"boolean"],isUserAgent:[111,"boolean"],isUserCreatedAgent:[123,"boolean"],isWaPayRegistered:[81,"boolean"],labelledMsgs:[55,"integer"],locationsSent:[96,"integer"],messagesRead:[127,"integer"],messagesReceived:[4,"integer"],messagesSent:[3,"integer"],messagesStarred:[12,"integer"],messagesUnread:[11,"integer"],metaAiMentionClick:[147,"integer"],metaAiMentionShow:[148,"integer"],newThread:[68,"boolean"],odReceived:[82,"integer"],oppositeVisibleIdentification:[181,{PHONE_NUMBER:1,SAVED_CONTACT_NAME:2,USERNAME:3,MASKED_PHONE_NUMBER:4,VERIFIED_BUSINESS_NAME:5,PLACEHOLDER:6,PUSHNAME:7}],ordersSent:[38,"integer"],p2mOdNnpTransactionsSent:[83,"integer"],p2mOdNpTransactionsSent:[84,"integer"],paymentsSent:[39,"integer"],pdpInquiriesSent:[42,"integer"],pdpViews:[61,"integer"],photoMessagesReceived:[134,"integer"],photoMessagesSent:[135,"integer"],pollCreationMessagesReceived:[115,"integer"],pollCreationMessagesSent:[116,"integer"],pollUpdateMessagesReceived:[117,"integer"],pollUpdateMessagesSent:[118,"integer"],profileReplies:[64,"integer"],profileViews:[63,"integer"],pttMessagesReceived:[119,"integer"],pttMessagesSent:[120,"integer"],ptvMessagesReceived:[121,"integer"],ptvMessagesSent:[122,"integer"],quickRepliesSent:[58,"integer"],reactionsReceived:[97,"integer"],reactionsSent:[98,"integer"],receiverDefaultDisappearingDuration:[21,"integer"],repliesSent:[80,"integer"],requestedPhoneNumber:[93,"boolean"],seenMaskedPhoneNumber:[94,"boolean"],senderDefaultDisappearingDuration:[20,"integer"],sharedPhoneNumber:[99,"boolean"],smbMarketingMessagesReactionsSent:[101,"integer"],smbMarketingMessagesRepliesSent:[102,"integer"],smbMarketingMessagesSpamReports:[103,"integer"],smbMarketingMsgsReceived:[104,"integer"],smbMarketingMsgsSent:[105,"integer"],spamReports:[31,"integer"],startTime:[7,"integer"],statusReplies:[50,"integer"],statusReplyMessagesReceived:[169,"integer"],statusViews:[49,"integer"],stickerMessagesReceived:[170,"integer"],stickerMessagesSent:[171,"integer"],storefrontInquiriesSent:[43,"integer"],suggestionPromptsClick:[177,"integer"],suggestionPromptsShow:[178,"integer"],textMessagesReceived:[136,"integer"],textMessagesSent:[137,"integer"],textMessagesToUserCreatedAgentCnt:[124,"integer"],threadDs:[66,"string"],threadId:[67,"string"],totalCallDuration:[28,"integer"],totalMessageEditsFromAgentCnt:[112,"integer"],totalMessageFromAgentCnt:[113,"integer"],totalMessageToAgentCnt:[114,"integer"],totalMessagesToUserCreatedAgentCnt:[125,"integer"],typeOfGroup:[85,{GROUP:1,SUBGROUP:2,DEFAULT_SUBGROUP:3}],urlMessagesReceived:[138,"integer"],urlMessagesSent:[139,"integer"],viaContactlessChats:[107,"boolean"],videoCallsOffered:[76,"integer"],videoMessagesReceived:[172,"integer"],videoMessagesSent:[173,"integer"],viewOnceMessagesOpened:[18,"integer"],viewOnceMessagesReceived:[17,"integer"],viewOnceMessagesSent:[16,"integer"],voiceCallsOffered:[77,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"AddressingModeMismatch",id:4750,props:{iqResponse:[1,{ADD_PARTICIPANT:1,REMOVE_PARTICIPANT:2,PROMOTE_PARTICIPANT:3,DEMOTE_PARTICIPANT:4}],localAddressingMode:[2,{PN:1,LID:2}],mismatchOrigin:[6,{INCOMING_GROUP_MESSAGE:1,ACK_OUTGOING_MESSAGE:2,GROUP_NOTIFICATION:3,GROUP_PROFILE_PICTURE_NOTIFICATION:4,IQ_RESPONSES:5}],notificationTag:[3,"string"],serverAddressingMode:[5,{PN:1,LID:2}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MdBadDeviceSentMessage",id:2176,props:{dsmError:[2,{INVALID_SENDER:1,MISSING_DSM:2,INVALID_DSM:3}],peerType:[1,{PRIMARY:1,COMPANION:2}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"GatedMessageReceived",id:3152,props:{chatGatedReason:[1,{TOS3:1,COUNTRY:2}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MessageReceive",id:450,props:{agentEngagementType:[28,{DIRECT_CHAT:0,INVOKED:1,MEMBER:2}],botType:[37,{UNKNOWN:0,METABOT:1,BOT_1P_BIZ:2,BOT_3P_BIZ:3}],chatOrigins:[38,{LID_USERNAME:1,LID_CTWA:2,OTHERS:3}],deviceCount:[16,"integer"],deviceSizeBucket:[10,{LT32:1,LT64:2,LT128:3,LT256:4,LT512:5,LT1000:6,LT1024:16,LT1500:7,LT2000:8,LT2500:9,LT3000:10,LT3500:11,LT4000:12,LT4500:13,LT5000:14,LARGEST_BUCKET:15}],disappearingChatInitiator:[14,{CHAT:1,INITIATED_BY_ME:2,INITIATED_BY_OTHER:3,CHAT_PICKER:4,BIZ_UPGRADE_FB_HOSTING:5}],editType:[25,{NOT_EDITED:0,EDITED:1,SENDER_REVOKE:2,ADMIN_REVOKE:3}],ephemeralityDuration:[13,"integer"],ephemeralityInitiator:[26,{INITIATED_BY_ME:1,INITIATED_BY_OTHER:2,BIZ_UPGRADE_FB_HOSTING:3}],ephemeralityTriggerAction:[27,{UNKNOWN:0,CHAT_SETTINGS:1,ACCOUNT_SETTINGS:2,BULK_CHANGE:3,BIZ_SUPPORTS_FB_HOSTING:4}],hasUsername:[39,"boolean"],isAComment:[36,"boolean"],isAReply:[19,"boolean"],isForwardedForward:[18,"boolean"],isLid:[24,"boolean"],isViewOnce:[9,"boolean"],localAddressingMode:[33,{PN:1,LID:2}],messageAddressingMode:[34,{PN:1,LID:2}],messageIsInternational:[4,"boolean"],messageIsInvisible:[23,"boolean"],messageIsOffline:[5,"boolean"],messageMediaType:[2,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],messageQueueTime:[15,"timer"],messageReceiveT0:[6,"timer"],messageReceiveT1:[7,"timer"],messageType:[1,{INDIVIDUAL:1,GROUP:2,BROADCAST:3,STATUS:4,CHANNEL:5,INTEROP:6}],mutedGroupMessage:[8,"boolean"],numOfWebUrlsInTextMessage:[3,"integer"],offlineCount:[30,"integer"],oppositeVisibleIdentification:[40,{PHONE_NUMBER:1,SAVED_CONTACT_NAME:2,USERNAME:3,MASKED_PHONE_NUMBER:4,VERIFIED_BUSINESS_NAME:5,PLACEHOLDER:6,PUSHNAME:7}],paddingBytesSize:[22,"integer"],participantCount:[17,"integer"],receiverDefaultDisappearingDuration:[12,"integer"],revokeType:[20,{SENDER:0,ADMIN:1}],senderDefaultDisappearingDuration:[11,"integer"],serverAddressingMode:[35,{PN:1,LID:2}],stickerIsAi:[29,"boolean"],stickerIsFromStickerMaker:[31,"boolean"],stickerMakerSourceType:[32,{CUTOUT_IMAGE:1,WEB_STICKER_MAKER:2,IOS_STICKER_MAKER:3,ANDROID_STICKER_MAKER:4,TRANSPARENT_IMAGE:5}],typeOfGroup:[21,{GROUP:1,SUBGROUP:2,DEFAULT_SUBGROUP:3}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"PlaceholderActivity",id:1980,props:{deviceCount:[9,"integer"],deviceSizeBucket:[8,{LT32:1,LT64:2,LT128:3,LT256:4,LT512:5,LT1000:6,LT1024:16,LT1500:7,LT2000:8,LT2500:9,LT3000:10,LT3500:11,LT4000:12,LT4500:13,LT5000:14,LARGEST_BUCKET:15}],e2eSenderType:[16,{MY_PRIMARY:1,OTHER_PRIMARY:2,MY_COMPANION:3,OTHER_COMPANION:4,MY_HOSTED_COMPANION:5,OTHER_HOSTED_COMPANION:6}],isHostedChat:[19,"boolean"],isLid:[12,"boolean"],messageBeforeReg:[15,"boolean"],messageIsRevoke:[7,"boolean"],messageKeyHash:[14,"string"],messageMediaType:[6,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],messageType:[5,{INDIVIDUAL:1,GROUP:2,BROADCAST:3,STATUS:4,CHANNEL:5,INTEROP:6}],participantCount:[10,"integer"],placeholderActionInd:[2,{OTHER:0,ADD:1,VIEW:2,POPULATE:3}],placeholderAddReason:[11,{OTHER:0,SIGNAL_NO_SESSION:1,DEVICE_VERIFICATION_FAILURE:2,UNKNOWN_SELF_DEVICE:3,SIGNAL_INVALID_KEY:4,SIGNAL_INVALID_KEY_ID:5,SIGNAL_INVALID_MESSAGE:6,DEVICE_VERIFICATION_FAILURE_SELF_PEER:7,UNKNOWN_COMPANION_NO_PREKEY:8,BAD_EPHEMERAL_SETTING:9,SIGNAL_FUTURE_MESSAGE:10,SIGNAL_INVALID_SIGNATURE:11,SIGNAL_BAD_MAC:12,SIGNAL_INVALID_SESSION:13}],placeholderChatTypeInd:[3,{OTHER:0,INDIVIDUAL:1,GROUP:2,STATUS:3,BROADCAST:4,CHANNEL:5,INTEROP:6}],placeholderPopulationType:[17,{OTHER:0,RETRY:1,PEER_MESSAGE:2,RESEND:3}],placeholderTimePeriod:[4,"integer"],placeholderTypeInd:[1,{OTHER:0,CIPHERTEXT:1,FANOUT:2,DOWNGRADE:3}],typeOfGroup:[13,{GROUP:1,SUBGROUP:2,DEFAULT_SUBGROUP:3}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"SenderKeyExpired",id:3130,props:{chatType:[1,{OTHER:0,INDIVIDUAL:1,GROUP:2,STATUS:3,BROADCAST:4,CHANNEL:5}],deviceSizeBucket:[2,{LT32:1,LT64:2,LT128:3,LT256:4,LT512:5,LT1000:6,LT1024:16,LT1500:7,LT2000:8,LT2500:9,LT3000:10,LT3500:11,LT4000:12,LT4500:13,LT5000:14,LARGEST_BUCKET:15}],expiryReason:[3,{USER_LEAVE:1,DEVICE_UNPAIR:2,IDENTITY_CHANGE:3,AUDIENCE_CHANGE:4,PERIODIC_ROTATION:5,KEY_CORRUPTION:6,PEER_COMPANION_UNPAIR:7,OTHER_DEVICE_UNPAIR:8}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MexEventV2",id:4336,props:{mexEventV2DurationMs:[1,"timer"],mexEventV2EndTime:[2,"integer"],mexEventV2ErrorCodes:[3,"string"],mexEventV2Errors:[4,"string"],mexEventV2HasData:[5,"boolean"],mexEventV2IsMex:[6,"boolean"],mexEventV2OperationName:[7,"string"],mexEventV2QueryId:[8,"string"],mexEventV2StartTime:[9,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"GraphqlCatalogRequest",id:3206,props:{businessJid:[4,"string"],businessType:[5,{SMB:1,API_DC:2,API:3}],graphqlCatalogEndpoint:[1,{GET_CATALOG:1,GET_PRODUCT:2,GET_PRODUCT_LIST:3,GET_COLLECTIONS:4,GET_SINGLE_COLLECTION:5,GET_CATEGORIES:6,GET_VARIANTS:7,GET_PROMOTIONS:8}],graphqlErrorCode:[3,"integer"],graphqlRequestResult:[2,{SUCCESS:1,FAILURE:2}]},weight:1,wamChannel:"private",privateStatsIdInt:0},{name:"MexEvent",id:3782,props:{isMex:[1,"boolean"],mexEventData:[2,"string"],mexEventDurationT:[12,"timer"],mexEventEndTime:[3,"integer"],mexEventEnvelopeResponseStatus:[13,"integer"],mexEventOperation:[7,"string"],mexEventPayloadResponseStatus:[14,"integer"],mexEventRequestSize:[8,"integer"],mexEventResponseSize:[9,"integer"],mexEventRetries:[10,"integer"],mexEventStartTime:[11,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"FmxAction",id:4444,props:{commonGroupNum:[1,"integer"],countryShown:[2,"boolean"],fmxEntryPoint:[3,{FMX_CARD:0,SAFETY_TOOLS:1}],fmxEvent:[4,{BLOCK:0,ADD_CONTACT:1,REPORT:2,SAFETY_TOOLS:3,COMMON_GROUPS:4,CONTACT_INFO:5,FMX_CARD_INSERTED:6,FMX_CARD_VIEWED:7,LEARN_MORE:8,HIGHLIGHT_GROUP_NAME:9}],highlightGroupType:[6,{UNKNOWN:0,SINGLE:1,CREATOR:2,ADMIN:3,SAVED_CONTACTS:4,PARTICIPANTS:5,MORE:6}],isSenderSmb:[7,"boolean"],notAContactShown:[5,"boolean"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"UnknownStanza",id:3448,props:{unknownStanzaTag:[1,"string"],unknownStanzaType:[2,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"IncomingMessageDrop",id:3724,props:{agentEngagementType:[12,{DIRECT_CHAT:0,INVOKED:1,MEMBER:2}],botType:[14,{UNKNOWN:0,METABOT:1,BOT_1P_BIZ:2,BOT_3P_BIZ:3}],e2eCiphertextType:[1,{MESSAGE:0,PREKEY_MESSAGE:1,SENDER_KEY_MESSAGE:2,MESSAGE_SECRET_MESSAGE:3}],e2eDestination:[2,{INDIVIDUAL:0,GROUP:1,LIST:2,STATUS:3,CHANNEL:4,INTEROP:5}],e2eFailureReason:[9,{INVALID_MESSAGE:0,LEGACY_MESSAGE:1,INVALID_VERSION:2,PRE_KEY_MESSAGE_MISSING_PRE_KEY:3,PRE_KEY_MESSAGE_INVALID_KEY:4,UNTRUSTED_IDENTITY:5,NO_SESSION_AVAILABLE:6,PLAINTEXT_BYTE_MISMATCH:7,UNKNOWN_CIPHERTEXT_TYPE:8,UNKNOWN_CIPHERTEXT_VERSION:9,INVALID_PADDING:10,INVALID_PROTOCOL_BUFFER:11,INVALID_NUMBER_OF_MESSAGE_TYPES:12,INVALID_IMAGE_FILE_LENGTH:13,INVALID_IMAGE_FILE_SHA256:14,INVALID_IMAGE_MEDIA_URL:15,INVALID_IMAGE_MEDIA_KEY:16,INVALID_IMAGE_MIME_TYPE:17,UNKNOWN_V2_TAGS:18,INVALID_EDIT_VERSION:19,INVALID_HSM_NAMESPACE:20,INVALID_HSM_ELEMENT:21,UNKNOWN_PROTOCOL_MESSAGE_TYPE:22,DUPLICATE_MESSAGE:23,FINGERPRINT_IDENTITY_MISMATCH:24,FINGERPRINT_VERSION_MISMATCH:25,INVALID_ARGUMENT:26,INVALID_KEY:27,INVALID_KEY_ID:28,INVALID_MAC:29,NO_MEMORY:30,STALE_KEY_EXCHANGE:31,VRF_SIGNATURE_VERIFICATION_FAILED:32,ERROR_MINIMUM_VALUE:33,ERROR_UNKNOWN:34,INVALID_BROADCAST_STANZA_ATTRIBUTE:35,INVALID_LIST_REPLY_MESSAGE:36,INVALID_LIST_REPLY_ROW_IDENTIFIER:37,INVALID_BUTTONS_RESPONSE_MESSAGE:38,INVALID_BUTTONS_RESPONSE_BUTTON_IDENTIFIER:39,INVALID_ORDER_MESSAGE:40,ERROR_CANCELLED:41,FUTURE_MESSAGE:42,INVALID_EMPTY_PROTOBUF_NOT_ALLOWED:43,SELF_SEND:44,INVALID_MEDIA_MIME_TYPE_TEMPLATE_MESSAGE:45,INVALID_MEDIA_ENC_HASH:46,INVALID_IDENTITY:47,PASSTHROUGH:48,NOT_IN_PENDING_DEVICES:49,EDIT_TYPE_AND_PROTOCOL_MISMATCH:50,DECRYPTION_FAILED:51,DESERIALIZE_INVALID_PROTO_FORMAT:52,DESERIALIZE_RATCHET_KEY_BAD_FORMAT:53,DESERIALIZE_PK_INVALID_PROTO_FORMAT:54,DESERIALZE_PK_KEY_BAD_FORMAT:55,TOO_MANY_MESSAGES_IN_FUTURE:56,EMPTY_VERSION_CONTENT_SUFFIX:57,CONTENT_EXCEEDED_EXPECTED_LENGTH:58,GRP_INVALID_PROTO_FORMAT:59,GRP_INVALID_KEY_FORMAT:60,GRP_VERSION_CONTENT_EMPTY:61,GRP_INVALID_VERSION_CONTENT_LENGTH:62,GRP_SENDER_KEY_INVALID_PROTO_FORMAT:63,GRP_SENDER_KEY_PROTO_ERROR:64,GRP_TOO_MANY_MESSAGES_IN_FUTURE:65,MISSING_MESSAGE_SECRET:66,MESSAGE_SECRET_INVALID:67,INVALID_REACTION_TEXT:68,UNSUPPORTED_MESSAGE_TYPE:69,UNSUPPORTED_IN_INTEROP:70,TARGET_MESSAGE_NOT_FOUND:71,STATUS_FROM_HOSTED_DEVICE_UNSUPPORTED:72,GROUP_MESSAGE_FROM_HOSTED_DEVICE_UNSUPPORTED:73,BROADCAST_FROM_HOSTED_DEVICE_UNSUPPORTED:74,LIVE_LOCATION_FROM_HOSTED_DEVICE_UNSUPPORTED:75,MESSAGE_TYPE_MISMATCH:76,ERROR_SESSION_STATE_UNACKED_PKMSG_GET_BASE_KEY:77,ERROR_SIGNAL_MESSAGE_GET_SENDER_RATCHET_KEY:78,ERROR_SESSION_STATE_GET_ROOT_KEY:79,ERROR_SESSION_STATE_GET_SENDER_RATCHET_KEY_PAIR:80,ERROR_SESSION_STATE_SET_SENDER_CHAIN_KEY:81,ERROR_SESSION_STATE_FIND_RECEIVER_CHAIN:82,ERROR_SESSION_RECORD_DESERIALIZE:83,ERROR_SENDER_KEY_STATE_REMOVE_SENDER_MESSAGE_KEY:84,ERROR_EMPTY_PLAINTEXT_DATA:85,ERROR_MAC_LEN_MISMATCH:86,ERROR_INVALID_MAC_LEN:87,ERROR_INVALID_SIGNATURE_LEN:88,ERROR_SENDER_KEY_LOAD_KEY:89,ERROR_FAST_RATCHET_SENDER_KEY_LOAD_KEY:90,ERROR_UNKNOWN_LOAD_KEY:91,ERROR_UNKNOWN_LOAD_SESSION:92,ERROR_SESSION_RECORD_GET_STATE:93,ERROR_SESSION_STATE_GET_SENDER_CHAIN_KEY:94,ERROR_INVALID_KEY_MATEIRAL_DATA_LEN:95,ERROR_SESSION_STATE_GET_SENDER_RATCHET_KEY:96,ERROR_SESSION_STATE_GET_LOCAL_IDENTITY_KEY:97,ERROR_SESSION_STATE_GET_REMOTE_IDENTITY_KEY:98}],e2eSenderType:[3,{MY_PRIMARY:1,OTHER_PRIMARY:2,MY_COMPANION:3,OTHER_COMPANION:4,MY_HOSTED_COMPANION:5,OTHER_HOSTED_COMPANION:6}],invisibleMessageCategory:[13,{PEER:1,INVISIBLE_KEY_DISTRIBUTION:2,OTHER:3}],messageDropReason:[4,{SYNCD_DELETION:1,ADMIN_REVOKE_NOT_ENABLED:2,RECEIVED_WITH_OLD_COUNTER:3,INVALID_STANZA:4,INVALID_PROTOBUF:5,MESSAGE_SECRET_ERROR:6,INVALID_LID_ADDRESSED_MESSAGE:7,UNKNOWN_MESSAGE_TYPE:8,DB_OPERATION_FAILED:9,INTERNAL_ERROR:10,EXPIRED:11,INVALID_HOSTED_COMPANION_STANZA:12,MESSAGE_REVOKED:13,PAYMENT_MESSAGE_REVOKED:14,DUPLICATE_MESSAGE:15,DUPLICATE_DELIVERY:16}],messageMediaType:[5,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],offline:[6,"boolean"],offlineCount:[11,"integer"],retryCount:[7,"integer"],revokeType:[8,{SENDER:0,ADMIN:1}],typeOfGroup:[10,{GROUP:1,SUBGROUP:2,DEFAULT_SUBGROUP:3}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcOfflineNotificationProcess",id:4222,props:{currentOfflineProcessStage:[4,{PAGE_LOAD:1,SOCKET_CONNECT:2,OFFLINE_PREVIEW:3,PROCESSING:4,PROCESS_COMPLETE:5,PROCESS_INTERRUPTED:6}],offlineProcessDecryptErrorCount:[5,"integer"],offlineProcessMailboxAge:[6,"integer"],offlineProcessMessageCount:[7,"integer"],offlineProcessNotificationCount:[8,"integer"],offlineProcessSessionId:[9,"string"],offlineProcessStageTimestampMs:[10,"integer"],runReason:[12,{PUSH_NOTIFICATION:1,PERIODIC_BACKGROUND_SYNC:2}],swVersion:[11,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MdCriticalEvent",id:2746,props:{collection:[2,{REGULAR:1,REGULAR_LOW:2,REGULAR_HIGH:3,CRITICAL_BLOCK:4,CRITICAL_UNBLOCK_LOW:5}],mdCriticalEventCode:[1,{MESSAGE_RANGE_UNSET:1,MESSAGE_RANGE_LAST_SYSTEM_MESSAGE_TIMESTAMP_SET:2,MESSAGE_RANGE_MESSAGES_UNSET:3,MESSAGE_RANGE_MESSAGES_EMPTY:4,MESSAGE_RANGE_MESSAGES_CROSS_LIMIT:5,MESSAGE_RANGE_MESSAGE_KEY_UNSET:6,MESSAGE_RANGE_MESSAGE_KEY_REMOTE_JID_UNSET:7,MESSAGE_RANGE_MESSAGE_KEY_FROM_ME_UNSET:8,MESSAGE_RANGE_MESSAGE_KEY_STANZA_ID_UNSET:9,MESSAGE_RANGE_MESSAGE_KEY_REMOTE_JID_INVALID:10,MESSAGE_RANGE_MESSAGE_KEY_PARTICIPANT_UNSET:11,MALFORMED_PENDING_MUTATION:12,ACTION_INVALID_INDEX_DATA:13,MISSING_MUTATION_TO_REMOVE:14,LTHASH_INCONSISTENCY_ON_DAILY_CHECK:15,LTHASH_INCONSISTENCY_ON_SNAPSHOT_MAC_MISMATCH:16}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MdLinkDeviceCompanion",id:2576,props:{mdDurationS:[8,"integer"],mdLinkDeviceCompanionErrorCode:[6,"integer"],mdLinkDeviceCompanionStage:[4,{PAIR_SUCCESS_RECEIVED:1,PAIR_DEVICE_SIGN_SENT:2,FIRST_CONNECT:3,UPLOAD_PREKEYS:4,COMPLETE:5,GENERATE_PREKEYS:6,SENT_PREKEYS:7}],mdRegAttemptId:[9,"string"],mdSessionId:[1,"string"],mdTimestampS:[7,"integer"],mdWasUpgraded:[5,"boolean"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"AdvStoredTimestampExpired",id:3036,props:{advExpireTimeInHours:[1,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcQplHealth",id:3134,props:{webcQplHealthEventData:[1,"string"],webcQplHealthEventType:[2,{ANNOTATION_SIZE_LIMIT_EXCEEDED:1,MAX_POINT_COUNT_EXCEEDED:2,MAX_MARKER_COUNT_EXCEEDED:3,TOO_MANY_OPEN_MARKERS_TO_WRITE:4,POINT_TO_END_AT_NOT_FOUND:5,JSON_FORMAT_ERROR:6,MAX_STORAGE_EVENT_COUNT_REACHED:7,ERROR_UPLOADING_CHUNK:8,POINT_NAME_TOO_LONG:9,ANNOTATION_KEY_TOO_LONG:10,POINT_DATA_TOO_LONG:11,ERROR_PARSING_CONFIG:12}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"CommunityHomeAction",id:3494,props:{communityHomeGroupDiscoveries:[1,"integer"],communityHomeGroupJoins:[2,"integer"],communityHomeGroupNavigations:[3,"integer"],communityHomeId:[4,"string"],communityHomeViews:[5,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"CommunityTabAction",id:3496,props:{communityNoActionTabViews:[4,"integer"],communityTabGroupNavigations:[1,"integer"],communityTabToHomeViews:[2,"integer"],communityTabViews:[3,"integer"],communityTabViewsViaContextMenu:[5,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"Daily",id:1158,props:{accessibilityVoiceover:[108,"boolean"],addressbookSize:[11,"integer"],addressbookWhatsappSize:[12,"integer"],androidAdvertisingId:[135,"string"],androidKeystoreState:[139,{NOT_AVAILABLE:1,SELF_TEST_FAILURE:2,ENC_KEY_READ_FAILURE:3,ENC_KEY_STORED_USED:4,ENC_KEY_PLAIN_DELETED:5,ENC_KEY_PLAIN_RECOVERED:6}],androidXmppWorkersRuntime:[167,"integer"],appCodeHash:[103,"string"],appStandbyBucket:[121,"integer"],autoDlAudioCellular:[90,"boolean"],autoDlAudioRoaming:[91,"boolean"],autoDlAudioWifi:[89,"boolean"],autoDlDocCellular:[96,"boolean"],autoDlDocRoaming:[97,"boolean"],autoDlDocWifi:[95,"boolean"],autoDlImageCellular:[87,"boolean"],autoDlImageRoaming:[88,"boolean"],autoDlImageWifi:[86,"boolean"],autoDlVideoCellular:[93,"boolean"],autoDlVideoRoaming:[94,"boolean"],autoDlVideoWifi:[92,"boolean"],backupNetworkSetting:[10,{WIFI_ONLY:0,WIFI_OR_CELLULAR:1}],backupRestoreEncryptionVersion:[138,"integer"],backupSchedule:[9,{OFF:0,DAILY:1,WEEKLY:2,MONTHLY:3,MANUAL:4}],channelsMediaFolderSize:[186,"integer"],chatDatabaseSize:[19,"integer"],chatLockFolderCount:[168,"integer"],countEphemeralThreads:[181,"integer"],countEphemeralThreadsEnabledByMe:[182,"integer"],defaultDisappearingDuration:[140,"integer"],deviceLanguage:[153,"string"],emailState:[174,{NOT_ADDED:1,UNVERIFIED:2,VERIFIED:3}],entSecurityNotificationsEnabled:[134,"boolean"],experimentTmoPreloadGroupDaily:[166,"integer"],favoritedAnimatedStickerCount:[113,"integer"],favoritedFirstPartyStickerCount:[112,"integer"],favoritedTotalStickerCount:[111,"integer"],hasTextstatusEmojiModified24h:[175,"boolean"],hasTextstatusModified24h:[176,"boolean"],hasTextstatusTextModified24h:[177,"boolean"],hasUsername:[187,"boolean"],installedAnimatedStickerPackCount:[116,"integer"],installedAnimatedThirdPartyStickerPackCount:[137,"integer"],installedFirstPartyStickerPackCount:[115,"integer"],installedTotalStickerPackCount:[114,"integer"],ipStr:[122,"string"],isDefaultDisappearingMessagingUser:[183,"boolean"],isEphemeralMessagingUser:[184,"boolean"],keyboardLanguage:[154,"string"],languageCode:[5,"string"],lastCloudBackupSize:[185,"integer"],locationCode:[6,"string"],lockFolderHidden:[171,"boolean"],lowestAppStandbyBucket:[160,"integer"],mdPairTime:[124,"integer"],mediaFolderFileCount:[21,"integer"],mediaFolderSize:[20,"integer"],modifiedInternalProps:[155,"boolean"],networkIsRoaming:[7,"boolean"],networkOperatorName:[159,"string"],numAccounts:[163,"integer"],numContactsWithTextstatus24h:[178,"integer"],numContactsWithTextstatusEmoji24h:[179,"integer"],numContactsWithTextstatusText24h:[180,"integer"],osBuildNumber:[4,"string"],osNotificationSetting:[118,{ALLOWED:1,BLOCKED:2,UNKNOWN:3}],packageName:[102,"string"],passkeyExists:[165,"boolean"],paymentsIsEnabled:[100,"boolean"],permissionAccessCoarseLocation:[57,"integer"],permissionAccessFineLocation:[58,"integer"],permissionCamera:[56,"integer"],permissionContacts:[104,"boolean"],permissionReadExternalStorage:[53,"integer"],permissionRecordAudio:[55,"integer"],phoneCores:[156,"integer"],phoneyid:[162,"string"],privacySettingsAbout:[141,{NOBODY:1,ONLY_SHARE_WITH:2,MY_CONTACTS:3,MY_CONTACTS_EXCEPT:4,EVERYONE:5}],privacySettingsAboutExceptNum:[142,{B0:1,B1:2,B5:3,B10:4,B15:5,B20:6,B30:7,B40:8,B50:9,B60:10,B70:11,B80:12,B90:13,B100:14}],privacySettingsGroups:[143,{NOBODY:1,ONLY_SHARE_WITH:2,MY_CONTACTS:3,MY_CONTACTS_EXCEPT:4,EVERYONE:5}],privacySettingsGroupsExceptNum:[144,{B0:1,B1:2,B5:3,B10:4,B15:5,B20:6,B30:7,B40:8,B50:9,B60:10,B70:11,B80:12,B90:13,B100:14}],privacySettingsLastSeen:[145,{NOBODY:1,ONLY_SHARE_WITH:2,MY_CONTACTS:3,MY_CONTACTS_EXCEPT:4,EVERYONE:5}],privacySettingsLastSeenExceptNum:[146,{B0:1,B1:2,B5:3,B10:4,B15:5,B20:6,B30:7,B40:8,B50:9,B60:10,B70:11,B80:12,B90:13,B100:14}],privacySettingsProfilePhoto:[147,{NOBODY:1,ONLY_SHARE_WITH:2,MY_CONTACTS:3,MY_CONTACTS_EXCEPT:4,EVERYONE:5}],privacySettingsProfilePhotoExceptNum:[148,{B0:1,B1:2,B5:3,B10:4,B15:5,B20:6,B30:7,B40:8,B50:9,B60:10,B70:11,B80:12,B90:13,B100:14}],privacySettingsStatus:[150,{NOBODY:1,ONLY_SHARE_WITH:2,MY_CONTACTS:3,MY_CONTACTS_EXCEPT:4,EVERYONE:5}],privacySettingsStatusExceptNum:[151,{B0:1,B1:2,B5:3,B10:4,B15:5,B20:6,B30:7,B40:8,B50:9,B60:10,B70:11,B80:12,B90:13,B100:14}],privacySettingsStatusShareNum:[152,{B0:1,B1:2,B5:3,B10:4,B15:5,B20:6,B30:7,B40:8,B50:9,B60:10,B70:11,B80:12,B90:13,B100:14}],receiptsEnabled:[8,"boolean"],secretCodeActive:[172,"boolean"],showMetaAiButtonSetting:[173,"boolean"],simMcc:[2,"integer"],simMnc:[3,"integer"],storageAvailSize:[31,"integer"],storageTotalSize:[32,"integer"],supportedDecoders:[169,"string"],supportedEncoders:[170,"string"],videoFolderFileCount:[23,"integer"],videoFolderSize:[22,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"KeepInChatNotif",id:3484,props:{kicGroupNotificationTaps:[3,"integer"],kicGroupNotifications:[4,"integer"],kicNotificationTaps:[5,"integer"],kicNotifications:[6,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"NotificationSetting",id:3684,props:{groupReactionNotification:[1,"boolean"],groupShowNotification:[2,"boolean"],groupSoundTone:[3,{DEFAULT:1,CUSTOM:2}],inAppNotificationAlertStyle:[4,{NONE:1,BANNERS:2,ALERTS:3}],inAppNotificationSound:[5,"boolean"],inAppNotificationVibrate:[6,"boolean"],messageReactionNotification:[7,"boolean"],messageShowNotification:[8,"boolean"],messageSoundTone:[9,{DEFAULT:1,CUSTOM:2}],offlineNotification:[11,"boolean"],showPreview:[10,"boolean"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"PnhDailyCtwa",id:4280,props:{matMessagesReceived:[1,"integer"],threadDs:[3,"string"],threadId:[2,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"PnhDaily",id:3806,props:{communityId:[1,"string"],mappingMissing:[7,"integer"],pnhIndicatorClicksChat:[2,"integer"],pnhIndicatorClicksInfoScreen:[3,"integer"],reactionDeleteCount:[4,"integer"],reactionOpenTrayCount:[5,"integer"],totalContacts:[8,"integer"],typeOfGroup:[6,{GROUP:1,SUBGROUP:2,DEFAULT_SUBGROUP:3}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"PrivacyHighlightDaily",id:3522,props:{dialogAppearCount:[1,"integer"],dialogSelectCount:[2,"integer"],narrativeAppearCount:[3,"integer"],privacyHighlightCategory:[4,{E2EE:0}],privacyHighlightSurface:[5,{GOLDEN_BOX_CONTACT:0,GOLDEN_BOX_GROUP:1,GOLDEN_BOX_BROADCAST:2,INFO_SCREEN_CONTACT:3,INFO_SCREEN_GROUP:4,INFO_SCREEN_BROADCAST:5,CALLS_LIST:6,CHATS_LIST:7,STATUS_LIST:8,LINKED_DEVICES_SCREEN:9,CALLING_SCREEN_AUDIO:10,CALLING_SCREEN_VIDEO:11,SPLIT_VIEW_HOME_PLACEHOLDER:12}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"PttDaily",id:2938,props:{pttCancelBroadcast:[9,"integer"],pttCancelGroup:[8,"integer"],pttCancelIndividual:[7,"integer"],pttCancelInterop:[42,"integer"],pttCancelNewsletter:[32,"integer"],pttDraftReviewBroadcast:[15,"integer"],pttDraftReviewGroup:[14,"integer"],pttDraftReviewIndividual:[13,"integer"],pttDraftReviewInterop:[43,"integer"],pttDraftReviewNewsletter:[33,"integer"],pttFastplaybackBroadcast:[21,"integer"],pttFastplaybackGroup:[20,"integer"],pttFastplaybackIndividual:[19,"integer"],pttFastplaybackInterop:[44,"integer"],pttFastplaybackNewsletter:[34,"integer"],pttLockBroadcast:[12,"integer"],pttLockGroup:[11,"integer"],pttLockIndividual:[10,"integer"],pttLockInterop:[45,"integer"],pttLockNewsletter:[35,"integer"],pttOutOfChatBroadcast:[29,"integer"],pttOutOfChatGroup:[30,"integer"],pttOutOfChatIndividual:[31,"integer"],pttOutOfChatInterop:[46,"integer"],pttOutOfChatNewsletter:[36,"integer"],pttPausedRecordBroadcast:[22,"integer"],pttPausedRecordGroup:[23,"integer"],pttPausedRecordIndividual:[24,"integer"],pttPausedRecordInterop:[47,"integer"],pttPausedRecordNewsletter:[37,"integer"],pttPlaybackBroadcast:[18,"integer"],pttPlaybackGroup:[17,"integer"],pttPlaybackIndividual:[16,"integer"],pttPlaybackInterop:[48,"integer"],pttPlaybackNewsletter:[38,"integer"],pttRecordBroadcast:[3,"integer"],pttRecordGroup:[2,"integer"],pttRecordIndividual:[1,"integer"],pttRecordInterop:[49,"integer"],pttRecordNewsletter:[39,"integer"],pttSendBroadcast:[6,"integer"],pttSendGroup:[5,"integer"],pttSendIndividual:[4,"integer"],pttSendInterop:[50,"integer"],pttSendNewsletter:[40,"integer"],pttStopTapBroadcast:[25,"integer"],pttStopTapGroup:[26,"integer"],pttStopTapIndividual:[27,"integer"],pttStopTapInterop:[51,"integer"],pttStopTapNewsletter:[41,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"ScreenLockSettingsData",id:4802,props:{screenAutoLockDuration:[1,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"ScreenLockSettings",id:3872,props:{screenLockDuration:[1,"integer"]},weight:1,wamChannel:"private",privateStatsIdInt:113760892},{name:"WebcFtsStorage",id:3642,props:{ftsTotalSize:[1,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"NotificationEngagement",id:3796,props:{avgNotifEngagementT:[1,"timer"],groupSizeBucket:[2,{SMALL:1,MEDIUM:2,LARGE:3,EXTRA_LARGE:4,XX_LARGE:5,XXX_LARGE:6,LT1024:16,LT1500:7,LT2000:8,LT2500:9,LT3000:10,LT3500:11,LT4000:12,LT4500:13,LT5000:14,LARGEST_BUCKET:15}],groupTypeClient:[3,{REGULAR_GROUP:1,SUB_GROUP:2,DEFAULT_SUB_GROUP:3,PARENT_GROUP:4}],isAGroup:[4,"boolean"],isWebBackgroundSyncNotif:[18,"boolean"],threadId:[5,"string"],totalMessageReminderNotifShown:[16,"integer"],totalMessageReminderNotifTapToOpen:[17,"integer"],totalNotifMarkAsRead:[6,"integer"],totalNotifMissedCallVoipCallback:[7,"integer"],totalNotifMissedCallVoipMessage:[8,"integer"],totalNotifOthers:[9,"integer"],totalNotifReply:[10,"integer"],totalNotifRtcVoipAccept:[11,"integer"],totalNotifRtcVoipDecline:[12,"integer"],totalNotifShowPreview:[13,"integer"],totalNotifShown:[14,"integer"],totalNotifTapToOpen:[15,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MdBootstrapHistorySyncStatusAfterPairing",id:4652,props:{activeTimeAfterPairing:[1,{MINS_10:1,MINS_20:2,MINS_40:3,MINS_60:4,MINS_5:5}],isLoopRunning:[12,"boolean"],lastProcessedNotificationChunkOrder:[2,"integer"],lastProcessedNotificationChunkProgress:[3,"integer"],mdBootstrapHistoryPayloadType:[4,{INITIAL:1,RECENT_HISTORY:2,FULL_HISTORY:3,PUSHNAME:4,STATUS_V3:5,NON_BLOCKING_DATA:6,ON_DEMAND:7}],mdHistorySyncStatusResult:[5,{SUCCESS:1,UNFINISHED:2,FAIL_TO_DOWNLOAD:3,MISSING_CHUNK:4,PROTOBUF_ERROR:5,FAIL_TO_STORE:6,OTHER_ERROR:7,IN_PROGRESS:8,FAIL_TO_RECEIVE:9,FAIL_TO_STORE_CHUNK:10,FAIL_TO_FETCH:11,FAIL_TO_PREPROCESS:12,FAIL_TO_ENCRYPT:13}],mdSessionId:[6,"string"],mdTimestamp:[7,"integer"],missingNotificationCount:[8,"integer"],nextNotificationChunkOrder:[9,"integer"],totalProcessedMessageCount:[10,"integer"],unprocessedNotificationCount:[11,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebDbVersionNonAnonymous",id:4816,props:{webDbName:[1,{MODEL_STORAGE:1,FTS_STORAGE:2,JOBS_STORAGE:3,LOADGEN_STORAGE:4,LRU_MEDIA_STORAGE_IDB:5,OFFD_STORAGE:6,QPL_STORAGE:7,SIGNAL_STORAGE:8,WORKER_STORAGE:9,SW:10,WAWC:11,WAWC_DB_ENC:12}],webDbVersionNumber:[2,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"SyncdKeyCount",id:3978,props:{keysUsedInSnapshotCount:[1,"integer"],p80MuationsPerKey:[2,"integer"],p95MuationsPerKey:[3,"integer"],syncdSessionLengthDays:[4,"integer"],totalKeyCount:[5,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MdAppStateSyncMutationStats",id:3180,props:{applied:[1,{ZERO:1,ONE:2,LT10:3,LT100:4,LT500:5,LT1K:6,LT5K:7,GTE5K:8}],failed:[2,{ZERO:1,ONE:2,LT10:3,LT100:4,LT500:5,LT1K:6,LT5K:7,GTE5K:8}],invalid:[3,{ZERO:1,ONE:2,LT10:3,LT100:4,LT500:5,LT1K:6,LT5K:7,GTE5K:8}],orphan:[4,{ZERO:1,ONE:2,LT10:3,LT100:4,LT500:5,LT1K:6,LT5K:7,GTE5K:8}],syncdAction:[5,"string"],unsupported:[6,{ZERO:1,ONE:2,LT10:3,LT100:4,LT500:5,LT1K:6,LT5K:7,GTE5K:8}]},weight:20,wamChannel:"private",privateStatsIdInt:0},{name:"GroupJoinC",id:158,props:{},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MessageHighRetryCount",id:3132,props:{deviceSizeBucket:[5,{LT32:1,LT64:2,LT128:3,LT256:4,LT512:5,LT1000:6,LT1024:16,LT1500:7,LT2000:8,LT2500:9,LT3000:10,LT3500:11,LT4000:12,LT4500:13,LT5000:14,LARGEST_BUCKET:15}],e2eSenderType:[3,{MY_PRIMARY:1,OTHER_PRIMARY:2,MY_COMPANION:3,OTHER_COMPANION:4,MY_HOSTED_COMPANION:5,OTHER_HOSTED_COMPANION:6}],mediaType:[1,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],messageType:[4,{INDIVIDUAL:1,GROUP:2,BROADCAST:3,STATUS:4,CHANNEL:5,INTEROP:6}],retryCount:[2,"integer"]},weight:20,wamChannel:"regular",privateStatsIdInt:-1},{name:"OfflineCountTooHigh",id:2638,props:{callStanzaType:[7,{OFFER:0,ACCEPT:1,REJECT:2,VIDEO:3,TERMINATE:4,ENC_REKEY:5,RELAYLATENCY:6,TRANSPORT:7,PREACCEPT:8,GROUP_UPDATE:9,MUTE_V2:10,INTERRUPTION:11,FLOWCONTROL:12,NOTIFY:13,OFFER_NOTICE:14,CALL_RELAY:15,MUTE:16,SCREEN_SHARE:17,UNKNOWN:18}],mediaType:[3,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],messageType:[4,{INDIVIDUAL:1,GROUP:2,BROADCAST:3,STATUS:4,CHANNEL:5,INTEROP:6}],notificationStanzaType:[6,"string"],offlineCount:[2,"integer"],receiptStanzaType:[5,"string"],stanzaType:[1,{MESSAGE:1,RECEIPT:2,CALL:3,NOTIFICATION:4,APPDATA:5}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"E2eMessageRecv",id:478,props:{agentEngagementType:[15,{DIRECT_CHAT:0,INVOKED:1,MEMBER:2}],botType:[19,{UNKNOWN:0,METABOT:1,BOT_1P_BIZ:2,BOT_3P_BIZ:3}],e2eCiphertextType:[5,{MESSAGE:0,PREKEY_MESSAGE:1,SENDER_KEY_MESSAGE:2,MESSAGE_SECRET_MESSAGE:3}],e2eCiphertextVersion:[6,"integer"],e2eDestination:[4,{INDIVIDUAL:0,GROUP:1,LIST:2,STATUS:3,CHANNEL:4,INTEROP:5}],e2eFailureReason:[2,{INVALID_MESSAGE:0,LEGACY_MESSAGE:1,INVALID_VERSION:2,PRE_KEY_MESSAGE_MISSING_PRE_KEY:3,PRE_KEY_MESSAGE_INVALID_KEY:4,UNTRUSTED_IDENTITY:5,NO_SESSION_AVAILABLE:6,PLAINTEXT_BYTE_MISMATCH:7,UNKNOWN_CIPHERTEXT_TYPE:8,UNKNOWN_CIPHERTEXT_VERSION:9,INVALID_PADDING:10,INVALID_PROTOCOL_BUFFER:11,INVALID_NUMBER_OF_MESSAGE_TYPES:12,INVALID_IMAGE_FILE_LENGTH:13,INVALID_IMAGE_FILE_SHA256:14,INVALID_IMAGE_MEDIA_URL:15,INVALID_IMAGE_MEDIA_KEY:16,INVALID_IMAGE_MIME_TYPE:17,UNKNOWN_V2_TAGS:18,INVALID_EDIT_VERSION:19,INVALID_HSM_NAMESPACE:20,INVALID_HSM_ELEMENT:21,UNKNOWN_PROTOCOL_MESSAGE_TYPE:22,DUPLICATE_MESSAGE:23,FINGERPRINT_IDENTITY_MISMATCH:24,FINGERPRINT_VERSION_MISMATCH:25,INVALID_ARGUMENT:26,INVALID_KEY:27,INVALID_KEY_ID:28,INVALID_MAC:29,NO_MEMORY:30,STALE_KEY_EXCHANGE:31,VRF_SIGNATURE_VERIFICATION_FAILED:32,ERROR_MINIMUM_VALUE:33,ERROR_UNKNOWN:34,INVALID_BROADCAST_STANZA_ATTRIBUTE:35,INVALID_LIST_REPLY_MESSAGE:36,INVALID_LIST_REPLY_ROW_IDENTIFIER:37,INVALID_BUTTONS_RESPONSE_MESSAGE:38,INVALID_BUTTONS_RESPONSE_BUTTON_IDENTIFIER:39,INVALID_ORDER_MESSAGE:40,ERROR_CANCELLED:41,FUTURE_MESSAGE:42,INVALID_EMPTY_PROTOBUF_NOT_ALLOWED:43,SELF_SEND:44,INVALID_MEDIA_MIME_TYPE_TEMPLATE_MESSAGE:45,INVALID_MEDIA_ENC_HASH:46,INVALID_IDENTITY:47,PASSTHROUGH:48,NOT_IN_PENDING_DEVICES:49,EDIT_TYPE_AND_PROTOCOL_MISMATCH:50,DECRYPTION_FAILED:51,DESERIALIZE_INVALID_PROTO_FORMAT:52,DESERIALIZE_RATCHET_KEY_BAD_FORMAT:53,DESERIALIZE_PK_INVALID_PROTO_FORMAT:54,DESERIALZE_PK_KEY_BAD_FORMAT:55,TOO_MANY_MESSAGES_IN_FUTURE:56,EMPTY_VERSION_CONTENT_SUFFIX:57,CONTENT_EXCEEDED_EXPECTED_LENGTH:58,GRP_INVALID_PROTO_FORMAT:59,GRP_INVALID_KEY_FORMAT:60,GRP_VERSION_CONTENT_EMPTY:61,GRP_INVALID_VERSION_CONTENT_LENGTH:62,GRP_SENDER_KEY_INVALID_PROTO_FORMAT:63,GRP_SENDER_KEY_PROTO_ERROR:64,GRP_TOO_MANY_MESSAGES_IN_FUTURE:65,MISSING_MESSAGE_SECRET:66,MESSAGE_SECRET_INVALID:67,INVALID_REACTION_TEXT:68,UNSUPPORTED_MESSAGE_TYPE:69,UNSUPPORTED_IN_INTEROP:70,TARGET_MESSAGE_NOT_FOUND:71,STATUS_FROM_HOSTED_DEVICE_UNSUPPORTED:72,GROUP_MESSAGE_FROM_HOSTED_DEVICE_UNSUPPORTED:73,BROADCAST_FROM_HOSTED_DEVICE_UNSUPPORTED:74,LIVE_LOCATION_FROM_HOSTED_DEVICE_UNSUPPORTED:75,MESSAGE_TYPE_MISMATCH:76,ERROR_SESSION_STATE_UNACKED_PKMSG_GET_BASE_KEY:77,ERROR_SIGNAL_MESSAGE_GET_SENDER_RATCHET_KEY:78,ERROR_SESSION_STATE_GET_ROOT_KEY:79,ERROR_SESSION_STATE_GET_SENDER_RATCHET_KEY_PAIR:80,ERROR_SESSION_STATE_SET_SENDER_CHAIN_KEY:81,ERROR_SESSION_STATE_FIND_RECEIVER_CHAIN:82,ERROR_SESSION_RECORD_DESERIALIZE:83,ERROR_SENDER_KEY_STATE_REMOVE_SENDER_MESSAGE_KEY:84,ERROR_EMPTY_PLAINTEXT_DATA:85,ERROR_MAC_LEN_MISMATCH:86,ERROR_INVALID_MAC_LEN:87,ERROR_INVALID_SIGNATURE_LEN:88,ERROR_SENDER_KEY_LOAD_KEY:89,ERROR_FAST_RATCHET_SENDER_KEY_LOAD_KEY:90,ERROR_UNKNOWN_LOAD_KEY:91,ERROR_UNKNOWN_LOAD_SESSION:92,ERROR_SESSION_RECORD_GET_STATE:93,ERROR_SESSION_STATE_GET_SENDER_CHAIN_KEY:94,ERROR_INVALID_KEY_MATEIRAL_DATA_LEN:95,ERROR_SESSION_STATE_GET_SENDER_RATCHET_KEY:96,ERROR_SESSION_STATE_GET_LOCAL_IDENTITY_KEY:97,ERROR_SESSION_STATE_GET_REMOTE_IDENTITY_KEY:98}],e2eSenderType:[8,{MY_PRIMARY:1,OTHER_PRIMARY:2,MY_COMPANION:3,OTHER_COMPANION:4,MY_HOSTED_COMPANION:5,OTHER_HOSTED_COMPANION:6}],e2eSuccessful:[1,"boolean"],editType:[13,{NOT_EDITED:0,EDITED:1,SENDER_REVOKE:2,ADMIN_REVOKE:3}],isHostedChat:[20,"boolean"],isLid:[11,"boolean"],localAddressingMode:[16,{PN:1,LID:2}],messageAddressingMode:[17,{PN:1,LID:2}],messageMediaType:[7,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],offline:[9,"boolean"],retryCount:[3,"integer"],revokeType:[10,{SENDER:0,ADMIN:1}],serverAddressingMode:[18,{PN:1,LID:2}],stanzaType:[14,{MESSAGE:1,RECEIPT:2,CALL:3,NOTIFICATION:4,APPDATA:5}],typeOfGroup:[12,{GROUP:1,SUBGROUP:2,DEFAULT_SUBGROUP:3}]},weight:20,wamChannel:"regular",privateStatsIdInt:-1},{name:"ReceiptStanzaReceive",id:2496,props:{dbReadsCount:[12,"integer"],dbWritesCount:[13,"integer"],mediaType:[2,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],messageType:[10,{INDIVIDUAL:1,GROUP:2,BROADCAST:3,STATUS:4,CHANNEL:5,INTEROP:6}],receiptAggregation:[11,{NONE:0,MULTI_MESSAGES:1,MULTI_PARTICIPANTS:2}],receiptStanzaDuration:[1,"timer"],receiptStanzaHasOrphaned:[6,"boolean"],receiptStanzaOfflineCount:[3,"integer"],receiptStanzaProcessedCount:[8,"integer"],receiptStanzaRetryVer:[5,"integer"],receiptStanzaStage:[9,{OVERALL:0,PARSE:1,WAITING_TO_PROCESS:2,PROCESS:3,WAITING_TO_ACK:5,ACK:4}],receiptStanzaTotalCount:[7,"integer"],receiptStanzaType:[4,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"CtwaActionBannerUnderstand",id:3586,props:{bannerIdentifier:[1,"string"],bannerLocale:[2,"string"],clientLocale:[3,"string"],hasLocalLink:[4,"boolean"],hasUniversalLink:[5,"boolean"],invalidLink:[6,"string"],lwiFlowIdentifier:[7,"string"],preferredLink:[8,{LOCAL:0,UNIVERSAL:1}],validLocale:[9,"boolean"],validNotification:[10,"boolean"]},weight:1,wamChannel:"private",privateStatsIdInt:0},{name:"WaOldCode",id:3940,props:{deviceId:[1,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"NotificationDelivery",id:3748,props:{clientMessageId:[1,"string"],notificationAction:[2,{SHOW:1,REMOVE:2}],notificationDeliveryT:[3,"integer"],notificationDestination:[4,{INDIVIDUAL:1,GROUP:2,OTHER:3,CHANNEL:4,INTEROP:5}],notificationId:[5,"string"],notificationSource:[6,{PUSH_TRIGGERED:1,MAIN_APP:2,IN_APP:3}],threadId:[7,"string"],uiNotificationType:[8,{TEXT_MESSAGE:1,VOICE_MESSAGE:2,FILE_MESSAGE:3,PHOTO_MESSAGE:4,VIDEO_MESSAGE:5,MISSED_VOICE_CALL:6,MISSED_VIDEO_CALL:7,STICKER_MESSAGE:8,REACTION_MESSAGE:9,GROUP_INVITE_MESSAGE:10,REQUEST_MEDIA_REUPLOAD:11,WEB_CLIENT_LOGIN:12,BACKUP:13,KEEP_IN_CHAT:14,PAYMENT:15,POLL_MESSAGE:16,LOCATION_MESSAGE:17,WEB_PAGE_MESSAGE:18,FAILED_UPLOAD:19,GDPR_REPORT:20,INCOMING_VOICE_CALL:21,INCOMING_VIDEO_CALL:22,VIDEO_CALL_UPGRADE:23,WAFFLE:24,XPLAT_MIGRATION:25,OTHER:26,INVITE_JOINED:27,SCHEDULED_CALL_LOCAL_REMINDER:28,PTV_MESSAGE:29}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MdAppStateDirtyBits",id:2520,props:{dirtyBitsFalsePositive:[2,"boolean"]},weight:1e3,wamChannel:"regular",privateStatsIdInt:-1},{name:"MdAppStateOfflineNotifications",id:2602,props:{redundantCount:[1,"integer"]},weight:1e3,wamChannel:"regular",privateStatsIdInt:-1},{name:"MdRetryFromUnknownDevice",id:2178,props:{offline:[2,"boolean"],senderType:[1,{PRIMARY:1,COMPANION:2}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"E2eRetryReject",id:3578,props:{messageType:[1,{INDIVIDUAL:1,GROUP:2,BROADCAST:3,STATUS:4,CHANNEL:5,INTEROP:6}],msgRetryCount:[2,"integer"],retryRejectReason:[3,{OTHER:0,DOUBLE_CHECKMARK:1,IDENTITY_CHANGE:2,MESSAGE_NOT_EXIST:3}],retryRevoke:[4,"boolean"],senderDeviceType:[5,{PRIMARY:1,COMPANION:2}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"ClockSkewDifferenceT",id:3178,props:{clockSkewHourly:[1,"integer"]},weight:1e4,wamChannel:"private",privateStatsIdInt:37887164},{name:"MdBootstrapAppStateCriticalDataProcessing",id:3164,props:{bootstrapAppStateDataStage:[1,{REQUEST_BUILT:1,RESPONSE_RECEIVED:2,RESPONSE_PARSED_VALID:3,MISSING_KEYS_REQUESTED:4,MISSING_KEYS_RECEIVED:5,MUTATIONS_DECRYPTED:6,ABOUT_TO_APPLY_MUTATIONS:7,APPLIED_MUTATIONS:8,PUSHNAME_APPLIED:9,PUSHNAME_INVALID:10,ENTERED_RETRY_MODE:11}],mdBootstrapPayloadType:[2,{CRITICAL:1,NON_CRITICAL:2}],mdRegAttemptId:[3,"string"],mdSessionId:[4,"string"],mdTimestamp:[5,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcNativeUpsellCta",id:3934,props:{webcNativeUpsellCtaEventType:[2,{IMPRESSION:1,CTA_BTN_CLICK:2,CTA_DISMISS:3}],webcNativeUpsellCtaSource:[1,{INTRO_PANEL:1,CHATLIST_DROPDOWN:2,BUTTERBAR:3,QR_BANNER:4,SEARCH_RESULTS:5,CALL_BTN_MODAL:6,CALL_BTN_MODAL_2:7,MISSED_CALL_MODAL:8,MISSED_CALL_MODAL_2:9,QR_BANNER_2:10}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebDbTableUsage",id:5074,props:{offlineSessionId:[1,"string"],webScenario:[2,{OFFLINE_RESUME:0}],webTable:[3,"string"],webTableLogReason:[4,{BASE:0,EXCEEDED_THRESHOLD:1}],webTableReadCount:[5,"integer"],webTableWriteCount:[6,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebDbLoadFromVersionFailureNonAnonymous",id:4814,props:{webDbLoader:[1,{MAIN:1,WEB_WORKER:2,SERVICE_WORKER:3}],webDbName:[2,{MODEL_STORAGE:1,FTS_STORAGE:2,JOBS_STORAGE:3,LOADGEN_STORAGE:4,LRU_MEDIA_STORAGE_IDB:5,OFFD_STORAGE:6,QPL_STORAGE:7,SIGNAL_STORAGE:8,WORKER_STORAGE:9,SW:10,WAWC:11,WAWC_DB_ENC:12}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcJobInfo",id:3054,props:{jobName:[1,"string"],jobPriority:[2,"string"],jobResultType:[5,{COMPLETED:0,ERROR:1,TIMEOUT:2,ABORTED:3}],pendingJobsCount:[4,"integer"],scenario:[3,{INITIAL_PAIRING:0,OFFLINE_RESUME:1,IDLE:2}],webcJobAddedT:[6,"integer"],webcJobCompletedT:[8,"integer"],webcJobStartedT:[7,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcRawPlatforms",id:2416,props:{webcRawPlatform:[1,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebWamForceFlush",id:3264,props:{},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"ChatMute",id:2280,props:{actionConducted:[3,{MUTE:1,UNMUTE:2,EXPIRE:3}],chatMuteNotificationChoice:[5,{NO_NOTIFICATIONS_WHEN_MUTED:1,YES_NOTIFICATIONS_WHEN_MUTED:2}],muteChatType:[4,{ONE_ON_ONE:1,GROUP:2,CHANNEL:3,INTEROP:4}],muteDuration:[1,"timer"],muteEntryPoint:[6,{CHAT_LIST_SCREEN:1,CONTACT_INFO:2,CONVERSATION_SCREEN:3}],muteGroupSize:[2,"integer"],waOfficialAccountName:[7,{WHATSAPP_CHATPSA:1}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"ChatPsaAction",id:3572,props:{messageMediaType:[1,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],psaCampaignId:[4,"string"],psaMessageActionType:[2,{SAVE:1,FORWARD:2,REACT:3,LINK_CLICK:4,MEDIA_PLAY:5,DELETE:6}],psaMsgId:[5,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"ChatPsaRead",id:3574,props:{messageMediaType:[1,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],psaCampaignId:[4,"string"],psaMsgId:[5,"string"],readEntryPoint:[3,{CHAT_LIST:1,CHAT:2}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"ChatPsaRemove",id:3582,props:{lastReceivedMediaType:[2,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],lastReceivedMessageTs:[4,"timer"],lastReceivedMsgId:[8,"string"],psaBlockReason:[10,{OTHER:0,MESSAGES_ARENT_HELPFUL:1,TOO_MANY_MESSAGES:2,IT_LOOKS_SUSPICIOUS:3}],psaCampaignId:[9,"string"],psaMessageRemoveAction:[5,{BLOCK:1,UNBLOCK:2,ARCHIVE:3,UNARCHIVE:4,CLEAR:5,DELETE_ALL:6}],psaMessageRemoveEntryPoint:[6,{BLOCK_FROM_CONTACT_INFO:1,BLOCK_FROM_CHAT:2,UNBLOCK_FROM_CONTACT_INFO:3,UNBLOCK_FROM_CHAT:4,UNBLOCK_FROM_PRIVACY_SETTINGS:5,ARCHIVE_FROM_CHAT_LIST:6,ARCHIVE_FROM_DELETE_OPTION:7,UNARCHIVE_FROM_ARCHIVED_CHAT_LIST:8,CLEAR_FROM_CONTACT_INFO:9,CLEAR_FROM_CHAT_LIST:10,DELETE_ALL_FROM_CHAT_LIST:11,DELETE_ALL_FROM_CONTACT_INFO:12,DELETE_ALL_FROM_CONVERSATION:13,CLEAR_FROM_CONVERSATION:14,BLOCK_FROM_CONSENT_MODAL:15}],waOfficialAccountName:[7,{WHATSAPP_CHATPSA:1}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"ForwardSend",id:1728,props:{disappearingChatInitiator:[21,{CHAT:1,INITIATED_BY_ME:2,INITIATED_BY_OTHER:3,CHAT_PICKER:4,BIZ_UPGRADE_FB_HOSTING:5}],e2eCiphertextType:[12,{MESSAGE:0,PREKEY_MESSAGE:1,SENDER_KEY_MESSAGE:2,MESSAGE_SECRET_MESSAGE:3}],e2eCiphertextVersion:[11,"integer"],ephemeralityDuration:[18,"integer"],ephemeralityInitiator:[24,{INITIATED_BY_ME:1,INITIATED_BY_OTHER:2,BIZ_UPGRADE_FB_HOSTING:3}],ephemeralityTriggerAction:[25,{UNKNOWN:0,CHAT_SETTINGS:1,ACCOUNT_SETTINGS:2,BULK_CHANGE:3,BIZ_SUPPORTS_FB_HOSTING:4}],fastForwardEnabled:[5,"boolean"],isForwardedForward:[22,"boolean"],isFrequentlyForwarded:[14,"boolean"],mediaCaptionPresent:[10,"boolean"],messageBizType:[26,{NOT_BIZ_MSG:0,API_MARKETING:1,API_UTILITY:2,OTHER_API_BIZ_MSG:3,SMB_BIZ_MSG:4}],messageForwardAgeT:[4,"timer"],messageIsFanout:[6,"boolean"],messageIsFastForward:[3,"boolean"],messageIsInternational:[9,"boolean"],messageMediaType:[2,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],messageSendT:[13,"timer"],messageType:[1,{INDIVIDUAL:1,GROUP:2,BROADCAST:3,STATUS:4,CHANNEL:5,INTEROP:6}],receiverDefaultDisappearingDuration:[20,"integer"],resendCount:[8,"integer"],retryCount:[7,"integer"],senderDefaultDisappearingDuration:[19,"integer"],typeOfGroup:[23,{GROUP:1,SUBGROUP:2,DEFAULT_SUBGROUP:3}],wouldBeFrequentlyForwardedAt3:[16,"boolean"],wouldBeFrequentlyForwardedAt4:[17,"boolean"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"NonMessagePeerDataMediaUpload",id:3902,props:{peerDataErrorCount:[1,"integer"],peerDataExistingDataNoUploadCount:[2,"integer"],peerDataNotFoundCount:[3,"integer"],peerDataRequestCount:[4,"integer"],peerDataRequestSessionId:[5,"string"],peerDataRequestType:[6,{UPLOAD_STICKER:0,SEND_RECENT_STICKER_BOOTSTRAP:1,GENERAL_LINK_PREVIEW:2,HISTORY_SYNC_ON_DEMAND:3,PLACEHOLDER_MESSAGE_RESEND:4}],peerDataResponseResult:[8,{SUCCESS:1,OTHER_ERROR:2,REQUEST_TARGET_NOT_FOUND:3,REQUEST_INVALID:4,FAIL_TO_UPLOAD:5,FAIL_TO_SEND_RESPONSE:6,REQUEST_TOO_OLD:7}],peerDataSuccessInlineNoUploadCount:[9,"integer"],peerDataSuccessUploadCount:[7,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"NonMessagePeerDataOperationResponse",id:3904,props:{peerDataErrorCount:[1,"integer"],peerDataNotFoundCount:[2,"integer"],peerDataRequestSessionId:[3,"string"],peerDataRequestType:[4,{UPLOAD_STICKER:0,SEND_RECENT_STICKER_BOOTSTRAP:1,GENERAL_LINK_PREVIEW:2,HISTORY_SYNC_ON_DEMAND:3,PLACEHOLDER_MESSAGE_RESEND:4}],peerDataResponseApplyResult:[8,{SUCCESS:1,OTHER_ERROR:2,INVALID_RESPONSE:3,FAIL_TO_DOWNLOAD:4,REQUEST_TIMEOUT:5}],peerDataResponseCount:[5,"integer"],peerDataSuccessProcessCount:[6,"integer"],peerDataSuccessResponseCount:[7,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"NonMessagePeerDataRequest",id:3906,props:{peerDataRequestCount:[1,"integer"],peerDataRequestSessionId:[2,"string"],peerDataRequestType:[3,{UPLOAD_STICKER:0,SEND_RECENT_STICKER_BOOTSTRAP:1,GENERAL_LINK_PREVIEW:2,HISTORY_SYNC_ON_DEMAND:3,PLACEHOLDER_MESSAGE_RESEND:4}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcLinkPreviewResponseHandle",id:3860,props:{didRespondHqPreview:[5,"boolean"],isPreviewSuccess:[2,"boolean"],previewDurationMs:[4,"integer"],previewSessionId:[3,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MdBootstrapHistoryDataDownloaded",id:2296,props:{historySyncChunkOrder:[15,"integer"],historySyncStageProgress:[14,"integer"],mdBootstrapChatsCount:[6,"integer"],mdBootstrapHistoryPayloadType:[13,{INITIAL:1,RECENT_HISTORY:2,FULL_HISTORY:3,PUSHNAME:4,STATUS_V3:5,NON_BLOCKING_DATA:6,ON_DEMAND:7}],mdBootstrapMessagesCount:[5,"integer"],mdBootstrapPayloadSize:[4,"integer"],mdBootstrapPayloadType:[2,{CRITICAL:1,NON_CRITICAL:2}],mdBootstrapStepDuration:[7,"integer"],mdBootstrapStepResult:[8,{SUCCESS:1,FAILURE:2}],mdHsOldestMessageTimestamp:[11,"integer"],mdRegAttemptId:[12,"string"],mdSessionId:[1,"string"],mdStorageQuotaBytes:[9,"integer"],mdStorageQuotaUsedBytes:[10,"integer"],mdTimestamp:[3,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MdBootstrapHistoryDataStartDownloading",id:4650,props:{historySyncChunkOrder:[1,"integer"],historySyncStageProgress:[2,"integer"],mdBootstrapHistoryPayloadType:[3,{INITIAL:1,RECENT_HISTORY:2,FULL_HISTORY:3,PUSHNAME:4,STATUS_V3:5,NON_BLOCKING_DATA:6,ON_DEMAND:7}],mdBootstrapPayloadSize:[4,"integer"],mdBootstrapPayloadType:[5,{CRITICAL:1,NON_CRITICAL:2}],mdBootstrapStepDuration:[6,"integer"],mdSessionId:[7,"string"],mdTimestamp:[8,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"E2eMessageSend",id:476,props:{agentEngagementType:[15,{DIRECT_CHAT:0,INVOKED:1,MEMBER:2}],botType:[17,{UNKNOWN:0,METABOT:1,BOT_1P_BIZ:2,BOT_3P_BIZ:3}],e2eCiphertextType:[5,{MESSAGE:0,PREKEY_MESSAGE:1,SENDER_KEY_MESSAGE:2,MESSAGE_SECRET_MESSAGE:3}],e2eCiphertextVersion:[6,"integer"],e2eDestination:[4,{INDIVIDUAL:0,GROUP:1,LIST:2,STATUS:3,CHANNEL:4,INTEROP:5}],e2eFailureReason:[2,{INVALID_MESSAGE:0,LEGACY_MESSAGE:1,INVALID_VERSION:2,PRE_KEY_MESSAGE_MISSING_PRE_KEY:3,PRE_KEY_MESSAGE_INVALID_KEY:4,UNTRUSTED_IDENTITY:5,NO_SESSION_AVAILABLE:6,PLAINTEXT_BYTE_MISMATCH:7,UNKNOWN_CIPHERTEXT_TYPE:8,UNKNOWN_CIPHERTEXT_VERSION:9,INVALID_PADDING:10,INVALID_PROTOCOL_BUFFER:11,INVALID_NUMBER_OF_MESSAGE_TYPES:12,INVALID_IMAGE_FILE_LENGTH:13,INVALID_IMAGE_FILE_SHA256:14,INVALID_IMAGE_MEDIA_URL:15,INVALID_IMAGE_MEDIA_KEY:16,INVALID_IMAGE_MIME_TYPE:17,UNKNOWN_V2_TAGS:18,INVALID_EDIT_VERSION:19,INVALID_HSM_NAMESPACE:20,INVALID_HSM_ELEMENT:21,UNKNOWN_PROTOCOL_MESSAGE_TYPE:22,DUPLICATE_MESSAGE:23,FINGERPRINT_IDENTITY_MISMATCH:24,FINGERPRINT_VERSION_MISMATCH:25,INVALID_ARGUMENT:26,INVALID_KEY:27,INVALID_KEY_ID:28,INVALID_MAC:29,NO_MEMORY:30,STALE_KEY_EXCHANGE:31,VRF_SIGNATURE_VERIFICATION_FAILED:32,ERROR_MINIMUM_VALUE:33,ERROR_UNKNOWN:34,INVALID_BROADCAST_STANZA_ATTRIBUTE:35,INVALID_LIST_REPLY_MESSAGE:36,INVALID_LIST_REPLY_ROW_IDENTIFIER:37,INVALID_BUTTONS_RESPONSE_MESSAGE:38,INVALID_BUTTONS_RESPONSE_BUTTON_IDENTIFIER:39,INVALID_ORDER_MESSAGE:40,ERROR_CANCELLED:41,FUTURE_MESSAGE:42,INVALID_EMPTY_PROTOBUF_NOT_ALLOWED:43,SELF_SEND:44,INVALID_MEDIA_MIME_TYPE_TEMPLATE_MESSAGE:45,INVALID_MEDIA_ENC_HASH:46,INVALID_IDENTITY:47,PASSTHROUGH:48,NOT_IN_PENDING_DEVICES:49,EDIT_TYPE_AND_PROTOCOL_MISMATCH:50,DECRYPTION_FAILED:51,DESERIALIZE_INVALID_PROTO_FORMAT:52,DESERIALIZE_RATCHET_KEY_BAD_FORMAT:53,DESERIALIZE_PK_INVALID_PROTO_FORMAT:54,DESERIALZE_PK_KEY_BAD_FORMAT:55,TOO_MANY_MESSAGES_IN_FUTURE:56,EMPTY_VERSION_CONTENT_SUFFIX:57,CONTENT_EXCEEDED_EXPECTED_LENGTH:58,GRP_INVALID_PROTO_FORMAT:59,GRP_INVALID_KEY_FORMAT:60,GRP_VERSION_CONTENT_EMPTY:61,GRP_INVALID_VERSION_CONTENT_LENGTH:62,GRP_SENDER_KEY_INVALID_PROTO_FORMAT:63,GRP_SENDER_KEY_PROTO_ERROR:64,GRP_TOO_MANY_MESSAGES_IN_FUTURE:65,MISSING_MESSAGE_SECRET:66,MESSAGE_SECRET_INVALID:67,INVALID_REACTION_TEXT:68,UNSUPPORTED_MESSAGE_TYPE:69,UNSUPPORTED_IN_INTEROP:70,TARGET_MESSAGE_NOT_FOUND:71,STATUS_FROM_HOSTED_DEVICE_UNSUPPORTED:72,GROUP_MESSAGE_FROM_HOSTED_DEVICE_UNSUPPORTED:73,BROADCAST_FROM_HOSTED_DEVICE_UNSUPPORTED:74,LIVE_LOCATION_FROM_HOSTED_DEVICE_UNSUPPORTED:75,MESSAGE_TYPE_MISMATCH:76,ERROR_SESSION_STATE_UNACKED_PKMSG_GET_BASE_KEY:77,ERROR_SIGNAL_MESSAGE_GET_SENDER_RATCHET_KEY:78,ERROR_SESSION_STATE_GET_ROOT_KEY:79,ERROR_SESSION_STATE_GET_SENDER_RATCHET_KEY_PAIR:80,ERROR_SESSION_STATE_SET_SENDER_CHAIN_KEY:81,ERROR_SESSION_STATE_FIND_RECEIVER_CHAIN:82,ERROR_SESSION_RECORD_DESERIALIZE:83,ERROR_SENDER_KEY_STATE_REMOVE_SENDER_MESSAGE_KEY:84,ERROR_EMPTY_PLAINTEXT_DATA:85,ERROR_MAC_LEN_MISMATCH:86,ERROR_INVALID_MAC_LEN:87,ERROR_INVALID_SIGNATURE_LEN:88,ERROR_SENDER_KEY_LOAD_KEY:89,ERROR_FAST_RATCHET_SENDER_KEY_LOAD_KEY:90,ERROR_UNKNOWN_LOAD_KEY:91,ERROR_UNKNOWN_LOAD_SESSION:92,ERROR_SESSION_RECORD_GET_STATE:93,ERROR_SESSION_STATE_GET_SENDER_CHAIN_KEY:94,ERROR_INVALID_KEY_MATEIRAL_DATA_LEN:95,ERROR_SESSION_STATE_GET_SENDER_RATCHET_KEY:96,ERROR_SESSION_STATE_GET_LOCAL_IDENTITY_KEY:97,ERROR_SESSION_STATE_GET_REMOTE_IDENTITY_KEY:98}],e2eReceiverType:[8,{PRIMARY:1,COMPANION:2}],e2eSuccessful:[1,"boolean"],editType:[14,{NOT_EDITED:0,EDITED:1,SENDER_REVOKE:2,ADMIN_REVOKE:3}],encRetryCount:[9,"integer"],isLid:[12,"boolean"],localAddressingMode:[16,{PN:1,LID:2}],messageIsInvisible:[10,"boolean"],messageMediaType:[7,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],retryCount:[3,"integer"],revokeType:[11,{SENDER:0,ADMIN:1}],typeOfGroup:[13,{GROUP:1,SUBGROUP:2,DEFAULT_SUBGROUP:3}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"PrekeysDepletion",id:3014,props:{deviceSizeBucket:[3,{LT32:1,LT64:2,LT128:3,LT256:4,LT512:5,LT1000:6,LT1024:16,LT1500:7,LT2000:8,LT2500:9,LT3000:10,LT3500:11,LT4000:12,LT4500:13,LT5000:14,LARGEST_BUCKET:15}],messageType:[2,{INDIVIDUAL:1,GROUP:2,BROADCAST:3,STATUS:4,CHANNEL:5,INTEROP:6}],prekeysFetchReason:[1,{SEND_MESSAGE:1,GET_VNAME_CERTIFICATE:2,SEND_LIVE_LOCATION_RETRY:3,SEND_LIVE_LOCATION_KEY:4,SEND_PEER_MESSAGE:5,MULTI_DEVICE_CALL:6,CALL_PEER_E2E_FAIL:7,IDENTITY_CHANGE_NOTIFICATION:8,BACK_OFF:9,USER_INTENT_PREFETCH:10,RESEND_MESSAGE:11,RETRY_MESSAGE:12,USER_INTENT_STATUS_PREFETCH:13}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"AndroidMessageSendPerf",id:1994,props:{appRestart:[16,"boolean"],bucketedSenderKeyDistributionCountPercentage:[32,"integer"],bucketedSenderKeyDistributionHashTime:[35,"integer"],deviceCount:[36,"integer"],deviceSizeBucket:[26,{LT32:1,LT64:2,LT128:3,LT256:4,LT512:5,LT1000:6,LT1024:16,LT1500:7,LT2000:8,LT2500:9,LT3000:10,LT3500:11,LT4000:12,LT4500:13,LT5000:14,LARGEST_BUCKET:15}],durationAbs:[11,"timer"],durationRelative:[12,"timer"],durationT:[1,"timer"],editType:[42,{NOT_EDITED:0,EDITED:1,SENDER_REVOKE:2,ADMIN_REVOKE:3}],fetchPrekeys:[15,"boolean"],fetchPrekeysPercentage:[21,"integer"],groupSizeBucket:[17,{SMALL:1,MEDIUM:2,LARGE:3,EXTRA_LARGE:4,XX_LARGE:5,XXX_LARGE:6,LT1024:16,LT1500:7,LT2000:8,LT2500:9,LT3000:10,LT3500:11,LT4000:12,LT4500:13,LT5000:14,LARGEST_BUCKET:15}],isDirectedMessage:[33,"boolean"],isE2eBackfill:[27,"boolean"],isLid:[41,"boolean"],isMessageFanout:[9,"boolean"],isMessageForward:[8,"boolean"],isRevokeMessage:[24,"boolean"],isViewOnce:[29,"boolean"],jobsInQueue:[18,"integer"],mediaType:[3,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],messageIsFirstUserMessage:[30,"boolean"],messageIsInvisible:[31,"boolean"],messageType:[4,{INDIVIDUAL:1,GROUP:2,BROADCAST:3,STATUS:4,CHANNEL:5,INTEROP:6}],networkWasDisconnected:[14,"boolean"],participantCount:[37,"integer"],phoneCores:[34,"integer"],prekeysEligibleForPrallelProcessing:[28,"boolean"],receiverDeviceCount:[39,"integer"],sendCount:[13,"integer"],sendRetryCount:[10,"integer"],sendStage:[2,{CLIENT_RENDERED:1,CLIENT_SAVED:2,CLIENT_WRITTEN_WIRE:3,CLIENT_QUEUED:4,CLIENT_WAITING_TO_ENCRYPT:5,CLIENT_READY_TO_SEND:6,CLIENT_ENCRYPT:7,CLIENT_PREKEYS_FETCH:8}],senderDeviceCount:[40,"integer"],senderKeyDistributionCountPercentage:[23,"integer"],sessionsMissingWhenComposing:[25,"boolean"],targetDeviceGroupSizeBucket:[20,{SMALL:1,MEDIUM:2,LARGE:3,EXTRA_LARGE:4,XX_LARGE:5,XXX_LARGE:6,LT1024:16,LT1500:7,LT2000:8,LT2500:9,LT3000:10,LT3500:11,LT4000:12,LT4500:13,LT5000:14,LARGEST_BUCKET:15}],threadsInExecution:[19,"integer"],typeOfGroup:[38,{GROUP:1,SUBGROUP:2,DEFAULT_SUBGROUP:3}]},weight:2e3,wamChannel:"regular",privateStatsIdInt:-1},{name:"MdDeviceSyncAck",id:2180,props:{chatType:[1,{OTHER:0,INDIVIDUAL:1,GROUP:2,STATUS:3,BROADCAST:4,CHANNEL:5}],isLid:[3,"boolean"],localAddressingMode:[5,{PN:1,LID:2}],revoke:[2,"boolean"],serverAddressingMode:[6,{PN:1,LID:2}],typeOfGroup:[4,{GROUP:1,SUBGROUP:2,DEFAULT_SUBGROUP:3}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"AdvMetadataCreationFailure",id:3048,props:{advMetadataIsMe:[1,"boolean"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MdGroupParticipantMissAck",id:4146,props:{groupSizeBucket:[1,{SMALL:1,MEDIUM:2,LARGE:3,EXTRA_LARGE:4,XX_LARGE:5,XXX_LARGE:6,LT1024:16,LT1500:7,LT2000:8,LT2500:9,LT3000:10,LT3500:11,LT4000:12,LT4500:13,LT5000:14,LARGEST_BUCKET:15}],isLid:[2,"boolean"],messageIsRevoke:[3,"boolean"],participantAddCount:[4,"integer"],participantRemoveCount:[5,"integer"],typeOfGroup:[6,{GROUP:1,SUBGROUP:2,DEFAULT_SUBGROUP:3}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"CrashLog",id:494,props:{crashContext:[3,"string"],crashCount:[5,"integer"],crashReason:[2,"string"],crashType:[6,{CRASH:0,OOM:1,MAIN_THREAD_STALL_3_SECONDS:15,MAIN_THREAD_STALL_30_SECONDS:2,MAIN_THREAD_STALL_60_SECONDS:16,MAIN_THREAD_STALL_POKED:17,MAIN_THREAD_STALL_DEBUG:3,AUDIO_TRANSCODING_ERROR:4,VIDEO_TRANSCODING_ERROR:5,ANR:6,CRITICAL_EVENT:7,UNHANDLED_EXCEPTION:8,APP_CRASH:9,NATIVE_CRASH:10,UFAD:11,EXPERIMENTAL_UFAD_DETECTION:12,UX_BREAKING_EXCEPTION:13,UX_GRACEFUL_RECOVERY_EXCEPTION:14}]},weight:100,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcPageResume",id:884,props:{webcResumeCount:[1,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcPhoneDisconnected",id:878,props:{webcPhoneBbarShownT:[2,"timer"],webcPhoneDisconnectedT:[1,"timer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MdSyncdDogfoodingFeatureUsage",id:3016,props:{mdSyncdDogfoodingFeature:[1,{PIN_MUTATION:1,UNPIN_4TH_CHAT_MUTATION:2,DELETE_MUTATION:3,CLEAR_CHAT_REMOVE_STARRED_MUTATION:4,CLEAR_CHAT_KEEP_STARRED_MUTATION:5}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MdFatalError",id:2304,props:{collection:[2,{REGULAR:1,REGULAR_LOW:2,REGULAR_HIGH:3,CRITICAL_BLOCK:4,CRITICAL_UNBLOCK_LOW:5}],currentPrimaryAppVersion:[14,"string"],daysSinceLastPeriodicSync:[11,"integer"],didBootstrapFromSnapshot:[38,"boolean"],hoursSinceFirstFiniteFailure:[12,"integer"],isBootstrap:[3,"boolean"],isFatal:[16,"boolean"],isPatchSenderPrimary:[23,"boolean"],isPreviousPatchAnIncomingPatch:[24,"boolean"],isPreviousPatchSenderPrimary:[25,"boolean"],isSenderIndexSameAsPreviousSenderIndex:[39,"boolean"],isThereAnotherSyncdCompanion:[40,"boolean"],isWebLthashConsistent:[17,"boolean"],macFatalCollectionNameMismatch:[18,"boolean"],macFatalCurrentLthashMismatch:[19,"boolean"],macFatalDidPreviousPatchFailPostSaveValidation:[26,"boolean"],macFatalDidUseMacFetchFallback:[36,"boolean"],macFatalFirstTwoBytesFromAHashOfSnapshotMacKeyMismatch:[20,"boolean"],macFatalHasMissingRemove:[37,"boolean"],macFatalNewLthashMismatch:[21,"boolean"],macFatalNewLthashSubtractMismatch:[27,"boolean"],macFatalNumberAddMismatch:[28,"boolean"],macFatalNumberHasOverrideMutation:[29,"boolean"],macFatalNumberNumAddMutation:[30,"integer"],macFatalNumberNumRemoveMutation:[31,"integer"],macFatalNumberOverrideMismatch:[32,"boolean"],macFatalNumberRemoveMismatch:[33,"boolean"],macFatalPatchVersionMismatch:[22,"boolean"],macFatalPreviousPatchNewLthashToCurrentPatchCurrentLthash:[34,"boolean"],macFatalSenderCurrentLthashToLocalCalculatedCurrentLthashMismatch:[35,"boolean"],mailboxAgeDays:[13,"integer"],mdFatalErrorCode:[1,{TOO_MANY_INTERNAL_SERVER_ERRORS_IN_7D:1,SERVER_DATA_MISMATCH:2,PROTOBUF_DESERIALIZATION_FAILED:3,EXTERNAL_PATCH_EXPIRED:4,MISSING_OR_EMPTY_INDEX:5,SAME_INDEX_FOR_MULTIPLE_MUTATIONS_IN_PATCH:6,DECRYPTION_FAILED:7,MISSING_PATCH_VERSION:8,DUPLICATE_PATCH_VERSION_IN_COLLECTION:9,ENCRYPTION_FAILED:10,MISSING_MUTATION_VERSION:11,MISSING_MUTATION_VALUE:12,INVALID_MUTATION_INDEX:13,PATCH_WITH_BOTH_INLINE_AND_EXTERNAL_MUTATIONS:14,MISSING_MUTATION_OPERATION:15,MISSING_MUTATION_RECORD:16,MISSING_MUTATION_KEY_ID:17,PATCH_PROTOBUF_DESERIALIZATION_FAILED:18,ACTION_DATA_PROTOBUF_DESERIALIZATION_FAILED:19,MISSING_MUTATION_INDEX:20,MISSING_ACTION_INDEX:21,INVALID_ACTION_INDEX:22,MISSING_ACTION_VALUE:23,MISSING_ACTION_VERSION:24,MISSING_ACTION_TIMESTAMP:25,MUTATIONS_PROTOBUF_DESERIALIZATION_FAILED:26,MUTATIONS_PROTOBUF_SERIALIZATION_FAILED:27,PATCH_PROTOBUF_SERIALIZATION_FAILED:28,ACTION_DATA_PROTOBUF_SERIALIZATION_FAILED:29,MISSING_KEY_ON_ALL_CLIENTS:30,TIMEOUT_WHILE_WAITING_FOR_MISSING_KEY:31,MAC_MISMATCH_SNAPSHOT:33,MAC_MISMATCH_PATCH:34,DB_STORE_NOT_READY:35,TERMINAL_PATCH_MISSING_DATA:36,TERMINAL_PATCH_DESERIALIZATION_ERROR:37,TERMINAL_PATCH_UNKNOWN:38,CYCLIC_MUTATION_DEPENDENCY_IN_PATCH:39,MISSING_SNAPSHOT_VERSION:45,MISSING_SNAPSHOT_MAC:46,MISSING_PATCH_SNAPSHOT_MAC:47,MISSING_PATCH_MAC:48,MISSING_EXTERNAL_BLOB_REFERENCE_MEDIA_KEY:49,MISSING_EXTERNAL_BLOB_REFERENCE_DIRECT_PATH:50,MISSING_EXTERNAL_BLOB_REFERENCE_FILE_SHA256:51,MISSING_EXTERNAL_BLOB_REFERENCE_FILE_ENC_SHA256:52,INVALID_KEY_SHARE_KEY_ID:53,MISSING_PATCH_KEY_ID:56,INVALID_KEY_SHARE_KEY_DATA:57,SNAPSHOT_EXPIRED:58,MISSING_SNAPSHOT_KEY_ID:59,SNAPSHOT_MAC_MISMATCH_IN_PATCH:60,SNAPSHOT_MAC_MISMATCH_IN_SNAPSHOT:61,XMPP_BAD_REQUEST_FOR_COLLECTION:62,XMPP_NOT_FOUND_FOR_COLLECTION:63,XMPP_BAD_REQUEST_GLOBAL_ERROR:64,XMPP_NOT_FOUND_GLOBAL_ERROR:65,XMPP_BAD_METHOD_GLOBAL_ERROR:66,XMPP_NOT_ACCEPTABLE_GLOBAL_ERROR:67,SAME_INDEX_FOR_MULTIPLE_MUTATIONS_IN_SNAPSHOT:68,EXTERNAL_BLOB_REFERENCE_PROTOBUF_DESERIALIZATION_FAILED:69,SNAPSHOT_PROTOBUF_DESERIALIZATION_FAILED:70,REQUESTING_MISSING_KEY_WITH_NO_CLIENTS:71,DB_STORE_NOT_READY_LOW_DISK_SPACE:72,SERVER_DID_NOT_SEND_ALL_PATCHES:73,SERVER_SENT_EARLIER_PATCH:74,MISSING_KEY_FOR_MUTATION_IN_LOCAL_SNAPSHOT:75,MISSING_ACTIVE_KEY_AFTER_ROTATION:76,MISSING_ACTIVE_KEY_FOR_ENCRYPTION:77,MISSING_CURRENT_EPOCH_FOR_ACTIVE_KEY_VALIDATION:78,SAME_INDEX_FOR_MULTIPLE_MUTATIONS_IN_OUTGOING_PATCH:79,INVALID_SNAPSHOT_RECORDS:80,MISSING_EXTERNAL_BLOB_REFERENCE_HANDLE:81,INVALID_EXTERNAL_BLOB_REFERENCE_UPLOADED:82,INVALID_PATCH_KEY_ID_SIZE:83,INVALID_PATCH_MAC_SIZE:84,INVALID_PATCH_SNAPSHOT_MAC_SIZE:85,INVALID_COLLECTION_SNAPSHOT_HASH_SIZE:86,MISSING_COLLECTION_SNAPSHOT_HASH:87,INVALID_PATCH_KEY_ID_DEVICE_ID:88,INVALID_PATCH_KEY_ID_EPOCH:89,DECRYPTION_FAILED_KEY_ID_MISMATCH:90,DECRYPTION_FAILED_VALUE_MAC_MISMATCH:91,DECRYPTION_FAILED_INDEX_MAC_MISMATCH:92,EXTERNAL_PATCH_MISSING_BLOB:93,COLLECTION_PULL_REQUEST_RECEIVED_PUSH_RESPONSE_WITH_UPDATED_VERSION:94,COLLECTION_PUSH_REQUEST_RECEIVED_RESPONSE_WITH_VERSION_MISMATCH:95,MMS_ERROR_INVALID_FILEHASH:96,UNKNOWN:97,MALFORMED_MUTATION_CLEAR_CHAT:98,MALFORMED_MUTATION_DELETE_CHAT:99,FAILED_MUTATION_CLEAR_CHAT:100,FAILED_MUTATION_DELETE_CHAT:101,CHAT_DB_CORRUPTION:102}],patchSnapshotMutationCount:[9,"integer"],patchVersion:[5,"integer"],sessionStartPrimaryAppVersion:[15,"string"],sourceType:[10,{SNAPSHOT:1,EXTERNAL_PATCH:2,INLINE_PATCH:3}],timeSincePairingMs:[6,"integer"],timeSinceRefreshMs:[7,"integer"],timeSinceTabTakeoverMs:[8,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MediaUpload2",id:1588,props:{batchSize:[57,"integer"],connectionType:[43,{HOSTNAME:0,IP4:1,IP6:2}],debugMediaException:[34,"string"],debugMediaIp:[32,"string"],debugUrl:[33,"string"],estimatedBandwidth:[45,"number"],fileHeight:[55,"integer"],fileWidth:[56,"integer"],finalizeConnectT:[28,"timer"],finalizeHttpCode:[31,"integer"],finalizeIsReuse:[30,"boolean"],finalizeNetworkT:[29,"timer"],httpProtocolVersionType:[51,{HTTP1:0,HTTP2:1,HTTP3:2}],isViewOnce:[49,"boolean"],mediaId:[46,"integer"],messageKeyHash:[58,"string"],networkStack:[42,{NATIVE:0,OK_HTTP:1,LIGER:2,APACHE:3,WATLS:4,CRONET:5}],originalSize:[53,"integer"],overallAttemptCount:[4,"integer"],overallConnBlockFetchT:[10,"timer"],overallConnectionClass:[41,"string"],overallCumT:[37,"timer"],overallCumUserVisibleT:[38,"timer"],overallDomain:[5,"string"],overallEncryptT:[50,"timer"],overallIsFinal:[36,"boolean"],overallIsForward:[16,"boolean"],overallIsManual:[13,"boolean"],overallLastUploadRetryPhase:[11,{RESUME_CHECK:1,UPLOAD:2,FINALIZE:3}],overallMediaKeyReuse:[40,{NONE_NEW_CONTENT:1,NONE_EXPIRED:2,REUSED:3,NONE_WAS_STATUS:4}],overallMediaSize:[7,"number"],overallMediaType:[1,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],overallMmsVersion:[6,"integer"],overallOptimisticFlag:[12,{NONE:0,OPTIMISTIC:1,OPT_USED:2,OPT_TAKEOVER:3,OPT_DISABLED:4}],overallQueueT:[9,"timer"],overallRetryCount:[3,"integer"],overallT:[8,"timer"],overallTranscodeT:[15,"timer"],overallUploadMode:[39,{REGULAR:1,FAST_FORWARD_EXIST_CHECK:2,VIDEO_EXIST_CHECK:3,PRODUCT:4,MEDIA_RETRY:5,WEB_REUPLOAD:6,THUMBNAIL:7,EXPRESS_PATH_UPLOAD:8}],overallUploadOrigin:[44,{UNKNOWN:1,CHAT_PERSONAL:2,CHAT_GROUP:3,STATUS_USER:4,PRODUCT_CATALOG:5,STICKER_WEB:6,PAYMENTS_KYC:7,MESSAGE_HISTORY_SYNC:8,COMMUNITY:9,CHANNEL:10,BROADCAST:11,MULTI_CHAT:12,INTEROP:13}],overallUploadResult:[35,{OK:1,DUPLICATE:3,ERROR_UNKNOWN:2,ERROR_REQUEST:4,ERROR_UPLOAD:5,ERROR_OOM:6,ERROR_IO:7,ERROR_NO_PERMISSIONS:8,ERROR_BAD_MEDIA:9,ERROR_INSUFFICIENT_SPACE:10,ERROR_FNF:11,ERROR_CANCEL:12,ERROR_SERVER:13,ERROR_REQUEST_TIMEOUT:14,ERROR_NOT_FINALIZED:15,ERROR_OPTIMISTIC_HASH:16,ERROR_MEDIA_CONN:17,ERROR_DNS:18,ERROR_THROTTLE:19,ERROR_SSL:20,ERROR_NO_CLIENT_NETWORK:21,SKIPPED_EP_NOT_ONLINE:22,SKIPPED_EP_NOT_1TO1CHAT:23,SKIPPED_EP_UPLOAD_FAILED:24,SKIPPED_EP_MULTI_CHAT:25,SKIPPED_EP_NO_PRIMARY_HOST:26,ERROR_CRONET:27,ERROR_INCOMPLETE_SERVER_RESPONSE:28,ERROR_TRANSCODING:29,ERROR_CANCEL_PROGRAMMATIC:30,ERROR_NO_ROUTE:31,ERROR_TOO_LARGE:32,ERROR_CANNOT_TRANSCODE:33,ERROR_UNKNOWN_MIMETYPE:34,ERROR_UNSUPPORTED_MIMETYPE:35,ERROR_SERVER_REJECTED_MEDIA:36,ERROR_IO_ENCRYPTION:37,ERROR_NO_ENCRYPTION_ALGORITHM:38,ERROR_HOST_SWITCH_REQUIRED:39,ERROR_WAMSYS:40,ERROR_INVALID_URL:41}],overallUserVisibleT:[14,"timer"],photoQualitySetting:[52,{AUTO:0,DATA_SAVER:1,HIGH_QUALITY:2,HIGHEST_QUALITY:3}],resumeConnectT:[17,"timer"],resumeHttpCode:[20,"integer"],resumeIsReuse:[19,"boolean"],resumeNetworkT:[18,"timer"],uploadBytesTransferred:[27,"number"],uploadConnectT:[22,"timer"],uploadHttpCode:[25,"integer"],uploadIsReuse:[24,"boolean"],uploadIsStreaming:[26,"boolean"],uploadNetworkT:[23,"timer"],uploadResumePoint:[21,"integer"],uploadSource:[48,{OTHER:1,CAMERA:2,GALLERY:3,SHARE:4}],usedFallbackHint:[47,"string"],videoQualitySetting:[54,{AUTO:0,DATA_SAVER:1,HIGH_QUALITY:2,HIGHEST_QUALITY:3}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcMediaErrorUnknownDetails",id:2352,props:{mediaId:[1,"integer"],webcMediaErrorMessage:[4,"string"],webcMediaErrorName:[3,"string"],webcMediaOperation:[2,{DOWNLOAD:1,UPLOAD:2}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcMediaLoad",id:1202,props:{webcMediaLoadResult:[2,{SUCCESS:0,SILENCE:1,ZEROWIDTH:2}],webcMediaLoadT:[1,"timer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"StickerError",id:5024,props:{stickerErrorType:[1,{DECOMPRESSION:2,SENDER_VALIDATION:3,RECEIVER_VALIDATION:4}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"StickerLatency",id:5026,props:{size:[1,"integer"],stickerLatencyAction:[2,{DECOMPRESSION:2}],stickerLatencyTtAction:[3,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcProgressiveImage",id:2226,props:{webcFirstRenderScans:[1,"integer"],webcFirstRenderT:[2,"timer"],webcFullQualityT:[4,"timer"],webcMidQualityT:[3,"timer"]},weight:10,wamChannel:"regular",privateStatsIdInt:-1},{name:"SendDocument",id:2172,props:{documentSize:[1,"number"],documentType:[2,{OTHER:1,IMAGE:2,VIDEO:3,AUDIO:4,DOCUMENT:5,COMPRESSED_FILE:6,EXECUTABLE:7,VCARD:8}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcMediaAnalyzed",id:912,props:{webcMediaAnalyzeT:[3,"timer"],webcMediaExtensions:[2,"string"],webcMediaSupported:[1,"boolean"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"VideoTranscoder",id:1802,props:{sourceAudioBitRate:[12,"number"],sourceDuration:[8,"timer"],sourceFileSize:[7,"number"],sourceFormat:[14,{SLOMO:0,VIDEO:1,GIF:2}],sourceFrameRate:[13,"number"],sourceHeight:[10,"number"],sourceVideoBitRate:[11,"number"],sourceWidth:[9,"number"],targetAudioBitRate:[20,"number"],targetDuration:[16,"timer"],targetFileSize:[15,"number"],targetFormat:[22,{IMAGE:0,VIDEO:1,GIF:2}],targetFrameRate:[21,"number"],targetHeight:[18,"number"],targetVideoBitRate:[19,"number"],targetWidth:[17,"number"],transcoderAlgorithm:[1,{WA_IPHONE:0,FB_IPHONE:1}],transcoderContainsVideocomposition:[5,"boolean"],transcoderHasEdits:[6,"boolean"],transcoderIsPassthrough:[4,"boolean"],transcoderResult:[2,{UNKNOWN:0,SUCCEEDED:1,FAILED:2,CANCELLED:3}],transcoderT:[3,"timer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"StickerSend",id:1840,props:{stickerIsAi:[7,"boolean"],stickerIsAnimated:[3,"boolean"],stickerIsAvatar:[6,"boolean"],stickerIsFirstParty:[2,"boolean"],stickerIsFromStickerMaker:[5,"boolean"],stickerIsGiphy:[10,"boolean"],stickerIsLottie:[9,"boolean"],stickerIsTenor:[11,"boolean"],stickerMakerSourceType:[8,{CUTOUT_IMAGE:1,WEB_STICKER_MAKER:2,IOS_STICKER_MAKER:3,ANDROID_STICKER_MAKER:4,TRANSPARENT_IMAGE:5}],stickerSendMessageType:[4,{REGULAR:1,PAYMENTS:2}],stickerSendOrigin:[1,{STICKER_SEARCH:1,FORWARD:2,STICKER_PICKER_TAB_RECENTS:3,STICKER_PICKER_TAB_FAVORITES:4,STICKER_PICKER_TAB_EMOTION:5,STICKER_PICKER_TAB_PACK:6,STICKER_PICKER_TAB_CONTEXTUAL_SUGGESTIONS:7,STICKER_MAKER:8,STICKER_STORE:9,AI_STICKER_CREATE:10,AI_STICKER_CREATE_TRAY:11,AI_STICKER_CREATE_CHAT:12,STATUS_QUICK_REPLY:13}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MediaDownload2",id:1590,props:{clientMessageId:[50,"string"],connectionType:[31,{HOSTNAME:0,IP4:1,IP6:2}],daysSinceReceive:[46,"integer"],debugMediaException:[24,"string"],debugMediaIp:[22,"string"],debugUrl:[23,"string"],deviceCount:[49,"integer"],downloadBytesTransferred:[20,"number"],downloadConnectT:[15,"timer"],downloadHttpCode:[18,"integer"],downloadIsReuse:[17,"boolean"],downloadIsStreaming:[19,"boolean"],downloadNetworkT:[16,"timer"],downloadQuality:[37,{NORMAL_QUALITY:1,MID_QUALITY:2,INELIGIBLE_IMAGE_TOO_SMALL:3,INELIGIBLE_PARTIAL_HASHES_NOT_FOUND:4,ERROR_DETERMINING_ELIGIBILITY:5,NOT_DOWNLOADED_ENOUGH_BYTES_TO_DETERMINE_ELIGIBILITY:6}],downloadResumePoint:[14,"integer"],downloadTimeToFirstByteT:[21,"timer"],estimatedBandwidth:[36,"number"],expressPathBytesSaved:[42,"number"],expressPathTimeSavedMs:[43,"timer"],fileHeight:[47,"integer"],fileWidth:[48,"integer"],hasLeveragedExpressPath:[44,"boolean"],httpProtocolVersionType:[45,{HTTP1:0,HTTP2:1,HTTP3:2}],isSenderPlatformCapi:[52,"boolean"],isViewOnce:[41,"boolean"],mediaId:[38,"integer"],networkStack:[30,{NATIVE:0,OK_HTTP:1,LIGER:2,APACHE:3,WATLS:4,CRONET:5}],overallAttemptCount:[4,"integer"],overallBackendStore:[39,{UNKNOWN:0,NON_DIRECT_PATH:1,EVERSTORE:2,OIL:3,EXPRESS_PATH:4,STATIC:5,MANIFOLD:6}],overallConnBlockFetchT:[10,"timer"],overallConnectionClass:[29,"string"],overallCumT:[27,"timer"],overallCumV2T:[53,"timer"],overallDecryptT:[12,"timer"],overallDomain:[5,"string"],overallDownloadMode:[11,{MANUAL:1,FULL:2,PREFETCH:3,HEADER:4,THUMBNAIL:5,EXPRESS_PATH_DOWNLOAD:6}],overallDownloadOrigin:[35,{CHAT_PERSONAL:1,CHAT_GROUP:2,STATUS_USER:3,STATUS_ADS:4,PRODUCT_CATALOG:5,GDPR:6,STICKER_PICKER:7,PROFILE_PICTURE:8,BLOKS:9,P2B:10,MESSAGE_HISTORY_SYNC:11,COMMUNITY:12,CHANNEL:13,BROADCAST:14,INTEROP:15}],overallDownloadResult:[25,{OK:1,ERROR_UNKNOWN:2,ERROR_TIMEOUT:3,ERROR_DNS:4,ERROR_INSUFFICIENT_SPACE:5,ERROR_TOO_OLD:6,ERROR_CANNOT_RESUME:7,ERROR_HASH_MISMATCH:8,ERROR_INVALID_URL:9,ERROR_OUTPUT_STREAM:10,ERROR_CANCEL:11,DEDUPED:12,ERROR_ENC_HASH_MISMATCH:14,PREFETCH_END:15,ERROR_CANCEL_PROGRAMMATIC:16,ERROR_MEDIA_CONN:17,ERROR_THROTTLE:18,ERROR_SSL:19,ERROR_NETWORK:20,ERROR_CONNECT:21,ERROR_EP_NOTIFY_DECRYPTION_FAILURE:22,SKIPPED_EP_DIFFERENT_POP:23,SKIPPED_EP_AUTODOWNLOAD_DISABLED:24,ERROR_SERVER:25,ERROR_WATLS:26,ERROR_INVALID_CODE:27,ERROR_WAMSYS:28,ERROR_GENERIC:29,ERROR_CRONET:30,ERROR_NO_CLIENT_NETWORK:31,ERROR_HOST_SWITCH_REQUIRED:32,ERROR_SUSPICIOUS_CONTENT:33,ERROR_NO_ENCRYPTION_ALGORITHM:34,ERROR_NO_ENCRYPTED_HASH:35,ERROR_NO_MEDIA_HASH:36,ERROR_NO_MEDIA_KEY:37,ERROR_NO_SIDECAR:38,ERROR_HASH_VERIFICATION_FAILURE:39}],overallFileValidationT:[13,"timer"],overallIsEncrypted:[28,"boolean"],overallIsFinal:[26,"boolean"],overallMediaSize:[7,"number"],overallMediaType:[1,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],overallMmsVersion:[6,"integer"],overallQueueT:[9,"timer"],overallRetryCount:[3,"integer"],overallT:[8,"timer"],sleepModeAffected:[51,"boolean"],usedFallbackHint:[40,"string"]},weight:50,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcMediaRmr",id:1906,props:{messageMediaType:[10,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],webcBrowserNetworkType:[2,"string"],webcBrowserStorageQuotaBytes:[11,"integer"],webcBrowserStorageQuotaUsedBytes:[12,"integer"],webcChatPosition:[1,"integer"],webcChatType:[9,{INDIVIDUAL:0,GROUP:1,BROADCAST_LIST:2,COMMUNITY:3,NEWSLETTER:4}],webcMediaRmrError:[8,"boolean"],webcMediaRmrT:[6,"timer"],webcMediaSize:[7,"integer"],webcMessageIndex:[3,"integer"],webcMessageT:[5,"timer"],webcRmrReason:[14,{OTHER:0,MSG_CLICK:1,STICKER_PANEL_ICON:2,MEDIA_VIEWER:3,VIDEO_STREAMING:4,STATUS_V3:5,MULTI_SELECT_DOWNLOAD:6,DOCUMENT_DOWNLOAD:7,PIP:8,STICKER_PANEL_STICKER:9,SEND_TO_CHAT:10,UPLOAD:11,MSG_INIT:12,MSG_UPDATE:13,MSG_DELETE:14,MSG_RENDER:15}],webcRmrStatusCode:[13,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"BlockEventsFs",id:4288,props:{blockEntryPoint:[1,{OTHER:0,CHAT:1,PROFILE:2,BLOCK_LIST:3,TRIGGERED_BLOCK:4,ACCOUNT_INFO:5,CALL_LOG:6,OVERFLOW_MENU:7,GROUP_INFO:8,BLOCK_DIALOG:9,MESSAGE_MENU:10,MEDIA_VIEWER:11,OVERFLOW_MENU_BLOCK:12,ONE_TO_ONE_OLD_SPAM_BANNER_BLOCK:13,ONE_TO_ONE_SPAM_BANNER_BLOCK:14,BIZ_SPAM_BANNER_BLOCK:15,BLOCK_HEADER_CHAT:16,OVERFLOW_MENU_REPORT:17,ACCOUNT_INFO_REPORT:18,BIZ_OLD_SPAM_BANNER_BLOCK:19,CHAT_LIST_BLOCK:20,CHAT_LIST_NOINSUB_BLOCK:21,CHAT_LIST_CONTEXT_MENU_BLOCK:22,NOTIFICATION_BLOCK:23,ONE_TO_ONE_SPAM_BANNER_REPORT:24,BIZ_EXTENSION_MENU:25,VIEW_ONCE_VIEWER:26,STATUS_OVERFLOW_MENU_REPORT:27,ALBUM_MEDIA_MENU_REPORT:28,STATUS_POST_REPORT:29,MISSED_CALL_NOTIFICATION_BLOCK:30,CHAT_FMX_CARD_BLOCK:31,CHAT_FMX_CARD_BLOCK_SUSPICIOUS:32,CHAT_FMX_CARD_SAFETY_TOOLS_BLOCK:33,CHAT_FMX_CARD_SAFETY_TOOLS_BLOCK_SUSPICIOUS:34,CHAT_FMX_CARD_SAFETY_TOOLS_REPORT:35,CHAT_FMX_CARD_SAFETY_TOOLS_REPORT_SUSPICIOUS:36,ACCOUNT_INFO_BLOCK:37,CALL_LOG_BLOCK:38,BIZ_BLOCK_HEADER_CHAT:39,BIZ_OVERFLOW_MENU_BLOCK:40,PSA_BANNER_BLOCK:41,COMMENT_ACTIONS_BOTTOM_SHEET:42,CALL_SPAM_DIALOG_REPORT:43,CALL_SPAM_DIALOG_BLOCK:44,BIZ_ACCOUNT_INFO_BLOCK:45,BIZ_BLOCK_LIST:46,BIZ_CALL_LOG_BLOCK:47,ONGOING_CALL_LINK_BLOCK:48,ONE_TO_ONE_BLOCKED_CHAT_COMPOSER:49}],blockEventActionType:[2,{BLOCK:0,UNBLOCK:1}],blockEventIsSuspicious:[3,"boolean"],blockEventIsUnsub:[4,"boolean"],pastCall:[5,"boolean"],pastCallResult:[6,{INVALID:0,CONNECTED:1,REJECTED_BY_USER:2,REJECTED_BY_SERVER:3,MISSED:4,BUSY:5,SETUP_ERROR:6,SERVER_NACK:7,CALL_OFFER_ACK_NOT_RECEIVED:8,MISSED_NO_RECEIPT:9,ACCEPTED_BUT_NOT_CONNECTED:10,CALL_CANCELED_CELLULAR_IN_PROGRESS:11,CALL_CANCELED_AIRPLANE_MODE_ON:12,CALL_CANCELED_NO_NETWORK:13,CALL_OFFER_ACK_CORRUPT:14,CALL_REJECTED_TOS:15,CALL_REJECTED_E2E:16,CALL_REJECTED_UNAVAILABLE:17,CALL_CANCELED_OFFER_NOT_SENT:18,PEER_SETUP_ERROR:19,ACTIVE_ELSEWHERE:20,NO_DECRYPTED_OFFER:21,ACCEPTED_ELSEWHERE:22,REJECTED_ELSEWHERE:23,LONELY:24,CALL_IS_FULL:25,SILENCED:26,CALL_MISSED_SILENCED:27,CALL_DOES_NOT_EXIST_FOR_REJOIN:28}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"SignCredential",id:2242,props:{applicationState:[6,{FOREGROUND:1,BACKGROUND:2}],isFromWameta:[8,"boolean"],overallT:[4,"timer"],projectCode:[7,{DIT:1,DIRECTORY_SEARCH:2}],retryCount:[2,"integer"],signCredentialResult:[1,{SUCCESS:1,ERROR_BAD_REQUEST:2,ERROR_SERVER:3,ERROR_OTHER:4,ERROR_CLIENT_NETWORK:5}],signCredentialT:[3,"timer"],waConnectedToChatd:[5,"boolean"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"PsBufferUpload",id:2244,props:{applicationState:[6,{FOREGROUND:1,BACKGROUND:2}],isFromWamsys:[12,"boolean"],isUserSampled:[14,"boolean"],psBufferSequenceNumber:[13,"integer"],psBufferUploadHttpResponseCode:[3,"integer"],psBufferUploadResult:[1,{SUCCESS:1,ERROR_PARSING:2,ERROR_DECODING:3,ERROR_CREDENTIAL:4,ERROR_OTHER:5,ERROR_CLIENT_NETWORK:6,ERROR_WAIT_FOR_TOKEN:7,ERROR_SERVER_OTHER:8,SKIPPED_NO_NETWORK:9,SKIPPED_NO_DATA:10,ERROR_ACCESS_TOKEN:11}],psBufferUploadT:[2,"timer"],psDitheredT:[11,"integer"],psForceUpload:[10,"boolean"],psTokenNotReadyReason:[4,{NO_REASON:0,REASON_UNKNOWN:1,REASON_WAIT_FOR_FIRST_TOKEN:2,REASON_INVALID_SHARED_KEY:3,REASON_INVALID_FACTOR:4,REASON_GEN_FACTOR_FAILURE:5,REASON_COMPUTE_HMAC_FAILURE:6,REASON_BLIND_FAILURE:7,REASON_UNBLIND_FAILURE:8,REASON_LAST_SIGNREQ_NETWORK_FAILURE:9,REASON_LAST_SIGNREQ_SERVER_ERROR:10,REASON_LAST_SIGNREQ_BAD_REQUEST:11,REASON_LAST_SIGNREQ_OTHER_ERROR:12,REASON_WAIT_FOR_GEN_TOKEN:13,REASON_GEN_SHAREDKEY_FAILURE:14,REASON_WAIT_FOR_GEN_FIRST_TOKEN:15}],psUploadReason:[9,{REASON_PS_PINGER:0,REASON_PS_OFFCYCLE:1}],waConnectedToChatd:[5,"boolean"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"EditMessageSend",id:3990,props:{editDuration:[1,"integer"],editType:[2,{NOT_EDITED:0,EDITED:1,SENDER_REVOKE:2,ADMIN_REVOKE:3}],mediaType:[8,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],messageSendResultIsTerminal:[3,"boolean"],messageType:[4,{INDIVIDUAL:1,GROUP:2,BROADCAST:3,STATUS:4,CHANNEL:5,INTEROP:6}],resendCount:[5,"integer"],retryCount:[6,"integer"],typeOfGroup:[9,{GROUP:1,SUBGROUP:2,DEFAULT_SUBGROUP:3}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MessageSend",id:854,props:{agentEngagementType:[49,{DIRECT_CHAT:0,INVOKED:1,MEMBER:2}],botType:[55,{UNKNOWN:0,METABOT:1,BOT_1P_BIZ:2,BOT_3P_BIZ:3}],chatOrigins:[58,{LID_USERNAME:1,LID_CTWA:2,OTHERS:3}],deviceCount:[31,"integer"],deviceSizeBucket:[25,{LT32:1,LT64:2,LT128:3,LT256:4,LT512:5,LT1000:6,LT1024:16,LT1500:7,LT2000:8,LT2500:9,LT3000:10,LT3500:11,LT4000:12,LT4500:13,LT5000:14,LARGEST_BUCKET:15}],disappearingChatInitiator:[30,{CHAT:1,INITIATED_BY_ME:2,INITIATED_BY_OTHER:3,CHAT_PICKER:4,BIZ_UPGRADE_FB_HOSTING:5}],e2eBackfill:[23,"boolean"],e2eCiphertextType:[10,{MESSAGE:0,PREKEY_MESSAGE:1,SENDER_KEY_MESSAGE:2,MESSAGE_SECRET_MESSAGE:3}],e2eCiphertextVersion:[9,"integer"],e2eFailureReason:[46,{INVALID_MESSAGE:0,LEGACY_MESSAGE:1,INVALID_VERSION:2,PRE_KEY_MESSAGE_MISSING_PRE_KEY:3,PRE_KEY_MESSAGE_INVALID_KEY:4,UNTRUSTED_IDENTITY:5,NO_SESSION_AVAILABLE:6,PLAINTEXT_BYTE_MISMATCH:7,UNKNOWN_CIPHERTEXT_TYPE:8,UNKNOWN_CIPHERTEXT_VERSION:9,INVALID_PADDING:10,INVALID_PROTOCOL_BUFFER:11,INVALID_NUMBER_OF_MESSAGE_TYPES:12,INVALID_IMAGE_FILE_LENGTH:13,INVALID_IMAGE_FILE_SHA256:14,INVALID_IMAGE_MEDIA_URL:15,INVALID_IMAGE_MEDIA_KEY:16,INVALID_IMAGE_MIME_TYPE:17,UNKNOWN_V2_TAGS:18,INVALID_EDIT_VERSION:19,INVALID_HSM_NAMESPACE:20,INVALID_HSM_ELEMENT:21,UNKNOWN_PROTOCOL_MESSAGE_TYPE:22,DUPLICATE_MESSAGE:23,FINGERPRINT_IDENTITY_MISMATCH:24,FINGERPRINT_VERSION_MISMATCH:25,INVALID_ARGUMENT:26,INVALID_KEY:27,INVALID_KEY_ID:28,INVALID_MAC:29,NO_MEMORY:30,STALE_KEY_EXCHANGE:31,VRF_SIGNATURE_VERIFICATION_FAILED:32,ERROR_MINIMUM_VALUE:33,ERROR_UNKNOWN:34,INVALID_BROADCAST_STANZA_ATTRIBUTE:35,INVALID_LIST_REPLY_MESSAGE:36,INVALID_LIST_REPLY_ROW_IDENTIFIER:37,INVALID_BUTTONS_RESPONSE_MESSAGE:38,INVALID_BUTTONS_RESPONSE_BUTTON_IDENTIFIER:39,INVALID_ORDER_MESSAGE:40,ERROR_CANCELLED:41,FUTURE_MESSAGE:42,INVALID_EMPTY_PROTOBUF_NOT_ALLOWED:43,SELF_SEND:44,INVALID_MEDIA_MIME_TYPE_TEMPLATE_MESSAGE:45,INVALID_MEDIA_ENC_HASH:46,INVALID_IDENTITY:47,PASSTHROUGH:48,NOT_IN_PENDING_DEVICES:49,EDIT_TYPE_AND_PROTOCOL_MISMATCH:50,DECRYPTION_FAILED:51,DESERIALIZE_INVALID_PROTO_FORMAT:52,DESERIALIZE_RATCHET_KEY_BAD_FORMAT:53,DESERIALIZE_PK_INVALID_PROTO_FORMAT:54,DESERIALZE_PK_KEY_BAD_FORMAT:55,TOO_MANY_MESSAGES_IN_FUTURE:56,EMPTY_VERSION_CONTENT_SUFFIX:57,CONTENT_EXCEEDED_EXPECTED_LENGTH:58,GRP_INVALID_PROTO_FORMAT:59,GRP_INVALID_KEY_FORMAT:60,GRP_VERSION_CONTENT_EMPTY:61,GRP_INVALID_VERSION_CONTENT_LENGTH:62,GRP_SENDER_KEY_INVALID_PROTO_FORMAT:63,GRP_SENDER_KEY_PROTO_ERROR:64,GRP_TOO_MANY_MESSAGES_IN_FUTURE:65,MISSING_MESSAGE_SECRET:66,MESSAGE_SECRET_INVALID:67,INVALID_REACTION_TEXT:68,UNSUPPORTED_MESSAGE_TYPE:69,UNSUPPORTED_IN_INTEROP:70,TARGET_MESSAGE_NOT_FOUND:71,STATUS_FROM_HOSTED_DEVICE_UNSUPPORTED:72,GROUP_MESSAGE_FROM_HOSTED_DEVICE_UNSUPPORTED:73,BROADCAST_FROM_HOSTED_DEVICE_UNSUPPORTED:74,LIVE_LOCATION_FROM_HOSTED_DEVICE_UNSUPPORTED:75,MESSAGE_TYPE_MISMATCH:76,ERROR_SESSION_STATE_UNACKED_PKMSG_GET_BASE_KEY:77,ERROR_SIGNAL_MESSAGE_GET_SENDER_RATCHET_KEY:78,ERROR_SESSION_STATE_GET_ROOT_KEY:79,ERROR_SESSION_STATE_GET_SENDER_RATCHET_KEY_PAIR:80,ERROR_SESSION_STATE_SET_SENDER_CHAIN_KEY:81,ERROR_SESSION_STATE_FIND_RECEIVER_CHAIN:82,ERROR_SESSION_RECORD_DESERIALIZE:83,ERROR_SENDER_KEY_STATE_REMOVE_SENDER_MESSAGE_KEY:84,ERROR_EMPTY_PLAINTEXT_DATA:85,ERROR_MAC_LEN_MISMATCH:86,ERROR_INVALID_MAC_LEN:87,ERROR_INVALID_SIGNATURE_LEN:88,ERROR_SENDER_KEY_LOAD_KEY:89,ERROR_FAST_RATCHET_SENDER_KEY_LOAD_KEY:90,ERROR_UNKNOWN_LOAD_KEY:91,ERROR_UNKNOWN_LOAD_SESSION:92,ERROR_SESSION_RECORD_GET_STATE:93,ERROR_SESSION_STATE_GET_SENDER_CHAIN_KEY:94,ERROR_INVALID_KEY_MATEIRAL_DATA_LEN:95,ERROR_SESSION_STATE_GET_SENDER_RATCHET_KEY:96,ERROR_SESSION_STATE_GET_LOCAL_IDENTITY_KEY:97,ERROR_SESSION_STATE_GET_REMOTE_IDENTITY_KEY:98}],editDuration:[43,"integer"],editType:[44,{NOT_EDITED:0,EDITED:1,SENDER_REVOKE:2,ADMIN_REVOKE:3}],ephemeralityDuration:[21,"integer"],ephemeralityInitiator:[47,{INITIATED_BY_ME:1,INITIATED_BY_OTHER:2,BIZ_UPGRADE_FB_HOSTING:3}],ephemeralityTriggerAction:[48,{UNKNOWN:0,CHAT_SETTINGS:1,ACCOUNT_SETTINGS:2,BULK_CHANGE:3,BIZ_SUPPORTS_FB_HOSTING:4}],excessPayloadKbSize:[40,"integer"],fastForwardEnabled:[15,"boolean"],hasUsername:[59,"boolean"],isAComment:[54,"boolean"],isAReply:[35,"boolean"],isFromWamsys:[19,"boolean"],isLid:[39,"boolean"],isViewOnce:[22,"boolean"],localAddressingMode:[53,{PN:1,LID:2}],mediaCaptionPresent:[8,"boolean"],messageDistributionType:[41,{REGULAR_MESSAGE:0,DIRECT_MESSAGE:1,SENDER_KEY_DISTRIBUTION_MESSAGE:2}],messageForwardAgeT:[14,"timer"],messageIsFanout:[5,"boolean"],messageIsFastForward:[13,"boolean"],messageIsFirstUserMessage:[26,"boolean"],messageIsForward:[4,"boolean"],messageIsInternational:[7,"boolean"],messageIsInvisible:[29,"boolean"],messageIsRevoke:[24,"boolean"],messageKeyHash:[57,"string"],messageMediaType:[3,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],messageSendOptUploadEnabled:[12,"boolean"],messageSendResult:[1,{OK:1,ERROR_UNKNOWN:3,ERROR_NETWORK:4,ERROR_EXPIRED:5,ERROR_CANCELLED:6,ERROR_UPLOAD:7,ERROR_BACKFILL_USYNC_FAILED:8,ERROR_PAYLOAD_TOO_BIG:9,ERROR_LOCATION:10,ERROR_INVALID_MESSAGE:11,ERROR_E2EE:12,ERROR_INVALID_PROTOBUF:13,SERVER_ERROR:14,EPHEMERALLY_EXPIRED:15}],messageSendResultIsTerminal:[17,"boolean"],messageSendT:[11,"timer"],messageType:[2,{INDIVIDUAL:1,GROUP:2,BROADCAST:3,STATUS:4,CHANNEL:5,INTEROP:6}],networkWasDisconnected:[37,"boolean"],oppositeVisibleIdentification:[60,{PHONE_NUMBER:1,SAVED_CONTACT_NAME:2,USERNAME:3,MASKED_PHONE_NUMBER:4,VERIFIED_BUSINESS_NAME:5,PLACEHOLDER:6,PUSHNAME:7}],overallMediaSize:[42,"number"],participantCount:[32,"integer"],receiverDefaultDisappearingDuration:[28,"integer"],resendCount:[16,"integer"],retryCount:[6,"integer"],revokeDuration:[33,"integer"],revokeType:[34,{SENDER:0,ADMIN:1}],sendButtonPressT:[45,"integer"],senderDefaultDisappearingDuration:[27,"integer"],serverErrorCode:[56,"integer"],stickerIsAi:[50,"boolean"],stickerIsAvatar:[38,"boolean"],stickerIsFirstParty:[18,"boolean"],stickerIsFromStickerMaker:[51,"boolean"],stickerMakerSourceType:[52,{CUTOUT_IMAGE:1,WEB_STICKER_MAKER:2,IOS_STICKER_MAKER:3,ANDROID_STICKER_MAKER:4,TRANSPARENT_IMAGE:5}],thumbSize:[20,"number"],typeOfGroup:[36,{GROUP:1,SUBGROUP:2,DEFAULT_SUBGROUP:3}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"RevokeMessageSend",id:3656,props:{messageSendResultIsTerminal:[1,"boolean"],messageType:[2,{INDIVIDUAL:1,GROUP:2,BROADCAST:3,STATUS:4,CHANNEL:5,INTEROP:6}],resendCount:[3,"integer"],retryCount:[4,"integer"],revokeDuration:[5,"integer"],revokeType:[6,{SENDER:0,ADMIN:1}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"BotBizJourney",id:4868,props:{appSessionId:[1,"string"],botBizActionType:[5,{BOT_BIZ_CARD_CLICK:1,BOT_BIZ_CARD_MESSAGE_CLICK:2,BOT_BIZ_CARD_VIEW_AI_CLICK:3,BOT_BIZ_DEEPLINK_CLICK:4,BOT_BIZ_NUX_APPEAR:5,BOT_BIZ_NUX_DISMISS:6,BOT_BIZ_NUX_SELECT:7,BOT_BIZ_INFO_CHAT_CLICK:8}],botBizEntryPoint:[6,{SHARED_BOT_BIZ_CARD:1,SHARED_BOT_BIZ_DEEPLINK:2,BOT_BIZ_CHAT:3}],botBizType:[7,{BOT_BIZ_3P:1,BOT_BIZ_1P:2}],botType:[4,{UNKNOWN:0,METABOT:1,BOT_1P_BIZ:2,BOT_3P_BIZ:3}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"TsExternal",id:4574,props:{relativeTimestampMs:[1,"integer"],tsDuration:[2,"integer"],tsExternalEventSource:[3,{CALL:1,VIDEO:2,PTT_RECORD:3,PTT_PLAY:4}],tsSessionId:[4,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"DeepLinkConversion",id:1432,props:{callInitiator:[8,{BUSINESS:0,CONSUMER:1}],ctwaChatCreationMode:[4,{JID:0,LID:1}],ctwaConversionType:[3,{FIRST_MESSAGE:0,DEEP_CONVERSATION:1,FIRST_BIZ_REPLY:2,FIRST_CALL:3,FIRST_LONG_CALL:4,SECOND_MESSAGE:5,SECOND_BIZ_REPLY:6,THIRD_MESSAGE:7,CART_RECEIVED:8,ORDER_CREATED:9,FIRST_MESSAGE_CONTINUATION:10,FIRST_BIZ_REPLY_CONTINUATION:11,SECOND_MESSAGE_CONTINUATION:12,SECOND_BIZ_REPLY_CONTINUATION:13,THIRD_MESSAGE_CONTINUATION:14}],deepLinkConversionData:[2,"string"],deepLinkConversionSource:[1,"string"],isPriority:[7,"boolean"],trustBannerAction:[5,{VIEWED:0,DISMISSED:1}],trustBannerType:[6,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"EphemeralOutOfSyncInfo",id:3892,props:{groupSizeBucket:[1,{SMALL:1,MEDIUM:2,LARGE:3,EXTRA_LARGE:4,XX_LARGE:5,XXX_LARGE:6,LT1024:16,LT1500:7,LT2000:8,LT2500:9,LT3000:10,LT3500:11,LT4000:12,LT4500:13,LT5000:14,LARGEST_BUCKET:15}],incomingMessageEphemeralityDuration:[2,"integer"],isAGroup:[3,"boolean"],isNewThreadForUser:[5,"boolean"],otherDefaultModeDuration:[6,"integer"],threadEphemeralityDuration:[7,"integer"],threadId:[8,"string"],userDefaultModeDuration:[9,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"EphemeralSyncResponseReceive",id:4780,props:{clientDisappearingModeInitiator:[1,{CHAT:1,INITIATED_BY_ME:2,INITIATED_BY_OTHER:3,CHAT_PICKER:4,BIZ_UPGRADE_FB_HOSTING:5}],clientEphemeralityDuration:[2,"integer"],clientEphemeralityInitiator:[3,{INITIATED_BY_ME:1,INITIATED_BY_OTHER:2,BIZ_UPGRADE_FB_HOSTING:3}],clientEphemeralitySettingTimestamp:[4,"integer"],clientEphemeralityTriggerAction:[5,{UNKNOWN:0,CHAT_SETTINGS:1,ACCOUNT_SETTINGS:2,BULK_CHANGE:3,BIZ_SUPPORTS_FB_HOSTING:4}],esrDisappearingModeInitiator:[6,{CHAT:1,INITIATED_BY_ME:2,INITIATED_BY_OTHER:3,CHAT_PICKER:4,BIZ_UPGRADE_FB_HOSTING:5}],esrEphemeralityDuration:[7,"integer"],esrEphemeralityInitiator:[8,{INITIATED_BY_ME:1,INITIATED_BY_OTHER:2,BIZ_UPGRADE_FB_HOSTING:3}],esrEphemeralitySettingTimestamp:[9,"integer"],esrEphemeralityTriggerAction:[10,{UNKNOWN:0,CHAT_SETTINGS:1,ACCOUNT_SETTINGS:2,BULK_CHANGE:3,BIZ_SUPPORTS_FB_HOSTING:4}],esrFailureReason:[11,{ESR_ABPROP_OFF:1,DM_RELIABILITY_ABPROP_OFF:2,INVALID_MESSAGE_TYPE:3,OLDER_EPHEMERAL_SETTING_TIMESTAMP:4,NO_EPHEMERAL_INFO:5,ATTEMPTS_EXHAUSTED:6,NO_USER_INFO:7,NO_CHAT_SESSION:8,INVALID_EPHEMERAL_DURATION:9}],esrResolveResult:[12,{SUCCESS:1,ERROR:2}],isAGroup:[13,"boolean"],threadId:[14,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"EphemeralSyncResponseSend",id:4778,props:{clientDisappearingModeInitiator:[1,{CHAT:1,INITIATED_BY_ME:2,INITIATED_BY_OTHER:3,CHAT_PICKER:4,BIZ_UPGRADE_FB_HOSTING:5}],clientEphemeralityDuration:[2,"integer"],clientEphemeralityInitiator:[3,{INITIATED_BY_ME:1,INITIATED_BY_OTHER:2,BIZ_UPGRADE_FB_HOSTING:3}],clientEphemeralitySettingTimestamp:[4,"integer"],clientEphemeralityTriggerAction:[5,{UNKNOWN:0,CHAT_SETTINGS:1,ACCOUNT_SETTINGS:2,BULK_CHANGE:3,BIZ_SUPPORTS_FB_HOSTING:4}],esrDisappearingModeInitiator:[6,{CHAT:1,INITIATED_BY_ME:2,INITIATED_BY_OTHER:3,CHAT_PICKER:4,BIZ_UPGRADE_FB_HOSTING:5}],esrEphemeralityDuration:[7,"integer"],esrEphemeralityInitiator:[8,{INITIATED_BY_ME:1,INITIATED_BY_OTHER:2,BIZ_UPGRADE_FB_HOSTING:3}],esrEphemeralitySettingTimestamp:[9,"integer"],esrEphemeralityTriggerAction:[10,{UNKNOWN:0,CHAT_SETTINGS:1,ACCOUNT_SETTINGS:2,BULK_CHANGE:3,BIZ_SUPPORTS_FB_HOSTING:4}],esrFailureReason:[11,{ESR_ABPROP_OFF:1,DM_RELIABILITY_ABPROP_OFF:2,INVALID_MESSAGE_TYPE:3,OLDER_EPHEMERAL_SETTING_TIMESTAMP:4,NO_EPHEMERAL_INFO:5,ATTEMPTS_EXHAUSTED:6,NO_USER_INFO:7,NO_CHAT_SESSION:8,INVALID_EPHEMERAL_DURATION:9}],esrSendAttempt:[12,"integer"],esrSendResult:[13,{SUCCESS:1,ERROR:2}],isAGroup:[14,"boolean"],messageDisappearingModeInitiator:[15,{CHAT:1,INITIATED_BY_ME:2,INITIATED_BY_OTHER:3,CHAT_PICKER:4,BIZ_UPGRADE_FB_HOSTING:5}],messageEphemeralityDuration:[16,"integer"],messageEphemeralityInitiator:[17,{INITIATED_BY_ME:1,INITIATED_BY_OTHER:2,BIZ_UPGRADE_FB_HOSTING:3}],messageEphemeralitySettingTimestamp:[18,"integer"],messageEphemeralityTriggerAction:[19,{UNKNOWN:0,CHAT_SETTINGS:1,ACCOUNT_SETTINGS:2,BULK_CHANGE:3,BIZ_SUPPORTS_FB_HOSTING:4}],threadId:[20,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"ChannelGapDetected",id:4768,props:{channelIsForeground:[1,"boolean"],channelUserType:[2,{OWNER:1,ADMIN:2,FOLLOWER:3,GUEST:4}],cid:[3,"string"],gapSize:[4,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"ChannelMessageHistoryRequest",id:4770,props:{batchSize:[1,"integer"],channelMessageHistoryRequestType:[2,{UNKNOWN:0,OLDER:1,NEWER:2,LATEST:3,EXACT:4,GAP:5}],channelUserType:[3,{OWNER:1,ADMIN:2,FOLLOWER:3,GUEST:4}],cid:[4,"string"],processingDurationT:[5,"timer"],requestDurationT:[6,"timer"],requestSuccessful:[7,"boolean"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"ChannelCoreEvent",id:4692,props:{channelCoreEventSequenceNumber:[8,"integer"],channelCoreEventType:[1,{FOLLOW:1,UNFOLLOW:2,MUTE:3,UNMUTE:4}],channelDirectorySessionId:[7,"integer"],channelEntryPoint:[2,{UNKNOWN:0,UPDATES_TAB:1,DIRECTORY:2,LINK:3,DEEPLINK:4,FORWARDED_MESSAGE:5,DIRECTORY_SEARCH:6,RECOMMENDED_LIST:7,NOTIFICATION:8,UPDATES_TAB_SEARCH:9,STATUS:10,ADMIN_INVITE_MESSAGE:11,MEDIA_BROWSER:12,SIMILAR_CHANNEL:13}],channelEntryPointApp:[3,{EXTERNAL_UNKNOWN:1,WHATSAPP:2}],channelEntryPointMetadata:[10,{STATUS_HEADER:1,LINK_TOOLTIP:2,LINK_BUTTON:3,POST_TOOLTIP:4}],channelEventUnit:[12,{RECOMMENDED_CHANNELS:1,SIMILAR_CHANNELS:2}],cid:[4,"string"],directoryChannelIndex:[9,"integer"],entryPointMetadata:[5,"string"],eventSurface:[6,{CHANNEL_UPDATES_HOME:1,CHANNEL_THREAD:2,CHANNEL_DIRECTORY:3,CHANNEL_DIRECTORY_SEARCH:4,CHANNEL_PROFILE:5,CHANNEL_UPDATES_HOME_SEARCH:6}],similarChannelsSessionId:[13,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"UserNoticeError",id:2474,props:{noticeType:[4,{LEGACY_USER_NOTICE:0,BADGED_USER_NOTICE:1,PDFN_DISCLOSURE:2}],userNoticeContentVersion:[2,"integer"],userNoticeErrorEvent:[3,{INVALID_STANZA:1,JSON_FETCH:2,JSON_PARSE:3,IMAGE_FETCH:4,NO_ELIGIBLE_DISCLOSURE:5,DISCLOSURE_STAGE_FETCH:6,UI_TEMPLATE_MISMATCHED:7,ERROR_UNKNOWN:8,SYNC_STAGE_MISMATCH:9,IMAGE_FETCH_400:10,JSON_FETCH_400:11,JSON_FETCH_REDIRECT:12,IMAGE_FETCH_REDIRECT:13,IMAGE_FETCH_FORBIDDEN:14,JSON_FETCH_FORBIDDEN:15}],userNoticeId:[1,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"StickerCommonQueryToStaticServer",id:2740,props:{httpResponseCode:[2,"integer"],params:[3,"string"],queryLatencyMs:[4,"timer"],queryType:[1,{STICKER_STORE_DATA:0,PREVIEW_IMAGE_DOWNLOAD:1,STICKER_PACK_DATA:2,STICKER_SEARCH:3}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MdExpansionAgentBrowserMdId",id:3390,props:{agentId:[1,"string"],browserId:[2,"string"],companionMdId:[5,"integer"],isCustomAgentName:[6,"boolean"],isNewAgent:[9,"boolean"],loginTimestamp:[3,"integer"],logoutTimestamp:[4,"integer"],mdLinkedCount:[8,"integer"],multideviceAction:[7,{LOGIN:0,LOGOUT:1,CUSTOM_AGENT_NAME:2,MESSAGE_INFO:3,ACTIVE:4,DELETE:5}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"PsPhoneNumberHyperlink",id:3266,props:{isPhoneNumHyperlinkOwner:[1,"boolean"],phoneNumHyperlinkAction:[2,{PHONE_NUM_HYPERLINK_MSG_RECEIVED:1,LONG_PRESS_PHONE_NUM_HYPERLINK:2,CLICK_PHONE_NUM_HYPERLINK:3,CLICK_CALL:4,CLICK_ADD_TO_CONTACTS:5,CLICK_MESSAGE_ON_WHATSAPP:6,CLICK_COPY_PHONE_NUMBER:7,CLOSE_DIALOG_BOX:8,MESSAGE_SENT:9,CLICK_CALL_ON_WHATSAPP:10}],phoneNumberStatusOnWa:[3,"boolean"],sequenceNumber:[4,"integer"]},weight:1,wamChannel:"private",privateStatsIdInt:113760892},{name:"GroupCreateC",id:156,props:{},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"SendRevokeMessage",id:1348,props:{messageMediaType:[2,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],messageType:[1,{INDIVIDUAL:1,GROUP:2,BROADCAST:3,STATUS:4,CHANNEL:5,INTEROP:6}],revokeSendDelay:[3,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"UtmMessageSend",id:4018,props:{businessPhoneNumber:[1,"integer"]},weight:1,wamChannel:"private",privateStatsIdInt:0},{name:"WebcMessageSend",id:2072,props:{messageIsForward:[3,"boolean"],messageMediaType:[2,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],messageSendT:[4,"timer"],messageType:[1,{INDIVIDUAL:1,GROUP:2,BROADCAST:3,STATUS:4,CHANNEL:5,INTEROP:6}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MdChatAssignmentSecondaryAction",id:3716,props:{mdChatAssignmentSecondaryActionAgentId:[1,"string"],mdChatAssignmentSecondaryActionAssignmentType:[8,{ASSIGNED:0,UNASSIGNED:1}],mdChatAssignmentSecondaryActionBrowserId:[2,"string"],mdChatAssignmentSecondaryActionChatType:[3,{GROUP:0,BROADCAST_LIST:1,INDIVIDUAL:2,COMMUNITY:3,CHANNEL:4,INTEROP:5}],mdChatAssignmentSecondaryActionError:[4,{ERROR_FETCHING_AGENT_NAME:0,ERROR_FETCHING_CHAT:1,ERROR_OTHER:2}],mdChatAssignmentSecondaryActionMdId:[5,"integer"],mdChatAssignmentSecondaryActionSource:[6,{NONE:0,BOOTSTRAP:1}],mdChatAssignmentSecondaryActionType:[7,{ACTION_SYSTEM_MESSAGE_ADDED_TO_CHAT_HISTORY:0,ACTION_SYSTEM_MESSAGE_CREATION_ERROR:1,ACTION_SYSTEM_MESSAGE_RENDERED:2,ACTION_CHAT_STATUS_TICKER_SHOWN:3,ACTION_TOOLTIP_SHOWN:4}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MdChatAssignment",id:3752,props:{assignerAgentId:[1,"string"],assignerBrowserId:[2,"string"],assignerMdId:[3,"integer"],chatAssignmentAction:[4,{ACTION_ASSIGNED:0,ACTION_UNASSIGNED:1,ACTION_REASSIGNED:2}],chatAssignmentAgentId:[5,"string"],chatAssignmentBrowserId:[6,"string"],chatAssignmentChatType:[7,{INDIVIDUAL:0,GROUP:1,COMMUNITY:2,CHANNEL:3}],chatAssignmentEntryPoint:[8,{CONVERSATION_OVERFLOW_MENU:0,CONTACT_INFO_SCREEN:1,MULTI_SELECT:2,SYSTEM_MESSAGE:3,CHAT_LIST_SWIPE:4}],chatAssignmentMdId:[9,"integer"],chatsCnt:[10,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"OtpRetriever",id:3468,props:{businessPhoneNumber:[1,"integer"],chatId:[19,"string"],chatsFolderType:[12,{INBOX:1,ARCHIVED:2}],ctaFallbackReason:[2,{NO_OTP_REQUEST_RECEIVED:0,OTP_REQUEST_EXPIRED:1,HASH_MISMATCH:2,NO_ACTIVITY_LISTENING_ON_THIRD_PARTY_APP:3,OTHER:4,NO_PACKAGE_NAME_ON_MESSAGE:5,NO_CTA_DISPLAY_NAME:6,INCOMPATIBLE_OS_VERSION:7,NO_RETRIEVER_BUTTON:8,FEATURE_DISABLED:9,AMBIGUOUS_DELIVERY_DESTINATION:10}],ctaType:[3,{COPY_CODE:0,AUTOFILL:1}],isKeepChatsArchivedEnabled:[13,"boolean"],isMessageNotificationEnabled:[14,"boolean"],isNotificationEnabled:[15,"boolean"],messageReceivedElapsedTimeSeconds:[11,"integer"],otpCorrelationId:[20,"string"],otpEventSource:[5,{NOTIFICATION_CTA:0,NOTIFICATION_BODY:1,CHAT_CTA:2,OTHER:3,OTP_MESSAGE:4,OTP_MESSAGE_INFO:5,OTP_CONFIGURATION:6,OTP_REQUEST_SENDER:7,OTP_ZERO_TAP_SENDER:8,OTP_CONF_OPTION:9}],otpEventType:[6,{CLICK:0,IMPRESSION:1,OTP_CODE_REQUESTED:2,OTP_CODE_SENT:3,MESSAGE_RECEIVED:4,MESSAGE_READ:5,MESSAGE_DELETED:6,ZERO_TAP_ENABLED:7,ZERO_TAP_DISABLED:8,ZERO_TAP_NOTICE_VIEWED:9,CLEAR_CHAT:10,ZERO_TAP_SEND_CODE_STARTED:11,ZERO_TAP_SEND_CODE_COMPLETED:12,ZERO_TAP_SEND_CODE_FAILED:13,OTP_CONF_OPT_ZERO_TAP_FLAG_ENABLED:14,OTP_CONF_OPT_ZERO_TAP_FLAG_DISABLED:15,HANDSHAKE_CONFIRMATION_SENT:16}],otpFailureReason:[16,"string"],otpHandshakeElapsedTimeMs:[21,"integer"],otpHandshakeId:[23,"string"],otpMaskLinkedDevices:[24,"boolean"],otpProductType:[7,{ONE_TAP:0,ZERO_TAP:1,COPY_CODE:2}],otpSdkVersion:[22,"string"],otpSessionId:[8,"string"],receiverCountryCode:[18,"string"],templateId:[17,"string"],thirdPartyPackageNameFromIntent:[9,"string"],thirdPartyPackageSignatureHash:[10,"string"],waDeviceId:[25,"integer"]},weight:1,wamChannel:"private",privateStatsIdInt:113760892},{name:"BizCatalogView",id:3006,props:{bizPlatform:[14,{UNKNOWN:1,SMB:2,ENT:3,CLOUDAPI:4}],cartToggle:[13,"boolean"],catalogCategoryId:[19,"string"],catalogEntryPoint:[2,{CATALOG_ENTRY_POINT_PROFILE:1,CATALOG_ENTRY_POINT_SETTINGS:2,CATALOG_ENTRY_POINT_MESSAGE:3,CATALOG_ENTRY_POINT_ATTACHMENT_PANEL:4,CATALOG_ENTRY_POINT_NUX:5,CATALOG_ENTRY_POINT_DEEPLINK:6,CATALOG_ENTRY_POINT_CHAT:7,CATALOG_ENTRY_POINT_ORDER_MESSAGE:8,CATALOG_ENTRY_POINT_INVOICE_ATTACHMENT_PANEL:9,CATALOG_ENTRY_POINT_PRODUCT_LIST_MESSAGE:10,CATALOG_ENTRY_POINT_TOP_BAR:11,CATALOG_ENTRY_POINT_PROFILE_ITEM_CLICK:12,CATALOG_ENTRY_POINT_PROFILE_SEE_ALL:13,CATALOG_ENTRY_POINT_QUOTED_PRODUCT:14,CATALOG_ENTRY_POINT_CATALOG_MESSAGE:15,CATALOG_ENTRY_QBM:16,CATALOG_ENTRY_POINT_ADS_DEEPLINK:17,CATALOG_ENTRY_POINT_WA_PAGES:18,CATALOG_ENTRY_POINT_DIRECTORY_BARE_TIPS:19,CATALOG_ENTRY_POINT_BIZ_ACTION_BAR:20,CATALOG_ENTRY_POINT_BIZ_ONBOARDING:21,CATALOG_ENTRY_POINT_TRUST_CARD:22,CATALOG_ENTRY_POINT_FLOWS:23}],catalogEventSampled:[11,"boolean"],catalogOwnerJid:[10,"string"],catalogReportReasonCode:[8,"string"],catalogSessionId:[3,"string"],catalogViewAction:[1,{ACTION_CARD_ITEM_CLICK:2,ACTION_CARD_MORE_CLICK:3,ACTION_LIST_IMPRESSION:4,ACTION_DETAIL_IMAGE_CLICK:6,ACTION_DETAIL_LINK_CLICK:7,ACTION_FULL_IMAGE_SWIPE:11,ACTION_DETAIL_IMPRESSION:12,ACTION_REPORT_PRODUCT:13,ACTION_SEND_PRODUCT_MESSAGE:14,ACTION_REPORT_PRODUCT_SUCCESS:15,ACTION_REPORT_PRODUCT_FAILURE:16,ACTION_QUOTED_PRODUCT_IN_CONVERSATION_CLICK:17,ACTION_PRODUCT_IN_CONVERSATION_CLICK:18,ACTION_SHARE_CATALOG_LINK_CLICK:19,ACTION_SHARE_PRODUCT_LINK_CLICK:20,ACTION_CATALOG_IN_CONVERSATION_CLICK:21,ACTION_SHARE_CATALOG_VIA_WA_LINK_CLICK:22,ACTION_SHARE_PRODUCT_VIA_WA_LINK_CLICK:23,ACTION_SHARE_CATALOG_COPY_LINK_CLICK:24,ACTION_SHARE_PRODUCT_COPY_LINK_CLICK:25,ACTION_CHAT_CATALOG_ICON_CLICK:26,ACTION_MESSAGE_BUSINESS_BUTTON_CLICK:27,ACTION_CART_ADD_PRODUCT:28,ACTION_CART_EDIT_PRODUCT:29,ACTION_CART_DELETE_PRODUCT:30,ACTION_CART_ABANDON:31,ACTION_CART_ICON_CLICK:32,ACTION_CART_SNACKBAR_CLICK:33,ACTION_SEND_ORDER_MESSAGE:34,ACTION_ORDER_LIST_IMPRESSION:35,ACTION_QUOTED_PRODUCT_MESSAGE_SEND:36,ACTION_CART_LIST_IMPRESSION:37,ACTION_ORDER_MESSAGE_CLICK:38,ACTION_ORDER_LIST_ITEM_CLICK:39,ACTION_PLM_CART_CTA_CLICK:40,ACTION_CART_CHAT_ICON_CLICK:42,ACTION_CREATE_CART:43,ACTION_PLP_PRODUCT_VARIANT_BOTTOM_SHEET_OPEN:44,ACTION_PLP_PRODUCT_VARIANT_CHANGE:45,ACTION_PDP_PRODUCT_VARIANT_CHANGE:46,ACTION_PLP_BOTTOM_SHEET_SEE_MORE_DETAILS:47}],collectionId:[15,"string"],collectionIndex:[16,"string"],deepLinkOpenFrom:[12,{DEEP_LINK_EXTERNAL:1,DEEP_LINK_WA_LINK_CLICK:2,QR_CODE_SHEET:3,DEEP_LINK_BANNER:4,DEEP_LINK_SMB_NOTIFICATION:5,DEEP_LINK_MESSENGER_APP:6}],entryPointConversationInitiated:[22,{BUSINESS_INITIATED:0,CONSUMER_INITIATED:1,NO_MESSAGES_LAST_24H:2}],entryPointConversionApp:[20,"string"],entryPointConversionSource:[21,"string"],hasVariants:[23,"boolean"],isNewProductAddedToCart:[7,"boolean"],isOrderMsgAttached:[5,"boolean"],orderId:[4,"string"],productId:[9,"string"],productIndex:[17,"string"],quantity:[6,"integer"],sequenceNumber:[18,"integer"]},weight:1,wamChannel:"private",privateStatsIdInt:0},{name:"CatalogBiz",id:1722,props:{cartToggle:[13,"boolean"],catalogAppealReason:[4,"string"],catalogBizAction:[1,{ACTION_PRODUCT_ADD_CLICKED:1,ACTION_PRODUCT_ADD_SUCCESS:2,ACTION_PRODUCT_ADD_FAILED:3,ACTION_PRODUCT_EDIT_CLICKED:4,ACTION_PRODUCT_EDIT_SUCCESS:5,ACTION_PRODUCT_EDIT_FAILED:6,ACTION_PRODUCT_DELETE_CLICKED:7,ACTION_PRODUCT_DELETE_SUCCESS:8,ACTION_PRODUCT_DELETE_FAILED:9,ACTION_APPEAL_PRODUCT_CLICKED:10,ACTION_APPEAL_PRODUCT_SUCCESS:11,ACTION_APPEAL_PRODUCT_FAILED:12,ACTION_CREATE_PRODUCT_CATALOG:13,ACTION_CREATE_PRODUCT_CATALOG_SUCCESS:14,ACTION_CREATE_PRODUCT_CATALOG_FAILED:15,ACTION_CATALOG_MENU_ITEM_CLICKED:16,ACTION_PRODUCT_RESUBMIT_CLICKED:17,ACTION_START_IMPORT_FLOW:18,ACTION_IMPORT_POST:19,ACTION_CARD_ITEM_CLICK:21,ACTION_CARD_MORE_CLICK:22,ACTION_LIST_IMPRESSION:23,ACTION_DETAIL_IMAGE_CLICK:25,ACTION_DETAIL_LINK_CLICK:26,ACTION_FULL_IMAGE_SWIPE:30,ACTION_DETAIL_IMPRESSION:31,ACTION_QUOTED_PRODUCT_IN_CONVERSATION_CLICK:32,ACTION_PRODUCT_IN_CONVERSATION_CLICK:33,ACTION_SEND_PRODUCT_MESSAGE:34,ACTION_ONBOARD_IMPRESSION:35,ACTION_SHARE_CATALOG_LINK_CLICK:36,ACTION_SHARE_PRODUCT_LINK_CLICK:37,ACTION_CATALOG_IN_CONVERSATION_CLICK:38,ACTION_SHARE_CATALOG_VIA_WA_LINK_CLICK:39,ACTION_SHARE_PRODUCT_VIA_WA_LINK_CLICK:40,ACTION_SHARE_CATALOG_COPY_LINK_CLICK:41,ACTION_SHARE_PRODUCT_COPY_LINK_CLICK:42,ACTION_SEND_CATALOG_CLICK:43,ACTION_ORDER_MESSAGE_CLICK:44,ACTION_ORDER_LIST_IMPRESSION:45,ACTION_ORDER_LIST_ITEM_CLICK:46,ACTION_MESSAGE_BUSINESS_BUTTON_CLICK:47,ACTION_QUOTED_PRODUCT_MESSAGE_SEND:48,ACTION_CART_ADD_PRODUCT:49,ACTION_CART_ICON_CLICK:50,ACTION_CART_SNACKBAR_CLICK:51,ACTION_CART_LIST_IMPRESSION:52,ACTION_CART_EDIT_PRODUCT:53,ACTION_CART_DELETE_PRODUCT:54,ACTION_CART_ABANDON:55,ACTION_SEND_ORDER_MESSAGE:56,ACTION_MENU_CLICK:57,ACTION_PRODUCT_HIDE_CLICKED:58,ACTION_PRODUCT_HIDE_SUCCESS:59,ACTION_PRODUCT_HIDE_CANCELLED:60,ACTION_PRODUCT_HIDE_FAILED:61,ACTION_PRODUCT_UNHIDE_CLICKED:62,ACTION_PRODUCT_UNHIDE_SUCCESS:63,ACTION_PRODUCT_UNHIDE_CANCELLED:64,ACTION_PRODUCT_UNHIDE_FAILED:65,ACTION_CATALOG_LIST_MENU_CLICKED:66,ACTION_CATALOG_LIST_MENU_CLICKED_WITH_ADVERTISE_SHOWN:67,ACTION_COLLECTION_CREATE_CLICKED:68,ACTION_COLLECTION_CREATED:69,ACTION_MENU_COLLECTIONS_CLICK:70,ACTION_COLLECTION_RENAME_CLICKED:71,ACTION_COLLECTION_RENAME_CANCELLED:72,ACTION_COLLECTION_RENAMED:73,ACTION_COLLECTION_DELETE_CLICKED:74,ACTION_COLLECTION_DELETE_CANCELLED:75,ACTION_COLLECTION_DELETED:76,ACTION_COLLECTION_ASSIGN_ITEMS:77,ACTION_COLLECTION_UNASSIGN_ITEMS:78,ACTION_COLLECTION_CHANGE_ORDER:80,ACTION_COLLECTION_ITEM_CHANGE_ORDER:81}],catalogEntryPoint:[7,{CATALOG_ENTRY_POINT_PROFILE:1,CATALOG_ENTRY_POINT_SETTINGS:2,CATALOG_ENTRY_POINT_MESSAGE:3,CATALOG_ENTRY_POINT_ATTACHMENT_PANEL:4,CATALOG_ENTRY_POINT_NUX:5,CATALOG_ENTRY_POINT_DEEPLINK:6,CATALOG_ENTRY_POINT_CHAT:7,CATALOG_ENTRY_POINT_ORDER_MESSAGE:8,CATALOG_ENTRY_POINT_INVOICE_ATTACHMENT_PANEL:9,CATALOG_ENTRY_POINT_PRODUCT_LIST_MESSAGE:10,CATALOG_ENTRY_POINT_TOP_BAR:11,CATALOG_ENTRY_POINT_PROFILE_ITEM_CLICK:12,CATALOG_ENTRY_POINT_PROFILE_SEE_ALL:13,CATALOG_ENTRY_POINT_QUOTED_PRODUCT:14,CATALOG_ENTRY_POINT_CATALOG_MESSAGE:15,CATALOG_ENTRY_QBM:16,CATALOG_ENTRY_POINT_ADS_DEEPLINK:17,CATALOG_ENTRY_POINT_WA_PAGES:18,CATALOG_ENTRY_POINT_DIRECTORY_BARE_TIPS:19,CATALOG_ENTRY_POINT_BIZ_ACTION_BAR:20,CATALOG_ENTRY_POINT_BIZ_ONBOARDING:21,CATALOG_ENTRY_POINT_TRUST_CARD:22,CATALOG_ENTRY_POINT_FLOWS:23}],catalogSessionId:[3,"string"],collectionCount:[18,"integer"],collectionId:[14,"string"],collectionIndex:[15,"string"],deepLinkOpenFrom:[8,{DEEP_LINK_EXTERNAL:1,DEEP_LINK_WA_LINK_CLICK:2,QR_CODE_SHEET:3,DEEP_LINK_BANNER:4,DEEP_LINK_SMB_NOTIFICATION:5,DEEP_LINK_MESSENGER_APP:6}],errorCode:[5,"integer"],isOrderMsgAttached:[10,"boolean"],orderId:[9,"string"],productCount:[6,"integer"],productId:[2,"string"],productIds:[12,"string"],productIndex:[16,"string"],quantity:[11,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcImgError",id:1700,props:{webcImgErrorCode:[1,"number"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"GroupJourney",id:4512,props:{actionType:[1,{OPEN:1,SELECT_FILTER:2,SEARCH_WITH_FILTER:3,SEARCH:4,SEARCH_ITEM_SELECTED:5,SEARCH_MSG_SENT:6,UNSELECT_FILTER:7,AUTO_CLEAR_FILTER:8,VIEW:9,GROUP_NAVIGATION:10,GROUP_DISCOVERY:11,GROUP_JOIN:12,SUBGROUP_SWITCHER_CLICK:13,SUBGROUP_MENTION_CLICK:14,COMMUNITY_RICH_SYSTEM_MESSAGE_CLICK:15,GROUP_SYSTEM_MESSAGE_CLICK:16,NESTING_VIEW_COMMUNITY_CLICK:17,SELECT_COMMUNITY_ADMINS_CAN_ADD_GROUPS:18,SELECT_EVERYONE_CAN_ADD_GROUPS:19,GROUP_JOIN_REQUEST:20,NOTIFICATION_RECEIVED:21,NOTIFICATION_RENDERED:22,TAP_TO_OPEN:23,TAP_TO_REPLY:24,VOIP_CALLBACK:25,VOIP_MESSAGE:26,VOIP_DECLINE:27,MARK_AS_READ:28,AI_NEW_CHAT_CLICK:29,AI_TAB_SELECTION_CLICK:30,AI_PERSONA_SELECTION_CLICK:31,AI_TOS_VIEW:32,AI_TOS_ACCEPT_CLICK:33,AI_TOS_DISMISS_CLICK:34,AI_NEW_UGC_CLICK:35,AI_UGC_CREATION_START_CLICK:36,AI_GENDER_AGE_SELECTION_CLICK:37,AI_PERSONALITY_SELECTION_CLICK:38,AI_INTEREST_SELECTION_CLICK:39,AI_AVATAR_SELECTION_CLICK:40,AI_NAME_SELECTION_CLICK:41,AI_UGC_CREATION_FINISH_CLICK:42,REQUEST_WAITLIST_DIALOG_APPEAR:43,REQUEST_WAITLIST_SELECT:44,FILTER_VIEWED:45,FILTER_EMPTY_STATE_VIEWED:46,BUSINESS_SERP_LOADED:47,BIZ_SEE_MORE_CLICKED:48,IMPRESSION:49,BIZ_SEARCH_SET_LOCATION_CLICKED:50,CLOSE_BTN_CLICKED:51,AI_CHAT_CLICK:52,NEW_CHAT_CLICK:53,SERP_LOADED:54}],appSessionId:[2,"string"],groupSize:[3,"integer"],surface:[4,{CHAT:1,CHATLIST:2,GALLERY:3,COMMUNITY_HOME:4,COMMUNITY_TAB:5,COMMUNITY_NAV:6,COMMUNITY_NAV_SHEET:7,COMMUNITY_SETTINGS:8,GROUP_INFO:9,NOTIFICATION:10,EXPRESSIONS_EMOJI:11,INVITE_NON_WA_CONTACT:12}],threadType:[5,{GROUP:1,BROADCAST:2,INDIVIDUAL:3,STATUS:4,CHANNEL:5,SUB_GROUP:6,DEFAULT_SUB_GROUP:7,PARENT_GROUP:8}],uiSurface:[7,{UNKNOWN:1,COMMUNITY_HOME:2,COMMUNITY_TAB:3,CHAT_THREAD:4,CHAT_INFO_PAGE:5,CHAT_LIST:6,COMMUNITY_NAVIGATION:7,BACKGROUND:8,RESIGN:9,SUBGROUP_SWITCHER:10,COMMUNITY_COMPOSER:11,MEDIA_VIEWER:12,ALL_MEDIA:13,STREAMING_MEDIA_VIEWER:14,CALLS_HOME_TAB:15,IN_CALL_UI:16,STATUS_HOME_TAB:17,STATUS_COMPOSER:18,STATUS_VIEW:19,CAMERA:20,PHOTO_VIDEO_LIBRARY:21,SETTINGS_HOME_TAB:22,TOOLS_TAB:23,COMMUNITY_SETTINGS:24,CHANNEL_UPDATES_HOME:25,CHANNEL_THREAD:26,CHANNEL_DIRECTORY:27,CHANNEL_PROFILE:28,CHANNEL_FORWARD:29,CHANNEL_PRODUCER_MEDIA_EDITOR:30,CHANNEL_CREATE:31,CHANNEL_EDIT:32,CHANNEL_DELETE:33,STATUS_COMPOSER_TEXT:34,LIGHTWEIGHT_CALL_UI:35,AI_HOME:36,LIGHTWEIGHT_CALL_BANNER:37,LIGHTWEIGHT_CALL_NUX:38,CALL_INFO_PAGE:39,SMB_CATALOG:40,SMB_CATALOG_SHARE_LINK:41,SMB_CATALOG_SHARE_PRODUCT_LINK:42,SMB_CATALOG_SETTINGS:43,SMB_CATALOG_PRODUCT:44,SMB_CATALOG_NEW_COLLECTION:45,SMB_CATALOG_EDIT_COLLECTION:46,SMB_CATALOG_CREATE_PRODUCT:47,SMB_CATALOG_EDIT_PRODUCT:48,SMB_CATALOG_NEW_COLLECTION_ADD_ITEMS:49,SMB_CATALOG_COLLECTION_UPDATE_ITEMS:50,SMB_CATALOG_COLLECTIONS:51,SMB_CATALOG_COLLECTION_REORDER:52,SMB_CATALOG_COLLECTION_PRODUCTS:53,SMB_CATALOG_COLLECTION_PRODUCTS_REORDER:54,CREATE_EVENT:55,EVENT_PAGE:56,EVENTS_IN_GROUP:57,CATALOG_HOME:59,CATALOG_COLLECTION:60,CATALOG_ITEM:61,CATALOG_CART:62,FLOWS_EXPERIENCE:63,BUSINESS_PROFILE_EDIT:64,BUSINESS_PROFILE_EDIT_NAME:65,BUSINESS_PROFILE_EDIT_CATEGORIES:66,BUSINESS_PROFILE_EDIT_DESCRIPTION:67,BUSINESS_PROFILE_EDIT_WEBSITE:68,BUSINESS_PROFILE_EDIT_EMAIL:69,BUSINESS_PROFILE_EDIT_ADDRESS:70,BUSINESS_PROFILE_EDIT_HOURS:71,BUSINESS_PROFILE_EDIT_COVER_PHOTO:72,BUSINESS_PROFILE_LINK_FB_IG:73,BUSINESS_PROFILE_HELP_PAGE_LINK_FB_IG:74,PAYMENTS_HOME:75,PAYMENTS_HOME_TRANSACTIONS:76,PAYMENTS_HOME_RECENT_MERCHANTS:77,PAYMENTS_HOME_INVITE_OTHERS:78,PAYMENTS_HOME_HELP:79,MESSAGE_MENU:80,PIN_MESSAGE_REPLACEMENT_DIALOG:81,PIN_MESSAGE_EXPIRATION_DIALOG:82,MY_STATUS_LIST:83,ALL_STATUS_LIST:84,PIN_BANNER:85,CALL_BANNER:86,LANDING_SCREEN:87,NEW_CHAT:88,GROUP_MEMBER_ADD_GROUP_CREATION:89,GROUP_MEMBER_ADD_EXISTING_GROUP:90,GROUP_CHAT:91,GROUP_CREATION:92}],userRole:[6,{MEMBER:0,ADMIN:1,CADMIN:2}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcMessageQuery",id:1876,props:{webcAudioMessageCount:[14,"integer"],webcBrowserNetworkType:[1,"string"],webcBrowserStorageQuotaBytes:[20,"integer"],webcBrowserStorageQuotaUsedBytes:[21,"integer"],webcChatPosition:[2,"integer"],webcChatType:[13,{INDIVIDUAL:0,GROUP:1,BROADCAST_LIST:2,COMMUNITY:3,NEWSLETTER:4}],webcDocumentMessageCount:[16,"integer"],webcEarliestMessageIndex:[11,"integer"],webcEarliestMessageT:[12,"timer"],webcMessageCount:[4,"integer"],webcMessageQueryTrigger:[19,{UNKNOWN:0,USER_SCROLL:1,NEW_MESSAGE_PREFETCH:2,SEARCH_RESULT_CLICK:3}],webcMessageQueryType:[3,{LOAD_PREV:0,LOAD_NEXT:1,LOAD_AROUND:2}],webcOtherMessageCount:[18,"integer"],webcPhotoMessageCount:[7,"integer"],webcPttMessageCount:[15,"integer"],webcQueryT:[9,"timer"],webcResponseBytes:[10,"integer"],webcStickerMessageCount:[17,"integer"],webcTextMessageCount:[5,"integer"],webcVideoMessageCount:[6,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MediaPicker",id:1038,props:{audienceSelectorClicked:[24,"boolean"],audienceSelectorUpdated:[25,"boolean"],chatRecipients:[16,"integer"],isViewOnce:[22,"boolean"],mediaPickerAvatarStickers:[33,"integer"],mediaPickerChanged:[4,"integer"],mediaPickerCroppedRotated:[10,"integer"],mediaPickerDeleted:[3,"integer"],mediaPickerDrawing:[11,"integer"],mediaPickerFilter:[18,"integer"],mediaPickerHasLocationSticker:[26,"boolean"],mediaPickerLikeDoc:[19,"integer"],mediaPickerNotLikeDoc:[20,"integer"],mediaPickerOrigin:[14,{CHAT_PHOTO_LIBRARY:1,CAMERA_TAB_CAPTURE:2,FORWARD:3,PASTE:4,SHARE_EXTENSION:5,EXPORT:6,MENU_CAMERA_CAPTURE:7,EXTERNAL_CAMERA:8,LINK_PREVIEW_DOWNLOAD:9,CAMERA_TAB_MEDIA_STRIP:10,CAMERA_TAB_PHOTO_LIBRARY:11,CHAT_BUTTON_CAMERA_CAPTURE:12,CHAT_BUTTON_CAMERA_MEDIA_STRIP:13,CHAT_BUTTON_CAMERA_PHOTO_LIBRARY:14,STATUS_TAB_CAMERA_CAPTURE:15,STATUS_TAB_CAMERA_MEDIA_STRIP:16,STATUS_TAB_CAMERA_PHOTO_LIBRARY:17,STATUS_REPLY_CAMERA_CAPTURE:18,STATUS_REPLY_CAMERA_MEDIA_STRIP:19,STATUS_REPLY_CAMERA_PHOTO_LIBRARY:20,MENU_CAMERA_PHOTO_LIBRARY:21,CHAT_GIF_INAPP:22,CHAT_GIF_EXTERNAL:23,STATUS_REPLY_GIF_INAPP:24,STATUS_REPLY_GIF_EXTERNAL:25,SMB_QUICK_REPLY_EDIT:26,SMB_QUICK_REPLY_SEND:27,MEDIA_BROWSER:28,CHAT_QUICK_EDIT:29,CAMERA_TAB_GIF:30,STATUS_TAB_GIF:31,PAYMENT_COMPOSER:32,PHOTO_RECEIVED:33,PHOTO_RECEIVED_GALLERY:34,AD_CREATION:35,EXTERNAL_DROP:36,IN_APP_BROWSER:37,PREMIUM_MESSAGE_COMPOSER:38,DOCUMENT_PICKER:39,IN_APP_BUG_REPORTING:40,STICKER_TRAY_CREATE_STICKER:41,STICKER_TRAY_EDIT_STICKER:42,STICKER_MESSAGE_CREATE_YOUR_OWN:43,STICKER_MESSAGE_EDIT_STICKER:44,MEDIA_VIEWER_CREATE_STICKER:45,STATUS_NEWSLETTER_CARD:46,CUTOUT_IMAGE_EDIT_STICKER:47,STICKER_TRAY_CREATE_STICKER_CAPTURE:48,THUNDERSTORM_IN_APP_PHOTO_LIBRARY:49,TRANSPARENT_IMAGE_EDIT_STICKER:50,BUSINESS_FLOWS:51,SYSTEM_INTENT:52}],mediaPickerOriginThirdParty:[21,"boolean"],mediaPickerSent:[2,"integer"],mediaPickerSentUnchanged:[5,"integer"],mediaPickerSessionId:[29,"string"],mediaPickerStickers:[12,"integer"],mediaPickerT:[15,"timer"],mediaPickerText:[13,"integer"],mediaType:[1,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],motionPhotoImpressionCount:[31,"integer"],motionPhotoSentCount:[32,"integer"],photoGalleryDurationT:[23,"timer"],photoQualitySetting:[27,{AUTO:0,DATA_SAVER:1,HIGH_QUALITY:2,HIGHEST_QUALITY:3}],pickerSessionId:[30,"integer"],statusRecipients:[17,"integer"],videoQualitySetting:[28,{AUTO:0,DATA_SAVER:1,HIGH_QUALITY:2,HIGHEST_QUALITY:3}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcStatusSession",id:1880,props:{webcStatusMutedItemCount:[4,"integer"],webcStatusMutedRowCount:[7,"integer"],webcStatusRecentItemCount:[2,"integer"],webcStatusRecentRowCount:[5,"integer"],webcStatusSessionId:[1,"integer"],webcStatusViewedItemCount:[3,"integer"],webcStatusViewedRowCount:[6,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"TestAnonymousDailyId",id:2958,props:{psTestEnumField:[1,{TEST_VALUE1:1,TEST_VALUE2:2}],psTestFloatField:[2,"number"]},weight:1,wamChannel:"private",privateStatsIdInt:248614979},{name:"TestAnonymousDaily",id:2328,props:{},weight:1,wamChannel:"private",privateStatsIdInt:113760892},{name:"TestAnonymousIdLess",id:3004,props:{psTimeSinceLastEventInMin:[1,"integer"]},weight:1,wamChannel:"private",privateStatsIdInt:0},{name:"TestAnonymousMonthlyId",id:2960,props:{},weight:1,wamChannel:"private",privateStatsIdInt:191000728},{name:"TestAnonymousWeeklyId",id:2956,props:{psTestBooleanField:[2,"boolean"],psTestStringField:[3,"string"],psTimeSinceLastEventInMin:[1,"integer"]},weight:1,wamChannel:"private",privateStatsIdInt:42196056},{name:"ChannelSimilarChannels",id:5202,props:{bannerStatus:[1,{DISPLAYED:0,HIDDEN:1,CLOSED:2}],bannerStatusReason:[2,{NO_SIMILAR_CHANNELS_FOUND:0,NOT_ENOUGH_SIMILAR_CHANNELS:1,SIMILAR_CHANNELS_FOUND:2,CLOSE_TAP:3,UNFOLLOW_TAP:4}],cid:[3,"string"],similarChannelDisplayRank:[4,"integer"],similarChannelEventSurface:[5,{CHANNEL_UPDATES_HOME:1,CHANNEL_THREAD:2,CHANNEL_DIRECTORY:3,CHANNEL_DIRECTORY_SEARCH:4,CHANNEL_PROFILE:5,CHANNEL_UPDATES_HOME_SEARCH:6}],similarChannelId:[6,"string"],similarChannelRank:[7,"integer"],similarChannelUserType:[9,{OWNER:1,ADMIN:2,FOLLOWER:3,GUEST:4}],similarChannelsSessionId:[10,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"UiMessageYourselfAction",id:3780,props:{uiMessageYourselfActionSessionId:[1,"string"],uiMessageYourselfActionType:[2,{NEW_CHAT_PRESSED:1,YOU_SELECTED:2,SEARCH_BAR_PRESSED:3,SEARCH_FULL_NAME_YOU_SELECTED:4,NEW_NTS_CREATED:5,EXISTING_NTS_OPENED:6}],uiMessageYourselfFunnelName:[3,{NEW_CHAT:1,CONTACT_AND_GLOBAL_SEARCH:2}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MediaStreamPlayback",id:1584,props:{bytesDownloadedStart:[4,"number"],bytesTransferred:[5,"number"],didPlay:[15,"boolean"],forcedPlayCount:[12,"integer"],initialBufferingT:[7,"timer"],mediaSize:[2,"number"],mediaType:[3,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],overallPlayT:[10,"timer"],overallT:[1,"timer"],playbackCount:[14,"integer"],playbackError:[17,"integer"],playbackOrigin:[16,{CONVERSATION:1,STATUS:2,CHANNELS:3}],playbackState:[11,{IDLE:1,READY_PLAY:2,READY_PAUSE:3,BUFFERING:4,OUTSIDE:5,ENDED:6,ERROR:7}],seekCount:[13,"integer"],totalRebufferingCount:[9,"integer"],totalRebufferingT:[8,"timer"],videoDuration:[6,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"PrivacyTipAction",id:4794,props:{privacyTipActionType:[1,{VIEW:1,CLICK_PRIVACY_TIP:2,CLICK_OK:3,CLICK_OUTSIDE:4}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"UiAction",id:472,props:{agentEngagementType:[9,{DIRECT_CHAT:0,INVOKED:1,MEMBER:2}],botType:[11,{UNKNOWN:0,METABOT:1,BOT_1P_BIZ:2,BOT_3P_BIZ:3}],dbMainThreadCount:[13,"integer"],dbReadsCount:[14,"integer"],dbWritesCount:[15,"integer"],deviceCount:[5,"integer"],isLid:[8,"boolean"],localAddressingMode:[10,{PN:1,LID:2}],participantCount:[6,"integer"],sizeBucket:[4,{LT32:1,LT64:2,LT128:3,LT256:4,LT512:5,LT1000:6,LT1024:16,LT1500:7,LT2000:8,LT2500:9,LT3000:10,LT3500:11,LT4000:12,LT4500:13,LT5000:14,LARGEST_BUCKET:15}],uiActionChatType:[7,{INDIVIDUAL:1,GROUP:2,SUBGROUP:3,DEFAULT_SUBGROUP:4,CHANNEL:5}],uiActionPreloaded:[2,"boolean"],uiActionT:[3,"timer"],uiActionTtrcSurfaceName:[12,"string"],uiActionType:[1,{OTHER:1,APP_OPEN:2,CHAT_OPEN:3,IMAGE_OPEN:4,FIRST_FTS_RESULT:5,CONTACTS_OPEN:6,GROUP_INFO_OPEN:7,MSG_INFO_OPEN:8,COMMUNITY_INFO_OPEN:9,DEFAULT_SUBGROUP_INFO_OPEN:10,COMMUNITY_CREATE:11,COMMUNITY_LINK:12,EMOJI_OBI_DECOMPRESSION:13,EMOJI_PNG_DECOMPRESSION:14,CHAT_LIST_OPEN:15,CALL_LIST_OPEN:16,CHANNEL_INFO_OPEN:17,TTRC:18}]},weight:5e3,wamChannel:"regular",privateStatsIdInt:-1},{name:"AdvertiseTooltipImpression",id:4024,props:{lwiEntryPoint:[1,{SMB_CATALG_LIST_LWI_ADVERTISE_BANNER:1,SMB_CATALOG_LIST_ADVERTISE_MENU_ITEM:2,SMB_BUSINESS_TOOLS_ADVERTISE_LIST_ITEM:3,SMB_STATUS_DETAILS_ADVERTISE_MENU_ITEM:4,SMB_STATUS_PREVIEW_ADVERTISE_MENU_ITEM:5,SMB_CONVERSATIONS_LIST_BANNER_WITH_VALID_PRODUCT:6,SMB_CONVERSATIONS_LIST_BANNER_WITHOUT_VALID_PRODUCT:7,SMB_STATUS_3DTOUCH_ADVERTISE_MENU_ITEM:8,SMB_HOME_SCREEN_OVERFLOW_MENU_ITEM:9,SMB_BUSINESS_TOOLS_ADVERTISE_LIST_FIRST_ITEM:10,SMB_SETTINGS_ADVERTISE_LIST_ITEM:11,SMB_ADVERTISE_FROM_NOTIFICATION:12,SMB_ADVERTISE_FROM_BANNER:13,SMB_ADVERTISE_FROM_DEEP_LINK:14,SMB_BUSINESS_TOOLS_TAB_ADVERTISE:15,SMB_CATALOG_LIST_ADVERTISE_BUTTON:16,SMB_PRODUCT_DETAILS_ADVERTISE_BUTTON:17,SMB_ADVERTISE_FROM_STATUS_MESSAGE:18,SMB_HOME_SCREEN_ICON:19,SMB_HOME_BANNER:20,SMB_ADVERTISE_FROM_STATUS_MESSAGE_SELF_VIEW:21,SMB_STATUS_MAIN_TAB_ADVERTISE:22,SMB_STATUS_MAIN_TAB_BANNER:23,SMB_BUSINESS_HOME_CARD_CREATE_FIRST_AD:24,SMB_BUSINESS_HOME_CARD_CREATE_RETURNING_AD:25,SMB_MEDIA_SHARE_VIA_GROUP:26,SMB_MEDIA_SHARE_VIA_BROADCAST:27,STATUS_PLAYBACK_SCREEN_ICON:28,CATALOG_SHARED_IN_GROUP:29,CATALOG_SHARED_IN_BROADCAST_LIST:30,CATALOG_SHARED_IN_SINGLE_CHAT:31,PRODUCT_SHARED_IN_SINGLE_CHAT:32,PRODUCT_SHARED_IN_BROADCAST_LIST:33,PRODUCT_SHARED_IN_GROUP:34,PRODUCT_LINK_SHARED_IN_SINGLE_CHAT:35,PRODUCT_LINK_SHARED_IN_BROADCAST_LIST:36,PRODUCT_LINK_SHARED_IN_GROUP:37,SMB_MESSAGING_GUIDE_AD_CREATION:38,SMB_BUSINESS_HOME_ADVERTISE_FROM_BANNER:39,SMB_STATUS_UPSELL_BOTTOM_SHEET:40,BUSINESS_PROFILE:41,SMB_BUSINESS_HOME_CARD_ACTIVE_AD:42,SMB_STATUS_CHANNELS_TAB_ADVERTISE:43,SMB_STATUS_CHANNELS_TAB_BANNER:44,SMB_PRODUCT_UPSELL_BOTTOM_SHEET:45,SMB_STATUS_CHANNELS_UPSELL_BOTTOM_SHEET:46,SMB_ADVERTISE_FROM_FORWARD_SCREEN_INDIVIDUAL:47,SMB_ADVERTISE_FROM_FORWARD_SCREEN_GROUP:48,SMB_ADVERTISE_FROM_FORWARD_SCREEN_BROADCAST:49,SMB_BUSINESS_HOME_CARD_ACTIVE_AD_DISMISS:50,SMB_BUSINESS_HOME_CARD_DRAFT_AD:51,SMB_BUSINESS_HOME_MANAGE_AD:52,SMB_BUSINESS_TOOLS_MANAGE_AD:53,SMB_HOME_SCREEN_OVERFLOW_MANAGE_ITEM:54,SMB_BUSINESS_HOME_QP_CARD:55,SMB_CREATED_AD:56,SMB_BUSINESS_HOME_CARD_COUPON_PROMOTION:57}],tooltipAction:[2,{EMPTY:1,ENTER_AD_CREATION_FLOW:2,DISMISS:3,IGNORE:4}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"ChannelLinkShare",id:4728,props:{channelLinkShareDirection:[1,{WHATSAPP:1,STATUS:2,EXTERNAL:3}],channelLinkShareEntryPoint:[2,{CHANNEL_INFO_PAGE:1,CHANNEL_THREAD:2,PRODUCER_CONTEXT_CARD:3}],channelLinkShareScreen:[4,{CONTEXT_CARD:1,CHANNEL_INFO:2,CHANNEL_THREAD:3,SHARE_LINK_SCREEN:4}],cid:[3,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"CommunityFeatureUsage",id:3696,props:{communityId:[2,"string"],communityUiAction:[4,{ENTRY:1,GROUP_NAV:2,GROUP_ADD:3,COMMUNITY_NAV:4}],communityUiFeature:[3,{SUBGROUP_SWITCH:1}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"GroupProfilePicture",id:3652,props:{groupCreationDs:[1,"string"],groupProfileAction:[7,{CHANGE_PROFILE_PHOTO:1,TAP_ACTION_ITEM_TAKE_PHOTO:2,TAP_ACTION_ITEM_VIEW_PHOTO:3,TAP_ACTION_ITEM_EMOJI_STICKER:4,TAP_ACTION_ITEM_UPLOAD_PHOTO:5,TAP_ACTION_ITEM_REMOVE_PHOTO:6,TAP_ACTION_ITEM_WEB_SEARCH:7,EMOJI_PANEL_OPEN:8,STICKER_PANEL_OPEN:9,PROFILE_PIC_UPDATED:10}],hasProfilePicture:[3,"boolean"],isAdmin:[4,"boolean"],preciseGroupSizeBucket:[5,{LT4:1,LT8:2,LT16:3,LT32:4,LT64:5,LT128:6,LT256:7,LT512:8,LT1000:9,LT1500:10,LT2000:11,LT2500:12,LT3000:13,LT3500:14,LT4000:15,LT4500:16,LT5000:17,LARGEST_BUCKET:18}],profilePictureType:[6,{PHOTO_CAMERA:1,PHOTO_UPLOAD:2,WEB_SEARCH:3,EMOJI:4,STICKER:5,REMOVE_PHOTO:6}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"KeepInChatNux",id:3486,props:{chatEphemeralityDuration:[1,"integer"],kicNuxActionName:[2,{FIRST_DM_NUX_IMPRESSION:1,KIC_NUX_IMPRESSION:2,KIC_NUX_LEARN_MORE_TAP:3,KIC_SYSTEM_MESSAGE_GENERATE:4}],threadId:[3,"string"],trigger:[4,{CHAT_ENTRY:1,SYSTEM_MESSAGE:2,KEEP_MESSAGE_FIRST_TIME:3,USER_MESSAGE_KEPT:4,KEPT_FOLDER_TAP_FIRST_TIME:5,UNKEEP_MESSAGE_FIRST_TIME:6,EPHEMERAL_SETTINGS:7}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"LwiEntryPointImpression",id:2906,props:{businessToolsSessionId:[2,"string"],catalogSessionId:[1,"string"],itemsCount:[7,"integer"],lwiEntryPoint:[3,{SMB_CATALG_LIST_LWI_ADVERTISE_BANNER:1,SMB_CATALOG_LIST_ADVERTISE_MENU_ITEM:2,SMB_BUSINESS_TOOLS_ADVERTISE_LIST_ITEM:3,SMB_STATUS_DETAILS_ADVERTISE_MENU_ITEM:4,SMB_STATUS_PREVIEW_ADVERTISE_MENU_ITEM:5,SMB_CONVERSATIONS_LIST_BANNER_WITH_VALID_PRODUCT:6,SMB_CONVERSATIONS_LIST_BANNER_WITHOUT_VALID_PRODUCT:7,SMB_STATUS_3DTOUCH_ADVERTISE_MENU_ITEM:8,SMB_HOME_SCREEN_OVERFLOW_MENU_ITEM:9,SMB_BUSINESS_TOOLS_ADVERTISE_LIST_FIRST_ITEM:10,SMB_SETTINGS_ADVERTISE_LIST_ITEM:11,SMB_ADVERTISE_FROM_NOTIFICATION:12,SMB_ADVERTISE_FROM_BANNER:13,SMB_ADVERTISE_FROM_DEEP_LINK:14,SMB_BUSINESS_TOOLS_TAB_ADVERTISE:15,SMB_CATALOG_LIST_ADVERTISE_BUTTON:16,SMB_PRODUCT_DETAILS_ADVERTISE_BUTTON:17,SMB_ADVERTISE_FROM_STATUS_MESSAGE:18,SMB_HOME_SCREEN_ICON:19,SMB_HOME_BANNER:20,SMB_ADVERTISE_FROM_STATUS_MESSAGE_SELF_VIEW:21,SMB_STATUS_MAIN_TAB_ADVERTISE:22,SMB_STATUS_MAIN_TAB_BANNER:23,SMB_BUSINESS_HOME_CARD_CREATE_FIRST_AD:24,SMB_BUSINESS_HOME_CARD_CREATE_RETURNING_AD:25,SMB_MEDIA_SHARE_VIA_GROUP:26,SMB_MEDIA_SHARE_VIA_BROADCAST:27,STATUS_PLAYBACK_SCREEN_ICON:28,CATALOG_SHARED_IN_GROUP:29,CATALOG_SHARED_IN_BROADCAST_LIST:30,CATALOG_SHARED_IN_SINGLE_CHAT:31,PRODUCT_SHARED_IN_SINGLE_CHAT:32,PRODUCT_SHARED_IN_BROADCAST_LIST:33,PRODUCT_SHARED_IN_GROUP:34,PRODUCT_LINK_SHARED_IN_SINGLE_CHAT:35,PRODUCT_LINK_SHARED_IN_BROADCAST_LIST:36,PRODUCT_LINK_SHARED_IN_GROUP:37,SMB_MESSAGING_GUIDE_AD_CREATION:38,SMB_BUSINESS_HOME_ADVERTISE_FROM_BANNER:39,SMB_STATUS_UPSELL_BOTTOM_SHEET:40,BUSINESS_PROFILE:41,SMB_BUSINESS_HOME_CARD_ACTIVE_AD:42,SMB_STATUS_CHANNELS_TAB_ADVERTISE:43,SMB_STATUS_CHANNELS_TAB_BANNER:44,SMB_PRODUCT_UPSELL_BOTTOM_SHEET:45,SMB_STATUS_CHANNELS_UPSELL_BOTTOM_SHEET:46,SMB_ADVERTISE_FROM_FORWARD_SCREEN_INDIVIDUAL:47,SMB_ADVERTISE_FROM_FORWARD_SCREEN_GROUP:48,SMB_ADVERTISE_FROM_FORWARD_SCREEN_BROADCAST:49,SMB_BUSINESS_HOME_CARD_ACTIVE_AD_DISMISS:50,SMB_BUSINESS_HOME_CARD_DRAFT_AD:51,SMB_BUSINESS_HOME_MANAGE_AD:52,SMB_BUSINESS_TOOLS_MANAGE_AD:53,SMB_HOME_SCREEN_OVERFLOW_MANAGE_ITEM:54,SMB_BUSINESS_HOME_QP_CARD:55,SMB_CREATED_AD:56,SMB_BUSINESS_HOME_CARD_COUPON_PROMOTION:57}],lwiSubEntryPoint:[6,{SMB_HOME_SCREEN_CONVERSATIONS_TAB:1,SMB_HOME_SCREEN_STATUS_TAB:2,SMB_HOME_SCREEN_CALL_HISTORY_TAB:3,SMB_HOME_SCREEN_COMMUNITIES_TAB:4,SMB_HOME_SCREEN_BIZ_HOME_TAB:5}],statusSessionId:[5,"integer"],userHasLinkedFbPage:[4,"boolean"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"LwiEntryTap",id:2770,props:{businessToolsSessionId:[4,"string"],catalogSessionId:[2,"string"],itemsCount:[11,"integer"],lwiEntryPoint:[3,{SMB_CATALG_LIST_LWI_ADVERTISE_BANNER:1,SMB_CATALOG_LIST_ADVERTISE_MENU_ITEM:2,SMB_BUSINESS_TOOLS_ADVERTISE_LIST_ITEM:3,SMB_STATUS_DETAILS_ADVERTISE_MENU_ITEM:4,SMB_STATUS_PREVIEW_ADVERTISE_MENU_ITEM:5,SMB_CONVERSATIONS_LIST_BANNER_WITH_VALID_PRODUCT:6,SMB_CONVERSATIONS_LIST_BANNER_WITHOUT_VALID_PRODUCT:7,SMB_STATUS_3DTOUCH_ADVERTISE_MENU_ITEM:8,SMB_HOME_SCREEN_OVERFLOW_MENU_ITEM:9,SMB_BUSINESS_TOOLS_ADVERTISE_LIST_FIRST_ITEM:10,SMB_SETTINGS_ADVERTISE_LIST_ITEM:11,SMB_ADVERTISE_FROM_NOTIFICATION:12,SMB_ADVERTISE_FROM_BANNER:13,SMB_ADVERTISE_FROM_DEEP_LINK:14,SMB_BUSINESS_TOOLS_TAB_ADVERTISE:15,SMB_CATALOG_LIST_ADVERTISE_BUTTON:16,SMB_PRODUCT_DETAILS_ADVERTISE_BUTTON:17,SMB_ADVERTISE_FROM_STATUS_MESSAGE:18,SMB_HOME_SCREEN_ICON:19,SMB_HOME_BANNER:20,SMB_ADVERTISE_FROM_STATUS_MESSAGE_SELF_VIEW:21,SMB_STATUS_MAIN_TAB_ADVERTISE:22,SMB_STATUS_MAIN_TAB_BANNER:23,SMB_BUSINESS_HOME_CARD_CREATE_FIRST_AD:24,SMB_BUSINESS_HOME_CARD_CREATE_RETURNING_AD:25,SMB_MEDIA_SHARE_VIA_GROUP:26,SMB_MEDIA_SHARE_VIA_BROADCAST:27,STATUS_PLAYBACK_SCREEN_ICON:28,CATALOG_SHARED_IN_GROUP:29,CATALOG_SHARED_IN_BROADCAST_LIST:30,CATALOG_SHARED_IN_SINGLE_CHAT:31,PRODUCT_SHARED_IN_SINGLE_CHAT:32,PRODUCT_SHARED_IN_BROADCAST_LIST:33,PRODUCT_SHARED_IN_GROUP:34,PRODUCT_LINK_SHARED_IN_SINGLE_CHAT:35,PRODUCT_LINK_SHARED_IN_BROADCAST_LIST:36,PRODUCT_LINK_SHARED_IN_GROUP:37,SMB_MESSAGING_GUIDE_AD_CREATION:38,SMB_BUSINESS_HOME_ADVERTISE_FROM_BANNER:39,SMB_STATUS_UPSELL_BOTTOM_SHEET:40,BUSINESS_PROFILE:41,SMB_BUSINESS_HOME_CARD_ACTIVE_AD:42,SMB_STATUS_CHANNELS_TAB_ADVERTISE:43,SMB_STATUS_CHANNELS_TAB_BANNER:44,SMB_PRODUCT_UPSELL_BOTTOM_SHEET:45,SMB_STATUS_CHANNELS_UPSELL_BOTTOM_SHEET:46,SMB_ADVERTISE_FROM_FORWARD_SCREEN_INDIVIDUAL:47,SMB_ADVERTISE_FROM_FORWARD_SCREEN_GROUP:48,SMB_ADVERTISE_FROM_FORWARD_SCREEN_BROADCAST:49,SMB_BUSINESS_HOME_CARD_ACTIVE_AD_DISMISS:50,SMB_BUSINESS_HOME_CARD_DRAFT_AD:51,SMB_BUSINESS_HOME_MANAGE_AD:52,SMB_BUSINESS_TOOLS_MANAGE_AD:53,SMB_HOME_SCREEN_OVERFLOW_MANAGE_ITEM:54,SMB_BUSINESS_HOME_QP_CARD:55,SMB_CREATED_AD:56,SMB_BUSINESS_HOME_CARD_COUPON_PROMOTION:57}],lwiFlowId:[1,"string"],lwiSubEntryPoint:[7,{SMB_HOME_SCREEN_CONVERSATIONS_TAB:1,SMB_HOME_SCREEN_STATUS_TAB:2,SMB_HOME_SCREEN_CALL_HISTORY_TAB:3,SMB_HOME_SCREEN_COMMUNITIES_TAB:4,SMB_HOME_SCREEN_BIZ_HOME_TAB:5}],statusSessionId:[6,"integer"],statusTypeMedia:[12,{IMAGE:1,VIDEO:2}],userHasLinkedFbPage:[5,"boolean"],waCampaignId:[10,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"LwiScreen",id:2772,props:{adContentRecommendation:[41,{REGULAR:1,RECOMMENDED:2}],adMediaOriginalAspectRatio:[47,"string"],adMediaPreviewAspectRatio:[48,"string"],adMediaTypeSelected:[40,{IMAGE:1,VIDEO:2}],adsContentSelected:[42,{LWI_ADS_CONTENT_TYPE_PRODUCT:1,LWI_ADS_CONTENT_TYPE_STATUS:2,LWI_ADS_CONTENT_TYPE_DEVICE_MEDIA:3,LWI_ADS_CONTENT_TYPE_BUSINESS_PROFILE_PIC:4,LWI_ADS_CONTENT_TYPE_CAMERA:9,LWI_ADS_CONTENT_TYPE_RECENTLY_USED_MEDIA:10,LWI_ADS_CONTENT_TYPE_CATALOGS_ALL:11,LWI_ADS_CONTENT_TYPE_STATUSES_ALL:12}],alertCount:[33,"integer"],audienceType:[45,{REGION:1,MAP:2}],billingStatus:[36,{UNKNOWN:1,NO_ACTION_REQUIRED:2,HAS_PENDING_ACTIONS:3}],createAdEnabled:[12,"boolean"],ctwaAdAccountType:[58,{CTWA_FB_PAGE_LINKED_ACCOUNT:0,CTWA_FB_PAGELESS_ACCOUNT:1,CTWA_WA_AD_ACCOUNT:2}],ctwaLoginType:[59,{CTWA_LOGIN_TYPE_FB_NATIVE:0,CTWA_LOGIN_TYPE_FB_WEB:1,CTWA_LOGIN_TYPE_WA_AD_ACCOUNT:2}],defaultAdsContentSelected:[9,{LWI_ADS_CONTENT_TYPE_PRODUCT:1,LWI_ADS_CONTENT_TYPE_STATUS:2,LWI_ADS_CONTENT_TYPE_DEVICE_MEDIA:3,LWI_ADS_CONTENT_TYPE_BUSINESS_PROFILE_PIC:4,LWI_ADS_CONTENT_TYPE_CAMERA:9,LWI_ADS_CONTENT_TYPE_RECENTLY_USED_MEDIA:10,LWI_ADS_CONTENT_TYPE_CATALOGS_ALL:11,LWI_ADS_CONTENT_TYPE_STATUSES_ALL:12}],defaultAudienceLocationType:[57,{CITY_LEVEL:1,COUNTRY_LEVEL:2}],itemCount:[39,"integer"],lwiAdCampaignId:[46,"string"],lwiAdsIdentityType:[22,{PAGE:1,WHATSAPP:2}],lwiAlertReason:[6,{LWI_ERROR_CATALOG_LIST_FB_PAGE_NOT_LINKED:1,LWI_ERROR_CATALOG_LIST_EMPTY:2,LWI_ERROR_CATALOG_LIST_NO_ELIGIBLE_PRODUCT:3,LWI_ERROR_UNSUPPORTED_OLD_FB_VERSION:4,LWI_ERROR_STATUS_EMPTY:5,LWI_NONCE_ERROR:6,LWI_ERROR_AD_ACCOUNT_CURRENCY_MISMATCH:7,LWI_AD_CREATION_ERROR:8,LWI_MISSING_PAYMENT_METHOD:9,LWI_NO_INTERNET_CONNECTION:10,LWI_SPECIAL_ADS_CATEGORY:11,LWI_LOGIN_ON_FACEBOOK:12,LWI_REMOVE_FB_ACCOUNT:13,LWI_WEBSITE_NOT_SAFE:14,LWI_WEBSITE_NOT_AVAILABLE:15,LWI_NON_HTTPS:16,LWI_FB_WEB_LOGIN_TOKEN_FETCH_ERROR:17,LWI_RETRY_WEB_LOGIN_DIALOG_ERROR:18,LWI_UNABLE_TO_REDIRECT_BROWSER_NOT_FOUND:19,LWI_AD_ACCOUNT_SWITCH_ERROR:20,LWI_POLICY_REVIEW_REQUIRED:21,LWI_SOMETHING_WENT_WRONG:22,LWI_MAXIMUM_RETRY_CODE_REACH:23,LWI_ERROR_WRONG_CODE:24,LWI_ERROR_INCORRECT_EMAIL_FORMAT:25,LWI_NO_RESULTS_FOUND:26,LWI_ACTION_ESTIMATED_REACH_FAILED_TO_LOAD:27,LWI_ACTION_INVALID_USER:28,LWI_LOCATION_ACCESS_PERMISSION:29,LWI_ACTION_INVALID_MEDIA_SELECTION:30,LWI_ACTION_SCREEN_DESTROYED:31,LWI_ACTION_INFO_BUTTON_TAPPED:32,LWI_INTEGRITY_ERROR:33,LWI_INVALID_STATE:34,LWI_FAILED_TO_ENROLL_COUPON:35,LWI_CHANGES_NOT_SAVED:36,LWI_LOCATION_SYSTEM_SETTING_RESOLUTION_REQUIRED:37}],lwiBudgetInLocal:[15,"integer"],lwiBudgetOptionsInLocal:[54,"string"],lwiCtwaAdCtaType:[24,{PROMOTE_AGAIN:1,PAUSE_AD:2,RESUME_AD:3,ADD_BUDGET:4,VIEW_AD:5,COMPLETE_PAYMENT:6,RECREATE_AD_WITH_RECOMMENDATION:7,EDIT_AD_WITH_RECOMMENDATION:8}],lwiCtwaAdStatusType:[25,{ACTIVE:1,SCHEDULED:2,PAUSED:3,NOT_DELIVERING:4,REJECTED:5,FINISHED:6,IN_REVIEW:7,COMPLETED:8,EXTENDABLE:9,UNABLE_TO_CREATE:10,LIMITED_DELIVERY:11}],lwiCurrency:[16,"string"],lwiDefaultBudgetInLocal:[17,"integer"],lwiDefaultDurationInDays:[18,"integer"],lwiDefaultTargetingSpec:[19,{UNKOWN:1,MATCHES_TARGETING_SPEC:2,DIFFERS_FROM_TARGETING_SPEC:3}],lwiDurationInDays:[20,"integer"],lwiEventSequenceNumber:[2,"integer"],lwiExtras:[30,"string"],lwiFlowId:[1,"string"],lwiIsFbAppInstalled:[27,"boolean"],lwiIsIgAppInstalled:[51,"boolean"],lwiLocationTypesSetOnAudienceSelection:[55,"string"],lwiMaxDurationInDays:[52,"integer"],lwiMinDurationInDays:[53,"integer"],lwiScreenAction:[5,{LWI_ACTION_VIEW:1,LWI_ACTION_BACK_BUTTON_TAPPED:2,LWI_ACTION_CREATE_ADS_TAPPED:3,LWI_ACTION_MANAGE_ADS_TAPPED:4,LWI_ACTION_LEARN_MORE_TAPPED:5,LWI_ACTION_PRODUCT_SELECTED:6,LWI_ACTION_CONTINUE_TAPPED:7,LWI_MANAGE_ADS_DISPLAYED:8,LWI_ALERT:9,LWI_ACTION_PROMOTE_CATALOG_ITEMS_TAPPED:10,LWI_ACTION_PROMOTE_STATUSES_TAPPED:11,LWI_ACTION_PROMOTE_NEW_CONTENT_TAPPED:12,LWI_ACTION_CONTACT_US_TAPPED:13,LWI_ACTION_HELP_TAPPED:14,LWI_ACTION_STATUS_SELECTED:15,LWI_ACTION_PRODUCT_DESELECTED:16,LWI_ACTION_NUX_CONTINUE_TAPPED:17,LWI_ACTION_RECOMMENDED_CATALOG_ITEM_SELECTED:18,LWI_ACTION_RECOMMENDED_STATUS_ITEM_SELECTED:19,LWI_ACTION_NO_CATALOG_TO_ADVERTISE_TAPPED:20,LWI_ACTION_NO_STATUS_TO_ADVERTISE_TAPPED:21,LWI_CREATE_AD_DISPLAYED:22,LWI_ACTION_CONTINUE_TO_MEDIA_SELECTOR_TAPPED:23,LWI_ACTION_AD_DESCRIPTION_TAPPED:24,LWI_ACTION_AD_DESCRIPTION_SAVE_TAPPED:25,LWI_ACTION_AD_DESCRIPTION_CANCEL_TAPPED:26,LWI_ACTION_EDIT_BUDGET_TAPPED:27,LWI_ACTION_DAILY_BUDGET_SELECTED:28,LWI_ACTION_CUSTOM_DAILY_BUDGET_TAPPED:29,LWI_ACTION_CUSTOM_DAILY_BUDGET_SAVE_TAPPED:30,LWI_ACTION_CUSTOM_DAILY_BUDGET_CANCEL_TAPPED:31,LWI_ACTION_AD_DURATION_UPDATED:32,LWI_ACTION_EDIT_AUDIENCE_TAPPED:33,LWI_ACTION_EDIT_AUDIENCE_LOCATION_TAPPED:34,LWI_ACTION_AUDIENCE_LOCATION_SELECTED:35,LWI_ACTION_AUDIENCE_LOCATION_DESELECTED:36,LWI_ACTION_AUDIENCE_AGE_RANGE_UPDATED:37,LWI_ACTION_AUDIENCE_GENDER_SELECTED:38,LWI_ACTION_SPECIAL_ADS_CATEGORY_TAPPED:39,LWI_ACTION_SPECIAL_ADS_CATEGORY_CONTINUE_TAPPED:40,LWI_ACTION_SPECIAL_ADS_CATEGORY_CANCEL_TAPPED:41,LWI_ACTION_ADD_PAYMENT_TAPPED:42,LWI_ACTION_CREATE_AD_TAPPED:43,LWI_ACTION_EDIT_ACCOUNT_TAPPED:44,LWI_ACTION_EDIT_PAYMENT_TAPPED:45,LWI_ACTION_REMOVE_ACCOUNT_TAPPED:46,LWI_ACTION_REMOVE_ACCOUNT_REMOVE_TAPPED:47,LWI_ACTION_REMOVE_ACCOUNT_CANCEL_TAPPED:48,LWI_ACTION_CONSENT_CONTINUE_TAPPED:49,LWI_ACTION_AD_CREATED_BANNER_IMPRESSION:50,LWI_ACTION_AD_CREATED_BANNER_CLICK:51,LWI_ACTION_AD_CREATED_BANNER_DISMISS:52,LWI_ACTION_AD_SETTINGS_TAPPED:53,LWI_ACTION_REFRESH_AD_DETAILS_SCREEN:54,LWI_ACTION_CONTINUE_TO_AD_SETTINGS_WITH_RECOMMENDED_STATUS_SELECTED:55,LWI_ACTION_CONTINUE_TO_AD_SETTINGS_WITH_PHONE_MEDIA_SELECTED:56,LWI_ACTION_MEDIA_SELECTION_COMPLETE:57,LWI_ACTION_CROP_IMAGE_DONE:58,LWI_ACTION_CONSENT_NOT_YOU_TAPPED:59,LWI_ACTION_SWITCH_ACCOUNT_TAPPED:60,LWI_ACTION_SWITCH_ACCOUNT_SWITCH_TAPPED:61,LWI_ACTION_SWITCH_ACCOUNT_CANCEL_TAPPED:62,LWI_ACTION_WEB_LOGIN_PAGE_LOADED:63,LWI_ACTION_WEB_LOGIN_SUCCESS:64,LWI_ACTION_CONSENT_LOGIN_TAPPED:65,LWI_ACTION_WEB_LOGIN_CANCELLED:66,LWI_ACTION_WEB_LOGIN_TRY_AGAIN:67,LWI_NEW_MANAGE_ADS_TAB_ADS_LOADED:68,LWI_NEW_MANAGE_ADS_TAB_AD_CLICKED:69,LWI_NEW_MANAGE_ADS_TAB_AD_CTA_MENU_CLICKED:70,LWI_NEW_MANAGE_ADS_TAB_AD_CTA_ITEM_CLICKED:71,LWI_NEW_MANAGE_ADS_TAB_EDUCATION_BANNER_SHOWN:72,LWI_NEW_MANAGE_ADS_TAB_EDUCATION_BANNER_CANCELLED:73,LWI_NEW_MANAGE_ADS_TAB_CONSENT_SHOWN:74,LWI_NEW_MANAGE_ADS_TAB_CONSENT_ACCEPTED:75,LWI_NEW_MANAGE_ADS_TAB_CONSENT_DIFFERENT_USER_SIGN_IN:76,LWI_NEW_MANAGE_ADS_TAB_WEB_LOGIN_CONSENT_SCREEN_SHOWN:77,LWI_NEW_MANAGE_ADS_TAB_CONSENT_WEB_LOGIN_SIGN_IN:78,LWI_NEW_MANAGE_ADS_TAB_WEB_LOGIN_SUCCESSFUL:79,LWI_MANAGE_ADS_TAPPED_V2:80,LWI_NEW_MANAGE_ADS_TAB_AD_CREATED_BANNER_CANCELLED:81,LWI_NEW_MANAGE_ADS_TAB_AD_CREATED_BANNER_BACK_PRESED:82,LWI_NO_PERMISSION_TO_MANAGE_ADS_DIALOG_SHOWN:83,LWI_SWITCH_ACCCOUNT_ON_NO_MANAGE_ADS_PERMISSION_DIALOG_PRESSED:84,LWI_LOGIN_PRESSED_ON_SESSION_EXPIRED:85,LWI_ASYNC_DATA:86,LWI_ACTION_AD_ACCOUNTS_TAPPED:87,LWI_ACTION_AD_ACCOUNT_SELECTED:88,LWI_ACTION_AD_ACCOUNT_SWITCH_SUCCESS:89,LWI_ACTION_AD_ACCOUNT_SWITCH_CANCELLED:90,LWI_ACTION_SELECT_SAVED_AUDIENCE:91,LWI_ACTION_SELECT_DEFAULT_AUDIENCE:92,LWI_ACTION_EDIT_DEFAULT_AUDIENCE:93,LWI_ACTION_NON_DISCRIMINATION_POLICY_ACCEPT_TAPPED:94,LWI_ACTION_POLICY_REVIEW_REQUIRED_EXIT_TAPPED:95,LWI_ACTION_POLICY_REVIEW_REQUIRED_REVIEW_TAPPED:96,LWI_ACTION_NON_DISCRIMINATION_POLICY_ACCEPT_SUCCESS:97,LWI_ACTION_NON_DISCRIMINATION_POLICY_CANCELLED:98,LWI_ACTION_NON_DISCRIMINATION_POLICY_TRY_AGAIN:99,LWI_ACTION_LOADED:100,LWI_CTA_MENU_CLICKED:101,LWI_ACTION_CTA_ITEM_CLICKED:102,LWI_ACTION_AD_PREVIEW_TAPPED:103,LWI_AD_PREVIEW_STARTED:104,LWI_BILLING_LOADED:105,LWI_BILLING_ERROR:106,LWI_IMAGE_URL_DETAILS_LOADED:107,LWI_ACTION_BILLING_RETRY_TAPPED:108,LWI_ACTION_VIEW_DETAILED_INSIGHTS_TAPPED:109,LWI_ACTION_VIEW_ADVANCED_AUDIENCE_TAPPED:110,LWI_ACTION_PROMOTE_AGAIN_TAPPED:111,LWI_ACTION_EDIT_ON_FACEBOOK_TAPPED:113,LWI_ACTION_SWIPE_REFRESH:114,LWI_ACTION_VIEW_FACEBOOK_AD_PREVIEW:115,LWI_ACTION_VIEW_INSTAGRAM_AD_PREVIEW:116,LWI_ACTION_NEXT_BUTTON_TAPPED:117,LWI_ACTION_LOADING_ERROR:118,LWI_ACTION_DIALOG_DISMISSED:119,LWI_NETWORK_ERROR_SHOWN:120,LWI_GENERIC_ERROR_SHOWN:121,LWI_RETRY_BUTTON_TAPPED:122,LWI_ACTION_RECOMMENDED_BUINESS_POFILE_ITEM_SELECTED:123,LWI_ACTION_BUINESS_POFILE_ITEM_SELECTED:124,LWI_ACTION_CONTINUE_TO_AD_SETTINGS_WITH_RECOMMENDED_BUSINESS_PROFILE_SELECTED:125,LWI_ACTION_CONTINUE_TO_AD_SETTINGS_WITH_BUSINESS_PROFILE_SELECTED:126,LWI_ACTION_EDIT_IMAGE_DONE:127,LWI_ACTION_WA_PAGELESS_BUTTON_TAPPED:128,LWI_ACTION_SWITCH_FACEBOOK_ACCOUNT_BUTTON_TAPPED:129,LWI_ACTION_TRY_AGAIN_DIALOG_BUTTON_TAPPED:130,LWI_ACTION_CANCEL_DIALOG_BUTTON_TAPPED:131,LWI_PAGE_PERMISSION_ERROR_RESOLVED:132,LWI_PAGE_PERMISSION_ERROR_UNRESOLVED:133,LWI_ACTION_PROMOTE_TEXT_TAPPED:134,LWI_ACTION_EXIT_CONF_SHOWN:135,LWI_ACTION_EXIT_CONF_EXIT_TAPPED:136,LWI_ACTION_EXIT_CONF_RETURN_TO_AD_TAPPED:137,AD_WITH_ALERT_DISPLAYED:138,LWI_ACTION_CONTINUE_TO_AD_SETTINGS_WITH_CAMERA_SELECTED:139,LWI_ACTION_CONTINUE_TO_AD_SETTINGS_WITH_GALLERY_SELECTED:140,LWI_ACTION_CAMERA_ITEM_SELECTED:141,LWI_ACTION_GALLERY_ITEM_SELECTED:142,LWI_ACTION_CHOOSE_DIFFERENT_MEDIA_CLICKED:143,LWI_ACTION_GET_STARTED_CLICKED:144,LWI_ACTION_SELECT_PHOTO_FROM_GALLERY:145,LWI_ACTION_PUBLISH_FB_PAGE_BUTTON_TAPPED:146,LWI_ACTION_ADMIN_RIGHTS_SUB_STEP_VIEW:147,LWI_ACTION_SEND_CODE_BUTTON_TAPPED:148,LWI_ACTION_OPEN_EMAIL_APP_TAPPED:149,LWI_ACTION_CHANGE_EMAIL_TAPPED:150,LWI_ACTION_RESEND_TAPPED:151,LWI_ACTION_NONCE_SUBMIT:152,LWI_ACTION_VERIFY_SUCCESS:153,LWI_ACTION_CODE_FIELD_TAPPED:154,LWI_ACTION_AD_ACC_SETTINGS_MENU_OPT_TAPPED:155,LWI_ACTION_AD_PAYMENTS_ROW_TAPPED:156,LWI_ACTION_AD_DESIGN_UPDATE_TAPPED:157,LWI_ACTION_AD_SETTINGS_UPDATE_TAPPED:158,LWI_ACTION_CANCEL_BUTTON_TAPPED:159,LWI_ACTION_SAVE_BUTTON_TAPPED:160,LWI_EDIT_AD_ACC_EMAIL_SUCCESS:161,LWI_ACTION_AD_APPEAL_BANNER_SHOWN:164,LWI_ACTION_APPEAL_REQUEST_REVIEW_TAPPED:165,LWI_ACTION_APPEAL_VIEW_STATUS_TAPPED:166,LWI_ACTION_APPEAL_LEARN_MORE_TAPPED:167,LWI_ACTION_AD_ACCOUNT_APPEAL_BANNER_SHOWN:168,LWI_ACTION_SUBMIT_TAPPED:169,LWI_MEDIA_PARSING_STARTED:170,LWI_MEDIA_PARSING_SUCCESS:171,LWI_MEDIA_PARSING_FAILURE:172,LWI_ACTION_VIDEO_AD_PREVIEW_AUDIO_MUTE_TAPPED:174,LWI_ACTION_VIDEO_AD_PREVIEW_AUDIO_UNMUTE_TAPPED:175,SMB_STATUS_UPSELL_BOTTOM_SHEET_DISMISS:178,LWI_ACTION_ITEM_SELECTED:179,LWI_ACTION_CONTEXTUAL_HELP_OPENED:180,LWI_ACTION_EMAIL_INPUT_STARTED:181,LWI_ACTION_SEARCH_ADDRESS_TAPPED:182,LWI_ACTION_SAVE_MAP_AUDIENCE_TAPPED:183,LWI_ACTION_MAP_RADIUS_SELECTED:184,LWI_ACTION_MAP_LOCATION_ITEM_TAPPED:185,LWI_ACTION_SAVE_MAP_AUDIENCE_SUCCESS:186,LWI_ACTION_AUDIENCE_REGION_OPTION_SELECTED:187,LWI_ACTION_AUDIENCE_MAP_OPTION_SELECTED:188,LWI_ACTION_EDIT_MAP_AUDIENCE_TAPPED:189,LWI_ACTION_ESTIMATED_REACH_SUCCESS:190,LWI_ACTION_CONTINUE_TO_STATUS_PICKER_SELECTED:191,LWI_ACTION_ITEM_DESELECT:192,LWI_ACTION_EDIT_MEDIA_CLICKED:193,LWI_ACTION_EDIT_MEDIA_COMPLETE:194,LWI_ACTION_EDIT_MEDIA_CANCELLED:195,LWI_ACTION_AD_CREATION_HUB_DRAFT_AD_TAP:196,LWI_ACTION_AD_CREATION_DRAFT_AD_SAVED:197,LWI_NEW_MANAGE_ADS_TAB_STARTED_LOADING_ADS:198,LWI_MANAGE_ADS_ITEM_MAIN_CTA_IMPRESSION:199,LWI_MANAGE_ADS_ITEM_MAIN_CTA_TAP:200,LWI_ACTION_WEB_LINK_CLICKED:201,LWI_ACTION_NON_DISCRIMINATION_POLICY_HEC_CLICKED:202,LWI_ACTION_NON_DISCRIMINATION_POLICY_FULL_CLICKED:203,LWI_ACTION_BUDGET_DURATION_INFO_ICON_TAPPED:204,LWI_ACTION_AUDIENCE_INFO_ICON_TAPPED:205,LWI_ACTION_REVIEW_AD_TAPPED:206,LWI_SIMPLIFIED_LOADER_AUTO_DISMISSED:207,LWI_PENDING_PAYMENT_REQUEST_STARTED:208,LWI_ACTION_LOGIN_PROMPT_FOR_MAP_OPTION_SHOWN:209,LWI_ACTION_MAP_USE_CURRENT_LOCATION_TAPPED:210,LWI_ACTION_LOCATION_PERMISSION_ACCESS_ALLOW_TAPPED:211,LWI_ACTION_LOCATION_PERMISSION_ACCESS_DENY_TAPPED:212,LWI_ACTION_ITEM_DESELECTED:213,LWI_ACTION_MEDIA_FILTER_APPLIED:214,LWI_ACTION_MEDIA_FILTER_CLEARED:215,LWI_ACTION_SCREEN_DESTROYED:216,LWI_ACTION_GALLERY_REQUEST_PERMISSION_DIALOG_SHOWN:217,LWI_ACTION_GALLERY_REQUEST_GRANTED:218,LWI_ACTION_GALLERY_REQUEST_DENIED:219,LWI_FAST_TRACK_STEP_LOADED:220,LWI_FAST_TRACK_STEP_CLOSED:221,LWI_CUSTOM_TAB_OPENED:222,LWI_CUSTOM_TAB_REDIRECT_RECEIVED:223,LWI_ACTION_CURRENT_LOCATION_APPLIED:224,LWI_ACTION_PADDED_STATUS_IMAGE_DISPLAYED:225,LWI_ACTION_GOOGLE_DIALOG_CANCELLED:226,LWI_ACTION_GOOGLE_ACCOUNT_SELECTED:227,LWI_ACTION_GOOGLE_SIGNIN_TAPPED:228,LWI_ACTION_GOOGLE_ACCOUNT_SELECTION_FAILED:229,LWI_ACTION_GOOGLE_ACCOUNT_ONBOARDING_FAILED:230,LWI_ACTION_GOOGLE_ACCOUNT_ONBOARDING_SUCCESS:231,LWI_ACTION_AD_STATUS_ISSUE_BANNER_SHOWN:232,LWI_ACTION_AD_STATUS_ISSUE_BANNER_LEARN_MORE_TAPPED:233,LWI_ACTION_CROP_MEDIA_CLICKED:234,LWI_ACTION_CROP_MEDIA_COMPLETE:235,LWI_ACTION_CROP_MEDIA_CANCELLED:236,LWI_ACTION_USE_EMAIL_TAPPED:237,LWI_ACTION_USE_FB_TAPPED:238,LWI_ACTION_COUPON_PROMOTION_NUX_CONTINUE_TAPPED:239,LWI_ACTION_SAVE_CHANGES_DIALOG_OPTION_TAPPED:240,LWI_ACTION_GO_BACK_DIALOG_OPTION_TAPPED:241,LWI_ACTION_LOCATION_SYSTEM_SETTING_TURN_ON_OK_TAPPED:242,LWI_ACTION_LOCATION_SYSTEM_SETTING_TURN_ON_NO_THANKS_TAPPED:243}],lwiScreenReference:[4,{LWI_SCREEN_ADSCREATION_HUB:1,LWI_SCREEN_PRODUCT_SELECTOR:2,LWI_SCREEN_CATALOG_LIST:3,LWI_SCREEN_CONTENT_SELECTOR:4,LWI_SCREEN_HELP:5,LWI_SCREEN_STATUS_SELECTOR:6,LWI_SCREEN_MULTI_PRODUCT_SELECTOR:7,LWI_SCREEN_NUX_EDUCATION:8,LWI_SCREEN_ADSCREATION_HUB_V2:9,LWI_SCREEN_AD_DETAILS:10,LWI_SCREEN_FB_CONSENT_CONFIRM:11,LWI_SCREEN_ADSCREATION_HUB_MANAGE:12,LWI_SCREEN_INSTAGRAM_AD_PREVIEW:13,LWI_SCREEN_AD_BUDGET:14,LWI_SCREEN_AD_AUDIENCE:15,LWI_SCREEN_AD_AUDIENCE_LOCATION:16,LWI_SCREEN_AD_SETTINGS:17,LWI_SCREEN_WEB_PAYMENT:18,LWI_SCREEN_MEDIA_SELECTION_FLOW:19,LWI_SCREEN_IMAGE_CROPPING:20,LWI_SCREEN_FB_WEB_LOGIN_CONSENT_CONFIRM:21,LWI_SCREEN_FB_WEB_LOGIN:22,LWI_MANAGE_ADS_TAB:23,LWI_MANAGE_ADS_FB_CONSENT:24,LWI_MANAGE_ADS_FB_CONSENT_NOT_LOGGED_IN:25,LWI_SCREEN_AD_AUDIENCE_LIST:26,LWI_SCREEN_NATIVE_NON_DISCRIMINATION_CERTIFICATION:27,LWI_MANAGE_AD_DETAILS_PAGE:28,LWI_SCREEN_AD_PREVIEW:29,LWI_NATIVE_ADS_STEPPED_FLOW_DESIGN_AD:30,LWI_NATIVE_ADS_STEPPED_FLOW_AD_SETTINGS:31,LWI_NATIVE_ADS_STEPPED_FLOW_AD_REVIEW:32,LWI_SCREEN_IMAGE_EDITING:33,LWI_FAST_TRACK_PAGE_PERMISSION:34,LWI_FAST_TRACK_HOST:35,LWI_NATIVE_ADS_NUX_EDUCATION_WITH_MEDIA:36,LWI_PUBLISH_FB_PAGE:37,LWI_SCREEN_AD_ACCOUNT_EMAIL_SUBMIT:38,LWI_SCREEN_NONCE_SUBMIT:39,LWI_SCREEN_AD_ACCOUNTS_SETTINGS:40,LWI_SCREEN_BILLING_HUB:41,LWI_SCREEN_EDIT_AD_ACC_EMAIL:42,LWI_SCREEN_RECOVERY_AD_ACCOUNT:43,LWI_SCREEN_MULTI_STATUS_SELECTOR:44,LWI_SCREEN_APPEAL_REJECTED_AD:45,LWI_SCREEN_APPEAL_AD_ACCOUNT_BAN:46,LWI_SCREEN_AD_APPEAL_STATUS:47,LWI_SCREEN_AD_ACCOUNT_APPEAL_STATUS:48,LWI_DIALOG_GALLERY_MEDIA_SOURCE_SELECTOR:49,LWI_SCREEN_NATIVE_EDIT_MAP_AUDIENCE:50,LWI_SCREEN_MEDIA_PICKER_RECENTLY_USED:51,LWI_SCREEN_MEDIA_PICKER_STATUSES:52,LWI_SCREEN_MEDIA_PICKER_CATALOG:53,LWI_NEW_MANAGE_ADS:54,LWI_SCREEN_NON_DISCRIMINATION_NATIVE:55,LWI_SCREEN_NON_DISCRIMINATION_HEC_NATIVE:56,LWI_SCREEN_NON_DISCRIMINATION_FULL_NATIVE:57,LWI_SCREEN_SIMPLIFIED_LOADER:58,LWI_SCREEN_SIMPLIFIED_EXPLAINER:59,LWI_SCREEN_PENDING_AD_VALIDATION:60,LWI_SCREEN_MESSAGING_GUIDE:61,LWI_SCREEN_MULTISOURCE_PICKER:62,LWI_SCREEN_PAYMENT_SUMMARY:63,LWI_SCREEN_EDUCATIVE_LOADER:64,LWI_SCREEN_FB_LOGIN_APP_REDIRECT_CONSENT:65,LWI_SCREEN_BENEFICIARY_INFO_SCREEN:66,LWI_SCREEN_FB_LOGIN_APP_REDIRECT_CONSENT_MANAGE_ADS:67,LWI_SCREEN_FB_CUSTOM_TAB_WEB_LOGIN:68,LWI_SCREEN_GOOGLE_AUTH_SYSTEM_DIALOG:69,LWI_WA_AD_ACCOUNT_RECOVERY_PLACEHOLDER:70,LWI_SCREEN_CONSENT_HOST:71,LWI_SCREEN_COUPON_PROMOTION_NUX:72,LWI_DIALOG_LOCATION_PERMISSION:73,LWI_DIALOG_SYSTEM_LOCATION_SETTINGS_RESOLUTION:74}],lwiTargetingSpec:[21,"string"],lwiTotalCtwaAds:[26,"integer"],lwiViewerHasEditPermission:[28,"boolean"],lwiViewerHasPromotePermission:[32,"boolean"],mediaEdited:[49,"boolean"],onboardingEntryPoint:[38,{ONBOARDING_ENTRY_POINT_FAST_TRACK:1,ONBOARDING_ENTRY_POINT_AD_REVIEW_SCREEN:2,ONBOARDING_ENTRY_POINT_CONSENT_HOST:3}],paymentMethodSet:[13,"boolean"],productId:[3,"string"],selectedProductsIdsList:[8,"string"],totalMediaCount:[50,"integer"],usedSavedAudience:[31,"boolean"],userHasAdvancedAudience:[35,"boolean"],userHasBpCredentials:[43,"boolean"],userHasCatalogItemsToPromote:[10,"boolean"],userHasChangedDefaultCityLevelAudience:[56,"boolean"],userHasLinkedFbPage:[7,"boolean"],userHasMultisourceMedia:[60,"boolean"],userHasSeenRecommendedBudget:[34,"boolean"],userHasStatusToPromote:[11,"boolean"],userProvidedFbConsent:[14,"boolean"],userWentThroughFbWebLogin:[23,"boolean"],validationStatus:[37,{UNKNOWN:1,NO_ACTION_REQUIRED:2,HAS_ERRORS:3}],waAdAccountId:[44,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"ManageAdsEntryPointImpression",id:4124,props:{manageAdsEntryPoint:[1,{WEB_OVERFLOW_MENU:1,SMB_CHAT_LIST_CTWA_BANNER:2,SMB_NATIVE_ADS_MANAGEMENT:3,SMB_BUSINESS_TOOLS_MANAGE_ADS_LIST_ITEM:4}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"ManageAdsEntryPointTap",id:4126,props:{manageAdsEntryPoint:[1,{WEB_OVERFLOW_MENU:1,SMB_CHAT_LIST_CTWA_BANNER:2,SMB_NATIVE_ADS_MANAGEMENT:3,SMB_BUSINESS_TOOLS_MANAGE_ADS_LIST_ITEM:4}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"SmbDataSharingConsentScreen",id:3972,props:{smbDataSharingConsentScreenEntryPoint:[3,{NEW_ORDER:0,CART:1,LABEL_CHAT:2,LABEL_MESSAGE:3}],smbDataSharingConsentScreenType:[1,{SMB_DATA_SHARING_CONSENT_SCREEN_VIEW:0,SMB_DATA_SHARING_CONSENT_SCREEN_AGREE:1,SMB_DATA_SHARING_CONSENT_SCREEN_DISAGREE:2,SMB_DATA_SHARING_CONSENT_SCREEN_CANCEL:3}],smbDataSharingConsentScreenVersion:[2,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"SuspendedGroupDelete",id:4342,props:{deleteBtnSource:[1,{BOTTOM_SHEET_BTN:1,BLOCKED_COMPOSER_BTN:2}]},weight:1,wamChannel:"private",privateStatsIdInt:0},{name:"SupportAiSession",id:4970,props:{contactUsEntryPoint:[2,"string"],supportAiEventType:[1,{CONTACT_US_CLICKED:1,START_CHAT_CLICKED:2,CONTACT_US_VIA_EMAIL_MENU_ITEM_CLICKED:3,FALLBACK_EMAIL_DIALOG_SHOWN:4,FALLBACK_EMAIL_BUTTON_CLICKED:5,NO_INTERNET_DIALOG_SHOWN:6,TICKET_CREATION_DIALOG_SHOWN:7,REVIEW_INFORMATION_LEARN_MORE_CLICKED:8,SUPPORT_AI_SCREEN_SHOWN:9,THUMB_UP_CLICKED:10,THUMB_DOWN_CLICKED:11,SUBMIT_MESSAGE_FEEDBACK:12,SUBMIT_MESSAGE_FEEDBACK_FAILED:13,SUBMIT_MESSAGE_FEEDBACK_SUCCEEDED:14,NEGATIVE_FEEDBACK_OPTIONS_SCREEN_CANCELLED:15,NEGATIVE_FEEDBACK_OPTIONS_SCREEN_SHOWN:16}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"BannerEvent",id:1578,props:{bannerId:[3,"string"],bannerOperation:[2,{SHOWN:1,CLICK:2,DISMISS:3,ELIGIBLE:4,REVOKED:5,RENDERED:6}],bannerType:[1,{GROUP:1,SMB_WELCOME:2,SMB_VERIFIED:3,SMB_EDIT_PROFILE:4,SMB_EDIT_DESCRIPTION:5,SMB_EDIT_CATEGORY:6,SMB_EDIT_HOURS:7,SMB_EDIT_EMAIL:8,SMB_CATALOG:9,SMB_CATALOG_SHARE_BANNER:10,CROSS_SELL_PROFILE_INTERSTITIAL:11,CROSS_SELL_CHATS_INTERSTITIAL:12,CROSS_SELL_CHATS_BANNER:13,BUSINESS_ACCOUNT_SYSTEM_MESSAGE:14,SMB_CATALOG_CART_INTERSTITIAL:15,PAYMENTS_ONBOARD_BANNER:16,SMB_DIRECTORY_UPSELL:17,SMB_CATALG_LIST_LWI_ADVERTISE_BANNER:18,SMB_LWI_AD_HUB_EDUCATIONAL_BANNER:19,SMB_COLLECTION_CREATION:20,SMB_AWAY_MESSAGE:21,SMB_GREETING_MESSAGE:22,PAYMENTS_INCENTIVE_BANNER:23,SMB_ADSCREATION_CONVERSATIONS_BANNER_WITH_VALID_PRODUCT:24,SMB_ADSCREATION_CONVERSATIONS_BANNER_WITHOUT_VALID_PRODUCT:25,SMB_MD_AWARENESS:26,BACKUP_QUOTA:27,SMB_ADD_COVER_PHOTO:28,PAYMENTS_MERCHANT_ONBOARDING_BANNER:29,SMB_PAYMENTS_MERCHANT_ACCOUNT_STATUS_BANNER:30,SMB_CTWA_AD_ACTION_BANNER:31,BIZ_INTEGRITY_WARNING_BANNER:32,SMB_CTWA_AUTO_LABEL_BANNER:33,SMB_UPDATE_CATEGORY_BANNER:34,SMB_PREMIUM_UPSELL_CHAT_BANNER:35,SMB_PREMIUM_SUBS_PAYMENT_FAILED_BANNER:36,SMB_PREMIUM_SUBS_UNINTENTIONAL_CANCELED_BANNER:37,SMB_CLICK_GET_PAID_ON_WA:38,SMB_CONTINUE_AD_CREATION_REMINDER_BANNER:39,SMB_CONTINUE_AD_CREATION_REMINDER_BOTTOM_SHEET:40,P2M_ORDER_HOME_BANNER:41,SMB_ADSCREATION_HOME_BANNER:42,PRIORITY_INBOX_BANNER:43,SMB_BUSINESS_HOME_BANNER:44,SMB_CHAT_LIST_QP_BANNER:45,SMB_ARCHIVE_STATUS_SETTINGS_BANNER:46,QP_BANNER_GROUP_INFO:47,P2M_TOOLS_ORDERS:48,PRIVACY_CHECKUP:49,QP_BANNER_PROFILE:50,ANDROID_BACKUP_SETTINGS_BANNER:51,ORDERS_UPSELL_BANNER_FROM_ORDERS_HOME:52,BACKUP_ERROR:53,CURRENT_LOCATION_BANNER:54,ORDERS_EDUCATION_BANNER_FROM_ORDERS_HOME:55,COLOR_REFRESH_NUX_BANNER:56,MV_ONBOARD_FROM_BIZ_PROFILE:57,MV_BIZ_TOOLS_SUBSCRIPTION_ACTIVATED:58,MV_BIZ_TOOLS_SUBSCRIPTION_NOT_ACTIVE:59,MV_BIZ_TOOLS_SUBSCRIPTION_CANCELED:60,MV_BIZ_TOOLS_PENDING_BIZ_VERIFICATION:61,MANAGE_GOOGLE_STORAGE_BUTTON:62,GOOGLE_STORAGE_80_PERCENT_FULL:63,GOOGLE_STORAGE_90_PERCENT_FULL:64,GOOGLE_BACKUP_GB_THRESHOLD:65,PAYMENTS_PIX_ONBOARDING_BANNER:66,P2M_PIX_ORDER_HOME_BANNER:67}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"ViewBusinessProfile",id:1522,props:{bizFbSize:[9,{B0:1,B1:2,B2:3,B11:4,B51:5,B101:6,B501:7,B1K:8,B10K:9,B100K:10,B1M:11}],bizIgSize:[10,{B0:1,B1:2,B2:3,B11:4,B51:5,B101:6,B501:7,B1K:8,B10K:9,B100K:10,B1M:11}],businessProfileJid:[3,"string"],catalogSessionId:[6,"string"],hasCoverPhoto:[12,"boolean"],isProfileLinked:[11,"boolean"],isSelfView:[7,"boolean"],linkedAccount:[5,{FACEBOOK:0,INSTAGRAM:1}],profileEntryPoint:[8,{CONTACT_CARD:1,CHAT_HEADER:2,CHAT_MENU:3,GROUP_MEMBERSHIP_SCREEN:4,STATUS:5,CALLS:6,BROADCAST_LIST:7,PRODUCT:8,CATALOG:9,SETTINGS:10,SPAM_BLOCK:11,CHATS_HOME:12,SHOPS:13,MENTION:14,EPHEMERAL_SETTINGS_MESSAGE:15,MAP:16,SEARCH:17,PAYMENT_TRANSACTION_DETAILS:18,CUSTOM_URL_LINK:19,CUSTOM_URL_QR_CODE:20,NOTIFICATION_BLOCK_ACTION:21,REPORT_TO_ADMIN_PARTICIPANTS_SCREEN:22,MISSED_CALL_NOTIFICATION_BLOCK_ACTION:23,INTEROP:24,FORWARDED_BIZ_MSG_DIRECT_TAP:25,FORWARDED_BIZ_MSG_CHAT_HEADER:26}],scrollDepth:[4,"integer"],viewBusinessProfileAction:[1,{ACTION_IMPRESSION:1,ACTION_CLICK_WEBSITE:2,ACTION_CLICK_LOCATION:3,ACTION_CLICK_HOURS:4,ACTION_CLICK_DESCRIPTION:5,ACTION_CLICK_EMAIL:6,ACTION_CLICK_ADDTOCONTACT:7,ACTION_CLICK_MORE_BIZ_PROFILE:8,ACTION_CLICK_MESSAGE:9,ACTION_CLICK_VOICE_CALL:10,ACTION_CLICK_VIDEO_CALL:11,ACTION_CLICK_FORWARD:12,ACTION_CLICK_CATALOG_ICON:13,ACTION_CLICK_SHOPS_ICON:14,ACTION_CLICK_APP_LINK:15,ACTION_APP_IMPRESSION:16,ACTION_CLICK_STATUS:17,ACTION_EXIT:18,ACTION_COVER_PHOTO_IMPRESSION:19}],websiteSource:[2,{SOURCE_OTHER:1,SOURCE_INSTAGRAM:2}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"DisappearingMessageKeepInChat",id:3482,props:{canEditDmSettings:[16,"boolean"],chatEphemeralityDuration:[1,"integer"],isAGroup:[2,"boolean"],isAdmin:[3,"boolean"],keptCount:[15,"integer"],keptDelta:[4,"integer"],kicActionName:[5,{KEEP_MESSAGE:1,UNKEEP_MESSAGE:2,VIEW_KEPT_MESSAGES:3,SEARCH_RESULTS_DISPLAY:4,SEARCH_RESULTS_TAP:5}],kicActor:[6,{SENDER:1,RECIPIENT:2}],kicEntryPoint:[7,{CHAT_INFO:1,SEARCH:2,CHAT:3,MEDIA:4,DOCS:5,LINKS:6}],mediaType:[8,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],messageExpiredOnUnkeep:[9,"boolean"],messageExpiryTimer:[10,"integer"],messagesInFolder:[11,"integer"],messagesSelected:[12,"integer"],threadId:[13,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MdBootstrapHistoryDataReceived",id:2998,props:{historySyncChunkOrder:[6,"integer"],historySyncStageProgress:[5,"integer"],mdBootstrapHistoryPayloadType:[3,{INITIAL:1,RECENT_HISTORY:2,FULL_HISTORY:3,PUSHNAME:4,STATUS_V3:5,NON_BLOCKING_DATA:6,ON_DEMAND:7}],mdBootstrapPayloadType:[2,{CRITICAL:1,NON_CRITICAL:2}],mdSessionId:[1,"string"],mdTimestamp:[4,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"AttachmentTrayActions",id:3980,props:{actionDurationMs:[1,"integer"],attachmentTrayAction:[2,{CLICK:1,SEND:2,CANCEL:3}],attachmentTrayActionTarget:[3,{ATTACHMENT_TRAY:1,DOCUMENT:2,CAMERA:3,CAMERA_LIBRARY:4,GALLERY:5,PHOTO_AND_VIDEO_LIBRARY:6,AUDIO:7,LOCATION:8,CONTACT:9,POLL:10,PAYMENT:11,SHOP:12,ORDER:13,CATALOG:14,QUICK_REPLY:15,STICKER_MAKER:16}],groupSizeBucket:[4,{SMALL:1,MEDIUM:2,LARGE:3,EXTRA_LARGE:4,XX_LARGE:5,XXX_LARGE:6,LT1024:16,LT1500:7,LT2000:8,LT2500:9,LT3000:10,LT3500:11,LT4000:12,LT4500:13,LT5000:14,LARGEST_BUCKET:15}],isAGroup:[5,"boolean"],isSuccessful:[6,"boolean"],sendMediaType:[7,{PHOTO:1,VIDEO:2,MIXED:3}],sendTime:[8,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"AutoMuteLargeGroupActions",id:3880,props:{autoMuteAction:[1,{AUTO_MUTE_EXISTING_GROUP:1,AUTO_MUTE_GROWING_GROUP:2,AUTO_MUTE_NEW_GROUP:3,USER_DIALOG_VIEW:4,USER_ADMIT_BY_OK:5,USER_ADMIT_BY_MESSAGE_SEND:6,USER_DISMISS_BY_UNMUTE:7}],autoMuteGroupId:[2,"string"],autoMuteGroupSize:[3,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"BusinessMute",id:1376,props:{muteT:[2,"timer"],muteeId:[1,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"BusinessUnmute",id:1378,props:{muteeId:[1,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"ChannelOpen",id:4316,props:{channelDirectorySessionId:[8,"integer"],channelEntryPoint:[1,{UNKNOWN:0,UPDATES_TAB:1,DIRECTORY:2,LINK:3,DEEPLINK:4,FORWARDED_MESSAGE:5,DIRECTORY_SEARCH:6,RECOMMENDED_LIST:7,NOTIFICATION:8,UPDATES_TAB_SEARCH:9,STATUS:10,ADMIN_INVITE_MESSAGE:11,MEDIA_BROWSER:12,SIMILAR_CHANNEL:13}],channelEntryPointMetadata:[9,{STATUS_HEADER:1,LINK_TOOLTIP:2,LINK_BUTTON:3,POST_TOOLTIP:4}],channelSessionId:[3,"integer"],channelUserType:[4,{OWNER:1,ADMIN:2,FOLLOWER:3,GUEST:4}],cid:[6,"string"],hasNetworkConnection:[7,"boolean"],similarChannelsSessionId:[11,"integer"],unreadMessages:[5,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"GroupCatchUp",id:3058,props:{mentionsCountPendingPercentage:[4,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"InlineVideoPlaybackClosed",id:2032,props:{inlineVideoCancelBeforePlayStateT:[7,"timer"],inlineVideoComplete:[8,"boolean"],inlineVideoCompletionRate:[9,"integer"],inlineVideoCtaClick:[10,{LOGO:1,MUSIC:2,AUTHOR:3,WATCH_MORE_END:4}],inlineVideoDurationT:[2,"timer"],inlineVideoError:[11,"string"],inlineVideoPlayStartT:[6,"timer"],inlineVideoPlayed:[3,"boolean"],inlineVideoStallT:[4,"timer"],inlineVideoType:[1,{FACEBOOK:1,FACEBOOK_WATCH:2,INSTAGRAM:3,YOUTUBE:4,STREAMABLE:5,NETFLIX:6,LASSO:7,SHARECHAT:8}],inlineVideoWatchT:[5,"timer"],messageType:[12,{INDIVIDUAL:1,GROUP:2,BROADCAST:3,STATUS:4,CHANNEL:5,INTEROP:6}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MessageDeleteActions",id:3626,props:{deleteActionType:[1,{DELETE_FOR_ME:0,DELETE_FOR_EVERYONE:1}],isAGroup:[2,"boolean"],mediaType:[6,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],messagesDeleted:[3,"integer"],threadId:[4,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"Ptt",id:458,props:{pttDraftPlayCnt:[7,"integer"],pttDraftSeekCnt:[8,"integer"],pttDuration:[5,"timer"],pttLock:[4,"boolean"],pttPauseCnt:[9,"integer"],pttResult:[1,{SENT:1,CANCELLED:2,TOO_SHORT:3}],pttSize:[3,"number"],pttSource:[2,{FROM_CONVERSATION:0,FROM_VOICEMAIL:1}],pttStop:[6,"boolean"],pttStopTapCnt:[10,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"SnackbarDeleteUndo",id:3628,props:{isAGroup:[1,"boolean"],mediaType:[6,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],messagesUndeleted:[2,"integer"],snackbarActionType:[3,{SNACKBAR_SHOWN:0,MESSAGE_UNDELETE:1}],threadId:[4,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebInternDogfoodingUpsell",id:5072,props:{webInternDogfoodingUpsellAction:[3,{SHOWN:0,ACCEPT:1,DISMISS:2}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcChatOpen",id:864,props:{webcChatOpenBeforePaintT:[7,"timer"],webcChatOpenPaintedT:[6,"timer"],webcChatOpenT:[2,"timer"],webcFinalRenderedMessageCount:[5,"integer"],webcRenderedMessageCount:[4,"integer"],webcUnreadCount:[1,"number"],webcWindowHeightFloat:[8,"number"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcElectronDeprecationCta",id:4642,props:{webcElectronDeprecationCtaEventType:[1,{IMPRESSION:1,CTA_BTN_CLICK:2,CTA_DISMISS:3}],webcElectronDeprecationCtaSource:[2,{INTRO_PANEL:1,BUTTERBAR:2,LINK_DEVICE_BANNER:3}],webcElectronDeprecationCtaType:[3,{SOFT_MIGRATION:1,APP_EXPIRY_NOTICE:2}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcLogin",id:1664,props:{webcBrowserNetworkType:[14,"string"],webcBrowserStorageQuotaBytes:[15,"integer"],webcBrowserStorageQuotaUsedBytes:[16,"integer"],webcLoginT:[3,"timer"],webcPersistentLoginEnabled:[17,"boolean"],webcQrCodes:[1,"integer"],webcQrLoadT:[2,"timer"],webcSyncChatCount:[8,"integer"],webcSyncChatSize:[10,"integer"],webcSyncChatT:[9,"timer"],webcSyncContactCount:[11,"integer"],webcSyncContactSize:[13,"integer"],webcSyncContactT:[12,"timer"],webcSyncMessageCount:[5,"integer"],webcSyncMessageSize:[7,"integer"],webcSyncMessageT:[6,"timer"],webcSyncT:[4,"timer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcMemoryStat",id:1188,props:{hasVerifiedNumber:[12,"boolean"],jsHeapSizeLimit:[9,"integer"],numMessages:[8,"number"],totalJsHeapSize:[10,"integer"],uptime:[6,"number"],usedJsHeapSize:[11,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcMenu",id:2504,props:{webcMenuAction:[2,{THREADS_SCREEN_CLICK:1,CHAT_SCREEN_CLICK:2,SETTINGS_SCREEN_CLICK:3}],webcMenuItemLabel:[3,{NEW_GROUP:1,CREATE_A_ROOM:2,PROFILE:3,CATALOG:4,ARCHIVED:5,STARRED:6,LABELS:7,SETTINGS:8,LOG_OUT:9,CONTACT_INFO:10,SELECT_MESSAGES:11,CLOSE_CHAT:12,MUTE_NOTIFICATIONS:13,CLEAR_MESSAGES:14,DELETE_CHAT:15,REPORT_BUSINESS:16,BLOCK:17,SETTINGS_NOTIFICATIONS:18,SETTINGS_THEME:19,SETTINGS_CHAT_WALLPAPER:20,SETTINGS_BLOCKED:21,SETTINGS_HELP:22,OPEN:23,CLOSE:24,BUSINESS_TOOLS:25}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"ChatFolderOpen",id:2808,props:{activityIndicatorCount:[2,"integer"],folderType:[1,"string"],hasImportantMessages:[3,"boolean"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"OrderDetailsActionsSmb",id:3456,props:{acceptedPayMethods:[1,"string"],actionCategory:[2,"string"],entryPointConversionSource:[13,"string"],extraAttributes:[3,"string"],hasAddedPrice:[4,"boolean"],hasCatalog:[5,"boolean"],hasNote:[6,"boolean"],lastMessageDirection:[14,{OPPOSITE_PARTY_INITIATED:0,SELF_INITIATED:1}],messageDepth:[15,"integer"],orderDetailEntryPoint:[7,"string"],orderDetailsCreationAction:[8,{CLICK_VIEW_RECEIVED_CART:1,SEND_DECLINE_CART:2,USER_DELETED_CART:3,CLICK_CREATE_ORDER_DETAILS_FROM_CART:4,CLICK_ORDER_FROM_ICON_MENU:5,CLICK_CREATE_ORDER_DETAILS_FROM_FAB:6,SEND_ORDER_DETAILS:7,VIEW_ORDER_DETAILS_HUB:8,VIEW_ORDER_DETAILS:9,CLICK_SORT_ORDERS:10,CLICK_UPDATE_ORDER_STATUS:11,SEND_ORDER_STATUS:12,CLICK_PAYMENT_DETAILS:13,SEND_MARK_AS_PAID:14,SEND_MARK_AS_UNPAID:15,CLICK_HELP:16,CLICK_MESSAGE_CUSTOMER:17,CLICK_ADD_PAYMENT_OPTION:18,CLICK_SAVE_ADD_PAYMENT_OPTION:19,CLICK_SAVE_EDIT_PAYMENT_OPTION:20,CLICK_EDIT_PAYMENT_OPTION:21,CLICK_DELETE_PAYMENT_OPTION:22,CLICK_GET_PAID_ON_WA:23,CLICK_SEE_ALL_OTHER_ORDERS:24,ADD_PAYMENT_OPTION_TO_OD:25,EDIT_PAYMENT_OPTION_IN_OD:26,CLICK_ADD_CUSTOM_ITEM_TO_ORDER:27,ADD_ADDITIONAL_CHARGES_TO_ORDER:28,CLICK_ADD_ITEM:29,CLICK_ADD_ADDITIONAL_CHARGES:30,VIEW_EPHEMERAL_MESSAGES_PROMPT:31,CONFIRM_SENDING_ORDER_DETAILS:32,CANCEL_SENDING_ORDER_DETAILS:33,DO_NOT_SHOW_EPHEMERAL_MESSAGES_PROMPT:34,DISMISS_EPHEMERAL_MESSAGES_PROMPT:35,VIEW_EVENT_SHARING_TOS_PROMPT:37,DISMISS_EVENT_SHARING_TOS_PROMPT:38,CLICK_EVENT_SHARING_TOS:39,ACCEPT_EVENT_SHARING_TOS:40,REJECT_EVENT_SHARING_TOS:41,VIEW_CREATE_ORDER:42,DISPLAY_ORDER_STATUS_SHARING_TOS:43,CLICK_ORDER_STATUS_SHARING_TOS:44,CLICK_EDIT_INSTALLMENTS:45,VIEW_EDIT_INSTALLMENTS_PROMPT:46,SET_DEFAULT_INSTALLMENTS:47,SAVE_DEFAULT_INSTALLMENTS:48,DISMISS_EDIT_INSTALLMENTS_PROMPT:49,VIEW_ORDERS_VALUE_PROP:50,CONTINUE_FROM_ORDERS_VALUE_PROP:51,DISMISS_ORDERS_VALUE_PROP:52,CLICK_SEE_ALL_ORDER_REQUESTS:53,BIZ_ACTION_BAR:54,CLICK_ADD_ITEMS:55,CANCEL_ORDER_REQUEST:56,CONTINUE_ORDER_REQUEST:57,VIEW_PROMPT:58,CLICK_PROCEED_WITHOUT_CATALOG:59,CLICK_CREATE_ORDER_DETAILS_FROM_PAYMENT_METHOD_ADDED_PROMPT:60}],orderEligibleToSend:[11,"boolean"],paymentStatus:[9,"boolean"],paymentType:[10,"string"],sharingOrderStatusEvents:[12,"boolean"],threadIdHmac:[16,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcStickerMakerEvents",id:3104,props:{stickerMakerEventName:[1,{STICKER_MAKER_BUTTON_TAP:0,IMAGE_UPLOADED:1,IMAGE_CROPPED:2,EMOJI_ADDED:3,STICKER_ADDED:4,TEXT_ADDED:5,IMAGE_OUTLINED:6,SEND_STICKER:7}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"QuickReply",id:1468,props:{attachmentGifCount:[7,"integer"],attachmentImageCount:[5,"integer"],attachmentVideoCount:[6,"integer"],isSmartDefault:[10,"boolean"],labelThreadId:[12,"string"],lastMessageDirection:[16,{OPPOSITE_PARTY_INITIATED:0,SELF_INITIATED:1}],messageDepth:[17,"integer"],quickReplyAction:[1,{ACTION_SETTINGS_IMPRESSION:1,ACTION_SETTINGS_ADD_CLICK:2,ACTION_SETTINGS_ADD_ABANDONED:3,ACTION_SETTINGS_ADDED:4,ACTION_SETTINGS_DELETED:5,ACTION_CHAT_IMPRESSION:6,ACTION_CHAT_CLICK:7,ACTION_SETTINGS_EDITED:8,ACTION_CHAT_INVALID_ATTACHMENTS:9,ACTION_SETTINGS_INVALID_ATTACHMENTS:10,ACTION_SETTINGS_MEDIA_TRANSCODE:11,ACTION_CHAT_CLICK_CANCEL:12,ACTION_SMART_DEFAULT_CLICK:13,QUICK_REPLY_MESSAGE_SENT:14}],quickReplyCount:[2,"integer"],quickReplyEntryPoint:[11,{QUICK_REPLY_ENTRY_POINT_KEYBOARD:1,QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:2,QUICK_REPLY_ENTRY_POINT_SETTINGS_MENU:3,QUICK_REPLY_ENTRY_POINT_BANNERS:4,QUICK_REPLY_ENTRY_POINT_NUX:5,QUICK_REPLY_ENTRY_POINT_ACTION_BAR:6}],quickReplyKeywordCount:[3,"integer"],quickReplyKeywordMatched:[4,"boolean"],quickReplyOrigin:[9,{UNKNOWN:0,CONVERSATIONS:1,BUTTON:2,KEYBOARD:3}],quickReplyTranscodeResult:[8,{QUICK_REPLY_TRANSCODE_RESULT_OK:1,QUICK_REPLY_TRANSCODE_RESULT_CANCELLED:2,QUICK_REPLY_TRANSCODE_RESULT_FAIL_IMAGE_UNKNOWN:3,QUICK_REPLY_TRANSCODE_RESULT_FAIL_IMAGE_ENCODING:4,QUICK_REPLY_TRANSCODE_RESULT_FAIL_IMAGE_FILE_COPY:5,QUICK_REPLY_TRANSCODE_RESULT_FAIL_VIDEO_UNKNOWN:6}],threadCreationDate:[14,"string"],threadEntryPoint:[13,"string"],threadIdHmac:[15,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"UserNotice",id:2472,props:{noticeTriggeredBy:[5,{AUTO_START:0,BANNER:1,DEEP_LINK:2,JUST_IN_TIME:3}],noticeType:[4,{LEGACY_USER_NOTICE:0,BADGED_USER_NOTICE:1,PDFN_DISCLOSURE:2}],userNoticeContentVersion:[2,"integer"],userNoticeEvent:[3,{TRIGGERED:0,BANNER_APPEAR:1,BANNER_SELECT:2,MODAL_APPEAR:3,MODAL_DISMISS:4,MODAL_LINK_FOLLOW:5,MODAL_ACCEPT:6,BLOCKING_MODAL_APPEAR:7,BLOCKING_MODAL_LINK_FOLLOW:8,BLOCKING_MODAL_ACCEPT:9,BANNER_DISMISS:10,EDUCATION_1_APPEAR:11,EDUCATION_1_DISMISS:12,EDUCATION_1_CONTINUE:13,MODAL_BACK:14,BLOCKING_MODAL_BACK:15,STARTED:100,PDFN_SHOWN_0:105,BADGE_APPEARED_NEXT_TO_SETTINGS:110,PDFN_SHOWN_1:111,PDFN_SHOWN_2:112,PDFN_SHOWN_3:113,PDFN_SHOWN_4:114,PDFN_SHOWN_5:115,PDFN_SHOWN_6:116,PDFN_SHOWN_7:117,PDFN_SHOWN_8:118,PDFN_SHOWN_9:119,BADGE_APPEARED_NEXT_TO_HELP:120,BADGE_SHOWN_IN_HELP:130,PDFN_DISMISSED:145,BADGE_EXPIRED:150,PDFN_OK:155,PDFN_SOFT_OPT_IN:160,PDFN_SOFT_OPT_OUT:162,PDFN_DENIED:165,BADGE_SELECTED:170,PDFN_ACCEPTED:175,PDFN_FAILED_TO_DOWNLOAD:400,PDFN_PARTIAL_DOWNLOAD:410,PDFN_ERROR_MISMATCHED_TEMPLATE:420,PDFN_ERROR_UNKNOWN:499,FINAL_END:999,PDFN_0_SECONDARY_BTN_CLICKED:1014,PDFN_1_SECONDARY_BTN_CLICKED:1015,PDFN_2_SECONDARY_BTN_CLICKED:1016,PDFN_3_SECONDARY_BTN_CLICKED:1017,PDFN_4_SECONDARY_BTN_CLICKED:1018,PDFN_5_SECONDARY_BTN_CLICKED:1019,PDFN_6_SECONDARY_BTN_CLICKED:1020,PDFN_7_SECONDARY_BTN_CLICKED:1021,PDFN_8_SECONDARY_BTN_CLICKED:1022,PDFN_9_SECONDARY_BTN_CLICKED:1023}],userNoticeId:[1,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MessageContextMenuActions",id:3694,props:{isAGroup:[1,"boolean"],isMultiAction:[2,"boolean"],isOriginalSender:[3,"boolean"],messageContextMenuAction:[4,{OPEN:1,CLICK:2,COMPLETE:3,CANCEL:4}],messageContextMenuOption:[5,{UNKNOWN:1,OVERFLOW:2,FORWARD:3,DELETE:4,REPLY:5,REPLY_PRIVATELY:6,STAR_OR_UNSTAR:7,COPY:8,REPORT:9,MESSAGE_CONTACT:10,MESSAGE_INFO:11,EDIT:12}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WaFsGroupJoinRequestAction",id:3944,props:{groupJid:[1,"string"],groupJoinRequestAction:[2,{MEMBERSHIP_REQUEST_CREATE:1,VIEW_PENDING_PARTICIPANTS:2,MEMBERSHIP_REQUEST_APPROVAL_MODE_ON:3,MEMBERSHIP_REQUEST_APPROVAL_MODE_OFF:4,MEMBERSHIP_REQUEST_APPROVE:5,MEMBERSHIP_REQUEST_REJECT:6,MEMBERSHIP_REQUEST_CANCEL:7}],groupJoinRequestGroupsInCommon:[5,"integer"],isSuccessful:[3,"boolean"],serverResponseTime:[4,"timer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"ReportToAdminEvents",id:4420,props:{reportToAdminInteraction:[1,{CLICK_OPEN_ADMIN_DASHBOARD:0,CLICK_SEND_FOR_ADMIN_REVIEW:1,CLICK_CONFIRM_SEND_FOR_ADMIN_REVIEW:2,CLICK_CANCEL_SEND_FOR_ADMIN_REVIEW:3}],rtaGroupId:[2,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"ChatAction",id:2312,props:{chatActionChatType:[3,{INDIVIDUAL:1,GROUP:2,BUSINESS:3,BROADCAST_LIST:4}],chatActionEntryPoint:[2,{CONVERSATION_LIST:1,CONTACT_INFO:2,GROUP_INFO:3,SEARCH_LIST:4,CONVERSATION_LIST_BULK_EDIT:5,CONVERSATION_MENU:6,WEB_ACTION:7,SYSTEM_NOTIFICATIONS:8}],chatActionMuteDuration:[4,"timer"],chatActionType:[1,{MUTE:1,UNMUTE:2,ARCHIVE:3,CLEAR:4,EXIT_GROUP:5,DELETE:6,PIN:7,UNREAD:8,READ:9}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"LabelEvent",id:1422,props:{customLabelTitle:[9,"string"],entryPointConversionSource:[10,"string"],itemsLabeledCount:[5,"integer"],labelCount:[4,"integer"],labelOperation:[2,{ADD:1,EDIT:2,DELETE:3,VIEW:4,CLICK_POSITIVE:5,CLICK_NEGATIVE:6,UPDATE_LABEL_COUNT:7,AUTO_ADDED:8}],labelOperationEntryPoint:[6,"string"],labelTarget:[1,{LABEL:1,MESSAGE:2,CONTACT:3,LABELS_SCREEN:4,LABEL_DETAILS_SCREEN:5,EDIT_LABEL_DIALOG:6,DELETE_LABEL_DIALOG:7,LABEL_MESSAGE_DIALOG:8,LABEL_CHAT_DIALOG:9,ADD_LABEL_DIALOG:10,BULK_UNLABEL_DIALOG:11,LABEL_COMBINED_DIALOG:12,GROUP:13,BROADCAST:14}],lastMessageDirection:[14,{OPPOSITE_PARTY_INITIATED:0,SELF_INITIATED:1}],messageDepth:[15,"integer"],predefinedLabelNumber:[3,"integer"],threadCreationDate:[11,"string"],threadId:[12,"string"],threadIdHmac:[13,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"StatusReportingEvents",id:3920,props:{statusReportInteraction:[1,{CLICK_REPORT:0,CLICK_SUBMIT_REPORT:1,CLICK_CANCEL_REPORT:2,CLICK_SUBMIT_REPORT_BLOCK:3}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"BusinessInteraction",id:3450,props:{businessInteractionAction:[1,{ACTION_CLICK:1,ACTION_MSG_SENT:2}],businessInteractionTargetScreen:[2,{INDIVIDUAL_CHAT:1,LANDING_PAGE:2,OTHER:3}],businessJid:[3,"string"],entryPointApp:[4,{FACEBOOK:1,INSTAGRAM:2,WHATSAPP:3,EXTERNAL:4}],entryPointSource:[5,{CLICK_TO_CHAT_LINK:1,MESSAGE_SHORT_LINK:2,QR_CODE:3,CUSTOM_LINK:4,CUSTOM_QR_CODE_LINK:5}],internalEntryPoint:[6,{STATUS:1,INDIVIDUAL_CHAT:2,GROUP:3,OTHER:4,OUTSIDE_OF_WA:5,CHANNEL:6}],sequenceNumber:[7,"integer"]},weight:1,wamChannel:"private",privateStatsIdInt:113760892},{name:"BusinessToolsClick",id:2218,props:{businessToolsEntryPoint:[5,{ENTRY_BANNER:0,ENTRY_REGISTRATION_ONBOARDING:1,ENTRY_CONVERSATIONS:2,ENTRY_SETTINGS:3,ENTRY_DEEPLINK:4,ENTRY_STATUS_TAB_MENU:5,ENTRY_CALLS_TAB_MENU:6,ENTRY_BUSINESS_TOOLS_TAB:7}],businessToolsItem:[3,{OVERFLOW:0,PROFILE:1,CATALOG:2,AWAY_MESSAGE:3,GREETING_MESSAGE:4,QUICK_REPLIES:5,LABELS:6,LINKED_ACCOUNTS:7,SHORT_LINK:8,STATISTICS:9,CREATE_ACCOUNT_LINK:10,MANAGE_CTA:11,CREATE_AD:12,CONTINUE_PROMPT:13,ADVERTISE_LIST_ITEM:14,SHOPS:15,DISABLED_CATALOG:16,BANNED_SHOP:17,PREMIUM_TOOLS:18,BUSINESS_DIRECTORY:19,MANAGE_ADS:20,META_VERIFIED:21}],businessToolsSequenceNumber:[2,"integer"],businessToolsSessionId:[1,"string"],linkingTarget:[4,{FACEBOOK:0,INSTAGRAM:1}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"BusinessToolsEntry",id:2216,props:{businessToolsEntryPoint:[3,{ENTRY_BANNER:0,ENTRY_REGISTRATION_ONBOARDING:1,ENTRY_CONVERSATIONS:2,ENTRY_SETTINGS:3,ENTRY_DEEPLINK:4,ENTRY_STATUS_TAB_MENU:5,ENTRY_CALLS_TAB_MENU:6,ENTRY_BUSINESS_TOOLS_TAB:7}],businessToolsSequenceNumber:[2,"integer"],businessToolsSessionId:[1,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"BusinessToolsImpression",id:2220,props:{businessToolsEntryPoint:[4,{ENTRY_BANNER:0,ENTRY_REGISTRATION_ONBOARDING:1,ENTRY_CONVERSATIONS:2,ENTRY_SETTINGS:3,ENTRY_DEEPLINK:4,ENTRY_STATUS_TAB_MENU:5,ENTRY_CALLS_TAB_MENU:6,ENTRY_BUSINESS_TOOLS_TAB:7}],businessToolsSequenceNumber:[2,"integer"],businessToolsSessionId:[1,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"CadminDemote",id:3426,props:{cadminDemoteOrigin:[1,{PROMOTION_NOTIFICATION:1,MEMBER_LIST:2}],cadminDemoteResult:[2,{SUCCESS:1,FAILURE:2,CANCEL:3,RETRY_SUCCESS:4,RETRY_FAILURE:5,RETRY_CANCEL:6}],isLastCadminOrCreator:[4,"boolean"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"ChannelAdmin",id:4556,props:{adminFlowActionSequenceNumber:[1,"integer"],adminFlowType:[2,{CREATION:1,EDIT:2}],channelAdminAction:[3,{CHANNEL_CREATION_TAP:1,CHANNEL_CREATE_LAUNCH_SUCCESS:2,CHANNEL_CREATE_LAUNCH_ERROR:3,CHANNEL_CREATE_LAUNCH_BLOCKED:4,EDIT_CHANNEL_TAP:5,CHANNEL_NAME_SET:6,CHANNEL_ICON_SET_CAMERA:7,CHANNEL_ICON_SET_GALLERY:8,CHANNEL_ICON_SET_EMOJI_STICKER:9,CHANNEL_ICON_SET_WEB:10,CHANNEL_DESCRIPTION_SET:11,CHANNEL_ADMIN_FLOW_CONFIRMATION_TAP:12,CHANNEL_ADMIN_FLOW_SUCCESS:13,CHANNEL_ADMIN_FLOW_FAILURE:14,SEARCH_FOLLOWER:15,REACTIONS_SET_TO_ANY_EMOJI:16,REACTIONS_SET_TO_DEFAULT_EMOJI:17,REACTIONS_SET_TO_NONE_EMOJI:18}],channelAdminSessionId:[4,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"ChannelDyi",id:4726,props:{channelDyiEventType:[1,{CHANNEL_REPORT_REQUEST:1,CHANNEL_REPORT_DOWNLOAD:2,CHANNEL_REPORT_EXPORT:3}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"ChatFilterEvent",id:1616,props:{actionType:[1,{OPEN:1,SELECT_FILTER:2,SEARCH_WITH_FILTER:3,SEARCH:4,SEARCH_ITEM_SELECTED:5,SEARCH_MSG_SENT:6,UNSELECT_FILTER:7,AUTO_CLEAR_FILTER:8,VIEW:9,GROUP_NAVIGATION:10,GROUP_DISCOVERY:11,GROUP_JOIN:12,SUBGROUP_SWITCHER_CLICK:13,SUBGROUP_MENTION_CLICK:14,COMMUNITY_RICH_SYSTEM_MESSAGE_CLICK:15,GROUP_SYSTEM_MESSAGE_CLICK:16,NESTING_VIEW_COMMUNITY_CLICK:17,SELECT_COMMUNITY_ADMINS_CAN_ADD_GROUPS:18,SELECT_EVERYONE_CAN_ADD_GROUPS:19,GROUP_JOIN_REQUEST:20,NOTIFICATION_RECEIVED:21,NOTIFICATION_RENDERED:22,TAP_TO_OPEN:23,TAP_TO_REPLY:24,VOIP_CALLBACK:25,VOIP_MESSAGE:26,VOIP_DECLINE:27,MARK_AS_READ:28,AI_NEW_CHAT_CLICK:29,AI_TAB_SELECTION_CLICK:30,AI_PERSONA_SELECTION_CLICK:31,AI_TOS_VIEW:32,AI_TOS_ACCEPT_CLICK:33,AI_TOS_DISMISS_CLICK:34,AI_NEW_UGC_CLICK:35,AI_UGC_CREATION_START_CLICK:36,AI_GENDER_AGE_SELECTION_CLICK:37,AI_PERSONALITY_SELECTION_CLICK:38,AI_INTEREST_SELECTION_CLICK:39,AI_AVATAR_SELECTION_CLICK:40,AI_NAME_SELECTION_CLICK:41,AI_UGC_CREATION_FINISH_CLICK:42,REQUEST_WAITLIST_DIALOG_APPEAR:43,REQUEST_WAITLIST_SELECT:44,FILTER_VIEWED:45,FILTER_EMPTY_STATE_VIEWED:46,BUSINESS_SERP_LOADED:47,BIZ_SEE_MORE_CLICKED:48,IMPRESSION:49,BIZ_SEARCH_SET_LOCATION_CLICKED:50,CLOSE_BTN_CLICKED:51,AI_CHAT_CLICK:52,NEW_CHAT_CLICK:53,SERP_LOADED:54}],activitySessionId:[6,"string"],filterType:[2,{NONE:0,OTHER_LABELS:1,UNREAD:2,GROUP:3,BROADCAST_LIST:4,NEW_CUSTOMER:5,NEW_ORDER:6,PENDING_PAYMENT:7,PAID:8,ORDER_COMPLETE:9,CONTACT:10,NON_CONTACT:11,PHOTOS:12,GIFS:13,LINKS:14,VIDEOS:15,DOCUMENTS:16,AUDIOS:17,ASSIGNED_TO_YOU:18,PERSONAL:19,BUSINESS:20,LABEL:21,FAVORITES:22}],labelName:[11,"string"],metadata:[7,"string"],predefinedId:[10,"integer"],searchQueryId:[8,"string"],searchRequestId:[9,"string"],searchResultType:[4,{CONTACT:0,CHAT:1,GROUP:2,BROADCAST_LIST:3,MESSAGE:4,BUSINESS:5}],sessionId:[3,"integer"],targetScreen:[5,{CHAT_LIST:0}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"CommunityCreation",id:3492,props:{communityCreationActionCount:[1,"integer"],communityCreationActionTaken:[2,{ENTER:1,GET_STARTED:2,DISMISS:3,NEXT:4,CREATE_GROUP:5,LINK_GROUP:6,CREATE_COMMUNITY:7,EXIT:8,UNLINK_GROUP:9,CREATE_COMMUNITY_SUCCESS:10,CREATE_COMMUNITY_FAIL:11,HELP_ICON_CLICK:12,LINK_GROUP_CONFIRMATION_OK:13,LINK_GROUP_CONFIRMATION_CANCEL:14}],communityCreationCurrentScreen:[3,{CHATS_TAB:1,COMMUNITIES_TAB:2,COMMUNITY_NUX:3,COMMUNITY_INFO:4,COMMUNITY_GROUPS_SUMMARY:5,DEEP_LINK:6,BANNER:7,GROUP_INFO:8,LINK_GROUP_CONFIRMATION:9}],communityCreationEntrypoint:[5,{CHATS_TAB:1,COMMUNITIES_TAB:2,GROUP_INFO:3,DEEP_LINK:4,DEEP_LINK_BANNER:5,DEEP_LINK_PSA:6,DEEP_LINK_CHAT:7,DEEP_LINK_CHANNEL:8}],communityCreationSessionId:[4,"string"],communityId:[6,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"ContactUsSession",id:470,props:{contactUsAutomaticEmail:[3,"boolean"],contactUsExitState:[1,{PROBLEM_DESCRIPTION:1,SUGGESTED_FAQ:2,EMAIL_SEND:3,IN_APP_FAQ:4,CANCELLED:5,FAQ:6}],contactUsFaq:[2,"boolean"],contactUsLogs:[4,"boolean"],contactUsMenuFaqT:[12,"timer"],contactUsOutage:[5,"boolean"],contactUsOutageEmail:[6,"boolean"],contactUsScreenshotC:[19,"number"],contactUsT:[11,"timer"],languageCode:[21,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"DeepLinkMsgSent",id:3198,props:{deepLinkAction:[1,{MSG_SENT:1}],deepLinkSessionId:[2,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"DeepLinkOpen",id:2136,props:{deepLinkOpenFrom:[2,{DEEP_LINK_EXTERNAL:1,DEEP_LINK_WA_LINK_CLICK:2,QR_CODE_SHEET:3,DEEP_LINK_BANNER:4,DEEP_LINK_SMB_NOTIFICATION:5,DEEP_LINK_MESSENGER_APP:6}],deepLinkSessionId:[6,"string"],deepLinkType:[3,{DEEP_LINK_UNKNOWN:1,DEEP_LINK_CHAT:2,DEEP_LINK_CONTACT_QR_CODE:3,DEEP_LINK_PAYMENT:4,DEEP_LINK_PRODUCT:5,DEEP_LINK_CATALOG:6,DEEP_LINK_FUTURE_PROOF:7,DEEP_LINK_GROUP_INVITE:8,DEEP_LINK_MSG_FORWARD:9,DEEP_LINK_MESSAGE_QR_CODE:10,DEEP_LINK_OPT_IN_QR_CODE:11,DEEP_LINK_CTWA:12,DEEP_LINK_STICKERPACK:13,DEEP_LINK_NOVI_HUB:14,DEEP_LINK_NOVI_ADD_DEBIT_CARD:15,DEEP_LINK_NOVI_ADD_BANK_ACCOUNT:16,DEEP_LINK_NOVI_WITHDRAW:17,DEEP_LINK_NOVI_RESET_PASSWORD:18,DEEP_LINK_PAYMENT_SIGNUP:19,DEEP_LINK_BIZTOOLS_ACCOUNTS:20,DEEP_LINK_PAYMENT_VIRALITY:21,DEEP_LINK_SETTINGS_ACCOUNT_DELETE:22,DEEP_LINK_SETTINGS_ACCOUNT_REQUEST_INFO:23,DEEP_LINK_SETTINGS_CHATS_HISTORY:24,DEEP_LINK_DISAPPEARING_MODE:25,DEEP_LINK_ARCHIVE_SETTINGS:26,DEEP_LINK_TOS:27,DEEP_LINK_NOVI_CARE:28,DEEP_LINK_NOVI_TPP_ACCOUNT_LINKING:29,DEEP_LINK_CONTACT_SUPPORT:30,DEEP_LINK_BIZTOOLS_DIRECTORY:31,DEEP_LINK_DIRECTORY:32,DEEP_LINK_CALL:33,DEEP_LINK_DIRECTORY_DEEPER_CATEGORY_SELECTION:34,DEEP_LINK_PHOENIX:35,DEEP_LINK_HELP_CENTER_TO_SETTINGS_CHATS:36,DEEP_LINK_CREATE_COMMUNITY:37,DEEP_LINK_SMB_AD_CREATION:38,DEEP_LINK_SMB_MANAGE_ADS:39,DEEP_LINK_SMB_MANAGE_ADS_DETAIL:40,DEEP_LINK_STATUS_SHARE:41,DEEP_LINK_PREMIUM:42,DEEP_LINK_SETTINGS_LINKED_DEVICES:43,DEEP_LINK_SMB_AD_CREATION_FROM_CATALOG:44,DEEP_LINK_SMB_AD_CREATION_FROM_BIZTAB:45,DEEP_LINK_SMB_EDIT_PROFILE:46,DEEP_LINK_EDIT_PROFILE_PIC:47,DEEP_LINK_SMB_EDIT_CATALOG:48,DEEP_LINK_SMB_BIZ_HOURS:49,DEEP_LINK_SMB_LOCATION:50,DEEP_LINK_SMB_LINKED_ACCOUNTS:51,DEEP_LINK_PRIVACY_SETTINGS:52,DEEP_LINK_SMB_EDIT_DESCRIPTION:53,DEEP_LINK_SMB_AD_CREATION_RESUME:54,DEEP_LINK_PRIVACY_DISCLOSURE:55,DEEP_LINK_CHANNEL:56,DEEPLINK_SMB_BIZ_WEBSITE:57,DEEP_LINK_PRIVACY_CHECKUP:58,DEEP_LINK_SMB_SELF_CATALOG:59,DEEP_LINK_SCAN_MIGRATION_QR_CODE:60,DEEP_LINK_PROXY:61,DEEP_LINK_HELP:62,DEEP_LINK_PRICE_TIER:63,DEEP_LINK_CALLING_PRIVACY:64,DEEP_LINK_PAYMENTS_PUSH_PROVISIONING:65,DEEP_LINK_FB_EVENT_LINK:66,DEEP_LINK_SETTINGS_ACCOUNT_2FA:67,DEEP_LINK_SMB_ADVERTISE_PROFILE:68,DEEP_LINK_SMB_LABELS_WITH_BIZTAB:69,DEEP_LINK_SMB_GREETING_MESSAGE_WITH_BIZTAB:70,DEEP_LINK_SMB_AWAY_MESSAGE_WITH_BIZTAB:71,DEEP_LINK_SMB_ADVERTISE_LATEST_STATUS:72,DEEP_LINK_SMB_PROFILE_COMPLETENESS:73,DEEP_LINK_SMB_AD_DETAILS:74,DEEP_LINK_SETTINGS_ACCOUNT_SWITCHER:75,DEEP_LINK_CHAT_TRANSFER:76,DEEP_LINK_CODE_LINKING:77,DEEP_LINK_MARKETING_MESSAGE:78,DEEP_LINK_HOME_CHATS:79,DEEP_LINK_MESSAGE_YOURSELF:80,DEEP_LINK_SETTINGS_ACCOUNT_EMAIL:81,DEEP_LINK_EDIT_AD:82,DEEP_LINK_MESSAGING_GUIDE:83,DEEP_LINK_SMB_DRAFT_AD:84,DEEP_LINK_CALLING_AWARENESS_VOICE_CHAT:85,DEEP_LINK_CALLING_AWARENESS_SCHEDULED_CALL:86,DEEP_LINK_COEXISTENCE_ONBOARDING:87,DEEP_LINK_SETTINGS_STORAGE_MANAGEMENT:88,DEEP_LINK_PAYMENT_BRAZIL_MERCHANT:89,DEEP_LINK_PAYMENT_BRAZIL_BUYER:90,DEEP_LINK_PRIVACY_GROUPS:91,DEEP_LINK_PRIVACY_PROFILE:92,DEEP_LINK_AIS:93,DEEP_LINK_PENDING_AD_PAYMENT:94,DEEP_LINK_PENDING_AD_REVIEW:95,DEEP_LINK_SETTINGS_ACCOUNT_VERIFY_EMAIL:96,DEEP_LINK_CTWA_EXTERNAL:97,DEEP_LINK_SMB_BIZ_SEARCH_ONBOARDING_SHEET:98,DEEP_LINK_CALLING_AWARENESS_GROUP_CALL:99,DEEP_LINK_SMB_ORDERS_HOME:100,DEEP_LINK_ADS_DATA_SHARING:101,DEEP_LINK_VIDEO_PROMOTION:102,DEEP_LINK_CTWA_RECENTLY_SHARED_MEDIA:103,DEEP_LINK_MARKETING_MESSAGE_OPT_IN:104,DEEP_LINK_GROUPS_PRIVACY:105,DEEP_LINK_PROFILE_PRIVACY:106,DEEP_LINK_ORDERS_EDUCATION_VIDEO:107,DEEP_LINK_META_VERIFIED:108,DEEP_LINK_SMB_AGENT_ONBOARDING:109,DEEP_LINK_SETTINGS_CHATS_BACKUP:110,DEEP_LINK_COUPONS_PROMOTION_IMPRESSION:111,DEEP_LINK_INVITE_A_FRIEND:112,DEEP_LINK_UPDATES:113,DEEP_LINK_CONTACTS_PERMISSION:114,DEEP_LINK_NOTIFICATIONS_PERMISSION:115,DEEP_LINK_WABAI_ONBOARDING:116,DEEP_LINK_CHAT_LIST:117}],isContact:[4,"boolean"],linkOwnerType:[5,{CONSUMER:1,SMB:2,ENT:3}],sourceSurface:[7,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"DisappearingMessageChatPicker",id:3398,props:{chatsSelected:[1,"integer"],dmChatPickerEntryPoint:[2,{DEFAULT_MODE_SETTING:0,STORAGE_SETTING:1,PRIVACY_SETTING:2}],dmChatPickerEventName:[3,{CHAT_PICKER_LINK_IMPRESSION:0,CHAT_PICKER_TRAY_OPEN:1,CHAT_PICKER_TRAY_EXIT:2,CHAT_PICKER_CHATS_SELECTED:3}],ephemeralityDuration:[4,"integer"],groupChatsSelected:[5,"integer"],groupSizeDistributionJson:[9,"string"],newlyEphemeralChats:[7,"integer"],totalChatsInChatPicker:[8,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"DisappearingModeSettingChange",id:3056,props:{disappearingModeEntryPoint:[4,{ACCOUNT_SETTINGS:1,SYSTEM_MESSAGE:2,INDIVIDUAL_CHAT_DISAPPEARING_MESSAGES_SETTING:3,GROUP_CHAT_DISAPPEARING_MESSAGES_SETTING:4,DEEP_LINK:5,STORAGE_SETTINGS:6,PRIVACY_SETTINGS:7}],lastToggleTimestamp:[3,"integer"],newEphemeralityDuration:[2,"integer"],previousEphemeralityDuration:[1,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"DisappearingModeSettingEvents",id:3446,props:{disappearingModeEntryPoint:[5,{ACCOUNT_SETTINGS:1,SYSTEM_MESSAGE:2,INDIVIDUAL_CHAT_DISAPPEARING_MESSAGES_SETTING:3,GROUP_CHAT_DISAPPEARING_MESSAGES_SETTING:4,DEEP_LINK:5,STORAGE_SETTINGS:6,PRIVACY_SETTINGS:7}],disappearingModeSettingEventName:[1,{DEFAULT_MESSAGE_TIMER_OPEN:1,DEFAULT_MESSAGE_TIMER_SET:2,DEFAULT_MESSAGE_TIMER_EXIT:3,LEARN_MORE_CLICK:4}],lastToggleTimestamp:[2,"integer"],newEphemeralityDuration:[3,"integer"],previousEphemeralityDuration:[4,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"EditBusinessProfile",id:1466,props:{businessProfileEntryPoint:[10,{REGISTRATION:1,SETTINGS:2,COMPLIANCE:3,QUICK_REPLY_SMART_DEFAULT:4,WA_PAGES:5,PROFILE_COMPLETENESS:6,DIRECTORY_ONBOARDING:7}],editBusinessProfileSessionId:[2,"string"],editProfileAction:[1,{ACTION_OPEN:1,ACTION_SAVE:2,ACTION_DISCARD:3,ACTION_PROFILE_FIELD_OPEN:4,ACTION_PROFILE_FIELD_SAVE:5,ACTION_PROFILE_FIELD_DISCARD:6,ACTION_FACEBOOK_ENABLED:7,ACTION_FACEBOOK_DISABLED:8,ACTION_INSTAGRAM_ENABLED:9,ACTION_INSTAGRAM_DISABLED:10,ACTION_FB_IG_POP_SHOWN:11,ACTION_EDIT_COVER_PHOTO_CLICK:12,ACTION_REMOVE_COVER_PHOTO:13,UPGRADE_TO_CUSTOM_LINK_CLICK:14,DIALOG_BOX_GEOCODE_IMPRESSION:15,DIALOG_BOX_GEOCODE_ACCEPT:16,DIALOG_BOX_GEOCODE_REVOKE:17}],editProfileActionField:[9,{DESCRIPTION:1,HOURS:2,ADDRESS:3,EMAIL:4,WEBSITE:5,CATEGORY:6,PROFILE:7}],hasAddress:[5,"boolean"],hasCategory:[4,"boolean"],hasDescription:[3,"boolean"],hasEmail:[7,"boolean"],hasHours:[6,"boolean"],hasWebsite:[8,"boolean"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"EphemeralSettingChange",id:2370,props:{chatEphemeralityDuration:[1,"integer"],ephemeralSettingEntryPoint:[3,{CHAT_INFO:1,SYSTEM_MESSAGE:2,CHAT_OVERFLOW:3,CHAT_PICKER:4,EPHEMERAL_NUX:5,CHAT_PICKER_DISAPPEARING_MODE_TIMER:6,CHAT_PICKER_STORAGE_SETTING:7}],ephemeralSettingGroupSize:[5,{LT4:1,LT8:2,LT16:3,LT32:4,LT64:5,LT128:6,LT256:7,LT512:8,LT1000:9,LT1500:10,LT2000:11,LT2500:12,LT3000:13,LT3500:14,LT4000:15,LT4500:16,LT5000:17,LARGEST_BUCKET:18}],previousEphemeralityDuration:[2,"integer"],threadId:[6,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"GifFromProviderSent",id:1124,props:{gifSearchProvider:[1,{GIPHY:0,TENOR:1}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"GifSearchCancelled",id:1126,props:{gifSearchProvider:[1,{GIPHY:0,TENOR:1}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"GifSearchNoResults",id:1128,props:{gifSearchProvider:[1,{GIPHY:0,TENOR:1}],inputLanguageCode:[3,"string"],languageCode:[2,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"GifSearchResultTapped",id:1122,props:{gifSearchProvider:[1,{GIPHY:0,TENOR:1}],rank:[2,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"GifSearchSessionStarted",id:1134,props:{gifSearchProvider:[1,{GIPHY:0,TENOR:1}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"KeepInChatErrors",id:3698,props:{canEditDmSettings:[7,"boolean"],isAGroup:[2,"boolean"],isAdmin:[3,"boolean"],kicAction:[4,{KEEP_MESSAGE:1,UNKEEP_MESSAGE:2}],kicErrorCode:[5,{NONE:1,MESSAGE_MISSING:2,MESSAGE_REVOKED:3,SENDER_UNKEPT:4,OLDER_REQUEST:5,ORPHAN_EXPIRED:6,TIE_BREAK_IGNORED:7,MESSAGE_EXPIRED:8,NO_PERMISSION_TO_EDIT:9,MESSAGE_FROM_EX_MEMBER:10,OFFLINE:11,SENDER_DISABLED:12,KEPT_BEYOND_EXPIRY:13,NOT_PART_OF_THE_GROUP:14,CONTACT_BLOCKED:15,UNKNOWN:999}],kicMessageEphemeralityDuration:[6,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"KeepInChatPerf",id:3488,props:{chatEphemeralityDuration:[1,"integer"],kicErrorCode:[2,{NONE:1,MESSAGE_MISSING:2,MESSAGE_REVOKED:3,SENDER_UNKEPT:4,OLDER_REQUEST:5,ORPHAN_EXPIRED:6,TIE_BREAK_IGNORED:7,MESSAGE_EXPIRED:8,NO_PERMISSION_TO_EDIT:9,MESSAGE_FROM_EX_MEMBER:10,OFFLINE:11,SENDER_DISABLED:12,KEPT_BEYOND_EXPIRY:13,NOT_PART_OF_THE_GROUP:14,CONTACT_BLOCKED:15,UNKNOWN:999}],kicMessageEphemeralityDuration:[3,"integer"],kicRequestType:[4,{KEEP:1,UNKEEP:2}],requestSendTime:[5,"integer"],response:[6,{SUCCESS:1,ERROR:2}],threadId:[7,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MessagingUserJourney",id:5134,props:{appSessionId:[1,"string"],isSelfPin:[8,"boolean"],mediaType:[9,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],messagingActionType:[2,{NOT_NOW:0,ALLOW:1,CONTINUE:2,RESTORE:3,SKIP:4,NEXT:5,TAPPED:6,NO_TAP:7,SET_PHOTO:8,DID_NOT_SET:9,SUCCESSFUL:10,FAILED:11,UNKNOWN:12,GOOGLE_MIGRATE_CONFIRM_SKIP_IMPORT:13,GOOGLE_MIGRATE_ATTEMPT_TO_SKIP_IMPORT:14,GOOGLE_MIGRATE_CONFIRM_CONTINUE_IMPORT:15,GOOGLE_MIGRATE_ACCEPTED_PERMISSION:16,GOOGLE_MIGRATE_IMPORT_COMPLETE_NEXT:17,GOOGLE_MIGRATE_REJECTED_CONTACT_AND_STORAGE_PERMISSION:18,GOOGLE_MIGRATE_REJECTED_CONTACT_PERMISSION:19,GOOGLE_MIGRATE_REJECTED_STORAGE_PERMISSION:20,AD_TIMEOUT:21,CONFIRM_WITH_SECOND_SMS:22,BACK:23,EULA_TOS_ACCEPTED:24,MIGRATE_PHONE_NUMBER_ACCEPT:25,MIGRATE_PHONE_NUMBER_SKIP_NEW:26,CLICK_VERIFICATION_COMPLETE_DIALOG_LEARN_MORE:27,CLICK_VERIFICATION_COMPLETE_DIALOG_CONTINUE:28,TRY_AGAIN:29,WRONG_NUMBER:30,VERIFY_WITH_SMS:31,CLICK_EMAIL_OTP_DEEP_LINK:32,VERIFY_ANOTHER_WAY:33,WFS_FB:34,WFS_IG:35,LOGIN_WFS:36,CLICK_PIN:37,DISPLAY:38,SELECT_OPTION:39,CLICK_UNPIN:40}],pinInChatExpirySecs:[3,"integer"],threadType:[4,{GROUP:1,BROADCAST:2,INDIVIDUAL:3,STATUS:4,CHANNEL:5,SUB_GROUP:6,DEFAULT_SUB_GROUP:7,PARENT_GROUP:8}],uiSurface:[5,{UNKNOWN:1,COMMUNITY_HOME:2,COMMUNITY_TAB:3,CHAT_THREAD:4,CHAT_INFO_PAGE:5,CHAT_LIST:6,COMMUNITY_NAVIGATION:7,BACKGROUND:8,RESIGN:9,SUBGROUP_SWITCHER:10,COMMUNITY_COMPOSER:11,MEDIA_VIEWER:12,ALL_MEDIA:13,STREAMING_MEDIA_VIEWER:14,CALLS_HOME_TAB:15,IN_CALL_UI:16,STATUS_HOME_TAB:17,STATUS_COMPOSER:18,STATUS_VIEW:19,CAMERA:20,PHOTO_VIDEO_LIBRARY:21,SETTINGS_HOME_TAB:22,TOOLS_TAB:23,COMMUNITY_SETTINGS:24,CHANNEL_UPDATES_HOME:25,CHANNEL_THREAD:26,CHANNEL_DIRECTORY:27,CHANNEL_PROFILE:28,CHANNEL_FORWARD:29,CHANNEL_PRODUCER_MEDIA_EDITOR:30,CHANNEL_CREATE:31,CHANNEL_EDIT:32,CHANNEL_DELETE:33,STATUS_COMPOSER_TEXT:34,LIGHTWEIGHT_CALL_UI:35,AI_HOME:36,LIGHTWEIGHT_CALL_BANNER:37,LIGHTWEIGHT_CALL_NUX:38,CALL_INFO_PAGE:39,SMB_CATALOG:40,SMB_CATALOG_SHARE_LINK:41,SMB_CATALOG_SHARE_PRODUCT_LINK:42,SMB_CATALOG_SETTINGS:43,SMB_CATALOG_PRODUCT:44,SMB_CATALOG_NEW_COLLECTION:45,SMB_CATALOG_EDIT_COLLECTION:46,SMB_CATALOG_CREATE_PRODUCT:47,SMB_CATALOG_EDIT_PRODUCT:48,SMB_CATALOG_NEW_COLLECTION_ADD_ITEMS:49,SMB_CATALOG_COLLECTION_UPDATE_ITEMS:50,SMB_CATALOG_COLLECTIONS:51,SMB_CATALOG_COLLECTION_REORDER:52,SMB_CATALOG_COLLECTION_PRODUCTS:53,SMB_CATALOG_COLLECTION_PRODUCTS_REORDER:54,CREATE_EVENT:55,EVENT_PAGE:56,EVENTS_IN_GROUP:57,CATALOG_HOME:59,CATALOG_COLLECTION:60,CATALOG_ITEM:61,CATALOG_CART:62,FLOWS_EXPERIENCE:63,BUSINESS_PROFILE_EDIT:64,BUSINESS_PROFILE_EDIT_NAME:65,BUSINESS_PROFILE_EDIT_CATEGORIES:66,BUSINESS_PROFILE_EDIT_DESCRIPTION:67,BUSINESS_PROFILE_EDIT_WEBSITE:68,BUSINESS_PROFILE_EDIT_EMAIL:69,BUSINESS_PROFILE_EDIT_ADDRESS:70,BUSINESS_PROFILE_EDIT_HOURS:71,BUSINESS_PROFILE_EDIT_COVER_PHOTO:72,BUSINESS_PROFILE_LINK_FB_IG:73,BUSINESS_PROFILE_HELP_PAGE_LINK_FB_IG:74,PAYMENTS_HOME:75,PAYMENTS_HOME_TRANSACTIONS:76,PAYMENTS_HOME_RECENT_MERCHANTS:77,PAYMENTS_HOME_INVITE_OTHERS:78,PAYMENTS_HOME_HELP:79,MESSAGE_MENU:80,PIN_MESSAGE_REPLACEMENT_DIALOG:81,PIN_MESSAGE_EXPIRATION_DIALOG:82,MY_STATUS_LIST:83,ALL_STATUS_LIST:84,PIN_BANNER:85,CALL_BANNER:86,LANDING_SCREEN:87,NEW_CHAT:88,GROUP_MEMBER_ADD_GROUP_CREATION:89,GROUP_MEMBER_ADD_EXISTING_GROUP:90,GROUP_CHAT:91,GROUP_CREATION:92}],userJourneyFunnelId:[6,"string"],userRole:[7,{MEMBER:0,ADMIN:1,CADMIN:2}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"MetaVerifiedInteraction",id:4870,props:{businessOwnerJid:[1,"string"],businessOwnerPlatform:[2,{SMBA:1,SMBI:2,ENT:3}],metaVerifiedInteractionAction:[3,{MV_INTERACTION_ACTION_CLICK_MV_BADGE:1,MV_INTERACTION_ACTION_VIEW_MV_EDUCATION_BOTTOM_SHEET:2,MV_INTERACTION_ACTION_CLICK_MV_EDUCATION_LINK:3,MV_INTERACTION_ACTION_VIEW_CROSS_SELL_PROFILE_INTERSTITIAL:4,MV_INTERACTION_ACTION_CLICK_MV_MORE_LINK:5,MV_INTERACTION_ACTION_CLICK_GET_WA_BUSINESS:6,MV_INTERACTION_ACTION_CLICK_SUPPORT:7,MV_INTERACTION_ACTION_CLICK_CUSTOM_WEBPAGE_AND_LINK:8,MV_INTERACTION_ACTION_CLICK_MULTI_DEVICE:9,MV_INTERACTION_ACTION_CLICK_MV_LEARN_MORE:10,MV_INTERACTION_ACTION_CLICK_MV_HOME:11}],metaVerifiedInteractionAssetType:[4,{CHANNEL:1,SMB:2,ENT:3,PERSONAL:4}],metaVerifiedInteractionReferral:[5,{CHAT_PROFILE:1,CONTACT_CARD:2,SETTINGS:3,BUSINESS_TOOLS:4,NOTIFICATION:5}],metaVerifiedInteractionSurface:[6,{BUSINESS_PROFILE:1,MV_EDUCATION_BOTTOM_SHEET:2,CROSS_SELL_PROFILE_INTERSTITIAL:3,META_VERIFIED_HOME:4,SETTINGS:5,BUSINESS_TOOLS:6}]},weight:1,wamChannel:"private",privateStatsIdInt:113760892},{name:"PaidMessagingUserInteractionsLogger",id:4740,props:{pmxActionTarget:[1,{NONE:0,HEADER:1,CTA_COPY_CODE:2,CTA_URL:3,QUICK_REPLY:4,CTA_CALL:5,CTA_REMINDER:6,SEE_ALL:7,THUMBNAIL:8}],pmxActionType:[2,{VIEW:0,CLICK:1,READ:2}],pmxComponentType:[3,{NONE:0,HEADER:1,BUTTON:2}],pmxHashedMessageKey:[11,"integer"],pmxHeaderMediaType:[4,{TEXT:0,IMAGE:1,VIDEO:2,LOCATION:3,DOCUMENT:4,GIF:5}],pmxHostStorage:[8,{NONE:0,ON_PREMISE:1,FACEBOOK:2}],pmxMarketingFormat:[5,{CAROUSEL:0,MPM:1,CUSTOM:2}],pmxMessageDeliveredTs:[10,"integer"],pmxQueryParams:[6,"string"],pmxSenderCountryCode:[9,"string"],templateId:[7,"string"]},weight:1,wamChannel:"private",privateStatsIdInt:113760892},{name:"PinInChatInteraction",id:4436,props:{groupRole:[1,{ADMIN:1,MEMBER:2}],groupSize:[2,"integer"],groupTypeClient:[3,{REGULAR_GROUP:1,SUB_GROUP:2,DEFAULT_SUB_GROUP:3,PARENT_GROUP:4}],isAGroup:[4,"boolean"],isSelfPin:[8,"boolean"],mediaType:[5,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],pinCount:[6,"integer"],pinInChatInteractionType:[7,{TAP_ON_BANNER:1}],pinIndex:[9,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"PinInChatMessageSend",id:4438,props:{groupRole:[1,{ADMIN:1,MEMBER:2}],groupTypeClient:[2,{REGULAR_GROUP:1,SUB_GROUP:2,DEFAULT_SUB_GROUP:3,PARENT_GROUP:4}],isAGroup:[3,"boolean"],isSelfParentMessage:[7,"boolean"],isSelfPin:[8,"boolean"],mediaType:[4,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],pinInChatExpirySecs:[5,"integer"],pinInChatType:[6,{PIN_FOR_ALL:1,UNPIN_FOR_ALL:2}],timeRemainingToExpirySecs:[9,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"PnhRequestRevealAction",id:3808,props:{pnhAction:[1,{SEE_MASKED_PN_AT_CHAT_CREATION:1,REQUEST_DIALOG_APPEAR:2,SEND_REQUEST:3,SHARE_PN_SHEET_APPEAR:4,DISMISS:5,SHARE_NUMBER:6}],pnhChatParty:[2,{BIZ:1,CONSUMER:2}],pnhChatType:[3,{CTWA:1}],pnhEntryPoint:[4,{CHAT_CREATION:1,CHAT_INFO_REQUEST:2,AUDIO:3,VIDEO:4,PN_REQUEST:5,SYSTEM_MESSAGE:6,CHAT_INFO_PN_VISIBILITY:7}],threadId:[5,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"PollsActions",id:3676,props:{chatType:[8,{OTHER:0,INDIVIDUAL:1,GROUP:2,STATUS:3,BROADCAST:4,CHANNEL:5}],groupSizeBucket:[1,{SMALL:1,MEDIUM:2,LARGE:3,EXTRA_LARGE:4,XX_LARGE:5,XXX_LARGE:6,LT1024:16,LT1500:7,LT2000:8,LT2500:9,LT3000:10,LT3500:11,LT4000:12,LT4500:13,LT5000:14,LARGEST_BUCKET:15}],isAGroup:[6,"boolean"],isAdmin:[2,"boolean"],pollAction:[3,{OPEN_CREATE_MODAL:1,CREATE_POLL:2,VIEW_RESULTS_MODAL:4,REMOVE_VOTE:5,VOTE:6,CHANGE_VOTE:7}],pollCreationDs:[4,"integer"],pollOptionsCount:[5,"integer"],typeOfGroup:[7,{GROUP:1,SUBGROUP:2,DEFAULT_SUBGROUP:3}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"PrivacySettingsClick",id:3726,props:{privacyControlEntryPoint:[1,{PRIVACY_SETTINGS:0,PROFILE_PHOTO_JIT:1,SETTINGS_SEARCH:2,DEEP_LINK:3,PRIVACY_CHECKUP_BANNER:4,PRIVACY_CHECKUP_DEEP_LINK:5,PRIVACY_CHECKUP_WA_CHAT:6,PRIVACY_CHECKUP_SETTINGS_SEARCH:7}],privacyControlItem:[2,{LAST_SEEN_AND_ONLINE:0,PROFILE_PHOTO:1,ABOUT:2,GROUPS:3,STATUS:4,READ_RECEIPT:5,BLOCKED:6,LIVE_LOCATION:7,SCREEN_LOCK:8,DDM_TIMER:9,CALLS:10,FINGERPRINT_LOCK:11,DISAPPEARING_MESSAGES:12,UNKNOWN:13,CHECKUP:14,SHOW_PREVIEW:15,E2EE_BACKUPS:16,TWO_STEP_VERIFICATION:17,FACE_AND_HAND_EFFECTS:18,ADVANCED:19,CHAT_LOCK:20,AVATAR:21}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"PttPlayback",id:2044,props:{pttDuration:[12,"timer"],pttMainThreadBlock:[7,"boolean"],pttMiniPlayerClick:[15,"integer"],pttMiniPlayerClose:[16,"boolean"],pttMiniPlayerPauseCnt:[17,"integer"],pttPlayRequestT:[1,"timer"],pttPlaybackFailed:[8,"boolean"],pttPlaybackOverallT:[4,"timer"],pttPlaybackSpeed:[10,{SPEED_1:0,SPEED_1_5:1,SPEED_2:2}],pttPlaybackSpeedCnt:[11,"integer"],pttPlayedOutOfChat:[18,"boolean"],pttPlayedPct:[14,"number"],pttPlayer:[9,{AUDIO_QUEUE:0,AVPLAYER:1,AVAUDIOPLAYER:2,OPUSPLAYER:3,ANDROIDPLAYER:4,EXOPLAYER:5,UWPPLAYER:6,VOIPPLAYER:7}],pttPlayerInitT:[2,"timer"],pttPlayerPlayT:[3,"timer"],pttSeekCnt:[13,"integer"],pttTrigger:[5,{MANUAL:0,SEQUENTIAL:1}],pttType:[6,{UNKNOWN:0,AAC:1,MP3:2,AMR_NB:3,AMR_WB:4,OPUS:5,MULTIPLE_TRACKS:6}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"ReactionActions",id:3184,props:{mediaType:[3,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],messageType:[1,{INDIVIDUAL:1,GROUP:2,BROADCAST:3,STATUS:4,CHANNEL:5,INTEROP:6}],reactionAction:[2,{OPEN_TRAY:1,DELETE:2,UPDATE:3}]},weight:20,wamChannel:"regular",privateStatsIdInt:-1},{name:"SettingsClick",id:2214,props:{settingsClickEntryPoint:[2,{SETTINGS_SCREEN:0,SETTINGS_SEARCH:1,DEEP_LINK:2,PRIVACY_CHECKUP:3,METAB_SCREEN:4}],settingsItem:[1,{PROFILE:0,BUSINESS_TOOLS:1,ACCOUNT:2,CHATS:3,NOTIFICATIONS:4,DATA_STORAGE_USAGE:5,HELP:6,INVITE_FRIEND:7,STARRED_MESSAGES:8,WHATSAPP_WEB:9,PREMIUM_SUBSCRIPTION:10,PRIVACY:11,SECURITY:12,THEME:13,CHAT_WALLPAPER:14,MEDIA_AUTO_DOWNLOAD:15,REQUEST_ACCOUNT_INFO:16,KEYBOARD_SHORTCUTS:17,DEVELOPER:18,DATA_SHARING:19,DESKTOP_SETTINGS:20,LINKED_DEVICES:21,UNKNOWN:22,QR_CODE:23,DEVICES:24,PROFILE_CARD:25,PRIVACY_CARD:26,CONTACTS_CARD:27,AVATAR:28,PAYMENTS:29,LOGOUT:30,META_VERIFIED:31,TEXT_STATUS:32,THIRD_PARTY:33}],settingsPageType:[3,{SETTINGS:0,ME_TAB:1}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"SettingsSearchInitiate",id:4014,props:{settingsPageType:[1,{SETTINGS:0,ME_TAB:1}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"SettingsSearchTap",id:4016,props:{tapItemName:[1,"string"],topLevelParentSetting:[2,{PROFILE:0,BUSINESS_TOOLS:1,ACCOUNT:2,CHATS:3,NOTIFICATIONS:4,DATA_STORAGE_USAGE:5,HELP:6,INVITE_FRIEND:7,STARRED_MESSAGES:8,WHATSAPP_WEB:9,PREMIUM_SUBSCRIPTION:10,PRIVACY:11,SECURITY:12,THEME:13,CHAT_WALLPAPER:14,MEDIA_AUTO_DOWNLOAD:15,REQUEST_ACCOUNT_INFO:16,KEYBOARD_SHORTCUTS:17,DEVELOPER:18,DATA_SHARING:19,DESKTOP_SETTINGS:20,LINKED_DEVICES:21,UNKNOWN:22,QR_CODE:23,DEVICES:24,PROFILE_CARD:25,PRIVACY_CARD:26,CONTACTS_CARD:27,AVATAR:28,PAYMENTS:29,LOGOUT:30,META_VERIFIED:31,TEXT_STATUS:32,THIRD_PARTY:33}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"SmbDataSharingConsentSetting",id:3974,props:{smbDataSharingConsentSettingEntryPoint:[1,{ENTRY_POINT_ORDER_SCREEN:0,ENTRY_POINT_SETTINGS_SCREEN:1,ENTRY_POINT_LABELS_SCREEN:2}],smbDataSharingConsentSettingType:[2,"boolean"],smbDataSharingConsentSettingVersion:[3,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"StatusItemView",id:1658,props:{isPosterBiz:[23,"boolean"],isPosterInAddressBook:[25,"boolean"],mediaType:[4,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],psaCampaignId:[17,"string"],psaCampaignItemIndex:[18,"integer"],psaLinkAvailable:[19,"boolean"],psaLinkClick:[22,"boolean"],psaLinkLoadTime:[21,"timer"],psaLinkOpenResult:[20,{SUCCESS:1,CANCEL:2,ERROR:3}],statusItemImpressionCount:[14,"integer"],statusItemIndex:[16,"integer"],statusItemLength:[7,"timer"],statusItemLoadTime:[5,"timer"],statusItemReplied:[8,"integer"],statusItemUnread:[9,"boolean"],statusItemViewCount:[10,"integer"],statusItemViewResult:[3,{OK:1,CANCELLED:2,ERROR_UNKNOWN:3,MEDIA_ERROR_UNKNOWN:4,MEDIA_ERROR_DNS:5,MEDIA_ERROR_TIMEOUT:6,MEDIA_ERROR_INSUFFICIENT_SPACE:7,MEDIA_ERROR_TOO_OLD:8,MEDIA_ERROR_CANNOT_RESUME:9,MEDIA_ERROR_HASH_MISMATCH:10,MEDIA_ERROR_INVALID_URL:11,MEDIA_ERROR_OUTPUT_STREAM:12,MEDIA_ERROR_MEDIA_CONN:13,MEDIA_ERROR_THROTTLE:14,MEDIA_DOWNLOAD_CANCEL:15,MEDIA_PREFETCH_END:16,MEDIA_ERROR_WATLS:17,MEDIA_ERROR_SERVER:18,MEDIA_ERROR_WAMSYS:19,MEDIA_ERROR_NETWORK:20,MEDIA_ERROR_CONNECT:21,MEDIE_HOST_SWTICH_REQUIRED:22,MEDIA_INVALID_CODE:23,MEDIA_SUSPICIOUS_CONTENT:24,MEDIA_ERROR_CRONET:25,PARTIAL_IMAGE_DOWNLOAD:26}],statusItemViewTime:[6,"timer"],statusRowIndex:[2,"integer"],statusRowSection:[11,{RECENT_STORIES:1,PREVIOUS_STORIES:2,MUTED_STORIES:3,MY_STATUS:4,CHAT_LIST:5,GROUP_PARTICIPANT:6,CONTACT_CARD:7,PROFILE_PAGE:8,CHAT_LIST_SEARCH:9,UPDATES_TAB_SEARCH:10,CHAT_TOP_BAR:11,SEE_ALL_RECENT:12,SEE_ALL_VIEWED:13,SEE_ALL_MUTED:14,SEE_ALL_SEARCH:15}],statusViewerSessionId:[1,"integer"],urlStatusClicked:[26,{ONE_CLICK:1,TWO_CLICKS:2,NO_CLICK:3}],urlStatusType:[27,{NO_PREVIEW:1,TRUNCATED:2,NON_TRUNCATED:3}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"StatusReply",id:1180,props:{isPosterBiz:[4,"boolean"],isPosterInAddressBook:[6,"boolean"],statusReplyMessageType:[3,{UNKNOWN:1,TEXT:2,IMAGE:3,VOICE:4,DOCUMENT:5,AUDIO:6,STICKER:7,LOCATION:8,PRODUCT:9,CONTACT:10,CONTACT_ARRAY:11,CAMERA_CAPTURE_IMAGE:12,MEDIA_GALLERY:13,GIF_VIDEO:14,QUICK_REPLY:15,POLL:16,AVATAR_QUICK_REPLY:17}],statusReplyResult:[2,{OK:1,CANCELLED:2,ERROR_UNKNOWN:3}],statusSessionId:[1,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"StatusRowView",id:1656,props:{psaCampaigns:[8,"string"],statusRowEntryMethod:[5,{DIRECT_ROW_TAP:1,BACKWARDS_SWIPE:2,FOWARDS_SWIPE:3,BACKWARDS_TAP:4,FOWARDS_TAP:5,PREVIOUS_ROW_TIMEOUT:6}],statusRowIndex:[4,"integer"],statusRowSection:[3,{RECENT_STORIES:1,PREVIOUS_STORIES:2,MUTED_STORIES:3,MY_STATUS:4,CHAT_LIST:5,GROUP_PARTICIPANT:6,CONTACT_CARD:7,PROFILE_PAGE:8,CHAT_LIST_SEARCH:9,UPDATES_TAB_SEARCH:10,CHAT_TOP_BAR:11,SEE_ALL_RECENT:12,SEE_ALL_VIEWED:13,SEE_ALL_MUTED:14,SEE_ALL_SEARCH:15}],statusRowUnreadItemCount:[7,"integer"],statusRowViewCount:[6,"integer"],statusSessionId:[1,"integer"],statusViewerSessionId:[2,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"UiRevokeAction",id:3298,props:{messageAction:[1,{MESSAGE_SELECTED:0,TRASH_CAN_SELECTED:1,ADMIN_DELETE_FOR_EVERYONE:2,SENDER_DELETE_FOR_EVERYONE:3,ADMIN_AND_SENDER_DELETE_FOR_EVERYONE:4,DELETE_FOR_EVERYONE_SELECTED:5}],uiRevokeActionDuration:[2,"integer"],uiRevokeActionSessionId:[3,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WaShopsManagement",id:2908,props:{isShopsProductPreviewVisible:[2,"boolean"],shopsManagementAction:[1,{ACTION_CLICK_SHOPS_SETTING:1,ACTION_CLICK_CATALOG_SETTING:2,ACTION_CLICK_COMMERCE_MANAGER_IN_CATALOG_SETTING:3,ACTION_CLICK_CANCEL_IN_CATALOG_SETTING:4,ACTION_CLICK_VIEW_SHOPS_IN_SHOPS_SETTING:5,ACTION_CLICK_COMMERCE_MANAGER_IN_SHOPS_SETTING:6,ACTION_CLICK_CANCEL_IN_SHOPS_SETTING:7,ACTION_SHOPS_PRODUCT_PREVIEW_VISIBLE:8,ACTION_CLICK_SHOPS_PRODUCT_PREVIEW_TILE:9,ACTION_CLICK_MANAGE_SHOPS:10,ACTION_SHARE_SHOPS:11,ACTION_CLICK_VIEW_SHOPS_FROM_EDIT_BIZ_PROFILE:12,ACTION_CLICK_COMMERCE_MANAGER_FROM_EDIT_BIZ_PROFILE:13,ACTION_CLICK_CANCEL_FROM_EDIT_BIZ_PROFILE:14}],shopsSellerJid:[3,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcButterbarEvent",id:3932,props:{webcButterbarAction:[1,{IMPRESSION:1,CLICK_CTA:2,CLICK_DISMISS:3,AUTO_DISMISS:4}],webcButterbarType:[2,{OFFLINE:1,RESUME_CONNECTING:2,RESUME_LOADING_MSGS_PROGRESS:3,UPDATE_DUE_TO_SOFT_MIN:4,UWP_UPSELL:5,NOTIFICATION:6,OFFLINE_NOTIFICATION:7}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcEmojiOpen",id:1166,props:{webcEmojiOpenTab:[1,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcLinkPreviewDisplay",id:3864,props:{didFallbackNonHq:[2,"boolean"],didRequestHq:[3,"boolean"],didRespondHqPreview:[4,"boolean"],webcDisplayStatus:[1,{SHOWED_PREVIEW_TO_USER:1,PREVIEW_TIMEOUT:2,PREVIEW_MALFORMED:3,PREVIEW_NOT_FOUND:4,PREVIEW_GENERAL_ERROR:5,PREVIEW_DECRYPTION_ERROR:6}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WhatsappQuickPromotionClientEligibilityWaterfall",id:4360,props:{eligibilityStatus:[1,"boolean"],instanceLogData:[5,"string"],promotionId:[2,"string"],qpFailureReason:[3,"string"],step:[4,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"GatedChatOpened",id:3150,props:{chatGatedReason:[1,{TOS3:1,COUNTRY:2}],selfInitiated:[2,"boolean"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"HfmTextSearchComplete",id:2186,props:{},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"SmbPaidMessagesButtonLogger",id:4508,props:{businessPhoneNumber:[1,"integer"],pmButtonCount:[2,"integer"],pmButtonEventType:[3,{CLICK:0}],pmButtonIndex:[4,"integer"],pmButtonType:[5,{QUICK_REPLY:0,CTA_URL:1,CTA_CALL:2,CTA_CATALOG:3,CTA_CATALOG_ITEM:4}],pmIsTrackableLink:[7,"string"],pmServerCampaignId:[6,"string"]},weight:1,wamChannel:"private",privateStatsIdInt:113760892},{name:"SystemMessageClick",id:5082,props:{isAGroup:[1,"boolean"],isANewThread:[2,"boolean"],systemMessageCategory:[3,{PRIVACY:1,GROUPS:2}],systemMessageType:[4,{E2E_ENCRYPTED_MESSAGES_CALLS:1,E2E_ENCRYPTED_MESSAGES:2,E2E_ENCRYPTED_BROADCAST_LIST:3,E2E_ENCRYPTED_MESSAGE_YOURSELF:4,OFFICIAL_ACCOUNT_INFO:8,GROUP_ADD:9,GROUP_RESET_INVITE:10,COMMUNITY_DESCRIPTION_CHANGED:11,GROUP_DESCRIPTION_CHANGED:12,GROUP_PARTICIPANTS_CHANGED:13,COMMUNITY_MEMBERS_CHANGED:14,GROUP_INVITE_LINK_UNAVAILABLE:15,GROUP_INVITE_LINK_AVAILABLE:16,GROUP_JOIN_REQUEST:17,GROUP_SUGGEST:18}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"ViewOnceScreenshotActions",id:3606,props:{isAGroup:[1,"boolean"],threadId:[2,"string"],voMessageType:[3,{PHOTO:1,VIDEO:2,PTT:3}],voSsAction:[4,{SENDER_NUX_TYPE_C_IMPRESSION:1,SENDER_NUX_TYPE_D_IMPRESSION:2,SCREENSHOT_SENDER_NUX_TYPE_D_IMPRESSION:3,RECIPIENT_OPEN_NUX_TYPE_C_IMPRESSION:4,RECIPIENT_OPEN_NUX_TYPE_D_IMPRESSION:5,SENDER_NUX_TYPE_C_LEARN_MORE_TAP:6,SENDER_NUX_TYPE_D_LEARN_MORE_TAP:7,SCREENSHOT_SENDER_NUX_TYPE_D_LEARN_MORE_TAP:8,RECIPIENT_OPEN_NUX_TYPE_C_LEARN_MORE_TAP:9,RECIPIENT_OPEN_NUX_TYPE_D_LEARN_MORE_TAP:10,SCREENSHOT_BLOCKED:11,SCREENSHOT_TAKEN:12,SCREEN_RECORDING_BLOCKED:13,SCREEN_RECORDING_STARTED:14,PLACEHOLDER_MESSAGE_LEARN_MORE_TAP:15}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"CtwaConsumerDisclosure",id:4406,props:{ctwaConsumerDisclosureVersion:[3,"integer"],disclosureAction:[1,{SCREEN_VIEW:0,CLICK_ON_CONTINUE:1,CANCEL:2,BACK_BUTTON_TOOLBAR:3,BACK_BUTTON_SYSTEM:4,DISMISS:5,DISCLOSURE_INFO_VIEW:6}],disclosureType:[2,{NON_BLOCKING:0,BLOCKING:1,INFO:2}]},weight:1,wamChannel:"private",privateStatsIdInt:0},{name:"Ctwa3pdConversion",id:5138,props:{ctwa3pdConversionMetadata:[1,"string"],ctwa3pdConversionSubtype:[2,"string"],ctwa3pdConversionType:[3,"string"],ctwa3pdSchemaVersion:[4,"integer"],ctwa3pdSurfaceType:[5,"string"],ctwaTrackingPayload:[6,"string"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"CtwaLabelSignal",id:4662,props:{ctwaLabelSignalVersion:[1,"integer"],ctwaLabelTarget:[2,{CHAT:0,MESSAGE:1}],ctwaLabelType:[3,{NEW_ORDER:0,PENDING_PAYMENT:1,PAID:2,ORDER_COMPLETE:3}],deepLinkConversionData:[4,"string"],deepLinkConversionSource:[5,"string"],eventSharingSettingEnabled:[6,"boolean"],globalSharingSettingEnabled:[7,"boolean"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"CtwaOrderSignal",id:4264,props:{ctwaOrderSignalVersion:[1,"integer"],deepLinkConversionData:[2,"string"],deepLinkConversionSource:[3,"string"],eventSharingSettingEnabled:[4,"boolean"],globalSharingSettingEnabled:[5,"boolean"],orderPaid:[8,"boolean"],orderSignalType:[6,{CREATED:0,UPDATED:1}],orderStatus:[7,{PROCESSING:0,SHIPPED:1,COMPLETED:2,CANCELLED:3,PENDING:4,PARTIALLY_SHIPPED:5,PAID_CHANGE:6}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"PsChannelPostForward",id:4746,props:{channelForwardContentType:[6,{UPDATE:0,UPDATE_CARD:1}],channelForwardGroupType:[1,{OTHER:0,INDIVIDUAL:1,GROUP:2,STATUS:3,BROADCAST:4,CHANNEL:5}],cid:[2,"string"],mediaType:[3,{NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56,EPHEMERAL_SYNC_RESPONSE:57,EVENT_CREATE:58,EVENT_RESPOND:59,LOTTIE_STICKER:60,INTERACTIVE_PRODUCT_CAROUSEL:61,INTERACTIVE_PRODUCT:62}],postId:[4,"string"]},weight:1,wamChannel:"private",privateStatsIdInt:0},{name:"WebContactListStartNewChat",id:4560,props:{webContactListStartNewChatSearch:[1,"boolean"],webContactListStartNewChatType:[2,{CONTACT:1,GROUP:2,CONTACTLESS:3}]},weight:1,wamChannel:"regular",privateStatsIdInt:-1},{name:"WebcMediaEditorSend",id:2890,props:{blurImageCount:[7,"integer"],editedImageCount:[2,"integer"],emojiLayerCount:[5,"integer"],imageCount:[1,"integer"],paintedImageCount:[3,"integer"],stickerLayerCount:[6,"integer"],textLayerCount:[4,"integer"]},weight:1,wamChannel:"regular",privateStatsIdInt:-1}],z_=[{name:"abKey2",id:4473,type:"string",validator:"string",channels:["regular"]},{name:"appBuild",id:1657,type:{DEBUG:1,ALPHA:2,BETA:3,RELEASE:4},channels:["regular","private"]},{name:"appIsBetaRelease",id:21,type:"boolean",validator:"boolean",channels:["regular","private"]},{name:"appVersion",id:17,type:"string",validator:"string",channels:["regular","private"]},{name:"browser",id:779,type:"string",validator:"string",channels:["regular"]},{name:"browserVersion",id:295,type:"string",validator:"string",channels:["regular"]},{name:"datacenter",id:2795,type:"string",validator:"string",channels:["regular"]},{name:"deviceClassification",id:14507,type:{MOBILE:0,TABLET:1,WEARABLES:2,VR:3,DESKTOP:4,FOLDABLE:5,AR_GLASS:6,UNDEFINED:100},channels:["regular"]},{name:"deviceName",id:13,type:"string",validator:"string",channels:["regular","private"]},{name:"deviceVersion",id:4505,type:"string",validator:"string",channels:["regular"]},{name:"expoKey",id:5029,type:"string",validator:"string",channels:["regular","private"]},{name:"mcc",id:5,type:"integer",channels:["regular","private"]},{name:"memClass",id:655,type:"integer",channels:["regular","private"]},{name:"mnc",id:3,type:"integer",channels:["regular","private"]},{name:"networkIsWifi",id:23,type:"boolean",validator:"boolean",channels:["regular"]},{name:"ocVersion",id:6251,type:"integer",channels:["regular","private"]},{name:"osVersion",id:15,type:"string",validator:"string",channels:["regular","private"]},{name:"platform",id:11,type:{IPHONE:1,ANDROID:2,BB:3,BBX:7,S40:4,SYMBIAN:5,WP:6,WEBCLIENT:8,OSMETA:11,ENT:12,SMBA:13,KAIOS:14,SMBI:15,WINDOWS:16,WEB:17,PORTAL:18,BLOKS:19,BLUEA:20,BLUEI:21,FBLITEA:22,GREENA:23,GREENI:24,IGDA:25,IGDI:26,IGLITEA:27,MLITEA:28,MSGRA:29,MSGRI:30,MSGRP:31,MSGRW:32,IGDW:33,PAGE:34,MSGRDM:35,MSGRDW:36,MSGROM:37,MSGROC:38,MSGRM:43,IGDM:44,WEARM:45,CAPI:46,XR:47,MACOS:48,WAMETA_REPL:49,ARDEV:50,WEAROS:51,MSGRVR:52,BLUEW:53,IPHONEWAMETATEST:54,MSGRAR:57,IPAD:58,WAVOIP_CLI:59,MSGRT:60,IGDT:61,ANDROIDWAMETATEST:62,MSGRSG:63,IGDSG:64,INTEROP:65,INTEROP_MSGR:66,TEST:9,UNKNOWN:10},channels:["regular","private"]},{name:"psCountryCode",id:6833,type:"string",validator:"string",channels:["private"]},{name:"psId",id:6005,type:"string",validator:"string",channels:["private"]},{name:"serviceImprovementOptOut",id:13293,type:"boolean",validator:"boolean",channels:["regular","private"]},{name:"streamId",id:3543,type:"integer",channels:["regular","private"]},{name:"wametaLoggerTestFilter",id:15881,type:"string",validator:"string",channels:["regular","private"]},{name:"webcBucket",id:875,type:"string",validator:"string",channels:["regular"]},{name:"webcEnv",id:633,type:{PROD:0,INTERN:1,DEV:2,E2E:3},channels:["regular"]},{name:"webcNativeAutolaunch",id:1009,type:"boolean",validator:"boolean",channels:["regular"]},{name:"webcNativeBetaUpdates",id:1007,type:"boolean",validator:"boolean",channels:["regular"]},{name:"webcPhoneAppVersion",id:1005,type:"string",validator:"string",channels:["regular"]},{name:"webcPhoneCharging",id:783,type:"boolean",validator:"boolean",channels:["regular"]},{name:"webcPhoneDeviceManufacturer",id:829,type:"string",validator:"string",channels:["regular"]},{name:"webcPhoneDeviceModel",id:831,type:"string",validator:"string",channels:["regular"]},{name:"webcPhoneOsBuildNumber",id:833,type:"string",validator:"string",channels:["regular"]},{name:"webcPhoneOsVersion",id:835,type:"string",validator:"string",channels:["regular"]},{name:"webcPhonePlatform",id:707,type:{IPHONE:1,ANDROID:2,BB:3,BBX:7,S40:4,SYMBIAN:5,WP:6,WEBCLIENT:8,OSMETA:11,ENT:12,SMBA:13,KAIOS:14,SMBI:15,WINDOWS:16,WEB:17,PORTAL:18,BLOKS:19,BLUEA:20,BLUEI:21,FBLITEA:22,GREENA:23,GREENI:24,IGDA:25,IGDI:26,IGLITEA:27,MLITEA:28,MSGRA:29,MSGRI:30,MSGRP:31,MSGRW:32,IGDW:33,PAGE:34,MSGRDM:35,MSGRDW:36,MSGROM:37,MSGROC:38,MSGRM:43,IGDM:44,WEARM:45,CAPI:46,XR:47,MACOS:48,WAMETA_REPL:49,ARDEV:50,WEAROS:51,MSGRVR:52,BLUEW:53,IPHONEWAMETATEST:54,MSGRAR:57,IPAD:58,WAVOIP_CLI:59,MSGRT:60,IGDT:61,ANDROIDWAMETATEST:62,MSGRSG:63,IGDSG:64,INTEROP:65,INTEROP_MSGR:66,TEST:9,UNKNOWN:10},channels:["regular"]},{name:"webcTabId",id:3727,type:"string",validator:"string",channels:["regular"]},{name:"webcWebArch",id:6605,type:"string",validator:"string",channels:["regular"]},{name:"webcWebDeviceManufacturer",id:6599,type:"string",validator:"string",channels:["regular"]},{name:"webcWebDeviceModel",id:6601,type:"string",validator:"string",channels:["regular"]},{name:"webcWebOsReleaseNumber",id:6603,type:"string",validator:"string",channels:["regular"]},{name:"webcWebPlatform",id:899,type:{WEB:1,WIN32:2,DARWIN:3,IOS_TABLET:4,ANDROID_TABLET:5,WINSTORE:6,MACSTORE:7,DARWIN_BETA:8,WIN32_BETA:9,PWA:10},channels:["regular","private"]},{name:"yearClass",id:689,type:"integer",channels:["regular","private"]},{name:"yearClass2016",id:2617,type:"integer",channels:["regular","private"]},{name:"commitTime",id:47,type:"integer",channels:["regular","private"]},{name:"sequenceNumber",id:3433,type:"integer",channels:["regular","private"]}],q_=8,ef=0,Kl=1,$_=2,tf=4;var X_=class{constructor(n={}){this.protocolVersion=5,this.sequence=0,this.events=[],this.buffer=[],Object.assign(this,n)}};var R6=a=>a<256?2:3,C6=a=>{a.buffer=[],N6(a),P6(a);let n=a.buffer.map(t=>t.length).reduce((t,i)=>t+i),r=Buffer.alloc(n),e=0;for(let t of a.buffer)t.copy(r,e),e+=t.length;return r};function N6(a){let n=Buffer.alloc(8);n.write("WAM",0,"utf8"),n.writeUInt8(a.protocolVersion,3),n.writeUInt8(1,4),n.writeUInt16BE(a.sequence,5),n.writeUInt8(0,7),a.buffer.push(n)}function M6(a,n){for(let[r,e]of Object.entries(n)){let t=z_.find(o=>o?.name===r).id,i=e;typeof i=="boolean"&&(i=i?1:0),a.buffer.push(J_(t,i,ef))}}function P6(a){for(let[n,{props:r,globals:e}]of a.events.map(t=>Object.entries(t)[0])){M6(a,e);let t=Y_.find(c=>c.name===n),i=Object.entries(r),o=!1;for(let[,c]of i)o||(o=c!==null);let s=o?Kl:Kl|tf;a.buffer.push(J_(t.id,-t.weight,s));for(let c=0;c<i.length;c++){let[l,d]=i[c],f=t.props[l]?.[0];o=c<i.length-1;let g=d;typeof g=="boolean"&&(g=g?1:0);let _=o?Kl:$_|tf;a.buffer.push(J_(f,g,_))}}}function J_(a,n,r){let e=R6(a),t,i=0;if(n===null){if(r===ef)return t=Buffer.alloc(e),i=Ei(t,i,a,r),t}else{if(typeof n=="number"&&Number.isInteger(n))return n===0||n===1?(t=Buffer.alloc(e),i=Ei(t,i,a,r|n+1<<4),t):-128<=n&&n<128?(t=Buffer.alloc(e+1),i=Ei(t,i,a,r|48),t.writeInt8(n,i),t):-32768<=n&&n<32768?(t=Buffer.alloc(e+2),i=Ei(t,i,a,r|64),t.writeInt16LE(n,i),t):-2147483648<=n&&n<2147483648?(t=Buffer.alloc(e+4),i=Ei(t,i,a,r|80),t.writeInt32LE(n,i),t):(t=Buffer.alloc(e+8),i=Ei(t,i,a,r|112),t.writeDoubleLE(n,i),t);if(typeof n=="number")return t=Buffer.alloc(e+8),i=Ei(t,i,a,r|112),t.writeDoubleLE(n,i),t;if(typeof n=="string"){let o=Buffer.byteLength(n,"utf8");return o<256?(t=Buffer.alloc(e+1+o),i=Ei(t,i,a,r|128),t.writeUint8(o,i++)):o<65536?(t=Buffer.alloc(e+2+o),i=Ei(t,i,a,r|144),t.writeUInt16LE(o,i),i+=2):(t=Buffer.alloc(e+4+o),i=Ei(t,i,a,r|160),t.writeUInt32LE(o,i),i+=4),t.write(n,i,"utf8"),t}}throw"missing"}function Ei(a,n,r,e){return r<256?(a.writeUInt8(e,n),n+=1,a.writeUInt8(r,n),n+=1):(a.writeUInt8(e|q_,n),n+=1,a.writeUInt16LE(r,n),n+=2),n}var L6=W_;var Xte=Q_;export{Xte as default};
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

content-type/index.js:
  (*!
   * content-type
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

media-typer/index.js:
  (*!
   * media-typer
   * Copyright(c) 2014-2017 Douglas Christopher Wilson
   * MIT Licensed
   *)

long/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
